(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{596:function(t,e,n){"use strict";var o,r=n(11),i=n(9),a=n(10),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e=s([Object(r.a)({components:{BaseIcon:i.a},mixins:[a.a]})],e)}(r.d),u=n(1),f=Object(u.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("base-icon",{directives:[{name:"t",rawName:"v-t:aria-label",value:"Back",expression:"'Back'",arg:"aria-label"}],staticClass:"icon-button",attrs:{name:"arrow_back",role:"button","aria-hidden":"false"},on:{click:function(e){return t.$emit("back")}}})}),[],!1,null,null,null);e.a=f.exports},661:function(t,e,n){},662:function(t,e,n){},733:function(t,e,n){"use strict";var o=n(661);n.n(o).a},734:function(t,e,n){"use strict";var o=n(662);n.n(o).a},744:function(t,e,n){"use strict";n.r(e);var o=n(11),r=n(29),i=n(10),a=n(9),c=n(603),s=n(596),l=n(25),u=n.n(l),f=n(8),p=n(34),d=n(4),v={categoryTitles:{people:Object(d.a)("Smileys & People"),nature:Object(d.a)("Animals & Nature"),food:Object(d.a)("Food & Drink"),activity:Object(d.a)("Activity"),travel:Object(d.a)("Travel & Places"),objects:Object(d.a)("Objects"),symbols:Object(d.a)("Symbols"),flags:Object(d.a)("Flags")},categoryIcons:{people:"mood",nature:"cat",food:"restaurant",activity:"basketball",travel:"directions_car",objects:"lightbulb",symbols:"favorite",flags:"flag"}},b=n(42);function g(t,e,n,o,r,i,a){try{var c=t[i](a),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(o,r)}var h,y,m,_={components:{BaseIcon:a.a},mixins:[i.a],props:{selectedIcon:{type:String,default:null}},data:function(){return{emojiData:null,visibleCategories:[],singlePixelPng:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}},computed:{categories:function(){return this.emojiData?Object.keys(this.emojiData):[]},currentCategoryIndex:function(){return this.visibleCategories.indexOf(!0).toString()}},mounted:function(){var t=this;this.fetchEmojis().then((function(){t.$nextTick((function(){t.observeCategories(),t.observeIcons()}))}))},beforeDestroy:function(){this.unobserveCategories(),this.unobserveIcons()},methods:{fetchEmojis:(h=u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.fetchEmojis)();case 2:return e=t.sent,this.emojiData=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})),y=function(){var t=this,e=arguments;return new Promise((function(n,o){var r=h.apply(t,e);function i(t){g(r,n,o,i,a,"next",t)}function a(t){g(r,n,o,i,a,"throw",t)}i(void 0)}))},function(){return y.apply(this,arguments)}),categoryTitle:function(t){return v.categoryTitles[t]},categoryIcon:function(t){return v.categoryIcons[t]},icons:function(t){return this.emojiData[t].emojis},processedIconUrl:function(t){return Object(p.processedUrl)(t.url,{width:64,height:64,preset:"icon"})},scrollToCategory:function(t){var e=this.$refs.category[t];e&&(this.$refs.scrollRoot.scrollTop=e.offsetTop)},onCategoryObserved:function(t){var e=this;t.forEach((function(t){var n=t.target.dataset.index;f.a.set(e.visibleCategories,n,t.isIntersecting)}))},observeCategories:function(){var t=this;this.visibleCategories=Array(this.categories.length).fill(!1);var e={root:this.$refs.scrollRoot,rootMargin:"-50px"};this._categoryObserver=new IntersectionObserver(this.onCategoryObserved,e),this.$refs.category.forEach((function(e){return t._categoryObserver.observe(e)}))},unobserveCategories:function(){this._categoryObserver.disconnect()},onIconObserved:function(t,e){t.forEach((function(t){t.isIntersecting&&(t.target.src=t.target.dataset.src,e.unobserve(t.target))}))},observeIcons:function(){var t=this,e={root:this.$refs.scrollRoot};this._iconObserver=new IntersectionObserver(this.onIconObserved,e),this.$refs.icon.forEach((function(e){return t._iconObserver.observe(e)}))},unobserveIcons:function(){this._iconObserver.disconnect()}}},O=(n(733),n(1)),j=Object(O.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picker"},[n("nav",{staticClass:"category-tabs"},t._l(t.categories,(function(e,o){return n("a",{key:e,class:[{active:o==t.currentCategoryIndex},"category-tab"],attrs:{"aria-label":e}},[n("base-icon",{attrs:{name:t.categoryIcon(e)},on:{click:function(e){return t.scrollToCategory(o)}}})],1)})),0),t._v(" "),n("div",{ref:"scrollRoot",staticClass:"icon-scroll"},t._l(t.categories,(function(e,o){return n("div",{key:e,ref:"category",refInFor:!0,attrs:{"data-index":o}},[n("header",{staticClass:"section-header"},[t._v("\n        "+t._s(t.categoryTitle(e))+"\n      ")]),t._v(" "),n("div",{staticClass:"icons",attrs:{"aria-role":"listbox"}},t._l(t.icons(e),(function(e){return n("div",{key:e.code,class:["icon",{"is-selected":t.selectedIcon===e.url}],attrs:{"aria-role":"option"}},[n("img",{ref:"icon",refInFor:!0,attrs:{"data-src":t.processedIconUrl(e),src:t.singlePixelPng,alt:e.name},on:{click:function(n){return t.$emit("pick",e.url)}}})])})),0)])})),0)])}),[],!1,null,"385e8568",null).exports,A=n(138),C=n(7),k=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},I=function(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)},P=Object(r.d)("settings"),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.addOwnIcon=function(t){var e=this,n=Object(C.a)(t.currentTarget);A.a.postMessage({message_type:"show_content_picker",file_type:"image",action:{message_type:"receive_content"}},(function(){A.a&&A.a.trigger.receivingFile({purpose:"wallpaper",element:{x:n.offset().left,y:n.offset().top,width:n.width(),height:n.height()}}),e.showCustomIconPicker()}))},e.prototype.updateIcon=function(t){this.updateAndValidatePreviewAttributes({portrait:t||""})},e.prototype.toggleIconNone=function(t){t.target.checked?this.updateIcon(""):(t.preventDefault(),this.setSnackbar({message:Object(d.a)("Please select an icon.")}))},w([r.b,I("design:type",Object)],e.prototype,"portrait",void 0),w([P.Action,I("design:type",Object)],e.prototype,"updateAndValidatePreviewAttributes",void 0),w([P.Action,I("design:type",Object)],e.prototype,"showCustomIconPicker",void 0),w([Object(r.d)("snackbars").Action,I("design:type",Object)],e.prototype,"setSnackbar",void 0),e=w([Object(o.a)({components:{BaseIcon:a.a,BaseSwitch:c.a,ButtonBack:s.a,SurfacePanelSettingsIconPicker:j},mixins:[i.a]})],e)}(o.d),R=(n(734),Object(O.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel-container is-animated slide-from-right",attrs:{id:"settings-icon-panel"}},[n("header",{staticClass:"panel-header"},[n("div",{staticClass:"panel-left-item"},[n("button-back",{on:{back:function(e){return t.$emit("back")}}})],1),t._v(" "),n("h3",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Icon")]),t._v(" "),n("div",{staticClass:"panel-right-item"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("section",[n("div",{staticClass:"section-body action-list single-child"},[n("div",{staticClass:"list-item",on:{click:function(e){return e.target!==e.currentTarget?null:t.updateIcon("")}}},[n("div",{directives:[{name:"t",rawName:"v-t"}],staticClass:"list-item-primary"},[t._v("No icon")]),t._v(" "),n("div",{staticClass:"list-item-secondary"},[n("base-switch",{attrs:{name:"icon-none",checked:!t.portrait},on:{click:t.toggleIconNone}})],1)])])]),t._v(" "),n("section",{staticClass:"icon-picker"},[n("header",{directives:[{name:"t",rawName:"v-t"}],staticClass:"section-header"},[t._v("Pick an emoji")]),t._v(" "),n("div",{staticClass:"section-body icon-picker-body"},[n("surface-panel-settings-icon-picker",{staticClass:"picker",attrs:{"selected-icon":t.portrait},on:{pick:t.updateIcon}})],1)]),t._v(" "),n("section",[n("div",{staticClass:"section-body action-list single-child"},[n("div",{staticClass:"list-item",on:{click:t.addOwnIcon}},[n("div",{staticClass:"list-item-primary"},[n("base-icon",{attrs:{name:"add"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Add your own")])],1),t._v(" "),n("div",{staticClass:"list-item-secondary"},[n("base-icon",{attrs:{name:"navigate_next"}})],1)])])])])])}),[],!1,null,"6ac0314d",null));e.default=R.exports}}]);
//# sourceMappingURL=51-8973f884d24ca94855b3.chunk.js.map