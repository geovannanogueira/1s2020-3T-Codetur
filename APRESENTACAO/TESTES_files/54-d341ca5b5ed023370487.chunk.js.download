(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{595:function(t,e,n){"use strict";var o=n(159);e.a={mixins:[o.a],mounted:function(){var t=document.documentElement.ontouchstart?"touchstart.modal":"click.modal",e=this;$(this.$el).on(t,(function(t){this===t.target&&e.cancel(t)}))},beforeDestroy:function(){$(this.$el).off(".modal")},methods:{onEscape:function(t){this.cancel(t)}}}},632:function(t,e,n){},699:function(t,e,n){"use strict";var o=n(632);n.n(o).a},746:function(t,e,n){"use strict";n.r(e);var o=n(2),s=n(10),c=n(595),i=n(9),a={props:["colors","selected"],methods:{removeColor:function(){this.$emit("remove-color")},updateColor:function(t){this.$emit("update-color",t)}}},r=(n(699),n(1)),l=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("menu",{staticClass:"color-menu"},[n("li",{staticClass:"color no-color is-actionable",attrs:{"data-color":"none"},on:{click:t.removeColor}},[n("div",{staticClass:"slash"})]),t._v(" "),t._l(t.colors,(function(e){return n("li",{key:e,class:[e+"-color","color","is-actionable",{"is-selected":t.selected==e}],attrs:{"data-color":e},on:{click:function(n){return t.updateColor(e)}}})}))],2)}),[],!1,null,"5ceb0ccf",null).exports,d=n(7),v=n(75),u=n(13),p=n(17);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={components:{BaseIcon:i.a,SurfacePanelPostActionMenuColorSelector:l},mixins:[s.a,c.a],props:{postCid:{type:String,default:null,validator:function(t){return t.startsWith("c")}}},computed:f({},Object(o.e)(["showAlertSheet","constants","isDesktop","isTablet","isApp","user"]),{},Object(o.c)("post",["postEntitiesByCid","postsArray"]),{},Object(o.c)("postConnection",["connections"]),{},Object(o.c)("postAction",["hasPostUnderActionWithConnections","isPostUnderActionUserAuthored","canEditPostUnderAction","canDeletePostUnderAction","canTransferPostUnderAction","canCopyPostUnderAction","canConnectPostUnderAction","canDisconnectPostUnderAction","canChangePostStackOrder","canChangeCoverToPostUnderAction","canChangePostUnderActionLocation","isPostUnderActionPreviewPost"]),{},Object(o.c)(["colorScheme"]),{post:function(){return this.postEntitiesByCid[this.postCid]},hasConnectionsToPost:function(){return this.hasPostUnderActionWithConnections},isNativeMenu:function(){return this.showAlertSheet},isUserAuthored:function(){return this.isPostUnderActionUserAuthored},canEdit:function(){return this.canEditPostUnderAction},canDelete:function(){return this.canDeletePostUnderAction},canTransfer:function(){return this.canTransferPostUnderAction},canConnect:function(){return this.canConnectPostUnderAction},canDisconnect:function(){return this.canDisconnectPostUnderAction},canChangeStackOrder:function(){return this.canChangePostStackOrder},canCopy:function(){return this.canCopyPostUnderAction},canChangeCoverPost:function(){return this.canChangeCoverToPostUnderAction},canChangeLocation:function(){return this.canChangePostUnderActionLocation},isPreviewPost:function(){return this.isPostUnderActionPreviewPost},postColor:function(){return this.post.color},allPostColors:function(){return this.constants.themeColor}}),mounted:function(){this.position()},updated:function(){this.position()},methods:f({},Object(o.b)(["unsetCoverPost","setCoverPost"]),{},Object(o.b)("post",["startEditingPost","sortedPost","deletePost","removePostColor","changePostColor"]),{},Object(o.b)("postAction",["hidePostActionMenu","expandPost","startPostTransfer","startPostCopy"]),{},Object(o.b)("postConnection",["startConnection","startDisconnection"]),{},Object(o.b)("map",["startPickingLocation"]),{cancel:function(){this.hidePostActionMenu()},position:function(){(this.isDesktop||this.isTablet)&&Object(d.a)(this.$el).position({my:"right top",at:"right top",of:Object(d.a)("#wish-".concat(this.post.id)),collision:"fit"})},removeColor:function(){this.cancel(),this.removePostColor({postCid:this.post.cid})},updateColor:function(t){this.cancel(),this.changePostColor({postCid:this.post.cid,newBgColor:t})},edit:function(){this.cancel(),this.startEditingPost({postCid:this.post.cid})},changeLocation:function(){this.cancel(),this.startPickingLocation({postCid:this.post.cid})},connect:function(){this.cancel(),this.startConnection({postId:this.post.id})},disconnect:function(){this.cancel(),this.startDisconnection({postId:this.post.id})},bringToFront:function(){this.cancel(),this.sortedPost({postCid:this.post.cid,sortIndex:Object(v.e)()})},sendToBack:function(){this.cancel(),this.sortedPost({postCid:this.post.cid,sortIndex:Object(v.c)()})},transfer:function(){Object(u.a)("Transfer Post Menu","open"),this.cancel(),this.startPostTransfer({transferPostCid:this.post.cid})},copy:function(){Object(u.a)("Copy Post Menu","open"),this.cancel(),this.startPostCopy({copyPostCid:this.post.cid})},expand:function(){this.cancel(),this.expandPost({postCid:this.post.cid})},unsetAsCover:function(){this.cancel(),this.unsetCoverPost({postId:this.post.id})},setAsCover:function(){this.cancel(),this.setCoverPost({postId:this.post.id})},actuallyDelete:function(){this.cancel(),this.deletePost({postCid:this.post.cid})},askToDelete:function(){Object(p.j)(this.post)||Object(p.i)(this.post)?this.actuallyDelete():window.confirm(this.__("Are you sure you want to delete this post? This cannot be undone!"))&&this.actuallyDelete()}})},P=Object(r.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNativeMenu,expression:"!isNativeMenu"}],staticClass:"surface-panel-post-menu dropdown dropdown-with-curtain",attrs:{"data-color-scheme":t.colorScheme}},[n("div",{staticClass:"dropdown-content tv tv-list"},[t.canEdit?n("div",{staticClass:"tv-cell tv-cell-default"},[n("surface-panel-post-action-menu-color-selector",{attrs:{colors:t.allPostColors,selected:t.postColor},on:{"remove-color":t.removeColor,"update-color":t.updateColor}})],1):t._e(),t._v(" "),t.canEdit?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.edit}},[n("base-icon",{attrs:{name:"edit"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Edit post")])],1):t._e(),t._v(" "),t.canChangeLocation?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.changeLocation}},[n("base-icon",{attrs:{name:"place"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Change location")])],1):t._e(),t._v(" "),t.canConnect?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.connect}},[n("base-icon",{attrs:{name:"connect"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Connect to a post")])],1):t._e(),t._v(" "),t.canDisconnect?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.disconnect}},[n("base-icon",{attrs:{name:"disconnect"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Disconnect from a post")])],1):t._e(),t._v(" "),t.canChangeStackOrder?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.bringToFront}},[n("base-icon",{attrs:{name:"send_to_front",role:"presentation"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Bring to front")])],1):t._e(),t._v(" "),t.canChangeStackOrder?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.sendToBack}},[n("base-icon",{attrs:{name:"send_to_back",role:"presentation"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Send to back")])],1):t._e(),t._v(" "),t.canEdit||t.canConnect||t.canDisconnect?n("div",{staticClass:"tv-divider"}):t._e(),t._v(" "),t.canTransfer?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.transfer}},[n("base-icon",{attrs:{name:"send"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Transfer post")])],1):t._e(),t._v(" "),t.canCopy?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.copy}},[n("base-icon",{attrs:{name:"copy"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Copy post")])],1):t._e(),t._v(" "),n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.expand}},[n("base-icon",{attrs:{name:"expand"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Expand post")])],1),t._v(" "),t.canChangeCoverPost?n("div",{staticClass:"tv-divider"}):t._e(),t._v(" "),t.canChangeCoverPost&&t.isPreviewPost?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.unsetAsCover}},[n("base-icon",{attrs:{name:"cover"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Unset as cover")])],1):t._e(),t._v(" "),t.canChangeCoverPost&&!t.isPreviewPost?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.setAsCover}},[n("base-icon",{attrs:{name:"cover"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Set as cover")])],1):t._e(),t._v(" "),t.canDelete?n("div",{staticClass:"tv-divider"}):t._e(),t._v(" "),t.canDelete?n("div",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:t.askToDelete}},[n("base-icon",{attrs:{name:"delete"}}),t._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Delete post")])],1):t._e()])])}),[],!1,null,null,null);e.default=P.exports}}]);
//# sourceMappingURL=54-d341ca5b5ed023370487.chunk.js.map