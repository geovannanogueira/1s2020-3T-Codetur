(window.webpackJsonp=window.webpackJsonp||[]).push([[32],[function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},,function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return _}));var r=("undefined"!==typeof window?window:"undefined"!==typeof e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}var i=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},a={namespaced:{configurable:!0}};a.namespaced.get=function(){return!!this._rawModule.namespaced},i.prototype.addChild=function(e,t){this._children[e]=t},i.prototype.removeChild=function(e){delete this._children[e]},i.prototype.getChild=function(e){return this._children[e]},i.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},i.prototype.forEachChild=function(e){o(this._children,e)},i.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},i.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},i.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(i.prototype,a);var s=function(e){this.register([],e,!1)};s.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},s.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},s.prototype.update=function(e){!function e(t,n,r){0;n.update(r);if(r.modules)for(var o in r.modules){if(!n.getChild(o))return void 0;e(t.concat(o),n.getChild(o),r.modules[o])}}([],this.root,e)},s.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var a=new i(t,n);0===e.length?this.root=a:this.get(e.slice(0,-1)).addChild(e[e.length-1],a);t.modules&&o(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},s.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var c;var u=function(e){var t=this;void 0===e&&(e={}),!c&&"undefined"!==typeof window&&window.Vue&&g(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new s(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c;var i=this,a=this.dispatch,u=this.commit;this.dispatch=function(e,t){return a.call(i,e,t)},this.commit=function(e,t,n){return u.call(i,e,t,n)},this.strict=o;var l=this._modules.root.state;p(this,l,[],this._modules.root),h(this,l),n.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:c.config.devtools)&&function(e){r&&(e._devtoolHook=r,r.emit("vuex:init",e),r.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){r.emit("vuex:mutation",e,t)})))}(this)},l={state:{configurable:!0}};function f(e,t){return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function d(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;p(e,n,[],e._modules.root,!0),h(e,n,t)}function h(e,t,n){var r=e._vm;e.getters={};var i=e._wrappedGetters,a={};o(i,(function(t,n){a[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,e._vm=new c({data:{$$state:t},computed:a}),c.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),r&&(n&&e._withCommit((function(){r._data.$$state=null})),c.nextTick((function(){return r.$destroy()})))}function p(e,t,n,r,o){var i=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a]=r),!i&&!o){var s=m(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){c.set(s,u,r.state)}))}var l=r.context=function(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=y(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:r?e.commit:function(n,r,o){var i=y(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){var n={},r=t.length;return Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),n}(e,t)}},state:{get:function(){return m(e.state,n)}}}),o}(e,a,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,a+n,t,l)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,o=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t,o){var i,a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t,o);return(i=a)&&"function"===typeof i.then||(a=Promise.resolve(a)),e._devtoolHook?a.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):a}))}(e,r,o,l)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,a+n,t,l)})),r.forEachChild((function(r,i){p(e,t,n.concat(i),r,o)}))}function m(e,t){return t.length?t.reduce((function(e,t){return e[t]}),e):e}function y(e,t,n){var r;return null!==(r=e)&&"object"===typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function g(e){c&&e===c||function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(c=e)}l.state.get=function(){return this._vm._data.$$state},l.state.set=function(e){0},u.prototype.commit=function(e,t,n){var r=this,o=y(e,t,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.forEach((function(e){return e(s,r.state)})))},u.prototype.dispatch=function(e,t){var n=this,r=y(e,t),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(c){0}return(s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i)).then((function(e){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(c){0}return e}))}},u.prototype.subscribe=function(e){return f(e,this._subscribers)},u.prototype.subscribeAction=function(e){return f("function"===typeof e?{before:e}:e,this._actionSubscribers)},u.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,n)},u.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},u.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),p(this,this.state,e,this._modules.get(e),n.preserveState),h(this,this.state)},u.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=m(t.state,e.slice(0,-1));c.delete(n,e[e.length-1])})),d(this)},u.prototype.hotUpdate=function(e){this._modules.update(e),d(this,!0)},u.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(u.prototype,l);var v=E((function(e,t){var n={};return k(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=C(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),b=E((function(e,t){var n={};return k(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=C(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),w=E((function(e,t){var n={};return k(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||C(this.$store,"mapGetters",e))return this.$store.getters[o]},n[r].vuex=!0})),n})),_=E((function(e,t){var n={};return k(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=C(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n}));function k(e){return Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}}))}function E(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function C(e,t,n){return e._modulesNamespaceMap[n]}var O={Store:u,install:g,version:"3.1.1",mapState:v,mapMutations:b,mapGetters:w,mapActions:_,createNamespacedHelpers:function(e){return{mapState:v.bind(null,e),mapGetters:w.bind(null,e),mapMutations:b.bind(null,e),mapActions:_.bind(null,e)}}};t.a=O}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"x",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"l",(function(){return w})),n.d(t,"h",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return E})),n.d(t,"v",(function(){return A})),n.d(t,"c",(function(){return I})),n.d(t,"u",(function(){return x})),n.d(t,"a",(function(){return s})),n.d(t,"w",(function(){return c})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return D})),n.d(t,"y",(function(){return N})),n.d(t,"m",(function(){return R})),n.d(t,"p",(function(){return M})),n.d(t,"s",(function(){return F})),n.d(t,"t",(function(){return B}));var r=n(16),o=n(5),i=n(0);n(63);function a(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return a(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var s=(r||{})[n.name.value];e[t.value]=s}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return a(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new o.a;e[t.value]=null}}function s(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return a(n,r,o,t)})),n}return null}function c(e){return e.alias?e.alias.value:e.name.value}function u(e){return"Field"===e.kind}function l(e){return"InlineFragment"===e.kind}function f(e,t){if(void 0===t&&(t={}),!e.directives)return!0;var n=!0;return e.directives.forEach((function(e){if("skip"===e.name.value||"include"===e.name.value){var r=e.arguments||[],i=e.name.value;Object(o.b)(1===r.length);var a=r[0];Object(o.b)(a.name&&"if"===a.name.value);var s=r[0].value,c=!1;s&&"BooleanValue"===s.kind?c=s.value:(Object(o.b)("Variable"===s.kind),c=t[s.name.value],Object(o.b)(void 0!==c)),"skip"===i&&(c=!c),c||(n=!1)}})),n}function d(e,t){return function(e){var t=[];return Object(r.visit)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function h(e){return e&&d(["client"],e)&&d(["export"],e)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){"undefined"!==typeof t&&null!==t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function m(e){y(e);var t=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))[0];return Object(o.b)(t),t}function y(e){Object(o.b)(e&&"Document"===e.kind);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new o.a;return e}));return Object(o.b)(t.length<=1),e}function g(e){return y(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function v(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function b(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function w(e){var t=g(e);return Object(o.b)(t&&"query"===t.operation),t}function _(e){var t;y(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var a=i.operation;if("query"===a||"mutation"===a||"subscription"===a)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new o.a}function k(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function E(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter((function(e){return e.defaultValue})).map((function(e){var t=e.variable,n=e.defaultValue,r={};return a(r,t.name,n),r}));return p.apply(void 0,[{}].concat(t))}return{}}function C(e,t,n){var r=0;return e.forEach((function(n,o){t.call(this,n,o,e)&&(e[r++]=n)}),n),e.length=r,e}function O(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(g(e)||function(e){Object(o.b)("Document"===e.kind),Object(o.b)(e.definitions.length<=1);var t=e.definitions[0];return Object(o.b)("FragmentDefinition"===t.kind),t}(e),k(b(e)))?null:e}function S(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function T(e,t){var n=Object.create(null),o=[],a=Object.create(null),s=[],c=O(Object(r.visit)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(S(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&o.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];t.selections.forEach((function(t){"Field"!==t.kind&&"InlineFragment"!==t.kind||!t.selectionSet?"FragmentSpread"===t.kind&&n.push(t):e(t.selectionSet).forEach((function(e){return n.push(e)}))}));return n}(t.selectionSet).forEach((function(e){s.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(S(e)(t))return null}}}));return c&&C(o,(function(e){return!n[e.name]})).length&&(c=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return O(Object(r.visit)(t,{OperationDefinition:{enter:function(t){return Object(i.__assign)({},t,{variableDefinitions:t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))}))})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(o,c)),c&&C(s,(function(e){return!a[e.name]})).length&&(c=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return O(Object(r.visit)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(s,c)),c}var P={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||console.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function A(e){return T([P],y(e))}function I(e){return"query"===_(e).operation?e:Object(r.visit)(e,{OperationDefinition:{enter:function(e){return Object(i.__assign)({},e,{operation:"query"})}}})}function x(e){y(e);var t=T([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Object(r.visit)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return"Field"===e.kind&&"__typename"===e.name.value})))return null}}})),t}var j=Object.prototype.toString;function D(e){return function e(t,n){switch(j.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,o){r[o]=e(t,n)})),r;case"[object Object]":if(n.has(t))return n.get(t);var o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Object.keys(t).forEach((function(r){o[r]=e(t[r],n)})),o;default:return t}}(e,new Map)}function N(e){try{return e()}catch(t){console.error&&console.error(t)}}function R(e){return e.errors&&e.errors.length}function M(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(null!=e&&"object"===typeof e&&null!=t&&"object"===typeof t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!M(e[n],t[n]))return!1}for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}return!1}var L=Object.prototype.hasOwnProperty;function F(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return B(e)}function B(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=V(t,r);for(var o=1;o<n;++o)t=q(t,e[o],r)}return t}function U(e){return null!==e&&"object"===typeof e}function q(e,t,n){return U(t)&&U(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=V(e,n)),Object.keys(t).forEach((function(r){var o=t[r];if(L.call(e,r)){var i=e[r];o!==i&&(e[r]=q(V(i,n),o,n))}else e[r]=o})),e):t}function V(e,t){return null!==e&&"object"===typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):Object(i.__assign)({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}Object.create({})}).call(this,n(46))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(50),o=n(27),i=window.locales||{},a=null;i[o.c]&&(a=new r.Jed(i[o.c]));var s=function(e,t){if(!e)return"";var n=a?a.gettext(e):e;if(t){var o=n.replace(/%{(.+?)}/g,"%($1)s");return r.Jed.sprintf(o,t)}return n},c=function(e,t,n,o){var i=1==n?e:t,s=a?a.ngettext(e,t,n):i;if(o){var c=s.replace(/%{(.+?)}/g,"%($1)s");return r.Jed.sprintf(c,o)}return s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(0),o="Invariant Violation",i=Object.setPrototypeOf,a=void 0===i?function(e,t){return e.__proto__=t,e}:i,s=function(e){function t(n){void 0===n&&(n=o);var r=e.call(this,n)||this;return r.framesToPop=1,r.name=o,a(r,t.prototype),r}return Object(r.__extends)(t,e),t}(Error);function c(e,t){if(!e)throw new s(t)}!function(e){e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,e)},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)}}(c||(c={}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return A})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return R})),n.d(t,"s",(function(){return M})),n.d(t,"t",(function(){return F})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return u})),n.d(t,"x",(function(){return g}));var r=n(16),o=n(19),i=n(0),a=n(63),s=n.n(a);n(107);function c(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return c(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return c(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new o.a(17);e[t.value]=null}}function u(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var o=r.name,i=r.value;return c(n[e.name.value],o,i,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,o=e.value;return c(r,n,o,t)}))),f(e.name.value,r,n)}var l=["connection","include","skip","client","rest","export"];function f(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=t,i={};return r.forEach((function(e){i[e]=o[e]})),n.connection.key+"("+JSON.stringify(i)+")"}return n.connection.key}var a=e;if(t){var c=s()(t);a+="("+c+")"}return n&&Object.keys(n).forEach((function(e){-1===l.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function d(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return c(n,r,o,t)})),n}return null}function h(e){return e.alias?e.alias.value:e.name.value}function p(e){return"Field"===e.kind}function m(e){return"InlineFragment"===e.kind}function y(e){return e&&"id"===e.type&&"boolean"===typeof e.generated}function g(e,t){return void 0===t&&(t=!1),Object(i.__assign)({type:"id",generated:t},"string"===typeof e?{id:e,typename:void 0}:e)}function v(e){return null!=e&&"object"===typeof e&&"json"===e.type}function b(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach((function(e){n[e.name.value]=d(e,t)})),n}return null}function w(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(_).map((function(e){var t=e.arguments;e.name.value,Object(o.b)(t&&1===t.length,4);var n=t[0];Object(o.b)(n.name&&"if"===n.name.value,5);var r=n.value;return Object(o.b)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),6),{directive:e,ifArgument:n}})):[]).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t[r.value.name.value],Object(o.b)(void 0!==i,3)):i=r.value.value,"skip"===n.name.value?!i:i}));var n}function _(e){var t=e.name.value;return"skip"===t||"include"===t}function k(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new o.a(1);"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&(Object(o.b)(1===r.length,2),n=r[0].name.value),Object(i.__assign)({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}].concat(e.definitions)})}function E(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){"undefined"!==typeof t&&null!==t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function C(e){Object(o.b)(e&&"Document"===e.kind,8);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new o.a(9);return e}));return Object(o.b)(t.length<=1,10),e}function O(e){return C(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function S(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function T(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function P(e){var t=O(e);return Object(o.b)(t&&"query"===t.operation,12),t}function A(e){var t;C(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var a=i.operation;if("query"===a||"mutation"===a||"subscription"===a)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new o.a(16)}function I(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function x(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter((function(e){return e.defaultValue})).map((function(e){var t=e.variable,n=e.defaultValue,r={};return c(r,t.name,n),r}));return E.apply(void 0,[{}].concat(t))}return{}}var j={kind:"Field",name:{kind:"Name",value:"__typename"}};function D(e){return Object(r.visit)(C(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return p(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var o=n;if(!(p(o)&&o.directives&&o.directives.some((function(e){return"export"===e.name.value}))))return Object(i.__assign)({},e,{selections:r.concat([j])})}}}}})}"function"===typeof WeakMap&&"object"===typeof navigator&&navigator.product,Object.prototype.toString;function N(t){return("undefined"!==typeof e?"production":"development")===t}function R(){return!0===N("production")}function M(){return!0===N("test")}var L=Object.prototype.hasOwnProperty;function F(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=q(t,r);for(var o=1;o<n;++o)t=U(t,e[o],r)}return t}function B(e){return null!==e&&"object"===typeof e}function U(e,t,n){return B(t)&&B(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=q(e,n)),Object.keys(t).forEach((function(r){var o=t[r];if(L.call(e,r)){var i=e[r];o!==i&&(e[r]=U(q(i,n),o,n))}else e[r]=o})),e):t}function q(e,t){return null!==e&&"object"===typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):Object(i.__assign)({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}Object.create({})}).call(this,n(46))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=window.jQuery;r&&r.ajax},,function(e,t,n){"use strict";var r,o=[],i=!1;window.addEventListener("DOMContentLoaded",(function(e){i=!0,r=e,o.forEach((function(t){return t(e)}))}));var a={mixins:[{data:function(){return{isDomLoaded:i}},beforeMount:function(){var e,t=this;this.isDomLoaded||(e=function(){t.isDomLoaded=!0},i?e(r):o.push(e))}}],props:{name:{type:String,required:!0,validator:function(e){return!!e}},size:{type:String,required:!1,default:"normal",validator:function(e){return["small","normal"].includes(e)}},ariaHidden:{type:String,required:!1,default:"true",validator:function(e){return["true","false"].includes(e)}}},computed:{classes:function(){var e=[];return this.isDomLoaded?(e.push("immaterial-icons"),"small"===this.size&&e.push("immaterial-icons-18")):(e.push("immaterial-placeholder"),"small"===this.size&&e.push("immaterial-placeholder-18")),e}}},s=(n(123),n(1)),c=Object(s.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:e.classes,attrs:{"aria-hidden":e.ariaHidden},on:{click:function(t){return e.$emit("click",t)}}},[e._v(e._s(e.name))])}),[],!1,null,"435cadc8",null);t.a=c.exports},function(e,t,n){"use strict";var r=n(4),o=n(14);t.a={directives:{t:o.a},filters:{__:r.a},methods:{__:r.a,n__:r.b}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return f}));var r=n(8);n.d(t,"d",(function(){return r.a}));var o=n(26);n.d(t,"a",(function(){return o.b}));var i="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function a(e,t,n){i&&(Array.isArray(e)||"function"===typeof e||"undefined"!==typeof e.type||(e.type=Reflect.getMetadata("design:type",t,n)))}function s(e){return void 0===e&&(e={}),function(t,n){a(e,t,n),Object(o.a)((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function c(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,i=t.immediate,a=void 0!==i&&i;return Object(o.a)((function(t,n){"object"!==typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!==typeof o[e]||Array.isArray(o[e])?"undefined"===typeof o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:n,deep:r,immediate:a})}))}var u=/\B([A-Z])/g,l=function(e){return e.replace(u,"-$1").toLowerCase()};function f(e){return function(t,n,r){n=l(n);var o=r.value;r.value=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=function(o){void 0!==o&&r.unshift(o),t.$emit.apply(t,[e||n].concat(r))},s=o.apply(this,r);return d(s)?s.then((function(e){a(e)})):a(s),s}}}function d(e){return e instanceof Promise||e&&"function"===typeof e.then}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(0),a=n(146),s=n(197),c=n(198),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new a.ErrorFactory("app","Firebase",u),f="@firebase/app",d="0.5.2",h="[DEFAULT]",p=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),m=new c.Logger("@firebase/app"),y=function(){function e(e,t,n){var r,o,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=i.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next()){var f=l.value;this._addComponent(f)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=h),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){m.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var g="7.7.0";var v=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==typeof o||null===o){o={name:o}}var i=o;void 0===i.name&&(i.name=h);var s=i.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var c=new e(n,i,r);return t[s]=c,c},app:o,registerVersion:function(e,t,n){var r,o=null!==(r=p[e])&&void 0!==r?r:e;n&&(o+="-"+n);var i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){var u=['Unable to register library "'+o+'" with version "'+t+'":'];return i&&u.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),i&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void m.warn(u.join(" "))}c(new s.Component(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},apps:null,SDK_VERSION:g,INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function o(e){if(e=e||h,!a.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function c(s){var c,u,f=s.name;if(n.has(f))return m.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===s.type?r[f]:null;if(n.set(f,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[f])throw l.create("invalid-app-argument",{appName:f});return e[f]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[f]=d,e.prototype[f]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,f);return n.apply(this,s.multipleInstances?e:[])}}try{for(var h=i.__values(Object.keys(t)),p=h.next();!p.done;p=h.next()){var y=p.value;t[y]._addComponent(s)}}catch(g){c={error:g}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}return"PUBLIC"===s.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}(y);return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),b=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t,n=e.getComponent();return"VERSION"===(null===(t=n)||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var w=self.firebase.SDK_VERSION;w&&w.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_.apply(void 0,e)};var k=v;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new b(e)}),"PRIVATE")),e.registerVersion(f,d,t),e.registerVersion("fire-js","")}(k),t.default=k,t.firebase=k},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r){gtag("event",t,{event_category:e,event_label:n,value:r})}},function(e,t,n){"use strict";var r=n(4),o={bind:function(e,t){if(t.arg){var n=t.value,o=Object(r.a)(String(n).trim());e.setAttribute(t.arg,o)}else{var i=t.value||e.textContent,a=Object(r.a)(String(i).trim());e.textContent=a}}};t.a=o},function(e,t,n){"use strict";var r,o,i,a,s,c,u,l,f,d,h,p;if("undefined"!==typeof $device)r=$device;else for(s in r={},i=navigator,d=navigator.userAgent.toLowerCase(),a=i.platform.toLowerCase(),r.ipad=d.indexOf("ipad")>=0,r.iphone=d.indexOf("iphone")>=0,r.ipod=d.indexOf("ipod")>=0,r.ios=r.ipad||r.iphone||r.ipod,r.android=d.indexOf("android")>=0,r.windowsPhone=d.indexOf("windows phone")>=0,r.mac=null!==a.match(/^mac/),r.windows=0===a.indexOf("win"),r.webos=d.indexOf("webos")>=0,r.blackberry=d.indexOf("blackberry")>=0,r.windowsTouch=!!window.ontouchstart||window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>0,r.edge=d.indexOf("chrome")>=0&&d.indexOf("edge/")>=0,r.chrome=!r.edge&&d.indexOf("chrome")>=0,r.firefox=d.indexOf("firefox")>=0,r.ie=d.indexOf("msie")>=0||"Netscape"===i.appName&&d.indexOf("trident")>=0,r.webkit=d.indexOf("webkit")>=0,r.safari=!!window.safari||(null!=(c=navigator.vendor)?c.indexOf("Apple"):void 0)>=0,r.ie11=d.indexOf("rv:11.0")>=0,r.ie10=d.indexOf("msie 10.0")>=0,p=d.match(/(?:version|chrome|firefox)\/(.*?)(?:$|\s)/),r.version=p?parseFloat(p[1]):0,r.iphoneX=r.ios&&(812===window.screen.width||812===window.screen.height),r.mobile=r.ios||r.android||r.windowsPhone||r.blackberry,r.desktop=!r.mobile,r.supported=!r.ie&&(!r.safari||r.version>9),r.touchable=r.ios||r.android||r.webos||r.blackberry||r.windowsTouch,r.mousable=!r.touchable||r.windowsTouch,r.retina=void 0!==window.devicePixelRatio&&window.devicePixelRatio>1,r.clickGesture=r.touchable?"tap":"click",r.dragFile=!r.touchable,r.cookies=navigator.cookieEnabled,h=(null!=(u=document.body.getAttribute("ww-app-variant"))?u.split(" "):void 0)||(null!=(l=document.documentElement.getAttribute("data-variant"))?l.split(" "):void 0),o=decodeURIComponent(null!=(f=RegExp("ww_da[^;]+").exec(document.cookie))?f.toString().replace(/^[^=]+./,""):void 0),h?(r.tablet=h.indexOf("tablet")>-1,r.phone=h.indexOf("phone")>-1,r.iosApp=h.indexOf("ios")>-1,r.androidApp=h.indexOf("android")>-1):(r.tablet=!1,r.phone=!1,r.iosApp=!1,r.androidApp=!1),r.app=r.iosApp||r.androidApp,r.desktopApp=o&&"undefined"!==o||!!h&&h.indexOf("desktopapp")>-1,r.electron="other"===o,r.nwjs="nwjs"===o,r.safariPush=window&&window.safari&&window.safari.pushNotification,r.webPush=window&&window.PushManager,r.browserPush=r.safariPush||r.webPush,r)!0===r[s]&&document.documentElement.classList.add(s);t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t,n){var s=n||r,c=void 0,u=Array.isArray(e),l=[e],f=-1,d=[],h=void 0,p=[],m=[],y=e;do{var g=++f===l.length,v=void 0,b=void 0,w=g&&0!==d.length;if(g){if(v=0===m.length?void 0:p.pop(),b=h,h=m.pop(),w){if(u)b=b.slice();else{var _={};for(var k in b)b.hasOwnProperty(k)&&(_[k]=b[k]);b=_}for(var E=0,C=0;C<d.length;C++){var O=d[C][0],S=d[C][1];u&&(O-=E),u&&null===S?(b.splice(O,1),E++):b[O]=S}}f=c.index,l=c.keys,d=c.edits,u=c.inArray,c=c.prev}else{if(v=h?u?f:l[f]:void 0,null===(b=h?h[v]:y)||void 0===b)continue;h&&p.push(v)}var T=void 0;if(!Array.isArray(b)){if(!i(b))throw new Error("Invalid AST Node: "+JSON.stringify(b));var P=a(t,b.kind,g);if(P){if((T=P.call(t,b,v,h,p,m))===o)break;if(!1===T){if(!g){p.pop();continue}}else if(void 0!==T&&(d.push([v,T]),!g)){if(!i(T)){p.pop();continue}b=T}}}void 0===T&&w&&d.push([v,b]),g||(c={inArray:u,index:f,keys:l,edits:d,prev:c},u=Array.isArray(b),l=u?b:s[b.kind]||[],f=-1,d=[],h&&m.push(h),h=b)}while(void 0!==c);0!==d.length&&(y=d[d.length-1][1]);return y},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var i=a(e[r],n.kind,!1);if(i){var s=i.apply(e[r],arguments);if(!1===s)t[r]=n;else if(s===o)t[r]=o;else if(void 0!==s)return s}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var i=a(e[r],n.kind,!0);if(i){var s=i.apply(e[r],arguments);if(s===o)t[r]=o;else if(void 0!==s&&!1!==s)return s}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(n){e.enter(n);var r=a(t,n.kind,!1);if(r){var o=r.apply(t,arguments);return void 0!==o&&(e.leave(n),i(o)&&e.enter(o)),o}},leave:function(n){var r=a(t,n.kind,!0),o=void 0;return r&&(o=r.apply(t,arguments)),e.leave(n),o}}},t.getVisitFn=a;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["name","directives"],ObjectTypeDefinition:["name","interfaces","directives","fields"],FieldDefinition:["name","arguments","type","directives"],InputValueDefinition:["name","type","defaultValue","directives"],InterfaceTypeDefinition:["name","directives","fields"],UnionTypeDefinition:["name","directives","types"],EnumTypeDefinition:["name","directives","values"],EnumValueDefinition:["name","directives"],InputObjectTypeDefinition:["name","directives","fields"],TypeExtensionDefinition:["definition"],DirectiveDefinition:["name","arguments","locations"]},o=t.BREAK={};function i(e){return e&&"string"===typeof e.kind}function a(e,t,n){var r=e[t];if(r){if(!n&&"function"===typeof r)return r;var o=n?r.leave:r.enter;if("function"===typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"===typeof i)return i;var a=i[t];if("function"===typeof a)return a}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return R})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return L})),n.d(t,"o",(function(){return F})),n.d(t,"n",(function(){return D})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return U})),n.d(t,"l",(function(){return q})),n.d(t,"j",(function(){return _})),n.d(t,"i",(function(){return k})),n.d(t,"k",(function(){return E})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return S})),n.d(t,"c",(function(){return N}));var r,o=n(40),i=n(22),a=n(194),s=n(32),c=n(105),u=n.n(c),l=n(90),f=n.n(l),d=n(49),h=n.n(d),p=n(18),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},v=["subject","body","attachment","color"],b=["red","orange","green","blue","purple"],w="padlet",_=function(e){return!e.id},k=function(e){return!e.subject&&!e.body&&!e.attachment},E=function(e){return!k(e)},C=function(e){return b.includes(e)};function O(e){var t,n=v.reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{});return Object.keys(n).length?JSON.stringify(((t={})[w]=n,t)):""}function S(e){try{var t=JSON.parse(e);if("object"!==typeof t)return null;var n=t[w];return!n||(r=n,Object.keys(r).some((function(e){return!v.includes(e)}))||k(r)||r.color&&!C(r.color)||r.attachment&&!Object(s.b)(r.attachment))?null:t.padlet}catch(o){return null}var r}!function(e){e[e.All=0]="All",e[e.BodyAndOrAttachment=1]="BodyAndOrAttachment",e[e.BodyOrAttachment=2]="BodyOrAttachment"}(r||(r={}));var T=500;var P,A={},I={};!function(e){e.Create="Create",e.UpdateCurrent="UpdateCurrent",e.UpdateLatest="UpdateLatest",e.Delete="Delete"}(P||(P={}));var x=function(){function e(e,t){var n=e.id,r=e.cid,o=t.dispatch,i=t.getters;this.postId=n||null,this.postCid=r,this.dispatch=o,this.getters=i,this.q=new a.a}return e.prototype.save=function(){var e=this.post;return k(e)?e:(_(e)&&this.q.currentKey!==P.Create?this.q.enqueue(P.Create,this.createPost.bind(this)):this.debouncedEnqueueUpdate(),e)},e.prototype.delete=function(){this.q.enqueue(P.Delete,this.deletePost.bind(this))},e.prototype.customSave=function(e){var t=this,n=e.key,r=e.method;if(_(this.post)&&this.q.currentKey!==P.Create&&this.q.enqueue(P.Create,this.createPost.bind(this)),this.q.lastQueuedKey===P.UpdateLatest){this.q.unqueue();var o=u()(this.post);this.q.enqueue(P.UpdateCurrent,(function(){return t.updatePost(o)}))}return this.q.enqueue(n,(function(){return t.isPostMarkedAsDeleted?Promise.resolve():r(t.post)}))},Object.defineProperty(e.prototype,"post",{get:function(){var e=this.getters.postEntitiesByCid[this.postCid];if(e)return e;var t=this.getters.getPostByServerId(this.postId);return delete I[this.postCid],this.postCid=t.cid,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPostMarkedAsDeleted",{get:function(){return this.getters.isPostMarkedAsDeleted({cid:this.postCid,id:this.postId})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debouncedEnqueueUpdate",{get:function(){return this._debouncedEnqueueUpdate||(this._debouncedEnqueueUpdate=f()(this.enqueueUpdate,500)),this._debouncedEnqueueUpdate},enumerable:!0,configurable:!0}),e.prototype.enqueueUpdate=function(){this.q.lastQueuedKey!==P.UpdateLatest&&this.q.enqueue(P.UpdateLatest,this.updatePost.bind(this))},e.prototype.createPost=function(){return y(this,void 0,Promise,(function(){var e,t,n,r;return g(this,(function(o){switch(o.label){case 0:e=this.post,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=T);var r=t;return function(){return new Promise((function(t,o){!function i(){return y(this,void 0,Promise,(function(){var a,s,c;return g(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,e()];case 1:return a=u.sent(),[2,t(a)];case 2:return s=u.sent(),c=s.status>=400&&s.status<500,!c&&r>0?(r-=1,setTimeout((function(){i()}),n)):o(s),[2,null];case 3:return[2]}}))}))}()}))}}((function(){return p.a.Wish.create(e)}),1)()];case 2:return t=o.sent().id,this.dispatch("createdPostSuccess",m(m({},e),{id:t})),this.postId=t,A[t]=this,[2,{id:t}];case 3:return 403===(n=o.sent()).status?this.dispatch("showReloadNotification",null,{root:!0}):this.showSaveFailureSnackbar(),r={response:n.message,attachment:e.attachment},Object(i.c)("CreatedPostError "+(n.status||""),{context:r}),[2,null];case 4:return[2]}}))}))},e.prototype.updatePost=function(e){return y(this,void 0,Promise,(function(){var t,n,r,o;return g(this,(function(a){switch(a.label){case 0:if(this.isPostMarkedAsDeleted)return[2];if(t=e?m(m({},e),{id:this.post.id}):this.post,k(t))return[2,null];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,p.a.Wish.update(t)];case 2:return n=a.sent(),this.dispatch("updatedPostSuccess",m(m({},n),t)),[2,n];case 3:return r=a.sent(),o={response:r.message,postId:t.id},404===r.status?this.dispatch("refresh",null,{root:!0}):403===r.status?(this.dispatch("showReloadNotification",null,{root:!0}),Object(i.c)("UpdatedPostError 403",{context:o})):(this.showSaveFailureSnackbar(),Object(i.c)("UpdatedPostError "+(r.status||""),{context:o})),[2,null];case 4:return[2]}}))}))},e.prototype.deletePost=function(){return y(this,void 0,Promise,(function(){var e,t;return g(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.postId?[4,p.a.Wish.delete({id:this.postId})]:[2,Promise.resolve()];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),t={response:e.message,postId:this.postId},404===e.status?this.dispatch("refresh",null,{root:!0}):403===e.status?(this.dispatch("showReloadNotification",null,{root:!0}),Object(i.c)("DeletedPostError 403",{context:t})):(this.showSaveFailureSnackbar(),Object(i.c)("DeletedPostError "+(e.status||""),{context:t})),[3,3];case 3:return[2]}}))}))},e.prototype.showSaveFailureSnackbar=function(){this.dispatch("snackbars/setSnackbar",o.b,{root:!0})},e}();function j(e,t){var n=e.id&&A[e.id]||I[e.cid];return n||(n=new x(e,t),e.id?A[e.id]=n:I[e.cid]=n,n)}var D=function(e,t){var n=e.dispatch,r=e.getters;return n(_(t)?"addPost":"updatePostInStore",t),j(t.cid?t:r.getPostByServerId(t.id),e).save()};function N(e,t,n){return j(t,e).customSave(n)}function R(e,t){e.commit("DELETED_POST",t),j(t,e).delete()}function M(e,t){t.forEach((function(t){R(e,t)}))}function L(e,t){var n=e.dispatch;return y(this,void 0,Promise,(function(){var e,r,o,i,a,s,c,u,l,f;return g(this,(function(d){switch(d.label){case 0:e=p.a.Wish.copy.bind(p.a.Wish),r=t.wallId,o=t.wallDescription,i=t.wallTitle,a=t.wallSectionId,s=t.postPosition,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e({wishId:t.postId,wallId:r,wallDescription:o,wallTitle:i,wallSectionId:a,postPosition:s})];case 2:return c=d.sent(),u=!!i||!!o,n("postAction/updatePostCopied",{newPostData:c,originalPostId:t.postId,isDestinationNewWall:u},{root:!0}),[3,4];case 3:l=d.sent(),f=l;try{f=JSON.parse(l.message)}finally{n("postAction/updatePostCopied",{error:f},{root:!0})}return[3,4];case 4:return[2]}}))}))}function F(e,t){var n=e.dispatch;return y(this,void 0,Promise,(function(){var e,r,o,i,a,s,c,u,l,f,d;return g(this,(function(h){switch(h.label){case 0:e=t.wallId,r=t.wallDescription,o=t.wallTitle,i=t.wallSectionId,a=t.isDestinationThisWall,s=t.transferredPostCid,c=p.a.Wish.transfer.bind(p.a.Wish),a||n("removePost",{cid:s},{root:!0}),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,c({wishId:t.postId,wallId:e,wallDescription:r,wallTitle:o,wallSectionId:i})];case 2:return u=h.sent(),l=!!o||!!r,n("postAction/updatePostTransferred",{newPostData:u,originalPostId:t.postId,isDestinationThisWall:a,isDestinationNewWall:l,transferredPostCid:s},{root:!0}),[3,4];case 3:f=h.sent(),d=f;try{d=JSON.parse(f.message)}finally{n("postAction/updatePostTransferred",{error:d},{root:!0})}return[3,4];case 4:return[2]}}))}))}function B(e){return e.id?"c"+e.id:h()("c_new")}function U(e){return e.cid?e.cid:e.id?"c"+e.id:null}function q(e){return!!String(e).startsWith("c")}},function(e,t,n){"use strict";var r,o=n(20),i=n(323),a=n.n(i),s=n(37),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(){function e(){}return Object.defineProperty(e,"url",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e,"fetchUrl",{get:function(){return""},enumerable:!0,configurable:!0}),e.buildUrl=function(e,t){return a()(e)(u(u({},t),{interpolate:/\${([\s\S]+?)}/g}))},e.readAll=function(e,t){return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,Object(s.a)(this.buildUrl(this.fetchUrl,e),u({method:o.HTTPMethod.get},t))];case 1:return[2,n.sent()]}}))}))},e.read=function(e,t){return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,Object(s.a)(this.url+"/"+e.id,u({method:o.HTTPMethod.get},t))];case 1:return[2,n.sent()]}}))}))},e.update=function(e,t){return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,Object(s.a)(this.url+"/"+e.id,u({method:o.HTTPMethod.put,body:JSON.stringify(e)},t))];case 1:return[2,n.sent()]}}))}))},e.create=function(e,t){return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,Object(s.a)(""+this.url,u({method:o.HTTPMethod.post,body:JSON.stringify(e)},t))];case 1:return[2,n.sent()]}}))}))},e.delete=function(e,t){return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,Object(s.a)(this.url+"/"+e.id,u({method:o.HTTPMethod.delete},t))];case 1:return[2,n.sent()]}}))}))},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"url",{get:function(){return"/reactions"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fetchUrl",{get:function(){return"/reactions?wall_id=${ wall.id }"},enumerable:!0,configurable:!0}),t}(d),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"url",{get:function(){return"/api/wish_connections"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fetchUrl",{get:function(){return"/api/wish_connections?wall_id=${ wall.id }"},enumerable:!0,configurable:!0}),t}(d),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"url",{get:function(){return"/comments"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fetchUrl",{get:function(){return"/comments?wall_id=${ wall.id }"},enumerable:!0,configurable:!0}),t}(d),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"url",{get:function(){return"/wall_sections"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fetchUrl",{get:function(){return"/wall_sections?wall_id=${ wall.id }"},enumerable:!0,configurable:!0}),t}(d),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"fetchUrl",{get:function(){return"/api/wall_table_layout?wall_id=${ wall.id }"},enumerable:!0,configurable:!0}),t.createRow=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.rowsEndpoint,{method:o.HTTPMethod.post,body:JSON.stringify(e)})];case 1:return[2,t.sent()]}}))}))},t.createCol=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.colsEndpoint,{method:o.HTTPMethod.post,body:JSON.stringify(e)})];case 1:return[2,t.sent()]}}))}))},t.createRowAndCol=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.rowAndColEndpoint,{method:o.HTTPMethod.post,body:JSON.stringify(e)})];case 1:return[2,t.sent()]}}))}))},t.updateRow=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.rowsEndpoint+"/"+e.id,{method:o.HTTPMethod.put,body:JSON.stringify(e)})];case 1:return[2,t.sent()]}}))}))},t.updateCol=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.colsEndpoint+"/"+e.id,{method:o.HTTPMethod.put,body:JSON.stringify(e)})];case 1:return[2,t.sent()]}}))}))},t.deleteRow=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.rowsEndpoint+"/"+e.id,{method:o.HTTPMethod.delete})];case 1:return[2,t.sent()]}}))}))},t.deleteCol=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)(this.colsEndpoint+"/"+e.id,{method:o.HTTPMethod.delete})];case 1:return[2,t.sent()]}}))}))},t.putPostInCell=function(e){return l(this,void 0,Promise,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,Object(s.a)("/api/wall_table_layout/cell",{method:o.HTTPMethod.post,body:JSON.stringify(e)})];case 1:return[2,t.sent()]}}))}))},t.rowsEndpoint="/api/wall_table_layout/rows",t.colsEndpoint="/api/wall_table_layout/cols",t.rowAndColEndpoint="/api/wall_table_layout/row_and_col",t}(d),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"url",{get:function(){return"/walls"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"convertLayoutUrl",{get:function(){return"/walls/${ id }/layout"},enumerable:!0,configurable:!0}),t.convertLayout=function(e,t){var n=e.id,r=e.newLayout;return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,Object(s.a)(this.buildUrl(this.convertLayoutUrl,{id:n}),u({method:o.HTTPMethod.put,body:JSON.stringify({type:r})},t))];case 1:return[2,e.sent()]}}))}))},t}(d),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),Object.defineProperty(t,"url",{get:function(){return"/wishes"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"fetchUrl",{get:function(){return"/wishes?wall_id=${ wall.id }"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"transferUrl",{get:function(){return"/wishes/${ wish_id }/transfer"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"copyUrl",{get:function(){return"/wishes/${ wish_id }/copy"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"approveUrl",{get:function(){return"/wishes/${ wish_id }/approve"},enumerable:!0,configurable:!0}),t.transfer=function(e,t){var n=e.wishId,r=e.wallId,i=e.wallSectionId,a=e.wallTitle,c=e.wallDescription;return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,Object(s.a)(this.buildUrl(this.transferUrl,{wish_id:n}),u({method:o.HTTPMethod.put,body:JSON.stringify({wall_id:r,wall_section_id:i,wall_title:a,wall_description:c})},t))];case 1:return[2,e.sent()]}}))}))},t.copy=function(e,t){var n=e.wishId,r=e.wallId,i=e.wallSectionId,a=e.wallTitle,c=e.wallDescription,d=e.postPosition;return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,Object(s.a)(this.buildUrl(this.copyUrl,{wish_id:n}),u({method:o.HTTPMethod.post,body:JSON.stringify(u({wall_id:r,wall_section_id:i,wall_title:a,wall_description:c},d))},t))];case 1:return[2,e.sent()]}}))}))},t.approve=function(e,t){var n=e.wishId;return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,Object(s.a)(this.buildUrl(this.approveUrl,{wish_id:n}),u({method:o.HTTPMethod.put,body:JSON.stringify({})},t))];case 1:return[2,e.sent()]}}))}))},t.update=function(e,t){return void 0===t&&(t={}),l(this,void 0,Promise,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,Object(s.b)(this.url+"/"+e.id,u({method:o.HTTPMethod.put,body:JSON.stringify(e)},t))];case 1:return[2,n.sent()]}}))}))},t}(d);t.a={Reaction:h,PostConnection:p,Comment:m,WallSection:y,WallTableLayout:g,Wall:v,Wish:b}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(0),o="Invariant Violation",i=Object.setPrototypeOf,a=void 0===i?function(e,t){return e.__proto__=t,e}:i,s=function(e){function t(n){void 0===n&&(n=o);var r=e.call(this,"number"===typeof n?o+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=o,a(r,t.prototype),r}return Object(r.__extends)(t,e),t}(Error);function c(e,t){if(!e)throw new s(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(c||(c={}));var l={env:{}};if("object"===typeof e)l=e;else try{Function("stub","process = stub")(l)}catch(f){}}).call(this,n(46))},,,function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"FunctionToString",(function(){return c})),n.d(r,"InboundFilters",(function(){return m}));var o={};n.r(o),n.d(o,"GlobalHandlers",(function(){return z})),n.d(o,"TryCatch",(function(){return Q})),n.d(o,"Breadcrumbs",(function(){return oe})),n.d(o,"LinkedErrors",(function(){return ce})),n.d(o,"UserAgent",(function(){return le}));var i,a,s=n(0),c=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){i=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry__?this.__sentry_original__:this;return i.apply(n,e)}},e.id="FunctionToString",e}(),u=n(122),l=n(498),f=n(155),d=n(24),h=n(154),p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],m=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)((function(t){var n=Object(l.a)();if(!n)return t;var r=n.getIntegration(e);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=r._mergeOptions(i);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(f.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(d.e)(e)),!0):this._isIgnoredError(e,t)?(f.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(d.e)(e)),!0):this._isBlacklistedUrl(e,t)?(f.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(d.e)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(f.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(d.e)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(e,t){return void 0===t&&(t={}),!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Object(h.a)(e,t)}))}))},e.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some((function(e){return Object(h.a)(n,e)}))},e.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some((function(e){return Object(h.a)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:s.__spread(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:s.__spread(this._options.ignoreErrors||[],e.ignoreErrors||[],p),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:s.__spread(this._options.whitelistUrls||[],e.whitelistUrls||[])}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,o=t.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(a){return f.a.error("Cannot extract message for event "+Object(d.e)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return f.a.error("Cannot extract url for event "+Object(d.e)(e)),null}},e.id="InboundFilters",e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(a||(a={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(a||(a={}));var y=n(33),g=n(51),v="?",b=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,w=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,E=/\((\S*)(?::(\d+))(?::(\d+))\)/;function C(e){var t=null,n=e&&e.framesToPop;try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),a=[],s=0;s<i.length;s+=2){var c=null;(t=r.exec(i[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=o.exec(i[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func=v),a.push(c))}if(!a.length)return null;return{message:S(e),name:e.name,stack:a}}(e))return O(t,n)}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(n=b.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=E.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2],func:n[1]||v,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=_.exec(i[a]))r={url:n[2],func:n[1]||v,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=w.exec(i[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=k.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||v,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=v),o.push(r)}if(!o.length)return null;return{message:S(e),name:e.name,stack:o}}(e))return O(t,n)}catch(r){}return{message:S(e),name:e&&e.name,stack:[],failed:!0}}function O(e,t){try{return s.__assign({},e,{stack:e.stack.slice(t)})}catch(n){return e}}function S(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}var T=50;function P(e){var t=I(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function A(e){return{exception:{values:[P(e)]}}}function I(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).slice(0,T).reverse()}function x(e,t,n){var r;if(void 0===n&&(n={}),Object(y.e)(e)&&e.error)return r=A(C(e=e.error));if(Object(y.a)(e)||Object(y.b)(e)){var o=e,i=o.name||(Object(y.a)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return r=j(a,t,n),Object(d.b)(r,a),r}return Object(y.d)(e)?r=A(C(e)):Object(y.g)(e)||Object(y.f)(e)?(r=function(e,t,n){var r={exception:{values:[{type:Object(y.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(g.a)(e)}]},extra:{__serialized__:Object(g.d)(e)}};if(t){var o=I(C(t).stack);r.stacktrace={frames:o}}return r}(e,t,n.rejection),Object(d.a)(r,{synthetic:!0}),r):(r=j(e,t,n),Object(d.b)(r,""+e,void 0),Object(d.a)(r,{synthetic:!0}),r)}function j(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=I(C(t).stack);r.stacktrace={frames:o}}return r}function D(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(l.a)();if(r&&r[e])return r[e].apply(r,s.__spread(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function N(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return D("captureException",e,{originalException:e,syntheticException:t})}function R(e){D("withScope",e)}var M,L,F=1e3,B=0;function U(){return B>0}function q(){B+=1,setTimeout((function(){B-=1}))}function V(e,t,n){if(void 0===t&&(t={}),"function"!==typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(i){return e}var r=function(){n&&"function"===typeof n&&n.apply(this,arguments);var r=Array.prototype.slice.call(arguments);try{var o=r.map((function(e){return V(e,t)}));return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(i){throw q(),R((function(e){e.addEventProcessor((function(e){var n=s.__assign({},e);return t.mechanism&&(Object(d.b)(n,void 0,void 0),Object(d.a)(n,t.mechanism)),n.extra=s.__assign({},n.extra,{arguments:Object(g.c)(r,3)}),n})),N(i)})),i}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch(a){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(a){}return r}var W=0;function G(e,t){return void 0===t&&(t=!1),function(n){if(M=void 0,n&&L!==n){L=n;var r=function(){var t;try{t=n.target?Object(d.h)(n.target):Object(d.h)(n)}catch(r){t="<unknown>"}0!==t.length&&Object(l.a)().addBreadcrumb({category:"ui."+e,message:t},{event:n,name:e})};W&&clearTimeout(W),t?W=setTimeout(r):r()}}}function H(){return function(e){var t;try{t=e.target}catch(r){return}var n=t&&t.tagName;n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)&&(M||G("input")(e),clearTimeout(M),M=setTimeout((function(){M=void 0}),F))}}var z=function(){function e(t){this.name=e.id,this._global=Object(d.f)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=s.__assign({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(f.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(f.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var t=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(n,r,o,i,a){var s=Object(l.a)(),c=s.getIntegration(e),u=a&&!0===a.__sentry_own_request__;if(!c||U()||u)return!t._oldOnErrorHandler||t._oldOnErrorHandler.apply(this,arguments);var f=s.getClient(),h=Object(y.h)(a)?t._eventFromIncompleteOnError(n,r,o,i):t._enhanceEventWithInitialFrame(x(a,void 0,{attachStacktrace:f&&f.getOptions().attachStacktrace,rejection:!1}),r,o,i);return Object(d.a)(h,{handled:!1,type:"onerror"}),s.captureEvent(h,{originalException:a}),!t._oldOnErrorHandler||t._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var t=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(n){var r=n;try{r=n&&"reason"in n?n.reason:n}catch(f){}var o=Object(l.a)(),i=o.getIntegration(e),s=r&&!0===r.__sentry_own_request__;if(!i||U()||s)return!t._oldOnUnhandledRejectionHandler||t._oldOnUnhandledRejectionHandler.apply(this,arguments);var c=o.getClient(),u=Object(y.h)(r)?t._eventFromIncompleteRejection(r):x(r,void 0,{attachStacktrace:c&&c.getOptions().attachStacktrace,rejection:!0});return u.level=a.Error,Object(d.a)(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:r}),!t._oldOnUnhandledRejectionHandler||t._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=Object(y.e)(e)?e.message:e;if(Object(y.j)(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromIncompleteRejection=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+e}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Object(y.j)(t)&&t.length>0?t:Object(d.g)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}(),Q=function(){function e(){this._ignoreOnError=0,this.name=e.id}return e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=V(r,{mechanism:{data:{function:$(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e(V(t,{mechanism:{data:{function:"requestAnimationFrame",handler:$(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(d.f)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(g.b)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"===typeof r.handleEvent&&(r.handleEvent=V(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:$(r),target:e},handled:!0,type:"instrument"}}))}catch(i){}return t.call(this,n,V(r,{mechanism:{data:{function:"addEventListener",handler:$(r),target:e},handled:!0,type:"instrument"}}),o)}})),Object(g.b)(n,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(i){}return e.call(this,t,o,r)}})))},e.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=Object(d.f)();Object(g.b)(e,"setTimeout",this._wrapTimeFunction.bind(this)),Object(g.b)(e,"setInterval",this._wrapTimeFunction.bind(this)),Object(g.b)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},e.id="TryCatch",e}();function $(e){try{return e&&e.name||"<anonymous>"}catch(t){return"<anonymous>"}}var K=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var Y=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,K(r,n.prototype),r}return s.__extends(t,e),t}(Error),X=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,J=function(){function e(e){"string"===typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=X.exec(e);if(!t)throw new Y("Invalid Dsn");var n=s.__read(t.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,c=n[3],u=n[4],l=void 0===u?"":u,f="",d=n[5],h=d.split("/");h.length>1&&(f=h.slice(0,-1).join("/"),d=h.pop()),this._fromComponents({host:c,pass:a,path:f,projectId:d,port:l,protocol:r,user:o})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new Y("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new Y("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new Y("Invalid Dsn")},e}(),Z=function(){function e(e){this.dsn=e,this._dsnObject=new J(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(g.e)(e)},e.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+(new Date).getTime()),r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},e}();function ee(){if(!("fetch"in Object(d.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function te(){if(!ee())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var ne,re=Object(d.f)(),oe=function(){function e(t){this.name=e.id,this._options=s.__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype._instrumentConsole=function(){"console"in re&&["debug","info","warn","error","log","assert"].forEach((function(t){t in re.console&&Object(g.b)(re.console,t,(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i={category:"console",data:{extra:{arguments:Object(g.c)(r,3)},logger:"console"},level:a.fromString(t),message:Object(h.b)(r," ")};"assert"===t?!1===r[0]&&(i.message="Assertion failed: "+(Object(h.b)(r.slice(1)," ")||"console.assert"),i.data.extra.arguments=Object(g.c)(r.slice(1),3),e.addBreadcrumb(i,{input:r,level:t})):e.addBreadcrumb(i,{input:r,level:t}),n&&Function.prototype.apply.call(n,re.console,r)}}))}))},e.prototype._instrumentDOM=function(){"document"in re&&(re.document.addEventListener("click",G("click"),!1),re.document.addEventListener("keypress",H(),!1),["EventTarget","Node"].forEach((function(e){var t=re[e]&&re[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(g.b)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Object(g.b)(n,"handleEvent",(function(e){return function(t){return G("click")(t),e.call(this,t)}})),"keypress"===t&&Object(g.b)(n,"handleEvent",(function(e){return function(t){return H()(t),e.call(this,t)}}))):("click"===t&&G("click",!0)(this),"keypress"===t&&H()(this)),e.call(this,t,n,r)}})),Object(g.b)(t,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(i){}return e.call(this,t,o,r)}})))})))},e.prototype._instrumentFetch=function(){(function(){if(!ee())return!1;var e=function(e){return-1!==e.toString().indexOf("native")},t=Object(d.f)(),n=null,r=t.document;if(r){var o=r.createElement("iframe");o.hidden=!0;try{r.head.appendChild(o),o.contentWindow&&o.contentWindow.fetch&&(n=e(o.contentWindow.fetch)),r.head.removeChild(o)}catch(i){f.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}}return null===n&&(n=e(t.fetch)),n})()&&Object(g.b)(re,"fetch",(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,i=n[0],s="GET";"string"===typeof i?o=i:"Request"in re&&i instanceof Request?(o=i.url,i.method&&(s=i.method)):o=String(i),n[1]&&n[1].method&&(s=n[1].method);var c=Object(l.a)().getClient(),u=c&&c.getDsn();if(u){var f=new Z(u).getStoreEndpoint();if(f&&-1!==o.indexOf(f))return"POST"===s&&n[1]&&n[1].body&&ie(n[1].body),t.apply(re,n)}var d={method:Object(y.j)(s)?s.toUpperCase():s,url:o};return t.apply(re,n).then((function(t){return d.status_code=t.status,e.addBreadcrumb({category:"fetch",data:d,type:"http"},{input:n,response:t}),t})).then(null,(function(t){throw e.addBreadcrumb({category:"fetch",data:d,level:a.Error,type:"http"},{error:t,input:n}),t}))}}))},e.prototype._instrumentHistory=function(){var t=this;if(function(){var e=Object(d.f)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}()){var n=function(t,n){var r=Object(d.k)(re.location.href),o=Object(d.k)(n),i=Object(d.k)(t);i.path||(i=r),ne=n,r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),e.addBreadcrumb({category:"navigation",data:{from:t,to:n}})},r=re.onpopstate;re.onpopstate=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=re.location.href;if(n(ne,i),r)return r.apply(t,e)},Object(g.b)(re.history,"pushState",o),Object(g.b)(re.history,"replaceState",o)}function o(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=t.length>2?t[2]:void 0;return o&&n(ne,String(o)),e.apply(this,t)}}},e.prototype._instrumentXHR=function(){if("XMLHttpRequest"in re){var t=XMLHttpRequest.prototype;Object(g.b)(t,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[1];this.__sentry_xhr__={method:Object(y.j)(t[0])?t[0].toUpperCase():t[0],url:t[1]};var o=Object(l.a)().getClient(),i=o&&o.getDsn();if(i){var a=new Z(i).getStoreEndpoint();Object(y.j)(r)&&a&&-1!==r.indexOf(a)&&(this.__sentry_own_request__=!0)}return e.apply(this,t)}})),Object(g.b)(t,"send",(function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this;function a(){if(4===i.readyState){if(i.__sentry_own_request__)return;try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}e.addBreadcrumb({category:"xhr",data:i.__sentry_xhr__,type:"http"},{xhr:i})}}i.__sentry_own_request__&&ie(r[0]);var s=["onload","onerror","onprogress"];return s.forEach((function(e){n(e,i)})),"onreadystatechange"in i&&"function"===typeof i.onreadystatechange?Object(g.b)(i,"onreadystatechange",(function(e){return V(e,{mechanism:{data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"},handled:!0,type:"instrument"}},a)})):i.onreadystatechange=a,t.apply(this,r)}}))}function n(e,t){e in t&&"function"===typeof t[e]&&Object(g.b)(t,e,(function(t){return V(t,{mechanism:{data:{function:e,handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}})}))}},e.addBreadcrumb=function(t,n){Object(l.a)().getIntegration(e)&&Object(l.a)().addBreadcrumb(t,n)},e.prototype.setupOnce=function(){this._options.console&&this._instrumentConsole(),this._options.dom&&this._instrumentDOM(),this._options.xhr&&this._instrumentXHR(),this._options.fetch&&this._instrumentFetch(),this._options.history&&this._instrumentHistory()},e.id="Breadcrumbs",e}();function ie(e){try{var t=JSON.parse(e);oe.addBreadcrumb({category:"sentry",event_id:t.event_id,level:t.level||a.fromString("error"),message:Object(d.e)(t)},{event:t})}catch(n){f.a.error("Error while adding sentry type breadcrumb")}}var ae="cause",se=5,ce=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||ae,this._limit=t.limit||se}return e.prototype.setupOnce=function(){Object(u.b)((function(t,n){var r=Object(l.a)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!e.exception||!e.exception.values||!t||!(t.originalException instanceof Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=s.__spread(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(e[t]instanceof Error)||n.length+1>=this._limit)return n;var r=P(C(e[t]));return this._walkErrorTree(e[t],t,s.__spread([r],n))},e.id="LinkedErrors",e}(),ue=Object(d.f)(),le=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)((function(t){if(Object(l.a)().getIntegration(e)){if(!ue.navigator||!ue.location)return t;var n=t.request||{};return n.url=n.url||ue.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=ue.navigator.userAgent,s.__assign({},t,{request:n})}return t}))},e.id="UserAgent",e}(),fe={},de=Object(d.f)();de.Sentry&&de.Sentry.Integrations&&(fe=de.Sentry.Integrations);var he=s.__assign({},fe,r,o);var pe=n(99),me=[];function ye(e){var t={};return function(e){var t=e.defaultIntegrations&&s.__spread(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(e){return e.name})),i=[];t.forEach((function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})),n.forEach((function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}))}else"function"===typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=s.__spread(t);var a=r.map((function(e){return e.name}));return-1!==a.indexOf("Debug")&&r.push.apply(r,s.__spread(r.splice(a.indexOf("Debug"),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===me.indexOf(e.name)&&(e.setupOnce(u.b,l.a),me.push(e.name),f.a.log("Integration installed: "+e.name))}(e)})),t}var ge,ve=function(){function e(e,t){this._integrations={},this._processing=!1,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new J(t.dsn)),this._isEnabled()&&(this._integrations=ye(this._options))}return e.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then((function(e){return r._processEvent(e,t,n)})).then((function(e){o=e&&e.event_id,r._processing=!1})).then(null,(function(e){f.a.error(e),r._processing=!1})),o},e.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Object(y.h)(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then((function(e){return o._processEvent(e,n,r)})).then((function(e){i=e&&e.event_id,o._processing=!1})).then(null,(function(e){f.a.error(e),o._processing=!1})),i},e.prototype.captureEvent=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then((function(e){o=e&&e.event_id,r._processing=!1})).then(null,(function(e){f.a.error(e),r._processing=!1})),o},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return clearInterval(n.interval),t._getBackend().getTransport().close(e).then((function(e){return n.ready&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.getIntegrations=function(){return this._integrations||{}},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return f.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._isClientProcessing=function(e){var t=this;return new pe.a((function(n){var r=0,o=0;clearInterval(o),o=setInterval((function(){t._processing?(r+=1,e&&r>=e&&n({interval:o,ready:!1})):n({interval:o,ready:!0})}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this.getOptions(),o=r.environment,i=r.release,a=r.dist,c=r.maxValueLength,u=void 0===c?250:c,l=s.__assign({},e);void 0===l.environment&&void 0!==o&&(l.environment=o),void 0===l.release&&void 0!==i&&(l.release=i),void 0===l.dist&&void 0!==a&&(l.dist=a),l.message&&(l.message=Object(h.c)(l.message,u));var f=l.exception&&l.exception.values&&l.exception.values[0];f&&f.value&&(f.value=Object(h.c)(f.value,u));var p=l.request;p&&p.url&&(p.url=Object(h.c)(p.url,u)),void 0===l.event_id&&(l.event_id=Object(d.l)()),this._addIntegrations(l.sdk);var m=pe.a.resolve(l);return t&&(m=t.applyToEvent(l,n)),m},e.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&t.length>0&&(e.integrations=t)},e.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"===typeof a&&Math.random()>a?pe.a.reject("This event has been sampled, will not send event."):new pe.a((function(o,a){r._prepareEvent(e,n,t).then((function(e){if(null!==e){var n=e;try{if(t&&t.data&&!0===t.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(e,t);if("undefined"===typeof s)f.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(y.l)(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return f.a.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}catch(c){r.captureException(c,{data:{__sentry__:!0},originalException:c}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")})).then(null,(function(){a("`beforeSend` threw an error, will not send event.")}))})):pe.a.reject("SDK not enabled, will not send event.")},e.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then((function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(e){n("beforeSend rejected with "+e)}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(ge||(ge={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(ge||(ge={}));var be=function(){function e(){}return e.prototype.sendEvent=function(e){return pe.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:ge.Skipped})},e.prototype.close=function(e){return pe.a.resolve(!0)},e}(),we=function(){function e(e){this._options=e,this._options.dsn||f.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype._setupTransport=function(){return new be},e.prototype.eventFromException=function(e,t){throw new Y("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new Y("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){f.a.error("Error while sending event: "+e)}))},e.prototype.getTransport=function(){return this._transport},e}(),_e=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):pe.a.reject(new Y("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new pe.a((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);pe.a.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),ke=function(){function e(e){this.options=e,this._buffer=new _e(30),this.url=new Z(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new Y("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e}(),Ee=Object(d.f)(),Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return s.__extends(t,e),t.prototype.sendEvent=function(e){var t=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(e),method:"POST",referrerPolicy:te()?"origin":""};return this._buffer.add(new pe.a((function(e,r){Ee.fetch(t.url,n).then((function(n){var o=ge.fromHttpCode(n.status);if(o!==ge.Success){if(o===ge.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+Object(d.j)(i,n.headers.get("Retry-After"))),f.a.warn("Too many requests, backing off till: "+t._disabledUntil)}r(n)}else e({status:o})})).catch(r)})))},t}(ke),Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return s.__extends(t,e),t.prototype.sendEvent=function(e){var t=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new pe.a((function(n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){var e=ge.fromHttpCode(o.status);if(e!==ge.Success){if(e===ge.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+Object(d.j)(i,o.getResponseHeader("Retry-After"))),f.a.warn("Too many requests, backing off till: "+t._disabledUntil)}r(o)}else n({status:e})}},o.open("POST",t.url),o.send(JSON.stringify(e))})))},t}(ke),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=s.__assign({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):ee()?new Ce(t):new Oe(t)},t.prototype.eventFromException=function(e,t){var n=x(e,t&&t.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(d.a)(n,{handled:!0,type:"generic"}),n.level=a.Error,t&&t.event_id&&(n.event_id=t.event_id),pe.a.resolve(n)},t.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=a.Info);var r=j(e,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=t,n&&n.event_id&&(r.event_id=n.event_id),pe.a.resolve(r)},t}(we),Te=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Se,t)||this}return s.__extends(t,e),t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=s.__assign({},t.sdk,{name:"sentry.javascript.browser",packages:s.__spread(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.9.1"}]),version:"5.9.1"}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=Object(d.f)().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new Z(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else f.a.error("Missing `Dsn` option in showReportDialog call");else f.a.error("Missing `eventId` option in showReportDialog call")}else f.a.error("Trying to call showReportDialog with Sentry Client is disabled")},t}(ve),Pe=[new r.InboundFilters,new r.FunctionToString,new Q,new oe,new z,new ce,new le];function Ae(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Pe),void 0===e.release){var t=Object(d.f)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}!function(e,t){!0===t.debug&&f.a.enable(),Object(l.a)().bindClient(new e(t))}(Te,e)}var Ie=function(){function e(t){void 0===t&&(t={depth:3}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t,r){var o=n().getIntegration(e);return o?o.enhanceEventWithErrorData(t,r):t}))},e.prototype.enhanceEventWithErrorData=function(e,t){var n;if(!t||!t.originalException||!Object(y.d)(t.originalException))return e;var r=t.originalException.name||t.originalException.constructor.name,o=this._extractErrorData(t.originalException);if(o){var i=s.__assign({},e.contexts),a=Object(g.c)(o,this._options.depth);return Object(y.g)(a)&&(i=s.__assign({},e.contexts,((n={})[r]=s.__assign({},a),n))),s.__assign({},e,{contexts:i})}return e},e.prototype._extractErrorData=function(e){var t,n,r=null;try{var o=["name","message","stack","line","column","fileName","lineNumber","columnNumber"],i=Object.getOwnPropertyNames(e).filter((function(e){return-1===o.indexOf(e)}));if(i.length){var a={};try{for(var c=s.__values(i),u=c.next();!u.done;u=c.next()){var l=u.value,d=e[l];Object(y.d)(d)&&(d=d.toString()),a[l]=d}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}r=a}}catch(p){f.a.error("Unable to extract extra data from the Error object:",p)}return r},e.id="ExtraErrorData",e}(),xe=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);if(r){try{if(r._shouldDropEvent(t,r._previousEvent))return null}catch(o){return r._previousEvent=t}return r._previousEvent=t}return t}))},e.prototype._shouldDropEvent=function(e,t){return!!t&&(!!this._isSameMessageEvent(e,t)||!!this._isSameExceptionEvent(e,t))},e.prototype._isSameMessageEvent=function(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!this._isSameFingerprint(e,t)&&!!this._isSameStacktrace(e,t))))},e.prototype._getFramesFromEvent=function(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}else if(e.stacktrace)return e.stacktrace.frames},e.prototype._isSameStacktrace=function(e,t){var n=this._getFramesFromEvent(e),r=this._getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(n=n,(r=r).length!==n.length)return!1;for(var o=0;o<r.length;o++){var i=r[o],a=n[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(e){return e.exception&&e.exception.values&&e.exception.values[0]},e.prototype._isSameExceptionEvent=function(e,t){var n=this._getExceptionFromEvent(t),r=this._getExceptionFromEvent(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!this._isSameFingerprint(e,t)&&!!this._isSameStacktrace(e,t)))},e.prototype._isSameFingerprint=function(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return!(n.join("")!==r.join(""))}catch(o){return!1}},e.id="Dedupe",e}(),je=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._attachProps=!0,this._logErrors=!1,this._Vue=t.Vue||Object(d.f)().Vue,void 0!==t.logErrors&&(this._logErrors=t.logErrors),!1===t.attachProps&&(this._attachProps=!1)}return e.prototype._formatComponentName=function(e){if(e.$root===e)return"root instance";var t=e._isVue?e.$options.name||e.$options._componentTag:e.name;return(t?"component <"+t+">":"anonymous component")+(e._isVue&&e.$options.__file?" at "+e.$options.__file:"")},e.prototype.setupOnce=function(t,n){var r=this;if(this._Vue&&this._Vue.config){var o=this._Vue.config.errorHandler;this._Vue.config.errorHandler=function(t,i,a){var s={};Object(y.g)(i)&&(s.componentName=r._formatComponentName(i),r._attachProps&&(s.propsData=i.$options.propsData)),void 0!==a&&(s.lifecycleHook=a),n().getIntegration(e)&&setTimeout((function(){n().withScope((function(e){e.setContext("vue",s),n().captureException(t)}))})),"function"===typeof o&&o.call(r._Vue,t,i,a),r._logErrors&&(r._Vue.util.warn("Error in "+a+': "'+t.toString()+'"',i),console.error(t))}}else f.a.error("VueIntegration is missing a Vue instance")},e.id="Vue",e}(),De=n(65);n.d(t,"d",(function(){return Be})),n.d(t,"c",(function(){return qe})),n.d(t,"a",(function(){return Ue})),n.d(t,"b",(function(){return Ve}));var Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Re="https://7fbb2288ec794bef8ae6cad3689c63ba@sentry.io/22080",Me=!0,Le=["WebKit encountered an internal error","Software caused connection abort","The network connection was lost","Non-Error promise rejection captured with keys"];function Fe(e,t){if(Object(De.b)("ie"))return null;if(e.exception&&e.exception.values&&e.exception.values[0]&&"UnhandledRejection"===e.exception.values[0].type)return null;if("staging"!==e.environment&&t&&t.originalException){var n="";if("string"===typeof t.originalException)n=t.originalException;else{var r=t.originalException.message;r&&(n=r)}if(n){var o=!1;if(Le.forEach((function(e){!o&&n.startsWith(e)&&(o=!0)})),o)return null}}return e}function Be(e){var t={dsn:Re,environment:e.environment||"development",release:e.release||"unknown",defaultIntegrations:!1,beforeSend:Fe},n=[new he.InboundFilters,new he.FunctionToString,new he.TryCatch,new he.Breadcrumbs({sentry:!1}),new he.GlobalHandlers({onerror:!0,onunhandledrejection:"production"!==t.environment}),new he.LinkedErrors,new he.UserAgent,new Ie,new xe];"development"!==t.environment&&n.push(new je({Vue:e.vue,attachProps:!0})),t.integrations=n,Me&&(Ae(t),(e.userId||e.locale)&&D("configureScope",(function(t){t.setTag("cookies",Object(De.a)("cookies")?"yes":"no"),e.userId&&t.setUser({id:e.userId.toString()}),e.locale&&t.setTag("locale",e.locale)})))}function Ue(e,t){void 0===t&&(t={}),Me&&R((function(n){t.context&&Object.keys(t.context).forEach((function(e){n.setExtra(e,t.context[e])})),N(e)}))}function qe(e,t){void 0===t&&(t={}),Me&&R((function(n){t.context&&Object.keys(t.context).forEach((function(e){n.setExtra(e,t.context[e])})),function(e,t){var n;try{throw new Error(e)}catch(r){n=r}D("captureMessage",e,t,{originalException:e,syntheticException:n})}(e)}))}function Ve(e,t){void 0===t&&(t={}),Ue(e,{context:Ne({status:e.status,error:e.originalError},t)})}},function(e,t,n){"use strict";var r={mounted:function(){var e=this;this._handleEscape=function(t){27==t.keyCode&&("function"===typeof e.cancel?(t.preventDefault(),e.cancel()):console.error("cancel method not defined for escape to cancel mixin"))},window.addEventListener("keydown",this._handleEscape)},beforeDestroy:function(){window.removeEventListener("keydown",this._handleEscape)}};t.a=r},function(e,t,n){"use strict";(function(e,r){n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return b}));var o=n(33);function i(e,t){return e.require(t)}function a(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof e?e:0)}var s={};function c(){return a()?r:"undefined"!==typeof window?window:"undefined"!==typeof self?self:s}function u(){var e=c(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function l(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function f(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function d(e){var t=c();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry__&&(r[e]=n[e].__sentry_wrapped__,n[e]=n[e].__sentry_original__)}));var o=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),o}function h(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function p(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(n){}}function m(){try{return document.location.href}catch(e){return""}}function y(e){try{for(var t=e,n=[],r=0,o=0,i=" > ".length,a=void 0;t&&r++<5&&!("html"===(a=g(t))||r>1&&o+n.length*i+a.length>=80);)n.push(a),o+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(s){return"<unknown>"}}function g(e){var t,n,r,i,a,s=e,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(t=s.className)&&Object(o.j)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],(i=s.getAttribute(r))&&c.push("["+r+'="'+i+'"]');return c.join("")}var v=6e4;function b(e,t){if(!t)return v;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?v:r-e}}).call(this,n(46),n(28))},function(e,t,n){e.exports=n(218)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),o="undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function i(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,o,e,n):Reflect.defineMetadata(r,o,e)}))}var a={__proto__:[]}instanceof Array;function s(e){return function(t,n,r){var o="function"===typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof r&&(r=void 0),o.__decorators__.push((function(t){return e(t,n,r)}))}}var c=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function u(e,t){void 0===t&&(t={}),t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(c.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"===typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){var t;return(t={})[e]=r.value,t}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var o={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),o}(this,e)}});var s=e.__decorators__;s&&(s.forEach((function(e){return e(t)})),delete e.__decorators__);var u,f,d=Object.getPrototypeOf(e.prototype),h=d instanceof r.a?d.constructor:r.a,p=h.extend(t);return function(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!l[r]){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var i,s,c=Object.getOwnPropertyDescriptor(t,r);if(!a){if("cid"===r)return;var u=Object.getOwnPropertyDescriptor(n,r);if(i=c.value,s=typeof i,null!=i&&("object"===s||"function"===s)&&u&&u.value===c.value)return}0,Object.defineProperty(e,r,c)}}}))}(p,e,h),o&&(i(u=p,f=e),Object.getOwnPropertyNames(f.prototype).forEach((function(e){i(u.prototype,f.prototype,e)})),Object.getOwnPropertyNames(f).forEach((function(e){i(u,f,e)}))),p}var l={prototype:!0,arguments:!0,callee:!0,caller:!0};function f(e){return"function"===typeof e?u(e):function(t){return u(t,e)}}f.registerHooks=function(e){c.push.apply(c,e)},t.b=f},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=document.documentElement.lang||"en",o=r.replace(/-/g,"_"),i=r.split("-")[0]},,function(e,t,n){"use strict";var r=n(26),o=n(2),i=l("computed",o.e),a=l("computed",o.c),s=l("methods",o.b),c=l("methods",o.d);function u(e,t){function n(t){return function(n,r){if("string"===typeof r){var o=r,i=n;return t(o,{namespace:e})(i,o)}var a=n,s=function(e,t){var n={};return[e,t].forEach((function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))})),n}(r||{},{namespace:e});return t(a,s)}}return t?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(t)):{State:n(i),Getter:n(a),Mutation:n(c),Action:n(s)}}function l(e,t){function n(n,o){return Object(r.a)((function(r,i){r[e]||(r[e]={});var a,s=((a={})[i]=n,a);r[e][i]=void 0!==o?t(o,s)[i]:t(s)[i]}))}return function(e,t){if("string"===typeof t){var r=t,o=e;return n(r,void 0)(o,r)}return n(e,function(e){var t=e&&e.namespace;if("string"!==typeof t)return;if("/"!==t[t.length-1])return t+"/";return t}(t))}}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=window,o=r.ww;t.a=r},function(e,t,n){"use strict";var r=null;t.a=function(){return r||(r=document.getElementsByName("csrf-token")[0].content),r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),o=function(e){return!!e.match(r)},i=function(e){return new URL(e).hostname}},function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!==typeof Event&&e instanceof Event}function f(e){return"undefined"!==typeof Element&&e instanceof Element}function d(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function h(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function p(e){return u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return p}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(124),o=n(126),i=n(127),a=n(129),s=n(130),c=n(56);t.processedUrl=function(e,t){if(void 0===t&&(t={}),e||console.info("[vivaldi-client] url is blank"),!e||e.startsWith("/"))return e;var n=s.getTransformOptions(t);return o.canServe(e,n)?o.processedUrl(e,n):r.canServe(e,n)?r.processedUrl(e,n):i.canServe(e)?i.processedUrl(e,n):a.processedUrl(e,n)};var u=c.buildProxyUrl;t.proxiedUrl=u},function(e,t,n){"use strict";var r=n(4),o=n(64),i="https://storage.googleapis.com/padlet-assets/image/alien_avatar.png",a={components:{ProcessedImage:o.a},props:["user","width","height"],data:function(){return{hasError:!1}},computed:{avatarSrc:function(){return this.hasError?i:this.user?this.user.avatar:i},avatarAltTag:function(){return this.user?Object(r.a)("Avatar of %{name}",{name:this.user.name||this.user.username}):Object(r.a)("Avatar of anonymous")},transforms:function(){return this.width&&this.height?{width:this.width,height:this.height,preset:"avatar"}:{preset:"avatar"}}},methods:{handleError:function(){this.hasError=!0}}},s=(n(164),n(1)),c=Object(s.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("processed-image",{staticClass:"avatar",attrs:{src:this.avatarSrc,transforms:this.transforms,width:this.width,height:this.height,alt:this.avatarAltTag,role:"presentation"},on:{error:this.handleError}})}),[],!1,null,null,null);t.a=c.exports},function(e,t,n){(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(e){return 0==e?0:e>0?1:-1});var e=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},n=function(e,t){return e.x*t.x+e.y*t.y},r=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o=function(e,t){return{x:e.x*t,y:e.y*t}},i=Math.pow(2,-65),a=function(t,n){for(var o=[],i=s(t,n),a=n.length-1,u=c(i,2*a-1,o,0),l=e(t,n[0]),f=r(l),h=0,p=0;p<u;p++){l=e(t,d(n,a,o[p],null,null));var m=r(l);m<f&&(f=m,h=o[p])}return l=e(t,n[a]),(m=r(l))<f&&(f=m,h=1),{location:h,distance:f}},s=function(t,r){for(var i=r.length-1,a=2*i-1,s=[],c=[],u=[],l=[],f=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],d=0;d<=i;d++)s[d]=e(r[d],t);for(d=0;d<=i-1;d++)c[d]=e(r[d+1],r[d]),c[d]=o(c[d],3);for(var h=0;h<=i-1;h++)for(var p=0;p<=i;p++)u[h]||(u[h]=[]),u[h][p]=n(c[h],s[p]);for(d=0;d<=a;d++)l[d]||(l[d]=[]),l[d].y=0,l[d].x=parseFloat(d)/a;for(var m=i,y=i-1,g=0;g<=m+y;g++){var v=Math.max(0,g-y),b=Math.min(g,m);for(d=v;d<=b;d++){var w=g-d;l[d+w].y+=u[w][d]*f[w][d]}}return l},c=function e(t,n,r,o){var i,a,s=[],c=[],h=[],p=[];switch(u(t,n)){case 0:return 0;case 1:if(o>=64)return r[0]=(t[0].x+t[n].x)/2,1;if(l(t,n))return r[0]=f(t,n),1}d(t,n,.5,s,c),i=e(s,n,h,o+1),a=e(c,n,p,o+1);for(var m=0;m<i;m++)r[m]=h[m];for(m=0;m<a;m++)r[m+i]=p[m];return i+a},u=function(e,t){var n,r,o=0;n=r=Math.sgn(e[0].y);for(var i=1;i<=t;i++)(n=Math.sgn(e[i].y))!=r&&o++,r=n;return o},l=function(e,t){var n,r,o,a,s,c,u,l,f;a=e[0].y-e[t].y,s=e[t].x-e[0].x,c=e[0].x*e[t].y-e[t].x*e[0].y,l=f=0;for(var d=1;d<t;d++){var h=a*e[d].x+s*e[d].y+c;h>l?l=h:h<f&&(f=h)}return 0,1,0,n=(1*(c-l)-0*(u=s))*(1/(0*u-1*a)),r=(1*(c-f)-0*(u=s))*(1/(0*u-1*a)),o=Math.min(n,r),Math.max(n,r)-o<i?1:0},f=function(e,t){var n=e[t].x-e[0].x,r=e[t].y-e[0].y,o=e[0].x-0;return 0+1*((n*(e[0].y-0)-r*o)*(1/(0*n-1*r)))},d=function(e,t,n,r,o){for(var i=[[]],a=0;a<=t;a++)i[0][a]=e[a];for(var s=1;s<=t;s++)for(a=0;a<=t-s;a++)i[s]||(i[s]=[]),i[s][a]||(i[s][a]={}),i[s][a].x=(1-n)*i[s-1][a].x+n*i[s-1][a+1].x,i[s][a].y=(1-n)*i[s-1][a].y+n*i[s-1][a+1].y;if(null!=r)for(a=0;a<=t;a++)r[a]=i[a][0];if(null!=o)for(a=0;a<=t;a++)o[a]=i[t-a][a];return i[t][0]},h={},p=function(e,t){for(var n=function(e){var t=h[e];if(!t){var n=function(e){return function(t){return e}},r=function(){return function(e){return e}},o=function(){return function(e){return 1-e}},i=function(e){return function(t){for(var n=1,r=0;r<e.length;r++)n*=e[r](t);return n}};(t=[]).push(new function(){return function(t){return Math.pow(t,e)}});for(var a=1;a<e;a++){for(var s=[new n(e)],c=0;c<e-a;c++)s.push(new r);for(c=0;c<a;c++)s.push(new o);t.push(new i(s))}t.push(new function(){return function(t){return Math.pow(1-t,e)}}),h[e]=t}return t}(e.length-1),r=0,o=0,i=0;i<e.length;i++)r+=e[i].x*n[i](t),o+=e[i].y*n[i](t);return{x:r,y:o}},m=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},y=function(e){return e[0].x===e[1].x&&e[0].y===e[1].y},g=function(e,t,n){if(y(e))return{point:e[0],location:t};for(var r=p(e,t),o=0,i=t,a=n>0?1:-1,s=null;o<Math.abs(n);)s=p(e,i+=.005*a),o+=m(s,r),r=s;return{point:s,location:i}},v=function(e,t){var n=p(e,t),r=p(e.slice(0,e.length-1),t),o=r.y-n.y,i=r.x-n.x;return 0===o?1/0:Math.atan(o/i)},b=function(e,t,n,r,o){var i=r-t,a=e-n,s=e*(t-r)+t*(n-e),c=function(e){return[w(e,"x"),w(e,"y")]}(o),u=[i*c[0][0]+a*c[1][0],i*c[0][1]+a*c[1][1],i*c[0][2]+a*c[1][2],i*c[0][3]+a*c[1][3]+s],l=k.apply(null,u),f=[];if(null!=l)for(var d=0;d<3;d++){var h,p=l[d],m=Math.pow(p,2),y=Math.pow(p,3),g=[c[0][0]*y+c[0][1]*m+c[0][2]*p+c[0][3],c[1][0]*y+c[1][1]*m+c[1][2]*p+c[1][3]];h=n-e!==0?(g[0]-e)/(n-e):(g[1]-t)/(r-t),p>=0&&p<=1&&h>=0&&h<=1&&f.push(g)}return f};function w(e,t){return[-e[0][t]+3*e[1][t]+-3*e[2][t]+e[3][t],3*e[0][t]-6*e[1][t]+3*e[2][t],-3*e[0][t]+3*e[1][t],e[0][t]]}function _(e){return e<0?-1:e>0?1:0}function k(e,t,n,r){var o,i,a=t/e,s=n/e,c=r/e,u=(3*s-Math.pow(a,2))/9,l=(9*a*s-27*c-2*Math.pow(a,3))/54,f=Math.pow(u,3)+Math.pow(l,2),d=[];if(f>=0)o=_(l+Math.sqrt(f))*Math.pow(Math.abs(l+Math.sqrt(f)),1/3),i=_(l-Math.sqrt(f))*Math.pow(Math.abs(l-Math.sqrt(f)),1/3),d[0]=-a/3+(o+i),d[1]=-a/3-(o+i)/2,d[2]=-a/3-(o+i)/2,0!==Math.abs(Math.sqrt(3)*(o-i)/2)&&(d[1]=-1,d[2]=-1);else{var h=Math.acos(l/Math.sqrt(-Math.pow(u,3)));d[0]=2*Math.sqrt(-u)*Math.cos(h/3)-a/3,d[1]=2*Math.sqrt(-u)*Math.cos((h+2*Math.PI)/3)-a/3,d[2]=2*Math.sqrt(-u)*Math.cos((h+4*Math.PI)/3)-a/3}for(var p=0;p<3;p++)(d[p]<0||d[p]>1)&&(d[p]=-1);return d}var E=this.jsBezier={distanceFromCurve:a,gradientAtPoint:v,gradientAtPointAlongCurveFrom:function(e,t,n){var r=g(e,t,n);return r.location>1&&(r.location=1),r.location<0&&(r.location=0),v(e,r.location)},nearestPointOnCurve:function(e,t){var n=a(e,t);return{point:d(t,t.length-1,n.location,null,null),location:n.location}},pointOnCurve:p,pointAlongCurveFrom:function(e,t,n){return g(e,t,n).point},perpendicularToCurveAt:function(e,t,n,r){var o=g(e,t,r=null==r?0:r),i=v(e,o.location),a=Math.atan(-1/i),s=n/2*Math.sin(a),c=n/2*Math.cos(a);return[{x:o.point.x+c,y:o.point.y+s},{x:o.point.x-c,y:o.point.y-s}]},locationAlongCurveFrom:function(e,t,n){return g(e,t,n).location},getLength:function(e){if(y(e))return 0;for(var t=p(e,0),n=0,r=0,o=null;r<1;)o=p(e,r+=.005),n+=m(o,t),t=o;return n},lineIntersection:b,boxIntersection:function(e,t,n,r,o){var i=[];return i.push.apply(i,b(e,t,e+n,t,o)),i.push.apply(i,b(e+n,t,e+n,t+r,o)),i.push.apply(i,b(e+n,t+r,e,t+r,o)),i.push.apply(i,b(e,t+r,e,t,o)),i},boundingBoxIntersection:function(e,t){var n=[];return n.push.apply(n,b(e.x,e.y,e.x+e.w,e.y,t)),n.push.apply(n,b(e.x+e.w,e.y,e.x+e.w,e.y+e.h,t)),n.push.apply(n,b(e.x+e.w,e.y+e.h,e.x,e.y+e.h,t)),n.push.apply(n,b(e.x,e.y+e.h,e.x,e.y,t)),n},version:"0.9.0"};t.jsBezier=E}).call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.Biltong={version:"0.4.0"};t.Biltong=e;var n=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(e,t,r){return r(e=n(e)?e:[e.x,e.y],t=n(t)?t:[t.x,t.y])},o=e.gradient=function(e,t){return r(e,t,(function(e,t){return t[0]==e[0]?t[1]>e[1]?1/0:-1/0:t[1]==e[1]?t[0]>e[0]?0:-0:(t[1]-e[1])/(t[0]-e[0])}))},i=(e.normal=function(e,t){return-1/o(e,t)},e.lineLength=function(e,t){return r(e,t,(function(e,t){return Math.sqrt(Math.pow(t[1]-e[1],2)+Math.pow(t[0]-e[0],2))}))},e.quadrant=function(e,t){return r(e,t,(function(e,t){return t[0]>e[0]?t[1]>e[1]?2:1:t[0]==e[0]?t[1]>e[1]?2:1:t[1]>e[1]?3:4}))}),a=(e.theta=function(e,t){return r(e,t,(function(e,t){var n=o(e,t),r=Math.atan(n),a=i(e,t);return 4!=a&&3!=a||(r+=Math.PI),r<0&&(r+=2*Math.PI),r}))},e.intersects=function(e,t){var n=e.x,r=e.x+e.w,o=e.y,i=e.y+e.h,a=t.x,s=t.x+t.w,c=t.y,u=t.y+t.h;return n<=a&&a<=r&&o<=c&&c<=i||n<=s&&s<=r&&o<=c&&c<=i||n<=a&&a<=r&&o<=u&&u<=i||n<=s&&a<=r&&o<=u&&u<=i||a<=n&&n<=s&&c<=o&&o<=u||a<=r&&r<=s&&c<=o&&o<=u||a<=n&&n<=s&&c<=i&&i<=u||a<=r&&n<=s&&c<=i&&i<=u},e.encloses=function(e,t,n){var r=e.x,o=e.x+e.w,i=e.y,a=e.y+e.h,s=t.x,c=t.x+t.w,u=t.y,l=t.y+t.h,f=function(e,t,r,o){return n?e<=t&&r>=o:e<t&&r>o};return f(r,s,o,c)&&f(i,u,a,l)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),s=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(e,t,n){var r=o(e,t),c=i(e,t),u=n>0?a[c]:s[c],l=Math.atan(r),f=Math.abs(n*Math.sin(l))*u[1],d=Math.abs(n*Math.cos(l))*u[0];return{x:e.x+d,y:e.y+f}},e.perpendicularLineTo=function(e,t,n){var r=o(e,t),i=Math.atan(-1/r),a=n/2*Math.sin(i),s=n/2*Math.cos(i);return[{x:t.x+s,y:t.y+a},{x:t.x-s,y:t.y-a}]}}.call("undefined"!==typeof window?window:this),function(){"use strict";function e(e,t,n,r,o,i,a,s){return new Touch({target:t,identifier:x(),pageX:n,pageY:r,screenX:o,screenY:i,clientX:a||o,clientY:s||i})}function n(t,n,r,o,i,a,s,c){return function(){var e=[];return Array.prototype.push.apply(e,arguments),e.item=function(e){return this[e]},e}(e.apply(null,arguments))}var r=function(e,t,n){for(var r=(n=n||e.parentNode).querySelectorAll(t),o=0;o<r.length;o++)if(r[o]===e)return!0;return!1},o=function(e){return"string"==typeof e||e.constructor===String?document.getElementById(e):e},i=function(e){return e.srcElement||e.target},a=function(e,t,n,r){if(r){if("undefined"!==typeof e.path&&e.path.indexOf)return{path:e.path,end:e.path.indexOf(n)};var o={path:[],end:-1};return function e(t){o.path.push(t),t===n?o.end=o.path.length-1:null!=t.parentNode&&e(t.parentNode)}(t),o}return{path:[t],end:1}},s=function(e,t){for(var n=0,r=e.length;n<r&&e[n]!=t;n++);n<e.length&&e.splice(n,1)},c=1,u=function(e,t,n){var r=c++;return e.__ta=e.__ta||{},e.__ta[t]=e.__ta[t]||{},e.__ta[t][r]=n,n.__tauid=r,r},l=function(e,t,n){if(e.__ta&&e.__ta[t]&&delete e.__ta[t][n.__tauid],n.__taExtra){for(var r=0;r<n.__taExtra.length;r++)A(e,n.__taExtra[r][0],n.__taExtra[r][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()},f=function(e,t,n,o){if(null==e)return n;var s=e.split(","),c=function o(c){o.__tauid=n.__tauid;var u=i(c),l=u,f=a(c,u,t,null!=e);if(-1!=f.end)for(var d=0;d<f.end;d++){l=f.path[d];for(var h=0;h<s.length;h++)r(l,s[h],t)&&n.apply(l,arguments)}};return d(n,o,c),c},d=function(e,t,n){e.__taExtra=e.__taExtra||[],e.__taExtra.push([t,n])},h=function(e,t,n,r){if(v&&w[t]){var o=f(r,e,n,w[t]);P(e,w[t],o,n)}"focus"===t&&null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","1"),P(e,t,f(r,e,n,t),n)},p={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},m=function(e,t){return function(n,o,c,u){if("contextmenu"==o&&b)h(n,o,c,u);else{if(null==n.__taTapHandler){var l=n.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},f=function(){l.down=!1},d=function(){l.taps=0};h(n,"mousedown",(function(o){for(var s=i(o),c=a(o,s,n,null!=u),h=!1,p=0;p<c.end;p++){if(h)return;s=c.path[p];for(var m=0;m<l.downSelectors.length;m++)if(null==l.downSelectors[m]||r(s,l.downSelectors[m],n)){l.down=!0,setTimeout(f,e),setTimeout(d,t),h=!0;break}}})),h(n,"mouseup",(function(e){if(l.down){var t,o,s=i(e);l.taps++;var c=T(e);for(var u in p)if(p.hasOwnProperty(u)){var f=p[u];if(f.touches===c&&(1===f.taps||f.taps===l.taps))for(var d=0;d<l[u].length;d++){o=a(e,s,n,null!=l[u][d][1]);for(var h=0;h<o.end;h++)if(t=o.path[h],null==l[u][d][1]||r(t,l[u][d][1],n)){l[u][d][0].apply(t,[e]);break}}}}}))}n.__taTapHandler.downSelectors.push(u),n.__taTapHandler[o].push([c,u]),c.__taUnstore=function(){s(n.__taTapHandler[o],c)}}}},y=function(e,t,n,r){for(var o in n.__tamee[e])n.__tamee[e].hasOwnProperty(o)&&n.__tamee[e][o].apply(r,[t])},g=function(){var e=[];return function(t,n,o,a){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var s=function(n){var o=i(n);(null==a&&o==t&&!t.__tamee.over||r(o,a,t)&&(null==o.__tamee||!o.__tamee.over))&&(y("mouseenter",n,t,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,e.push(o))},c=function(n){for(var o=i(n),a=0;a<e.length;a++)o!=e[a]||r(n.relatedTarget||n.toElement,"*",o)||(o.__tamee.over=!1,e.splice(a,1),y("mouseexit",n,t,o))};P(t,"mouseover",f(a,t,s,"mouseover"),s),P(t,"mouseout",f(a,t,c,"mouseout"),c)}o.__taUnstore=function(){delete t.__tamee[n][o.__tauid]},u(t,n,o),t.__tamee[n][o.__tauid]=o}},v="ontouchstart"in document.documentElement,b="onmousedown"in document.documentElement,w={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},_=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),k=_>-1&&_<9,E=function(e,t){if(null==e)return[0,0];var n=S(e),r=O(n,0);return[r[t+"X"],r[t+"Y"]]},C=function(e){return null==e?[0,0]:k?[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop]:E(e,"page")},O=function(e,t){return e.item?e.item(t):e[t]},S=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},T=function(e){return S(e).length},P=function(e,t,n,r){if(u(e,t,n),r.__tauid=n.__tauid,e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){var o=t+n.__tauid;e["e"+o]=n,e[o]=function(){e["e"+o]&&e["e"+o](window.event)},e.attachEvent("on"+t,e[o])}},A=function e(t,n,r){null!=r&&I(t,(function(){var i=o(this);if(l(i,n,r),null!=r.__tauid)if(i.removeEventListener)i.removeEventListener(n,r,!1),v&&w[n]&&i.removeEventListener(w[n],r,!1);else if(this.detachEvent){var a=n+r.__tauid;i[a]&&i.detachEvent("on"+n,i[a]),i[a]=null,i["e"+a]=null}r.__taTouchProxy&&e(t,r.__taTouchProxy[1],r.__taTouchProxy[0])}))},I=function(e,t){if(null!=e){e="undefined"!==typeof Window&&"unknown"!==typeof e.top&&e==e.top?[e]:"string"!==typeof e&&null==e.tagName&&null!=e.length?e:"string"===typeof e?document.querySelectorAll(e):[e];for(var n=0;n<e.length;n++)t.apply(e[n])}},x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))};this.Mottle=function(e){var t=(e=e||{}).clickThreshold||250,r=e.dblClickThreshold||450,a=new g,c=new m(t,r),u=e.smartClicks,l=function(e,t,n,r){null!=n&&I(e,(function(){var e=o(this);u&&"click"===t?function(e,t,n,r){if(null==e.__taSmartClicks){h(e,"mousedown",(function(t){e.__tad=C(t)}),r),h(e,"mouseup",(function(t){e.__tau=C(t)}),r),h(e,"click",(function(t){if(e.__tad&&e.__tau&&e.__tad[0]===e.__tau[0]&&e.__tad[1]===e.__tau[1])for(var n=0;n<e.__taSmartClicks.length;n++)e.__taSmartClicks[n].apply(i(t),[t])}),r),e.__taSmartClicks=[]}e.__taSmartClicks.push(n),n.__taUnstore=function(){s(e.__taSmartClicks,n)}}(e,0,n,r):"tap"===t||"dbltap"===t||"contextmenu"===t?c(e,t,n,r):"mouseenter"===t||"mouseexit"==t?a(e,t,n,r):h(e,t,n,r)}))};this.remove=function(e){return I(e,(function(){var e=o(this);if(e.__ta)for(var t in e.__ta)if(e.__ta.hasOwnProperty(t))for(var n in e.__ta[t])e.__ta[t].hasOwnProperty(n)&&A(e,t,e.__ta[t][n]);e.parentNode&&e.parentNode.removeChild(e)})),this},this.on=function(e,t,n,r){var o=arguments[0],i=4==arguments.length?arguments[2]:null,a=arguments[1],s=arguments[arguments.length-1];return l(o,a,s,i),this},this.off=function(e,t,n){return A(e,t,n),this},this.trigger=function(e,t,r,i){var a=b&&("undefined"===typeof MouseEvent||null==r||r.constructor===MouseEvent),s=v&&!b&&w[t]?w[t]:t,c=!(v&&!b&&w[t]),u=C(r),l=E(r,"screen"),f=function(e){return E(e,"client")}(r);return I(e,(function(){var e,d=o(this);r=r||{screenX:l[0],screenY:l[1],clientX:f[0],clientY:f[1]};var h=function(e){i&&(e.payload=i)},p={TouchEvent:function(e){var t=n(window,d,0,u[0],u[1],l[0],l[1],f[0],f[1]);(e.initTouchEvent||e.initEvent)(s,!0,!0,window,null,l[0],l[1],f[0],f[1],!1,!1,!1,!1,t,t,t,1,0)},MouseEvents:function(e){e.initMouseEvent(s,!0,!0,window,0,l[0],l[1],f[0],f[1],!1,!1,!1,!1,1,d)}};if(document.createEvent){var m=!c&&!a&&v&&w[t]?"TouchEvent":"MouseEvents";e=document.createEvent(m),p[m](e),h(e),d.dispatchEvent(e)}else document.createEventObject&&((e=document.createEventObject()).eventType=e.eventName=s,e.screenX=l[0],e.screenY=l[1],e.clientX=f[0],e.clientY=f[1],h(e),d.fireEvent("on"+s,e))})),this}},this.Mottle.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},this.Mottle.pageLocation=C,this.Mottle.setForceTouchEvents=function(e){v=e},this.Mottle.setForceMouseEvents=function(e){b=e},this.Mottle.version="0.8.0",t.Mottle=this.Mottle}.call("undefined"===typeof window?this:window),function(){"use strict";var e=function(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)},n=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},r=function(e,t){for(var n=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&n.push(e[r]);return n},o=function(e){return null!=e&&("string"===typeof e||e.constructor===String)},i=function(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,c=t.top+o-a,u=t.left+i-s;return{top:Math.round(c),left:Math.round(u)}},a=function(e,t,n){for(var r=(n=n||e.parentNode).querySelectorAll(t),o=0;o<r.length;o++)if(r[o]===e)return!0;return!1},s=function(e,t,n){if(a(t,n,e))return t;for(var r=t.parentNode;null!=r&&r!==e;){if(a(r,n,e))return r;r=r.parentNode}},c=function(e,t,n){for(var r=null,o=t.getAttribute("katavorio-draggable"),i=null!=o?"[katavorio-draggable='"+o+"'] ":"",c=0;c<e.length;c++)if(null!=(r=s(t,n,i+e[c].selector))){if(e[c].filter){var u=a(n,e[c].filter,r);if(!0===e[c].filterExclude&&!u||u)return null}return[e[c],r]}return null},u=function(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),l=u>-1&&u<9,f=9===u,d=function(e){if(l)return[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop];var t=p(e),n=h(t,0);return f?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},h=function(e,t){return e.item?e.item(t):e[t]},p=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},m={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},y=["stop","start","drag","drop","over","out","beforeStart"],g=function(){},v=function(){return!0},b=function(e,t,n){for(var r=0;r<e.length;r++)e[r]!=n&&t(e[r])},w=function(e,t,n,r){b(e,(function(e){e.setActive(t),t&&e.updatePosition(),n&&e.setHover(r,t)}))},_=function(e,t){if(null!=e){e=o(e)||null!=e.tagName||null==e.length?[e]:e;for(var n=0;n<e.length;n++)t.apply(e[n],[e[n]])}},k=function(e){e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.returnValue=!1},E=function(e,t,n){var r=e.srcElement||e.target;return!a(r,n.getInputFilterSelector(),t)},C=function(e,t,n,r){this.params=t||{},this.el=e,this.params.addClass(this.el,this._class),this.uuid=A();var o=!0;return this.setEnabled=function(e){o=e},this.isEnabled=function(){return o},this.toggleEnabled=function(){o=!o},this.setScope=function(e){this.scopes=e?e.split(/\s+/):[r]},this.addScope=function(e){var t={};for(var n in _(this.scopes,(function(e){t[e]=!0})),_(e?e.split(/\s+/):[],(function(e){t[e]=!0})),this.scopes=[],t)this.scopes.push(n)},this.removeScope=function(e){var t={};for(var n in _(this.scopes,(function(e){t[e]=!0})),_(e?e.split(/\s+/):[],(function(e){delete t[e]})),this.scopes=[],t)this.scopes.push(n)},this.toggleScope=function(e){var t={};for(var n in _(this.scopes,(function(e){t[e]=!0})),_(e?e.split(/\s+/):[],(function(e){t[e]?delete t[e]:t[e]=!0})),this.scopes=[],t)this.scopes.push(n)},this.setScope(t.scope),this.k=t.katavorio,t.katavorio},O=function(){return!0},S=function(){return!1},T=function(e,t,n,r){this._class=n.draggable;var s=C.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var u,l,f,h,p=[0,0],y=null,g=null,b=[0,0],_=!1,T=[0,0],P=!1!==this.params.consumeStartEvent,x=this.el,j=this.params.clone,D=(this.params.scroll,!1!==t.multipleDrop),N=!1,R=!0===t.ghostProxy?O:t.ghostProxy&&"function"===typeof t.ghostProxy?t.ghostProxy:S,M=function(e){return e.cloneNode(!0)},L=null,F=[],B=null,U=t.ghostProxyParent;if(t.selector){var q=e.getAttribute("katavorio-draggable");null==q&&(q=""+(new Date).getTime(),e.setAttribute("katavorio-draggable",q)),F.push(t)}var V,W=t.snapThreshold,G=function(e,t,n,r,o){var i=t*Math.floor(e[0]/t),a=i+t,s=Math.abs(e[0]-i)<=r?i:Math.abs(a-e[0])<=r?a:e[0],c=n*Math.floor(e[1]/n),u=c+n;return[s,Math.abs(e[1]-c)<=o?c:Math.abs(u-e[1])<=o?u:e[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(e){if(null==this.params.grid)return e;var t=this.params.grid?this.params.grid[0]/2:W||5,n=this.params.grid?this.params.grid[1]/2:W||5;return G(e,this.params.grid[0],this.params.grid[1],t,n)},this.snap=function(e,t){if(null!=x){e=e||(this.params.grid?this.params.grid[0]:10),t=t||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(x),r=this.params.grid?this.params.grid[0]/2:W,o=this.params.grid?this.params.grid[1]/2:W,i=G(n,e,t,r,o);return this.params.setPosition(x,i),i}},this.setUseGhostProxy=function(e){R=e?O:S};var H,z=function(e){return!1===t.allowNegative?[Math.max(0,e[0]),Math.max(0,e[1])]:e},Q=function(e){V="function"===typeof e?e:e?function(e,t,n,r){return z([Math.max(0,Math.min(n.w-r[0],e[0])),Math.max(0,Math.min(n.h-r[1],e[1]))])}.bind(this):function(e){return z(e)}}.bind(this);Q("function"===typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(e){Q(e)},this.setRevert=function(e){H=e},this.params.revert&&(H=this.params.revert);var $=function(e){return"function"===typeof e?(e._katavorioId=A(),e._katavorioId):e},K={},Y=function(e){for(var t in K){var n=K[t],r=n[0](e);if(n[1]&&(r=!r),!r)return!1}return!0},X=this.setFilter=function(t,n){if(t){var r=$(t);K[r]=[function(n){var r,i=n.srcElement||n.target;return o(t)?r=a(i,t,e):"function"===typeof t&&(r=t(n,e)),r},!1!==n]}};this.addFilter=X,this.removeFilter=function(e){var t="function"===typeof e?e._katavorioId:e;delete K[t]};this.clearAllFilters=function(){K={}},this.canDrag=this.params.canDrag||v;var J,Z=[],ee=[];this.addSelector=function(e){e.selector&&F.push(e)},this.downListener=function(e){if(!e.defaultPrevented&&((this.rightButtonCanDrag||3!==e.which&&2!==e.button)&&this.isEnabled()&&this.canDrag()))if(Y(e)&&E(e,this.el,this.k)){if(B=null,L=null,F.length>0){var t=c(F,this.el,e.target||e.srcElement);if(null!=t&&(B=t[0],L=t[1]),null==L)return}else L=this.el;if(j)if(x=L.cloneNode(!0),this.params.addClass(x,m.clonedDrag),x.setAttribute("id",null),x.style.position="absolute",null!=this.params.parent){var r=this.params.getPosition(this.el);x.style.left=r[0]+"px",x.style.top=r[1]+"px",this.params.parent.appendChild(x)}else{var o=i(L);x.style.left=o.left+"px",x.style.top=o.top+"px",document.body.appendChild(x)}else x=L;P&&k(e),p=d(e),x&&x.parentNode&&(T=[x.parentNode.scrollLeft,x.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,n.noSelect),re("beforeStart",{el:this.el,pos:y,e:e,drag:this})}else this.params.consumeFilteredEvents&&k(e)}.bind(this),this.moveListener=function(e){if(p){if(!_)if(!1!==re("start",{el:this.el,pos:y,e:e,drag:this})){if(!p)return;this.mark(!0),_=!0}else this.abort();if(p){ee.length=0;var t=d(e),n=t[0]-p[0],r=t[1]-p[1],o=this.params.ignoreZoom?1:s.getZoom();x&&x.parentNode&&(n+=x.parentNode.scrollLeft-T[0],r+=x.parentNode.scrollTop-T[1]),n/=o,r/=o,this.moveBy(n,r,e),s.updateSelection(n,r,this),s.updatePosses(n,r,this)}}}.bind(this),this.upListener=function(e){p&&(p=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(e),s.unmarkSelection(this,e),s.unmarkPosses(this,e),this.stop(e),s.notifyPosseDragStop(this,e),_=!1,ee.length=0,j?(x&&x.parentNode&&x.parentNode.removeChild(x),x=null):H&&!0===H(x,this.params.getPosition(x))&&(this.params.setPosition(x,y),re("revert",x)))}.bind(this),this.getFilters=function(){return K},this.abort=function(){null!=p&&this.upListener()},this.getDragElement=function(e){return e?L||this.el:x||this.el};var te={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};t.events.start&&te.start.push(t.events.start),t.events.beforeStart&&te.beforeStart.push(t.events.beforeStart),t.events.stop&&te.stop.push(t.events.stop),t.events.drag&&te.drag.push(t.events.drag),t.events.revert&&te.revert.push(t.events.revert),this.on=function(e,t){te[e]&&te[e].push(t)},this.off=function(e,t){if(te[e]){for(var n=[],r=0;r<te[e].length;r++)te[e][r]!==t&&n.push(te[e][r]);te[e]=n}};var ne,re=function(e,t){var n=null;if(B&&B[e])n=B[e](t);else if(te[e])for(var r=0;r<te[e].length;r++)try{var o=te[e][r](t);null!=o&&(n=o)}catch(i){}return n};this.notifyStart=function(e){re("start",{el:this.el,pos:this.params.getPosition(x),e:e,drag:this})},this.stop=function(e,t){if(t||_){var n=[],r=s.getSelection(),o=this.params.getPosition(x);if(r.length>0)for(var i=0;i<r.length;i++){var a=this.params.getPosition(r[i].el);n.push([r[i].el,{left:a[0],top:a[1]},r[i]])}else n.push([x,{left:o[0],top:o[1]},this]);re("stop",{el:x,pos:ne||o,finalPos:o,e:e,drag:this,selection:n})}},this.mark=function(e){var t;y=this.params.getPosition(x),g=this.params.getPosition(x,!0),b=[g[0]-y[0],g[1]-y[1]],this.size=this.params.getSize(x),Z=s.getMatchingDroppables(this),w(Z,!0,!1,this),this.params.addClass(x,this.params.dragClass||n.drag),t=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(x):this.params.getSize(x.parentNode),J={w:t[0],h:t[1]},f=0,h=0,e&&s.notifySelectionDragStart(this)},this.unmark=function(e,r){if(w(Z,!1,!0,this),N&&R(L,x)?(ne=[x.offsetLeft-f,x.offsetTop-h],x.parentNode.removeChild(x),x=L):ne=null,this.params.removeClass(x,this.params.dragClass||n.drag),Z.length=0,N=!1,!r){ee.length>0&&ne&&t.setPosition(L,ne),ee.sort(I);for(var o=0;o<ee.length;o++){if(!0===ee[o].drop(this,e))break}}},this.moveBy=function(e,n,r){ee.length=0;var o=this.toGrid([y[0]+e,y[1]+n]),i=V(o,x,J,this.size);if(R(this.el,x))if(o[0]!==i[0]||o[1]!==i[1]){if(!N){var a=M(L);t.addClass(a,m.ghostProxy),U?(U.appendChild(a),u=t.getPosition(L.parentNode,!0),l=t.getPosition(t.ghostProxyParent,!0),f=u[0]-l[0],h=u[1]-l[1]):L.parentNode.appendChild(a),x=a,N=!0}i=o}else N&&(x.parentNode.removeChild(x),x=L,N=!1,u=null,l=null,f=0,h=0);var s={x:i[0],y:i[1],w:this.size[0],h:this.size[1]},c={x:s.x+b[0],y:s.y+b[1],w:s.w,h:s.h},d=null;this.params.setPosition(x,[i[0]+f,i[1]+h]);for(var p=0;p<Z.length;p++){var g={x:Z[p].pagePosition[0],y:Z[p].pagePosition[1],w:Z[p].size[0],h:Z[p].size[1]};this.params.intersects(c,g)&&(D||null==d||d===Z[p].el)&&Z[p].canDrop(this)?(d||(d=Z[p].el),ee.push(Z[p]),Z[p].setHover(this,!0,r)):Z[p].isHover()&&Z[p].setHover(this,!1,r)}re("drag",{el:this.el,pos:i,e:r,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?X(this.params.handle,!1):X(this.params.filter,this.params.filterExclude)},P=function(e,t,n,r){this._class=n.droppable,this.params=t||{},this.rank=t.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,C.apply(this,arguments);var o=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(e){this.params[e?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(e){return!0},this.isHover=function(){return o},this.setHover=function(e,t,n){(t||null==this.el._katavorioDragHover||this.el._katavorioDragHover===e.el._katavorio)&&(this.params[t?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=t?e.el._katavorio:null,o!==t&&this.params.events[t?"over":"out"]({el:this.el,e:n,drag:e,drop:this}),o=t)},this.drop=function(e,t){return this.params.events.drop({drag:e,e:t,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,o=null}},A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},I=function(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:0},x=function(e){return null==e?null:null==(e="string"===typeof e||e.constructor===String?document.getElementById(e):e)?null:(e._katavorio=e._katavorio||A(),e)};this.Katavorio=function(t){var i=[],a={};this._dragsByScope={},this._dropsByScope={};var s=1,c=function(e,t){_(e,(function(e){for(var n=0;n<e.scopes.length;n++)t[e.scopes[n]]=t[e.scopes[n]]||[],t[e.scopes[n]].push(e)}))},u=function(e,n){var r=0;return _(e,(function(e){for(var o=0;o<e.scopes.length;o++)if(n[e.scopes[o]]){var i=t.indexOf(n[e.scopes[o]],e);-1!==i&&(n[e.scopes[o]].splice(i,1),r++)}})),r>0},l=(this.getMatchingDroppables=function(e){for(var t=[],n={},r=0;r<e.scopes.length;r++){var o=this._dropsByScope[e.scopes[r]];if(o)for(var i=0;i<o.length;i++)!o[i].canDrop(e)||n[o[i].uuid]||!o[i].allowLoopback&&o[i].el===e.el||(n[o[i].uuid]=!0,t.push(o[i]))}return t.sort(I),t},function(e){e=e||{};var n,r={events:{}};for(n in t)r[n]=t[n];for(n in e)r[n]=e[n];for(n=0;n<y.length;n++)r.events[y[n]]=e[y[n]]||g;return r.katavorio=this,r}.bind(this)),f=function(e,t){for(var n=0;n<y.length;n++)t[y[n]]&&e.on(y[n],t[y[n]])}.bind(this),d={},h=t.css||{},p=t.scope||"katavorio-drag-scope";for(var v in m)d[v]=m[v];for(var v in h)d[v]=h[v];var w=t.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return w},this.setInputFilterSelector=function(e){return w=e,this},this.draggable=function(e,n){var r=[];return _(e,function(e){if(null!=(e=x(e)))if(null==e._katavorioDrag){var o=l(n);e._katavorioDrag=new T(e,o,d,p),c(e._katavorioDrag,this._dragsByScope),r.push(e._katavorioDrag),t.addClass(e,o.selector?d.delegatedDraggable:d.draggable)}else f(e._katavorioDrag,n)}.bind(this)),r},this.droppable=function(e,n){var r=[];return _(e,function(e){if(null!=(e=x(e))){var o=new P(e,l(n),d,p);e._katavorioDrop=e._katavorioDrop||[],e._katavorioDrop.push(o),c(o,this._dropsByScope),r.push(o),t.addClass(e,d.droppable)}}.bind(this)),r},this.select=function(e){return _(e,(function(){var e=x(this);e&&e._katavorioDrag&&(a[e._katavorio]||(i.push(e._katavorioDrag),a[e._katavorio]=[e,i.length-1],t.addClass(e,d.selected)))})),this},this.deselect=function(e){return _(e,(function(){var e=x(this);if(e&&e._katavorio&&a[e._katavorio]){for(var n=[],r=0;r<i.length;r++)i[r].el!==e&&n.push(i[r]);i=n,delete a[e._katavorio],t.removeClass(e,d.selected)}})),this},this.deselectAll=function(){for(var e in a){var n=a[e];t.removeClass(n[0],d.selected)}i.length=0,a={}},this.markSelection=function(e){b(i,(function(e){e.mark()}),e)},this.markPosses=function(e){e.posses&&_(e.posses,(function(t){e.posseRoles[t]&&S[t]&&b(S[t].members,(function(e){e.mark()}),e)}))},this.unmarkSelection=function(e,t){b(i,(function(e){e.unmark(t)}),e)},this.unmarkPosses=function(e,t){e.posses&&_(e.posses,(function(n){e.posseRoles[n]&&S[n]&&b(S[n].members,(function(e){e.unmark(t,!0)}),e)}))},this.getSelection=function(){return i.slice(0)},this.updateSelection=function(e,t,n){b(i,(function(n){n.moveBy(e,t)}),n)};var k=function(e,t){t.posses&&_(t.posses,(function(n){t.posseRoles[n]&&S[n]&&b(S[n].members,(function(t){e(t)}),t)}))};this.updatePosses=function(e,t,n){k((function(n){n.moveBy(e,t)}),n)},this.notifyPosseDragStop=function(e,t){k((function(e){e.stop(t,!0)}),e)},this.notifySelectionDragStop=function(e,t){b(i,(function(e){e.stop(t,!0)}),e)},this.notifySelectionDragStart=function(e,t){b(i,(function(e){e.notifyStart(t)}),e)},this.setZoom=function(e){s=e},this.getZoom=function(){return s};var E=function(e,t,n,r){_(e,(function(e){u(e,n),e[r](t),c(e,n)}))};_(["set","add","remove","toggle"],function(e){this[e+"Scope"]=function(t,n){E(t._katavorioDrag,n,this._dragsByScope,e+"Scope"),E(t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this),this[e+"DragScope"]=function(t,n){E(t.constructor===T?t:t._katavorioDrag,n,this._dragsByScope,e+"Scope")}.bind(this),this[e+"DropScope"]=function(t,n){E(t.constructor===P?t:t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(e,t){for(var n in this._dragsByScope)b(this._dragsByScope[n],(function(n){n.snap(e,t)}))},this.getDragsForScope=function(e){return this._dragsByScope[e]},this.getDropsForScope=function(e){return this._dropsByScope[e]};var C=function(e,t,n){if((e=x(e))[t]){var r=i.indexOf(e[t]);r>=0&&i.splice(r,1),u(e[t],n)&&_(e[t],(function(e){e.destroy()})),delete e[t]}},O=function(e,t,n,r){(e=x(e))[t]&&e[t].off(n,r)};this.elementRemoved=function(e){this.destroyDraggable(e),this.destroyDroppable(e)},this.destroyDraggable=function(e,t,n){1===arguments.length?C(e,"_katavorioDrag",this._dragsByScope):O(e,"_katavorioDrag",t,n)},this.destroyDroppable=function(e,t,n){1===arguments.length?C(e,"_katavorioDrop",this._dropsByScope):O(e,"_katavorioDrop",t,n)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},i=[],a={},S={}};var S={},A=function(t,n,r){var i,a=o(n)?n:n.id,s=!!o(n)||!1!==n.active,c=S[a]||(i={name:a,members:[]},S[a]=i,i);return _(t,(function(t){if(t._katavorioDrag){if(r&&null!=t._katavorioDrag.posseRoles[c.name])return;e(c.members,t._katavorioDrag),e(t._katavorioDrag.posses,c.name),t._katavorioDrag.posseRoles[c.name]=s}})),c};this.addToPosse=function(e,t){for(var n=[],r=1;r<arguments.length;r++)n.push(A(e,arguments[r]));return 1===n.length?n[0]:n},this.setPosse=function(e,t){for(var n=[],o=1;o<arguments.length;o++)n.push(A(e,arguments[o],!0).name);return _(e,function(e){if(e._katavorioDrag){var t=r(e._katavorioDrag.posses,n);Array.prototype.push.apply([],e._katavorioDrag.posses);for(var o=0;o<t.length;o++)this.removeFromPosse(e,t[o])}}.bind(this)),1===n.length?n[0]:n},this.removeFromPosse=function(e,t){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var r=1;r<arguments.length;r++)t=arguments[r],_(e,(function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var r=e._katavorioDrag;_(t,(function(e){n(S[e].members,r),n(r.posses,e),delete r.posseRoles[e]}))}}))},this.removeFromAllPosses=function(e){_(e,(function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var t=e._katavorioDrag;_(t.posses,(function(e){n(S[e].members,t)})),t.posses.length=0,t.posseRoles={}}}))},this.setPosseState=function(e,t,n){var r=S[t];r&&_(e,(function(e){e._katavorioDrag&&e._katavorioDrag.posses&&(e._katavorioDrag.posseRoles[r.name]=n)}))}},this.Katavorio.version="1.0.0",t.Katavorio=this.Katavorio}.call("undefined"!==typeof window?window:this),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var e=this.jsPlumbUtil;function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"string"===typeof e}function o(e){return"boolean"===typeof e}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return"[object Date]"===Object.prototype.toString.call(e)}function s(e){return"[object Function]"===Object.prototype.toString.call(e)}function c(e){if(r(e))return""+e;if(o(e))return!!e;if(a(e))return new Date(e.getTime());if(s(e))return e;if(n(e)){for(var t=[],u=0;u<e.length;u++)t.push(c(e[u]));return t}if(i(e)){var l={};for(var f in e)l[f]=c(e[f]);return l}return e}function u(e,t,a,s){var u,l,f={},d={};for(a=a||[],s=s||[],l=0;l<a.length;l++)f[a[l]]=!0;for(l=0;l<s.length;l++)d[s[l]]=!0;var h=c(e);for(l in t)if(null==h[l]||d[l])h[l]=t[l];else if(r(t[l])||o(t[l]))f[l]?((u=[]).push.apply(u,n(h[l])?h[l]:[h[l]]),u.push.apply(u,o(t[l])?t[l]:[t[l]]),h[l]=u):h[l]=t[l];else if(n(t[l]))u=[],n(h[l])&&u.push.apply(u,h[l]),u.push.apply(u,t[l]),h[l]=u;else if(i(t[l]))for(var p in i(h[l])||(h[l]={}),t[l])h[l][p]=t[l][p];return h}function l(e,t){if(e)for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function f(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),-1!==n}function d(e,t,n,r){var o=e[t];return null==o&&(o=[],e[t]=o),o[r?"unshift":"push"](n),o}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function p(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.logEnabled&&"undefined"!==typeof console)try{var r=arguments[arguments.length-1];console.log(r)}catch(o){}}t.jsPlumbUtil=e,e.isArray=n,e.isNumber=function(e){return"[object Number]"===Object.prototype.toString.call(e)},e.isString=r,e.isBoolean=o,e.isNull=function(e){return null==e},e.isObject=i,e.isDate=a,e.isFunction=s,e.isNamedFunction=function(e){return s(e)&&null!=e.name&&e.name.length>0},e.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.clone=c,e.merge=u,e.replace=function(e,t,n){if(null!=e){var r=e;return t.replace(/([^\.])+/g,(function(e,t,o,i){var a=e.match(/([^\[0-9]+){1}(\[)([0-9+])/),s=function(){return r[a[1]]||(r[a[1]]=[],r[a[1]])};if(o+e.length>=i.length)a?s()[a[3]]=n:r[e]=n;else if(a){var c=s();r=c[a[3]]||(c[a[3]]={},c[a[3]])}else r=r[e]||(r[e]={},r[e]);return""})),e}},e.functionChain=function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r][0][n[r][1]].apply(n[r][0],n[r][2]);if(o===t)return o}return e},e.populate=function(e,t,o,a){return function e(c){if(null!=c){if(r(c))return function(e){var n=e.match(/(\${.*?})/g);if(null!=n)for(var r=0;r<n.length;r++){var o=t[n[r].substring(2,n[r].length-1)]||"";null!=o&&(e=e.replace(n[r],o))}return e}(c);if(!s(c)||a||null!=o&&0!==(c.name||"").indexOf(o)){if(n(c)){for(var u=[],l=0;l<c.length;l++)u.push(e(c[l]));return u}if(i(c)){var f={};for(var d in c)f[d]=e(c[d]);return f}return c}return c(t)}}(e)},e.findWithFunction=l,e.removeWithFunction=function(e,t){var n=l(e,t);return n>-1&&e.splice(n,1),-1!==n},e.remove=f,e.addWithFunction=function(e,t,n){-1===l(e,n)&&e.push(t)},e.addToList=d,e.suggest=function(e,t,n){return-1===e.indexOf(t)&&(n?e.unshift(t):e.push(t),!0)},e.extend=function(e,t,r){var o;t=n(t)?t:[t];var i=function(t){for(var n=t.__proto__;null!=n;)if(null!=n.prototype){for(var r in n.prototype)n.prototype.hasOwnProperty(r)&&!e.prototype.hasOwnProperty(r)&&(e.prototype[r]=n.prototype[r]);n=n.prototype.__proto__}else n=null};for(o=0;o<t.length;o++){for(var a in t[o].prototype)t[o].prototype.hasOwnProperty(a)&&!e.prototype.hasOwnProperty(a)&&(e.prototype[a]=t[o].prototype[a]);i(t[o])}var s=function(e,n){return function(){for(o=0;o<t.length;o++)t[o].prototype[e]&&t[o].prototype[e].apply(this,arguments);return n.apply(this,arguments)}},c=function(t){for(var n in t)e.prototype[n]=s(n,t[n])};if(arguments.length>2)for(o=2;o<arguments.length;o++)c(arguments[o]);return e},e.uuid=h,e.fastTrim=function(e){if(null==e)return null;for(var t=e.replace(/^\s\s*/,""),n=/\s/,r=t.length;n.test(t.charAt(--r)););return t.slice(0,r+1)},e.each=function(e,t){e=null==e.length||"string"===typeof e?[e]:e;for(var n=0;n<e.length;n++)t(e[n])},e.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n},e.mergeWithParents=function(e,t,n){n=n||"parent";var r=function(e){return e?t[e]:null},o=function(e){return e?r(e[n]):null},i=function e(t){if(null==t)return{};if("string"===typeof t)return r(t);if(t.length){for(var n=!1,o=0,i=void 0;!n&&o<t.length;)(i=e(t[o]))?n=!0:o++;return i}}(e);return i?function e(t,n){if(null==t)return n;var r=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];"override"===n.mergeStrategy&&Array.prototype.push.apply(r,["events","overlays"]);var i=u(t,n,[],r);return e(o(t),i)}(o(i),i):{}},e.logEnabled=!0,e.log=p,e.wrap=function(e,t,n){return function(){var r=null;try{null!=t&&(r=t.apply(this,arguments))}catch(o){p("jsPlumb function failed : "+o)}if(null!=e&&(null==n||r!==n))try{r=e.apply(this,arguments)}catch(o){p("wrapped function failed : "+o)}return r}};var m=function(){var e=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(t,n,r){var o=function(t){d(e._listeners,t,n,r),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[h()]=t};if("string"===typeof t)o(t);else if(null!=t.length)for(var i=0;i<t.length;i++)o(t[i]);return e},this.fire=function(e,t,n){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[e]){var r=this._listeners[e].length,o=0,i=!1,a=null;if(!this.shouldFireEvent||this.shouldFireEvent(e,t,n))for(;!i&&o<r&&!1!==a;){if(this.eventsToDieOn[e])this._listeners[e][o].apply(this,[t,n]);else try{a=this._listeners[e][o].apply(this,[t,n])}catch(s){p("jsPlumb: fire failed for event "+e+" : "+s)}o++,null!=this._listeners&&null!=this._listeners[e]||(i=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var t=e.queue.pop();t&&e.fire.apply(e,t)},this.unbind=function(e,t){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"===typeof e)delete this._listeners[e];else if(e.__jsPlumb){var n=void 0;for(var r in e.__jsPlumb)n=e.__jsPlumb[r],f(this._listeners[n]||[],e)}}else 2===arguments.length&&f(this._listeners[e]||[],t);return this},this.getListener=function(t){return e._listeners[t]},this.setSuspendEvents=function(t){e.eventsSuspended=t},this.isSuspendEvents=function(){return e.eventsSuspended},this.silently=function(t){e.setSuspendEvents(!0);try{t()}catch(n){p("Cannot execute silent function "+n)}e.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var t in e._listeners)e._listeners[t]=null}};e.EventGenerator=m}.call("undefined"!==typeof window?window:this),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(e,t,n){for(var r=(n=n||e.parentNode).querySelectorAll(t),o=0;o<r.length;o++)if(r[o]===e)return!0;return!1},this.jsPlumbUtil.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},this.jsPlumbUtil.sizeElement=function(e,t,n,r,o){e&&(e.style.height=o+"px",e.height=o,e.style.width=r+"px",e.width=r,e.style.left=t+"px",e.style.top=n+"px")}}.call("undefined"!==typeof window?window:this),function(){var e={deriveAnchor:function(e,t,n,r){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[e][t]}},t=function(e){this.count=0,this.instance=e,this.lists={},this.instance.addList=function(e,t){return this.listManager.addList(e,t)},this.instance.removeList=function(e){this.listManager.removeList(e)},this.instance.bind("manageElement",function(e){for(var t=this.instance.getSelector(e.el,"[jtk-scrollable-list]"),n=0;n<t.length;n++)this.addList(t[n])}.bind(this)),this.instance.bind("unmanageElement",(function(e){this.removeList(e.el)})),this.instance.bind("connection",function(e,t){null==t&&(this._maybeUpdateParentList(e.source),this._maybeUpdateParentList(e.target))}.bind(this))};this.jsPlumbListManager=t,t.prototype={addList:function(t,r){var o=this.instance.extend({},e);r=this.instance.extend(o,r||{});var i=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[i]=new n(this.instance,t,r,i)},removeList:function(e){var t=this.lists[e._jsPlumbList];t&&(t.destroy(),delete this.lists[e._jsPlumbList])},_maybeUpdateParentList:function(e){for(var t=e.parentNode,n=this.instance.getContainer();null!=t&&t!==n;){if(null!=t._jsPlumbList&&null!=this.lists[t._jsPlumbList])return void t._jsPlumbScrollHandler();t=t.parentNode}}};var n=function(e,t,n,r){function o(e,t,r,o){return n.anchor?n.anchor:n.deriveAnchor(e,t,r,o)}function i(e,t,r,o){return n.deriveEndpoint?n.deriveEndpoint(e,t,r,o):n.endpoint?n.endpoint:r.type}t._jsPlumbList=r;var a=function(n){for(var r=e.getSelector(t,".jtk-managed"),a=e.getId(t),s=0;s<r.length;s++){if(r[s].offsetTop<t.scrollTop)r[s]._jsPlumbProxies||(r[s]._jsPlumbProxies=r[s]._jsPlumbProxies||[],e.select({source:r[s]}).each((function(n){e.proxyConnection(n,0,t,a,(function(){return i("top",0,n.endpoints[0],n)}),(function(){return o("top",0,n.endpoints[0],n)})),r[s]._jsPlumbProxies.push([n,0])})),e.select({target:r[s]}).each((function(n){e.proxyConnection(n,1,t,a,(function(){return i("top",1,n.endpoints[1],n)}),(function(){return o("top",1,n.endpoints[1],n)})),r[s]._jsPlumbProxies.push([n,1])})));else if(r[s].offsetTop>t.scrollTop+t.offsetHeight)r[s]._jsPlumbProxies||(r[s]._jsPlumbProxies=r[s]._jsPlumbProxies||[],e.select({source:r[s]}).each((function(n){e.proxyConnection(n,0,t,a,(function(){return i("bottom",0,n.endpoints[0],n)}),(function(){return o("bottom",0,n.endpoints[0],n)})),r[s]._jsPlumbProxies.push([n,0])})),e.select({target:r[s]}).each((function(n){e.proxyConnection(n,1,t,a,(function(){return i("bottom",1,n.endpoints[1],n)}),(function(){return o("bottom",1,n.endpoints[1],n)})),r[s]._jsPlumbProxies.push([n,1])})));else if(r[s]._jsPlumbProxies){for(var c=0;c<r[s]._jsPlumbProxies.length;c++)e.unproxyConnection(r[s]._jsPlumbProxies[c][0],r[s]._jsPlumbProxies[c][1],a);delete r[s]._jsPlumbProxies}e.revalidate(r[s])}!function(t){for(var n=t.parentNode,r=e.getContainer();null!=n&&n!==r;){if(e.hasClass(n,"jtk-managed"))return void e.recalculateOffsets(n);n=n.parentNode}}(t)};e.setAttribute(t,"jtk-scrollable-list","true"),t._jsPlumbScrollHandler=a,e.on(t,"scroll",a),a(),this.destroy=function(){e.off(t,"scroll",a),delete t._jsPlumbScrollHandler;for(var n=e.getSelector(t,".jtk-managed"),r=e.getId(t),o=0;o<n.length;o++)if(n[o]._jsPlumbProxies){for(var i=0;i<n[o]._jsPlumbProxies.length;i++)e.unproxyConnection(n[o]._jsPlumbProxies[i][0],n[o]._jsPlumbProxies[i][1],r);delete n[o]._jsPlumbProxies}}}}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this,n=e.jsPlumbUtil,r=function(){return""+(new Date).getTime()},o=function(e){if(e._jsPlumb.paintStyle&&e._jsPlumb.hoverPaintStyle){var t={};h.extend(t,e._jsPlumb.paintStyle),h.extend(t,e._jsPlumb.hoverPaintStyle),delete e._jsPlumb.hoverPaintStyle,t.gradient&&e._jsPlumb.paintStyle.fill&&delete t.gradient,e._jsPlumb.hoverPaintStyle=t}},i=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],a=function(e){return null==e?null:e.split(" ")},s=function(e,t,n){for(var r in t)e[r]=n},c=function(e,t,r){if(e.getDefaultType){var o=e.getTypeDescriptor(),i={},a=e.getDefaultType(),c=n.merge({},a);s(i,a,"__default");for(var u=0,l=e._jsPlumb.types.length;u<l;u++){var f=e._jsPlumb.types[u];if("__default"!==f){var d=e._jsPlumb.instance.getType(f,o);if(null!=d){var h=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],p=[];"override"===d.mergeStrategy?Array.prototype.push.apply(h,["events","overlays","cssClass"]):p.push("cssClass"),c=n.merge(c,d,p,h),s(i,d,f)}}}t&&(c=n.populate(c,t,"_")),e.applyType(c,r,i),r||e.repaint()}},u=e.jsPlumbUIComponent=function(e){n.EventGenerator.apply(this,arguments);var t=this,r=arguments,o=t.idPrefix,i=o+(new Date).getTime();this._jsPlumb={instance:e._jsPlumb,parameters:e.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:e.beforeDetach,beforeDrop:e.beforeDrop,overlayPlacements:[],hoverClass:e.hoverClass||e._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(e,t,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][e]=t},this.getCachedTypeItem=function(e,t){return this._jsPlumb.typeCache[t]?this._jsPlumb.typeCache[t][e]:null},this.getId=function(){return i};var a=e.overlays||[],s={};if(this.defaultOverlayKeys){for(var c=0;c<this.defaultOverlayKeys.length;c++)Array.prototype.push.apply(a,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[c]]||[]);for(c=0;c<a.length;c++){var u=h.convertToFullOverlaySpec(a[c]);s[u[1].id]=u}}var l={overlays:s,parameters:e.parameters||{},scope:e.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return l},this.appendToDefaultType=function(e){for(var t in e)l[t]=e[t]},e.events)for(var f in e.events)t.bind(f,e.events[f]);this.clone=function(){var e=Object.create(this.constructor.prototype);return this.constructor.apply(e,r),e}.bind(this),this.isDetachAllowed=function(e){var t=!0;if(this._jsPlumb.beforeDetach)try{t=this._jsPlumb.beforeDetach(e)}catch(r){n.log("jsPlumb: beforeDetach callback failed",r)}return t},this.isDropAllowed=function(e,t,r,o,i,a,s){var c=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:e,targetId:t,scope:r,connection:o,dropEndpoint:i,source:a,target:s});if(this._jsPlumb.beforeDrop)try{c=this._jsPlumb.beforeDrop({sourceId:e,targetId:t,scope:r,connection:o,dropEndpoint:i,source:a,target:s})}catch(u){n.log("jsPlumb: beforeDrop callback failed",u)}return c};var d=[];this.setListenerComponent=function(e){for(var t=0;t<d.length;t++)d[t][3]=e}},l=function(e,t){var n=e._jsPlumb.types[t],r=e._jsPlumb.instance.getType(n,e.getTypeDescriptor());null!=r&&r.cssClass&&e.canvas&&e._jsPlumb.instance.removeClass(e.canvas,r.cssClass)};n.extend(e.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(e){return this._jsPlumb.parameters[e]},setParameter:function(e,t){this._jsPlumb.parameters[e]=t},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(e){this._jsPlumb.parameters=e},getClass:function(){return h.getClass(this.canvas)},hasClass:function(e){return h.hasClass(this.canvas,e)},addClass:function(e){h.addClass(this.canvas,e)},removeClass:function(e){h.removeClass(this.canvas,e)},updateClasses:function(e,t){h.updateClasses(this.canvas,e,t)},setType:function(e,t,n){this.clearTypes(),this._jsPlumb.types=a(e)||[],c(this,t,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(e,t){c(this,e,t)},hasType:function(e){return-1!==this._jsPlumb.types.indexOf(e)},addType:function(e,t,n){var r=a(e),o=!1;if(null!=r){for(var i=0,s=r.length;i<s;i++)this.hasType(r[i])||(this._jsPlumb.types.push(r[i]),o=!0);o&&c(this,t,n)}},removeType:function(e,t,n){var r=a(e),o=!1,i=function(e){var t=this._jsPlumb.types.indexOf(e);return-1!==t&&(l(this,t),this._jsPlumb.types.splice(t,1),!0)}.bind(this);if(null!=r){for(var s=0,u=r.length;s<u;s++)o=i(r[s])||o;o&&c(this,t,n)}},clearTypes:function(e,t){for(var n=this._jsPlumb.types.length,r=0;r<n;r++)l(this,0),this._jsPlumb.types.splice(0,1);c(this,e,t)},toggleType:function(e,t,n){var r=a(e);if(null!=r){for(var o=0,i=r.length;o<i;o++){var s=this._jsPlumb.types.indexOf(r[o]);-1!==s?(l(this,s),this._jsPlumb.types.splice(s,1)):this._jsPlumb.types.push(r[o])}c(this,t,n)}},applyType:function(e,t){if(this.setPaintStyle(e.paintStyle,t),this.setHoverPaintStyle(e.hoverPaintStyle,t),e.parameters)for(var n in e.parameters)this.setParameter(n,e.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(e,t){this._jsPlumb.paintStyle=e,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,o(this),t||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(e,t){this._jsPlumb.hoverPaintStyle=e,o(this),t||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(e){(e||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(e,t,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=e;var o=e?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[o](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[o](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=e?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||r(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!t&&function(e,t,n,r){var o=e.getAttachedElements();if(o)for(var i=0,a=o.length;i<a;i++)r&&r===o[i]||o[i].setHover(t,!0,n)}(this,e,r(),this)}}});var f=0,d=e.jsPlumbInstance=function(t){this.version="2.12.0",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},t&&h.extend(this.Defaults,t),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},n.EventGenerator.apply(this);var o=this,a=function(){var e=f+1;return f++,e}(),s=o.bind,c={},l=1,d=function(e){if(null==e)return null;if(3===e.nodeType||8===e.nodeType)return{el:e,text:!0};var t=o.getElement(e);return{el:t,id:n.isString(e)&&null==t?e:q(t)}};for(var p in this.getInstanceIndex=function(){return a},this.setZoom=function(e,t){return l=e,o.fire("zoom",l),t&&o.repaintEverything(),!0},this.getZoom=function(){return l},this.Defaults)c[p]=this.Defaults[p];var m,y=[];this.unbindContainer=function(){if(null!=m&&y.length>0)for(var e=0;e<y.length;e++)o.off(m,y[e][0],y[e][1])},this.setContainer=function(e){this.unbindContainer(),e=this.getElement(e),this.select().each((function(t){t.moveParent(e)})),this.selectEndpoints().each((function(t){t.moveParent(e)}));var t=m;m=e,y.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},r=function(e,t,r){var i=t.srcElement||t.target,a=(i&&i.parentNode?i.parentNode._jsPlumb:null)||(i?i._jsPlumb:null)||(i&&i.parentNode&&i.parentNode.parentNode?i.parentNode.parentNode._jsPlumb:null);if(a){a.fire(e,a,t);var s=r&&n[r+e]||e;o.fire(s,a.component||a,t)}},a=function(e,t,n){y.push([e,n]),o.on(m,e,t,n)},s=function(e){a(e,".jtk-connector",(function(t){r(e,t)})),a(e,".jtk-endpoint",(function(t){r(e,t,"endpoint")})),a(e,".jtk-overlay",(function(t){r(e,t)}))},c=0;c<i.length;c++)s(i[c]);for(var u in k){var l=k[u].el;l.parentNode===t&&(t.removeChild(l),m.appendChild(l))}},this.getContainer=function(){return m},this.bind=function(e,t){"ready"===e&&v?t():s.apply(o,[e,t])},o.importDefaults=function(e){for(var t in e)o.Defaults[t]=e[t];return e.Container&&o.setContainer(e.Container),o},o.restoreDefaults=function(){return o.Defaults=h.extend({},c),o};var g=null,v=!1,b=[],w={},_={},k={},E={},C={},O=!1,S=[],T=!1,P=null,A=this.Defaults.Scope,I=1,x=function(){return""+I++},j=function(e,t){m?m.appendChild(e):t?this.getElement(t).appendChild(e):this.appendToRoot(e)}.bind(this),D=function(e,t,n,i){if(!T){var a,s=q(e),c=o.getDragManager();c&&(a=c.getElementsForDraggable(s)),null==n&&(n=r());var u=oe({elId:s,offset:t,recalc:!1,timestamp:n});if(a&&u&&u.o)for(var l in a)oe({elId:a[l].id,offset:{left:u.o.left+a[l].offset.left,top:u.o.top+a[l].offset.top},recalc:!1,timestamp:n});if(o.anchorManager.redraw(s,t,n,null,i),a)for(var f in a)o.anchorManager.redraw(a[f].id,t,n,a[f].offset,i,!0)}},N=function(e){return _[e]},R=function(e,t){var r=h.extend({},e);if(t&&h.extend(r,t),r.source&&(r.source.endpoint?r.sourceEndpoint=r.source:r.source=o.getElement(r.source)),r.target&&(r.target.endpoint?r.targetEndpoint=r.target:r.target=o.getElement(r.target)),e.uuids&&(r.sourceEndpoint=N(e.uuids[0]),r.targetEndpoint=N(e.uuids[1])),r.sourceEndpoint&&r.sourceEndpoint.isFull())n.log(o,"could not add connection; source endpoint is full");else if(r.targetEndpoint&&r.targetEndpoint.isFull())n.log(o,"could not add connection; target endpoint is full");else{if(!r.type&&r.sourceEndpoint&&(r.type=r.sourceEndpoint.connectionType),r.sourceEndpoint&&r.sourceEndpoint.connectorOverlays){r.overlays=r.overlays||[];for(var i=0,a=r.sourceEndpoint.connectorOverlays.length;i<a;i++)r.overlays.push(r.sourceEndpoint.connectorOverlays[i])}r.sourceEndpoint&&r.sourceEndpoint.scope&&(r.scope=r.sourceEndpoint.scope),!r["pointer-events"]&&r.sourceEndpoint&&r.sourceEndpoint.connectorPointerEvents&&(r["pointer-events"]=r.sourceEndpoint.connectorPointerEvents);var s=function(e,t,n){return o.addEndpoint(e,function(e,t){var n=h.extend({},e);for(var r in t)t[r]&&(n[r]=t[r]);return n}(t,{anchor:r.anchors?r.anchors[n]:r.anchor,endpoint:r.endpoints?r.endpoints[n]:r.endpoint,paintStyle:r.endpointStyles?r.endpointStyles[n]:r.endpointStyle,hoverPaintStyle:r.endpointHoverStyles?r.endpointHoverStyles[n]:r.endpointHoverStyle}))},c=function(e,t,n,o){if(r[e]&&!r[e].endpoint&&!r[e+"Endpoint"]&&!r.newConnection){var i=n[q(r[e])];if(i=i?i[o]:null){if(!i.enabled)return!1;var a=null!=i.endpoint&&i.endpoint._jsPlumb?i.endpoint:s(r[e],i.def,t);if(a.isFull())return!1;r[e+"Endpoint"]=a,!r.scope&&i.def.scope&&(r.scope=i.def.scope),i.uniqueEndpoint?i.endpoint?a.finalEndpoint=i.endpoint:(i.endpoint=a,a.setDeleteOnEmpty(!1)):a.setDeleteOnEmpty(!0),0===t&&i.def.connectorOverlays&&(r.overlays=r.overlays||[],Array.prototype.push.apply(r.overlays,i.def.connectorOverlays))}}};if(!1!==c("source",0,this.sourceEndpointDefinitions,r.type||"default")&&!1!==c("target",1,this.targetEndpointDefinitions,r.type||"default"))return r.sourceEndpoint&&r.targetEndpoint&&(function(e,t){for(var n=e.scope.split(/\s/),r=t.scope.split(/\s/),o=0;o<n.length;o++)for(var i=0;i<r.length;i++)if(r[i]===n[o])return!0;return!1}(r.sourceEndpoint,r.targetEndpoint)||(r=null)),r}}.bind(o),M=function e(t){var n=o.Defaults.ConnectionType||o.getDefaultConnectionType();t._jsPlumb=o,t.newConnection=e,t.newEndpoint=F,t.endpointsByUUID=_,t.endpointsByElement=w,t.finaliseConnection=L,t.id="con_"+x();var r=new n(t);return r.isDetachable()&&(r.endpoints[0].initDraggable("_jsPlumbSource"),r.endpoints[1].initDraggable("_jsPlumbTarget")),r},L=o.finaliseConnection=function(e,t,n,r){if(t=t||{},e.suspendedEndpoint||b.push(e),e.pending=null,e.endpoints[0].isTemporarySource=!1,!1!==r&&o.anchorManager.newConnection(e),D(e.source),!t.doNotFireConnectionEvent&&!1!==t.fireEvent){var i={connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]};o.fire("connection",i,n)}},F=function e(t,n){var r=o.Defaults.EndpointType||h.Endpoint,i=h.extend({},t);i._jsPlumb=o,i.newConnection=M,i.newEndpoint=e,i.endpointsByUUID=_,i.endpointsByElement=w,i.fireDetachEvent=G,i.elementId=n||q(i.source);var a=new r(i);return a.id="ep_"+x(),re(i.elementId,i.source),h.headless||o.getDragManager().endpointAdded(i.source,n),a},B=function(e,t,n){var r=w[e];if(r&&r.length)for(var o=0,i=r.length;o<i;o++){for(var a=0,s=r[o].connections.length;a<s;a++){if(t(r[o].connections[a]))return}n&&n(r[o])}},U=function(e,t,n){t="block"===t;var r=null;n&&(r=function(e){e.setVisible(t,!0,!0)});var o=d(e);B(o.id,(function(e){if(t&&n){var r=e.sourceId===o.id?1:0;e.endpoints[r].isVisible()&&e.setVisible(!0)}else e.setVisible(t)}),r)},q=function(e,t,r){if(n.isString(e))return e;if(null==e)return null;var i=o.getAttribute(e,"id");return i&&"undefined"!==i||(2===arguments.length&&void 0!==arguments[1]?i=t:(1===arguments.length||3===arguments.length&&!arguments[2])&&(i="jsPlumb_"+a+"_"+x()),r||o.setAttribute(e,"id",i)),i};this.setConnectionBeingDragged=function(e){O=e},this.isConnectionBeingDragged=function(){return O},this.getManagedElements=function(){return k},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(e,t,r){r=r||{};var i=h.extend({},r);h.extend(i,t),i.endpoint=i.endpoint||o.Defaults.Endpoint,i.paintStyle=i.paintStyle||o.Defaults.EndpointStyle;for(var a=[],s=n.isArray(e)||null!=e.length&&!n.isString(e)?e:[e],c=0,u=s.length;c<u;c++){i.source=o.getElement(s[c]),ne(i.source);var l=q(i.source),f=F(i,l),d=re(l,i.source).info.o;n.addToList(w,l,f),T||f.paint({anchorLoc:f.anchor.compute({xy:[d.left,d.top],wh:S[l],element:f,timestamp:P}),timestamp:P}),a.push(f)}return 1===a.length?a[0]:a},this.addEndpoints=function(e,t,r){for(var i=[],a=0,s=t.length;a<s;a++){var c=o.addEndpoint(e,t[a],r);n.isArray(c)?Array.prototype.push.apply(i,c):i.push(c)}return i},this.animate=function(e,t,r){if(!this.animationSupported)return!1;r=r||{};var i=o.getElement(e),a=q(i),s=h.animEvents.step,c=h.animEvents.complete;r[s]=n.wrap(r[s],(function(){o.revalidate(a)})),r[c]=n.wrap(r[c],(function(){o.revalidate(a)})),o.doAnimate(i,t,r)},this.checkCondition=function(e,t){var r=o.getListener(e),i=!0;if(r&&r.length>0){var a=Array.prototype.slice.call(arguments,1);try{for(var s=0,c=r.length;s<c;s++)i=i&&r[s].apply(r[s],a)}catch(u){n.log(o,"cannot check condition ["+e+"]"+u)}}return i},this.connect=function(e,t){var r,o=R(e,t);if(o){if(null==o.source&&null==o.sourceEndpoint)return void n.log("Cannot establish connection - source does not exist");if(null==o.target&&null==o.targetEndpoint)return void n.log("Cannot establish connection - target does not exist");ne(o.source),r=M(o),L(r,o)}return r};var V=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],W=function(e,t,n,r){var o,i,a,s=V[n],c=e[s.elId],u=(e[s.el],e.endpoints[n]),l={index:n,originalSourceId:0===n?c:e.sourceId,newSourceId:e.sourceId,originalTargetId:1===n?c:e.targetId,newTargetId:e.targetId,connection:e};if(t.constructor===h.Endpoint)(o=t).addConnection(e),t=o.element;else if(i=q(t),a=this[s.epDefs][i],i===e[s.elId])o=null;else if(a)for(var f in a){if(!a[f].enabled)return;o=null!=a[f].endpoint&&a[f].endpoint._jsPlumb?a[f].endpoint:this.addEndpoint(t,a[f].def),a[f].uniqueEndpoint&&(a[f].endpoint=o),o.addConnection(e)}else o=e.makeEndpoint(0===n,t,i);return null!=o&&(u.detachFromConnection(e),e.endpoints[n]=o,e[s.el]=o.element,e[s.elId]=o.elementId,l[0===n?"newSourceId":"newTargetId"]=o.elementId,H(l),r||e.repaint()),l.element=t,l}.bind(this);this.setSource=function(e,t,n){var r=W(e,t,0,n);this.anchorManager.sourceChanged(r.originalSourceId,r.newSourceId,e,r.el)},this.setTarget=function(e,t,n){var r=W(e,t,1,n);this.anchorManager.updateOtherEndpoint(r.originalSourceId,r.originalTargetId,r.newTargetId,e)},this.deleteEndpoint=function(e,t,n){var r="string"===typeof e?_[e]:e;return r&&o.deleteObject({endpoint:r,dontUpdateHover:t,deleteAttachedObjects:n}),o},this.deleteEveryEndpoint=function(){var e=o.setSuspendDrawing(!0);for(var t in w){var n=w[t];if(n&&n.length)for(var r=0,i=n.length;r<i;r++)o.deleteEndpoint(n[r],!0)}w={},k={},_={},E={},C={},o.anchorManager.reset();var a=o.getDragManager();return a&&a.reset(),e||o.setSuspendDrawing(!1),o};var G=function(e,t,n){var r=o.Defaults.ConnectionType||o.getDefaultConnectionType(),i=e.constructor===r?{connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]}:e;t&&o.fire("connectionDetached",i,n),o.fire("internal.connectionDetached",i,n),o.anchorManager.connectionDetached(i)},H=o.fireMoveEvent=function(e,t){o.fire("connectionMoved",e,t)};this.unregisterEndpoint=function(e){for(var t in e._jsPlumb.uuid&&(_[e._jsPlumb.uuid]=null),o.anchorManager.deleteEndpoint(e),w){var n=w[t];if(n){for(var r=[],i=0,a=n.length;i<a;i++)n[i]!==e&&r.push(n[i]);w[t]=r}w[t].length<1&&delete w[t]}};this.deleteConnection=function(e,t){return!(null==e||!(t=t||{}).force&&!n.functionChain(!0,!1,[[e.endpoints[0],"isDetachAllowed",[e]],[e.endpoints[1],"isDetachAllowed",[e]],[e,"isDetachAllowed",[e]],[o,"checkCondition",["beforeDetach",e]]]))&&(e.setHover(!1),G(e,!e.pending&&!1!==t.fireEvent,t.originalEvent),e.endpoints[0].detachFromConnection(e),e.endpoints[1].detachFromConnection(e),n.removeWithFunction(b,(function(t){return e.id===t.id})),e.cleanup(),e.destroy(),!0)},this.deleteEveryConnection=function(e){e=e||{};var t=b.length,n=0;return o.batch((function(){for(var r=0;r<t;r++)n+=o.deleteConnection(b[0],e)?1:0})),n},this.deleteConnectionsForElement=function(e,t){t=t||{},e=o.getElement(e);var n=q(e),r=w[n];if(r&&r.length)for(var i=0,a=r.length;i<a;i++)r[i].deleteEveryConnection(t);return o},this.deleteObject=function(e){var t={endpoints:{},connections:{},endpointCount:0,connectionCount:0},r=!1!==e.deleteAttachedObjects,i=function(n){null!=n&&null==t.connections[n.id]&&(e.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),t.connections[n.id]=n,t.connectionCount++)};for(var a in e.connection?i(e.connection):function(n){if(null!=n&&null==t.endpoints[n.id]&&(e.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),t.endpoints[n.id]=n,t.endpointCount++,r))for(var o=0;o<n.connections.length;o++){var a=n.connections[o];i(a)}}(e.endpoint),t.connections){var s=t.connections[a];if(s._jsPlumb){n.removeWithFunction(b,(function(e){return s.id===e.id})),G(s,!1!==e.fireEvent&&!s.pending,e.originalEvent);var c=null==e.deleteAttachedObjects?null:!e.deleteAttachedObjects;s.endpoints[0].detachFromConnection(s,null,c),s.endpoints[1].detachFromConnection(s,null,c),s.cleanup(!0),s.destroy(!0)}}for(var u in t.endpoints){var l=t.endpoints[u];l._jsPlumb&&(o.unregisterEndpoint(l),l.cleanup(!0),l.destroy(!0))}return t};var z=function(e,t,n,r){for(var o=0,i=e.length;o<i;o++)e[o][t].apply(e[o],n);return r(e)},Q=function(e,t,n){for(var r=[],o=0,i=e.length;o<i;o++)r.push([e[o][t].apply(e[o],n),e[o]]);return r},$=function(e,t,n){return function(){return z(e,t,arguments,n)}},K=function(e,t){return function(){return Q(e,t,arguments)}},Y=function(e,t){var n=[];if(e)if("string"===typeof e){if("*"===e)return e;n.push(e)}else if(t)n=e;else if(e.length)for(var r=0,o=e.length;r<o;r++)n.push(d(e[r]).id);else n.push(d(e).id);return n},X=function(e,t,n){return"*"===e||(e.length>0?-1!==e.indexOf(t):!n)};this.getConnections=function(e,t){e?e.constructor===String&&(e={scope:e}):e={};for(var n=e.scope||o.getDefaultScope(),r=Y(n,!0),i=Y(e.source),a=Y(e.target),s=!t&&r.length>1?{}:[],c=function(e,n){if(!t&&r.length>1){var o=s[e];null==o&&(o=s[e]=[]),o.push(n)}else s.push(n)},u=0,l=b.length;u<l;u++){var f=b[u],d=f.proxies&&f.proxies[0]?f.proxies[0].originalEp.elementId:f.sourceId,h=f.proxies&&f.proxies[1]?f.proxies[1].originalEp.elementId:f.targetId;X(r,f.scope)&&X(i,d)&&X(a,h)&&c(f.scope,f)}return s};var J=function(e,t){return function(n){for(var r=0,o=e.length;r<o;r++)n(e[r]);return t(e)}},Z=function(e){return function(t){return e[t]}},ee=function(e,t){var n,r,o={length:e.length,each:J(e,t),get:Z(e)},i=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],a=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,r=i.length;n<r;n++)o[i[n]]=$(e,i[n],t);for(n=0,r=a.length;n<r;n++)o[a[n]]=K(e,a[n]);return o};this.select=function(e){return(e=e||{}).scope=e.scope||"*",function e(t){var n=ee(t,e);return h.extend(n,{setDetachable:$(t,"setDetachable",e),setReattach:$(t,"setReattach",e),setConnector:$(t,"setConnector",e),delete:function(){for(var e=0,n=t.length;e<n;e++)o.deleteConnection(t[e])},isDetachable:K(t,"isDetachable"),isReattach:K(t,"isReattach")})}(e.connections||o.getConnections(e,!0))},this.selectEndpoints=function(e){(e=e||{}).scope=e.scope||"*";var t=!e.element&&!e.source&&!e.target,n=t?"*":Y(e.element),r=t?"*":Y(e.source),i=t?"*":Y(e.target),a=Y(e.scope,!0),s=[];for(var c in w){var u=X(n,c,!0),l=X(r,c,!0),f="*"!==r,d=X(i,c,!0),p="*"!==i;if(u||l||d)e:for(var m=0,y=w[c].length;m<y;m++){var g=w[c][m];if(X(a,g.scope,!0)){var v=f&&r.length>0&&!g.isSource,b=p&&i.length>0&&!g.isTarget;if(v||b)continue e;s.push(g)}}}return function e(t){var n=ee(t,e);return h.extend(n,{setEnabled:$(t,"setEnabled",e),setAnchor:$(t,"setAnchor",e),isEnabled:K(t,"isEnabled"),deleteEveryConnection:function(){for(var e=0,n=t.length;e<n;e++)t[e].deleteEveryConnection()},delete:function(){for(var e=0,n=t.length;e<n;e++)o.deleteEndpoint(t[e])}})}(s)},this.getAllConnections=function(){return b},this.getDefaultScope=function(){return A},this.getEndpoint=N,this.getEndpoints=function(e){return w[d(e).id]||[]},this.getDefaultEndpointType=function(){return h.Endpoint},this.getDefaultConnectionType=function(){return h.Connection},this.getId=q,this.draw=D,this.info=d,this.appendElement=j;var te=!1;this.isHoverSuspended=function(){return te},this.setHoverSuspended=function(e){te=e},this.hide=function(e,t){return U(e,"none",t),o},this.idstamp=x;var ne=function(e){if(!m&&e){var t=o.getElement(e);t.offsetParent&&o.setContainer(t.offsetParent)}},re=o.manage=function(e,t,n){return k[e]||(k[e]={el:t,endpoints:[],connections:[]},k[e].info=oe({elId:e,timestamp:P}),o.addClass(t,"jtk-managed"),n||o.fire("manageElement",{id:e,info:k[e].info,el:t})),k[e]},oe=(o.unmanage=function(e){if(k[e]){var t=k[e].el;o.removeClass(t,"jtk-managed"),delete k[e],o.fire("unmanageElement",{id:e,el:t})}},function(e){var t,n=e.timestamp,r=e.recalc,i=e.offset,a=e.elId;return T&&!n&&(n=P),!r&&n&&n===C[a]?{o:e.offset||E[a],s:S[a]}:(r||!i&&null==E[a]?null!=(t=k[a]?k[a].el:null)&&(S[a]=o.getSize(t),E[a]=o.getOffset(t),C[a]=n):(E[a]=i||E[a],null==S[a]&&null!=(t=k[a].el)&&(S[a]=o.getSize(t)),C[a]=n),E[a]&&!E[a].right&&(E[a].right=E[a].left+S[a][0],E[a].bottom=E[a].top+S[a][1],E[a].width=S[a][0],E[a].height=S[a][1],E[a].centerx=E[a].left+E[a].width/2,E[a].centery=E[a].top+E[a].height/2),{o:E[a],s:S[a]})});this.updateOffset=oe,this.init=function(){v||(o.Defaults.Container&&o.setContainer(o.Defaults.Container),o.anchorManager=new e.jsPlumb.AnchorManager({jsPlumbInstance:o}),v=!0,o.fire("ready",o))}.bind(this),this.log=g,this.jsPlumbUIComponent=u,this.makeAnchor=function(){var t,r=function(t,n){if(e.jsPlumb.Anchors[t])return new e.jsPlumb.Anchors[t](n);if(!o.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var i=arguments[0],a=arguments[1],s=(arguments[2],null);if(i.compute&&i.getOrientation)return i;if("string"===typeof i)s=r(arguments[0],{elementId:a,jsPlumbInstance:o});else if(n.isArray(i))if(n.isArray(i[0])||n.isString(i[0]))2===i.length&&n.isObject(i[1])?n.isString(i[0])?(t=e.jsPlumb.extend({elementId:a,jsPlumbInstance:o},i[1]),s=r(i[0],t)):(t=e.jsPlumb.extend({elementId:a,jsPlumbInstance:o,anchors:i[0]},i[1]),s=new e.jsPlumb.DynamicAnchor(t)):s=new h.DynamicAnchor({anchors:i,selector:null,elementId:a,jsPlumbInstance:o});else{var c={x:i[0],y:i[1],orientation:i.length>=4?[i[2],i[3]]:[0,0],offsets:i.length>=6?[i[4],i[5]]:[0,0],elementId:a,jsPlumbInstance:o,cssClass:7===i.length?i[6]:null};(s=new e.jsPlumb.Anchor(c)).clone=function(){return new e.jsPlumb.Anchor(c)}}return s.id||(s.id="anchor_"+x()),s},this.makeAnchors=function(t,r,i){for(var a=[],s=0,c=t.length;s<c;s++)"string"===typeof t[s]?a.push(e.jsPlumb.Anchors[t[s]]({elementId:r,jsPlumbInstance:i})):n.isArray(t[s])&&a.push(o.makeAnchor(t[s],r,i));return a},this.makeDynamicAnchor=function(t,n){return new e.jsPlumb.DynamicAnchor({anchors:t,selector:n,elementId:null,jsPlumbInstance:o})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var ie=function(t,r,i,a,s){var c=new u(r),l=r._jsPlumb.EndpointDropHandler({jsPlumb:o,enabled:function(){return t.def.enabled},isFull:function(){var e=o.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:a,isTarget:s,addClass:function(e){o.addClass(t.el,e)},removeClass:function(e){o.removeClass(t.el,e)},onDrop:function(e){e.endpoints[0].anchor.unlock()},isDropAllowed:function(){return c.isDropAllowed.apply(c,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(n){var i=t.def.endpoint;if(null==i||null==i._jsPlumb){var a=o.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),s=a.endpoints?e.jsPlumb.extend(r,{endpoint:t.def.def.endpoint||a.endpoints[1]}):r;a.anchors&&(s=e.jsPlumb.extend(s,{anchor:t.def.def.anchor||a.anchors[1]})),(i=o.addEndpoint(t.el,s))._mtNew=!0}if(r.uniqueEndpoint&&(t.def.endpoint=i),i.setDeleteOnEmpty(!0),n.isDetachable()&&i.initDraggable(),null!=i.anchor.positionFinder){var c=o.getUIPosition(arguments,o.getZoom()),u=o.getOffset(t.el),l=o.getSize(t.el),f=null==c?[0,0]:i.anchor.positionFinder(c,u,l,i.anchor.constructorParams);i.anchor.x=f[0],i.anchor.y=f[1]}return i},maybeCleanup:function(e){e._mtNew&&0===e.connections.length?o.deleteObject({endpoint:e}):delete e._mtNew}}),f=e.jsPlumb.dragEvents.drop;return i.scope=i.scope||r.scope||o.Defaults.Scope,i[f]=n.wrap(i[f],l,!0),i.rank=r.rank||0,s&&(i[e.jsPlumb.dragEvents.over]=function(){return!0}),!1===r.allowLoopback&&(i.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!==t.el}),o.initDroppable(t.el,i,"internal"),l};this.makeTarget=function(t,n,r){var i=e.jsPlumb.extend({_jsPlumb:this},r);e.jsPlumb.extend(i,n);for(var a=i.maxConnections||-1,s=function(t){var n=d(t),r=n.id,s=e.jsPlumb.extend({},i.dropOptions||{}),c=i.connectionType||"default";this.targetEndpointDefinitions[r]=this.targetEndpointDefinitions[r]||{},ne(r),n.el._isJsPlumbGroup&&null==s.rank&&(s.rank=-1);var u={def:e.jsPlumb.extend({},i),uniqueEndpoint:i.uniqueEndpoint,maxConnections:a,enabled:!0};i.createEndpoint&&(u.uniqueEndpoint=!0,u.endpoint=o.addEndpoint(t,u.def),u.endpoint.setDeleteOnEmpty(!1)),n.def=u,this.targetEndpointDefinitions[r][c]=u,ie(n,i,s,!0===i.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=u}.bind(this),c=t.length&&t.constructor!==String?t:[t],u=0,l=c.length;u<l;u++)s(c[u]);return this},this.unmakeTarget=function(e,t){var n=d(e);return o.destroyDroppable(n.el,"internal"),t||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,r,i){var a=e.jsPlumb.extend({_jsPlumb:this},i);e.jsPlumb.extend(a,r);var s=a.connectionType||"default",c=o.deriveEndpointAndAnchorSpec(s);a.endpoint=a.endpoint||c.endpoints[0],a.anchor=a.anchor||c.anchors[0];for(var u=a.maxConnections||-1,f=a.onMaxConnections,h=function(r){var i=r.id,c=this.getElement(r.el);this.sourceEndpointDefinitions[i]=this.sourceEndpointDefinitions[i]||{},ne(i);var d={def:e.jsPlumb.extend({},a),uniqueEndpoint:a.uniqueEndpoint,maxConnections:u,enabled:!0};a.createEndpoint&&(d.uniqueEndpoint=!0,d.endpoint=o.addEndpoint(t,d.def),d.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[i][s]=d,r.def=d;var h=e.jsPlumb.dragEvents.stop,p=e.jsPlumb.dragEvents.drag,m=e.jsPlumb.extend({},a.dragOptions||{}),y=m.drag,g=m.stop,v=null,b=!1;m.scope=m.scope||a.scope,m[p]=n.wrap(m[p],(function(){y&&y.apply(this,arguments),b=!1})),m[h]=n.wrap(m[h],function(){if(g&&g.apply(this,arguments),this.currentlyDragging=!1,null!=v._jsPlumb){var e=a.anchor||this.Defaults.Anchor,t=v.anchor,n=v.connections[0],r=this.makeAnchor(e,i,this),s=v.element;if(null!=r.positionFinder){var c=o.getOffset(s),u=this.getSize(s),l={left:c.left+t.x*u[0],top:c.top+t.y*u[1]},f=r.positionFinder(l,c,u,r.constructorParams);r.x=f[0],r.y=f[1]}v.setAnchor(r,!0),v.repaint(),this.repaint(v.elementId),null!=n&&this.repaint(n.targetId)}}.bind(this));var w=function(t){if(3!==t.which&&2!==t.button){var d=this.sourceEndpointDefinitions[i][s];if(d.enabled){if(i=this.getId(this.getElement(r.el)),a.filter)if(!1===(n.isString(a.filter)?function(e,t,n,r,o){for(var i=e.target||e.srcElement,a=!1,s=r.getSelector(t,n),c=0;c<s.length;c++)if(s[c]===i){a=!0;break}return o?!a:a}(t,r.el,a.filter,this,a.filterExclude):a.filter(t,r.el)))return;var h=this.select({source:i}).length;if(d.maxConnections>=0&&h>=d.maxConnections)return f&&f({element:r.el,maxConnections:u},t),!1;var p=e.jsPlumb.getPositionOnElement(t,c,l),y={};e.jsPlumb.extend(y,d.def),y.isTemporarySource=!0,y.anchor=[p[0],p[1],0,0],y.dragOptions=m,d.def.scope&&(y.scope=d.def.scope),v=this.addEndpoint(i,y),b=!0,v.setDeleteOnEmpty(!0),d.uniqueEndpoint&&(d.endpoint?v.finalEndpoint=d.endpoint:(d.endpoint=v,v.setDeleteOnEmpty(!1)));var g=function e(){o.off(v.canvas,"mouseup",e),o.off(r.el,"mouseup",e),b&&(b=!1,o.deleteEndpoint(v))};o.on(v.canvas,"mouseup",g),o.on(r.el,"mouseup",g);var w={};if(d.def.extract)for(var _ in d.def.extract){var k=(t.srcElement||t.target).getAttribute(_);k&&(w[d.def.extract[_]]=k)}o.trigger(v.canvas,"mousedown",t,w),n.consume(t)}}}.bind(this);this.on(r.el,"mousedown",w),d.trigger=w,a.filter&&(n.isString(a.filter)||n.isFunction(a.filter))&&o.setDragFilter(r.el,a.filter);var _=e.jsPlumb.extend({},a.dropOptions||{});ie(r,a,_,!0,!0===a.isTarget)}.bind(this),p=t.length&&t.constructor!==String?t:[t],m=0,y=p.length;m<y;m++)h(d(p[m]));return this},this.unmakeSource=function(e,t,n){var r=d(e);o.destroyDroppable(r.el,"internal");var i=this.sourceEndpointDefinitions[r.id];if(i)for(var a in i)if(null==t||t===a){var s=i[a].trigger;s&&o.off(r.el,"mousedown",s),n||delete this.sourceEndpointDefinitions[r.id][a]}return this},this.unmakeEverySource=function(){for(var e in this.sourceEndpointDefinitions)o.unmakeSource(e,null,!0);return this.sourceEndpointDefinitions={},this};var ae=function(e,t,r){t=n.isArray(t)?t:[t];var o=q(e);r=r||"default";for(var i=0;i<t.length;i++){var a=this[t[i]][o];if(a&&a[r])return a[r].def.scope||this.Defaults.Scope}}.bind(this),se=function(e,t,r,o){r=n.isArray(r)?r:[r];var i=q(e);o=o||"default";for(var a=0;a<r.length;a++){var s=this[r[a]][i];s&&s[o]&&(s[o].def.scope=t)}}.bind(this);this.getScope=function(e,t){return ae(e,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(e){return ae(e,"sourceEndpointDefinitions")},this.getTargetScope=function(e){return ae(e,"targetEndpointDefinitions")},this.setScope=function(e,t,n){this.setSourceScope(e,t,n),this.setTargetScope(e,t,n)},this.setSourceScope=function(e,t,n){se(e,t,"sourceEndpointDefinitions",n),this.setDragScope(e,t)},this.setTargetScope=function(e,t,n){se(e,t,"targetEndpointDefinitions",n),this.setDropScope(e,t)},this.unmakeEveryTarget=function(){for(var e in this.targetEndpointDefinitions)o.unmakeTarget(e,!0);return this.targetEndpointDefinitions={},this};var ce=function(e,t,r,i,a){var s,c,u,l="source"===e?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(a=a||"default",t.length&&!n.isString(t)){s=[];for(var f=0,h=t.length;f<h;f++)l[(c=d(t[f])).id]&&l[c.id][a]&&(s[f]=l[c.id][a].enabled,u=i?!s[f]:r,l[c.id][a].enabled=u,o[u?"removeClass":"addClass"](c.el,"jtk-"+e+"-disabled"))}else{var p=(c=d(t)).id;l[p]&&l[p][a]&&(s=l[p][a].enabled,u=i?!s:r,l[p][a].enabled=u,o[u?"removeClass":"addClass"](c.el,"jtk-"+e+"-disabled"))}return s}.bind(this),ue=function(e,t){return n.isString(e)||!e.length?t.apply(this,[e]):e.length?t.apply(this,[e[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(e,t){return ce("source",e,null,!0,t),this.isSourceEnabled(e,t)},this.setSourceEnabled=function(e,t,n){return ce("source",e,t,null,n)},this.isSource=function(e,t){return t=t||"default",ue(e,function(e){var n=this.sourceEndpointDefinitions[d(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isSourceEnabled=function(e,t){return t=t||"default",ue(e,function(e){var n=this.sourceEndpointDefinitions[d(e).id];return n&&n[t]&&!0===n[t].enabled}.bind(this))},this.toggleTargetEnabled=function(e,t){return ce("target",e,null,!0,t),this.isTargetEnabled(e,t)},this.isTarget=function(e,t){return t=t||"default",ue(e,function(e){var n=this.targetEndpointDefinitions[d(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isTargetEnabled=function(e,t){return t=t||"default",ue(e,function(e){var n=this.targetEndpointDefinitions[d(e).id];return n&&n[t]&&!0===n[t].enabled}.bind(this))},this.setTargetEnabled=function(e,t,n){return ce("target",e,t,null,n)},this.ready=function(e){o.bind("ready",e)};var le=function(e,t){if("object"===typeof e&&e.length)for(var n=0,r=e.length;n<r;n++)t(e[n]);else t(e);return o};this.repaint=function(e,t,n){return le(e,(function(e){D(e,t,n)}))},this.revalidate=function(e,t,n){return le(e,(function(e){var r=n?e:o.getId(e);o.updateOffset({elId:r,recalc:!0,timestamp:t});var i=o.getDragManager();i&&i.updateOffsets(r),o.repaint(e)}))},this.repaintEverything=function(){var e,t=r();for(e in w)o.updateOffset({elId:e,recalc:!0,timestamp:t});for(e in w)D(e,null,t);return this},this.removeAllEndpoints=function(e,t,n){n=n||[];return function e(r){var i,a,s=d(r),c=w[s.id];if(c)for(n.push(s),i=0,a=c.length;i<a;i++)o.deleteEndpoint(c[i],!1);if(delete w[s.id],t&&s.el&&3!==s.el.nodeType&&8!==s.el.nodeType)for(i=0,a=s.el.childNodes.length;i<a;i++)e(s.el.childNodes[i])}(e),this};var fe=function(e,t){o.removeAllEndpoints(e.id,!0,t);for(var n=o.getDragManager(),r=function(e){n&&n.elementRemoved(e.id),o.anchorManager.clearFor(e.id),o.anchorManager.removeFloatingConnection(e.id),o.isSource(e.el)&&o.unmakeSource(e.el),o.isTarget(e.el)&&o.unmakeTarget(e.el),o.destroyDraggable(e.el),o.destroyDroppable(e.el),delete o.floatingConnections[e.id],delete k[e.id],delete E[e.id],e.el&&(o.removeElement(e.el),e.el._jsPlumb=null)},i=1;i<t.length;i++)r(t[i]);r(e)};this.remove=function(e,t){var n=d(e),r=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&o.batch((function(){fe(n,r)}),!0===t),o},this.empty=function(e,t){var n=[];return o.batch((function(){!function e(t,r){var o=d(t);if(o.text)o.el.parentNode.removeChild(o.el);else if(o.el){for(;o.el.childNodes.length>0;)e(o.el.childNodes[0]);r||fe(o,n)}}(e,!0)}),!1===t),o},this.reset=function(e){o.silently(function(){te=!1,o.removeAllGroups(),o.removeGroupManager(),o.deleteEveryEndpoint(),e||o.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},b.length=0,this.doReset&&this.doReset()}.bind(this))};var de=function(e){e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.cleanup(),e.destroy()};this.clear=function(){o.select().each(de),o.selectEndpoints().each(de),w={},_={}},this.setDefaultScope=function(e){return A=e,o},this.deriveEndpointAndAnchorSpec=function(e,t){for(var n=((t?"":"default ")+e).split(/[\s]/),r=null,i=null,a=null,s=null,c=0;c<n.length;c++){var u=o.getType(n[c],"connection");u&&(u.endpoints&&(r=u.endpoints),u.endpoint&&(i=u.endpoint),u.anchors&&(s=u.anchors),u.anchor&&(a=u.anchor))}return{endpoints:r||[i,i],anchors:s||[a,a]}},this.setId=function(e,t,r){var o;n.isString(e)?o=e:(e=this.getElement(e),o=this.getId(e));var i=this.getConnections({source:o,scope:"*"},!0),a=this.getConnections({target:o,scope:"*"},!0);t=""+t,r?e=this.getElement(t):(e=this.getElement(o),this.setAttribute(e,"id",t)),w[t]=w[o]||[];for(var s=0,c=w[t].length;s<c;s++)w[t][s].setElementId(t),w[t][s].setReferenceElement(e);delete w[o],this.sourceEndpointDefinitions[t]=this.sourceEndpointDefinitions[o],delete this.sourceEndpointDefinitions[o],this.targetEndpointDefinitions[t]=this.targetEndpointDefinitions[o],delete this.targetEndpointDefinitions[o],this.anchorManager.changeId(o,t);var u=this.getDragManager();u&&u.changeId(o,t),k[t]=k[o],delete k[o];var l=function(n,r,o){for(var i=0,a=n.length;i<a;i++)n[i].endpoints[r].setElementId(t),n[i].endpoints[r].setReferenceElement(e),n[i][o+"Id"]=t,n[i][o]=e};l(i,0,"source"),l(a,1,"target"),this.repaint(t)},this.setDebugLog=function(e){g=e},this.setSuspendDrawing=function(e,t){var n=T;return T=e,P=e?(new Date).getTime():null,t&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return T},this.getSuspendedAt=function(){return P},this.batch=function(e,t){var r=this.isSuspendDrawing();r||this.setSuspendDrawing(!0);try{e()}catch(o){n.log("Function run while suspended failed",o)}r||this.setSuspendDrawing(!1,!t)},this.doWhileSuspended=this.batch,this.getCachedData=function(e){var t=E[e];return t?{o:t,s:S[e]}:oe({elId:e})},this.timestamp=r,this.show=function(e,t){return U(e,"block",t),o},this.toggleVisible=function(e,t){var n=null;t&&(n=function(e){var t=e.isVisible();e.setVisible(!t)}),B(e,(function(e){var t=e.isVisible();e.setVisible(!t)}),n)},this.addListener=this.bind;var he=[];this.registerFloatingConnection=function(e,t,r){he[e.id]=t,n.addToList(w,e.id,r)},this.getFloatingConnectionFor=function(e){return he[e]},this.listManager=new e.jsPlumbListManager(this)};n.extend(e.jsPlumbInstance,n.EventGenerator,{setAttribute:function(e,t,n){this.setAttribute(e,t,n)},getAttribute:function(t,n){return this.getAttribute(e.jsPlumb.getElement(t),n)},convertToFullOverlaySpec:function(e){return n.isString(e)&&(e=[e,{}]),e[1].id=e[1].id||n.uuid(),e},registerConnectionType:function(t,n){if(this._connectionTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var r={},o=0;o<n.overlays.length;o++){var i=this.convertToFullOverlaySpec(n.overlays[o]);r[i[1].id]=i}this._connectionTypes[t].overlays=r}},registerConnectionTypes:function(e){for(var t in e)this.registerConnectionType(t,e[t])},registerEndpointType:function(t,n){if(this._endpointTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var r={},o=0;o<n.overlays.length;o++){var i=this.convertToFullOverlaySpec(n.overlays[o]);r[i[1].id]=i}this._endpointTypes[t].overlays=r}},registerEndpointTypes:function(e){for(var t in e)this.registerEndpointType(t,e[t])},getType:function(e,t){return"connection"===t?this._connectionTypes[e]:this._endpointTypes[e]},setIdChanged:function(e,t){this.setId(e,t,!0)},setParent:function(e,t){var n=this.getElement(e),r=this.getId(n),o=this.getElement(t),i=this.getId(o),a=this.getDragManager();n.parentNode.removeChild(n),o.appendChild(n),a&&a.setParent(n,r,o,i)},extend:function(e,t,n){var r;if(n)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]];else for(r in t)e[r]=t[r];return e},floatingConnections:{},getFloatingAnchorIndex:function(e){return e.endpoints[0].isFloating()?0:e.endpoints[1].isFloating()?1:-1},proxyConnection:function(e,t,n,r,o,i){var a,s=e.endpoints[t].elementId,c=e.endpoints[t];e.proxies=e.proxies||[],(a=e.proxies[t]?e.proxies[t].ep:this.addEndpoint(n,{endpoint:o(e,t),anchor:i(e,t),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),e.proxies[t]={ep:a,originalEp:c},0===t?this.anchorManager.sourceChanged(s,r,e,n):(this.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,s,r,e),e.target=n,e.targetId=r),c.detachFromConnection(e,null,!0),a.connections=[e],e.endpoints[t]=a,c.setVisible(!1),e.setVisible(!0),this.revalidate(n)},unproxyConnection:function(e,t,n){if(null!=e._jsPlumb&&null!=e.proxies&&null!=e.proxies[t]){var r=e.proxies[t].originalEp.element,o=e.proxies[t].originalEp.elementId;e.endpoints[t]=e.proxies[t].originalEp,0===t?this.anchorManager.sourceChanged(n,o,e,r):(this.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,n,o,e),e.target=r,e.targetId=o),e.proxies[t].ep.detachFromConnection(e,null),e.proxies[t].originalEp.addConnection(e),e.isVisible()&&e.proxies[t].originalEp.setVisible(!0),delete e.proxies[t]}}});var h=new d;e.jsPlumb=h,h.getInstance=function(e,t){var n=new d(e);if(t)for(var r in t)n[r]=t[r];return n.init(),n},h.each=function(e,t){if(null!=e)if("string"===typeof e)t(h.getElement(e));else if(null!=e.length)for(var n=0;n<e.length;n++)t(h.getElement(e[n]));else t(e)},t.jsPlumb=h}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil;t.OverlayCapableJsPlumbUIComponent=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},t.label&&(this.getDefaultType().overlays.__label=["Label",{label:t.label,location:t.labelLocation||this.defaultLabelLocation||.5,labelStyle:t.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(e){if(this._jsPlumb)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].setListenerComponent(e)}},t.OverlayCapableJsPlumbUIComponent.applyType=function(e,t){if(t.overlays){var n,r={};for(n in t.overlays){var o=e._jsPlumb.overlays[t.overlays[n][1].id];if(o)o.updateFrom(t.overlays[n][1]),r[t.overlays[n][1].id]=!0;else{var i=e.getCachedTypeItem("overlay",t.overlays[n][1].id);null!=i?(i.reattach(e._jsPlumb.instance,e),i.setVisible(!0),i.updateFrom(t.overlays[n][1]),e._jsPlumb.overlays[i.id]=i):i=e.addOverlay(t.overlays[n],!0),r[i.id]=!0}}for(n in e._jsPlumb.overlays)null==r[e._jsPlumb.overlays[n].id]&&e.removeOverlay(e._jsPlumb.overlays[n].id,!0)}},n.extend(t.OverlayCapableJsPlumbUIComponent,e.jsPlumbUIComponent,{setHover:function(e,t){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][e?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(e,r){var o=function(e,r){var o=null;if(n.isArray(r)){var i=r[0],a=t.extend({component:e,_jsPlumb:e._jsPlumb.instance},r[1]);3===r.length&&t.extend(a,r[2]),o=new(t.Overlays[e._jsPlumb.instance.getRenderMode()][i])(a)}else o=r.constructor===String?new(t.Overlays[e._jsPlumb.instance.getRenderMode()][r])({component:e,_jsPlumb:e._jsPlumb.instance}):r;return o.id=o.id||n.uuid(),e.cacheTypeItem("overlay",o,o.id),e._jsPlumb.overlays[o.id]=o,o}(this,e);if(this.getData&&"Label"===o.type&&n.isArray(e)){var i=this.getData(),a=e[1];if(i){var s=a.labelLocationAttribute||"labelLocation",c=i?i[s]:null;c&&(o.loc=c)}}return r||this.repaint(),o},getOverlay:function(e){return this._jsPlumb.overlays[e]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(e){var t=this.getOverlay(e);t&&t.hide()},hideOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].hide()},showOverlay:function(e){var t=this.getOverlay(e);t&&t.show()},showOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].show()},removeAllOverlays:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup&&this._jsPlumb.overlays[t].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},e||this.repaint()},removeOverlay:function(e,t){var n=this._jsPlumb.overlays[e];n&&(n.setVisible(!1),!t&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[e],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[e],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[e])},removeOverlays:function(){for(var e=0,t=arguments.length;e<t;e++)this.removeOverlay(arguments[e])},moveParent:function(e){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),e.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var t in this.canvas.parentNode.removeChild(this.canvas),e.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[t].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[t].getElement();n.parentNode.removeChild(n),e.appendChild(n)}},getLabel:function(){var e=this.getOverlay("__label");return null!=e?e.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(e){var n=this.getOverlay("__label");n?e.constructor===String||e.constructor===Function?n.setLabel(e):(e.label&&n.setLabel(e.label),e.location&&n.setLocation(e.location)):(n=function(e,n){var r={cssClass:n.cssClass,labelStyle:e.labelStyle,id:"__label",component:e,_jsPlumb:e._jsPlumb.instance},o=t.extend(r,n);return new(t.Overlays[e._jsPlumb.instance.getRenderMode()].Label)(o)}(this,e.constructor===String||e.constructor===Function?{label:e}:e),this._jsPlumb.overlays.__label=n);this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup(e),this._jsPlumb.overlays[t].destroy(e);e&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(e){this[e?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(e,t){this._jsPlumb.overlayPositions[e.id]=t},getAbsoluteOverlayPosition:function(e){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[e.id]:null},_clazzManip:function(e,t,n){if(!n)for(var r in this._jsPlumb.overlays)this._jsPlumb.overlays[r][e+"Class"](t)},addClass:function(e,t){this._clazzManip("add",e,t)},removeClass:function(e,t){this._clazzManip("remove",e,t)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(e,t,n){var r=!1;return{drag:function(){if(r)return r=!1,!0;if(t.element){var o=n.getUIPosition(arguments,n.getZoom());null!=o&&n.setPosition(t.element,o),n.repaint(t.element,o),e.paint({anchorPoint:e.anchor.getCurrentLocation({element:e})})}},stopDrag:function(){r=!0}}},r=function(e,t,n,r){var o=t.createElement("div",{position:"absolute"});t.appendElement(o);var i=t.getId(o);t.setPosition(o,n),o.style.width=r[0]+"px",o.style.height=r[1]+"px",t.manage(i,o,!0),e.id=i,e.element=o},o=function(t,n,r,o,i,a,s,c){return s({paintStyle:t,endpoint:r,anchor:new e.FloatingAnchor({reference:n,referenceCanvas:o,jsPlumbInstance:a}),source:i,scope:c})},i=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],a=function(e,t){var n=0;if(null!=t)for(var r=0;r<e.connections.length;r++)if(e.connections[r].sourceId===t||e.connections[r].targetId===t){n=r;break}return e.connections[n]};e.Endpoint=function(s){var c=s._jsPlumb,u=s.newConnection,l=s.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:s.connectionType,maxConnections:null==s.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:s.maxConnections,paintStyle:s.endpointStyle||s.paintStyle||s.style||this._jsPlumb.instance.Defaults.EndpointStyle||e.Defaults.EndpointStyle,hoverPaintStyle:s.endpointHoverStyle||s.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle,connectorStyle:s.connectorStyle,connectorHoverStyle:s.connectorHoverStyle,connectorClass:s.connectorClass,connectorHoverClass:s.connectorHoverClass,connectorOverlays:s.connectorOverlays,connector:s.connector,connectorTooltip:s.connectorTooltip}),this._jsPlumb.enabled=!(!1===s.enabled),this._jsPlumb.visible=!0,this.element=e.getElement(s.source),this._jsPlumb.uuid=s.uuid,this._jsPlumb.floatingEndpoint=null;var f=null;this._jsPlumb.uuid&&(s.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=s.elementId,this.dragProxy=s.dragProxy,this._jsPlumb.connectionCost=s.connectionCost,this._jsPlumb.connectionsDirected=s.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var d=!0===s.deleteOnEmpty;this.setDeleteOnEmpty=function(e){d=e};var h=function(){var t=c.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=c.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(n),e.updateClasses(this.element,n,t)}.bind(this);this.prepareAnchor=function(e){var t=this._jsPlumb.instance.makeAnchor(e,this.elementId,c);return t.bind("anchorChanged",function(e){this.fire("anchorChanged",{endpoint:this,anchor:e}),h()}.bind(this)),t},this.setPreparedAnchor=function(e,t){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=e,h(),t||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(e,t){var n=this.prepareAnchor(e);return this.setPreparedAnchor(n,t),this};var p=function(e){if(this.connections.length>0)for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(e,!1);else this.setHover(e)}.bind(this);this.bind("mouseover",(function(){p(!0)})),this.bind("mouseout",(function(){p(!1)})),s._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,r){var o,i=function(t,n){var r=c.getRenderMode();if(e.Endpoints[r][t])return new e.Endpoints[r][t](n);if(!c.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},a={_jsPlumb:this._jsPlumb.instance,cssClass:s.cssClass,container:s.container,tooltip:s.tooltip,connectorTooltip:s.connectorTooltip,endpoint:this};return t.isString(n)?o=i(n,a):t.isArray(n)?(a=t.merge(n[1],a),o=i(n[0],a)):o=n.clone(),o.clone=function(){return t.isString(n)?i(n,a):t.isArray(n)?(a=t.merge(n[1],a),i(n[0],a)):void 0}.bind(this),o.typeId=r,o},this.setEndpoint=function(e,t){var n=this.prepareEndpoint(e);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(e,t){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=e,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},e.extend(this,s,i),this.isSource=s.isSource||!1,this.isTemporarySource=s.isTemporarySource||!1,this.isTarget=s.isTarget||!1,this.connections=s.connections||[],this.connectorPointerEvents=s["connector-pointer-events"],this.scope=s.scope||c.getDefaultScope(),this.timestamp=null,this.reattachConnections=s.reattach||c.Defaults.ReattachConnections,this.connectionsDetachable=c.Defaults.ConnectionsDetachable,!1!==s.connectionsDetachable&&!1!==s.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==s.dragAllowedWhenFull,s.onMaxConnections&&this.bind("maxConnections",s.onMaxConnections),this.addConnection=function(e){this.connections.push(e),this[(this.connections.length>0?"add":"remove")+"Class"](c.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](c.endpointFullClass)},this.detachFromConnection=function(e,t,n){(t=null==t?this.connections.indexOf(e):t)>=0&&(this.connections.splice(t,1),this[(this.connections.length>0?"add":"remove")+"Class"](c.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](c.endpointFullClass)),!n&&d&&0===this.connections.length&&c.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(e){for(var t=this.connections.length,n=0;n<t;n++)c.deleteConnection(this.connections[0],e)},this.detachFrom=function(e,t,n){for(var r=[],o=0;o<this.connections.length;o++)this.connections[o].endpoints[1]!==e&&this.connections[o].endpoints[0]!==e||r.push(this.connections[o]);for(var i=0,a=r.length;i<a;i++)c.deleteConnection(r[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var r=this._jsPlumb.instance.getId(n),o=this.elementId;return t.removeWithFunction(s.endpointsByElement[this.elementId],function(e){return e.id===this.id}.bind(this)),this.element=e.getElement(n),this.elementId=c.getId(this.element),c.anchorManager.rehomeEndpoint(this,o,this.element),c.dragManager.endpointAdded(this.element),t.addToList(s.endpointsByElement,r,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),t=this.anchor.getOrientation(this),n=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},getOrientation:function(){return t},getCssClass:function(){return n}};return l({dropOptions:s.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:s.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(e){var t=(e=e||{}).timestamp,n=!(!1===e.recalc);if(!t||this.timestamp!==t){var r=c.updateOffset({elId:this.elementId,timestamp:t}),o=e.offset?e.offset.o:r.o;if(null!=o){var i=e.anchorPoint,s=e.connectorPaintStyle;if(null==i){var u=e.dimensions||r.s,l={xy:[o.left,o.top],wh:u,element:this,timestamp:t};if(n&&this.anchor.isDynamic&&this.connections.length>0){var f=a(this,e.elementWithPrecedence),d=f.endpoints[0]===this?1:0,h=0===d?f.sourceId:f.targetId,p=c.getCachedData(h),m=p.o,y=p.s;l.index=0===d?1:0,l.connection=f,l.txy=[m.left,m.top],l.twh=y,l.tElement=f.endpoints[d]}else this.connections.length>0&&(l.connection=this.connections[0]);i=this.anchor.compute(l)}for(var g in this.endpoint.compute(i,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,s||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=t,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var v=this._jsPlumb.overlays[g];v.isVisible()&&(this._jsPlumb.overlayPlacements[g]=v.draw(this.endpoint,this._jsPlumb.paintStyleInUse),v.paint(this._jsPlumb.overlayPlacements[g]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var m=!1;this.initDraggable=function(){if(!m&&e.isDragSupported(this.element)){var i,a={id:null,element:null},d=null,h=!1,p=null,y=n(this,a,c),g=s.dragOptions||{},v=e.dragEvents.start,b=e.dragEvents.stop,w=e.dragEvents.drag,_=e.dragEvents.beforeStart,k=function(t){d=this.connectorSelector();var n=!0;this.isEnabled()||(n=!1),null!=d||this.isSource||this.isTemporarySource||(n=!1),!this.isSource||!this.isFull()||null!=d&&this.dragAllowedWhenFull||(n=!1),null==d||d.isDetachable(this)||(this.isFull()?n=!1:d=null);var f=c.checkCondition(null==d?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:d});if(!1===f?n=!1:"object"===typeof f?e.extend(f,i||{}):f=i||{},!1===n)return c.stopDrag&&c.stopDrag(this.canvas),y.stopDrag(),!1;for(var m=0;m<this.connections.length;m++)this.connections[m].setHover(!1);this.addClass("endpointDrag"),c.setConnectionBeingDragged(!0),d&&!this.isFull()&&this.isSource&&(d=null),c.updateOffset({elId:this.elementId});var g=this._jsPlumb.instance.getOffset(this.canvas),v=this.canvas,b=this._jsPlumb.instance.getSize(this.canvas);r(a,c,g,b),c.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var w=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var _=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);_.endpoints[1]&&(w=_.endpoints[1])}var k=this._jsPlumb.instance.makeAnchor("Center");k.isFloating=!0,this._jsPlumb.floatingEndpoint=o(this.getPaintStyle(),k,w,this.canvas,a.element,c,l,this.scope);var E=this._jsPlumb.floatingEndpoint.anchor;if(null==d)this.setHover(!1,!1),(d=u({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:s.connectorStyle,hoverPaintStyle:s.connectorHoverStyle,connector:s.connector,overlays:s.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:s.scope,data:f})).pending=!0,d.addClass(c.draggingClass),this._jsPlumb.floatingEndpoint.addClass(c.draggingClass),this._jsPlumb.floatingEndpoint.anchor=E,c.fire("connectionDrag",d),c.anchorManager.newConnection(d);else{h=!0,d.setHover(!1);var C=d.endpoints[0].id===this.id?0:1;this.detachFromConnection(d,null,!0);var O=c.getDragScope(v);c.setAttribute(this.canvas,"originalScope",O),c.fire("connectionDrag",d),0===C?(p=[d.source,d.sourceId,v,O],c.anchorManager.sourceChanged(d.endpoints[C].elementId,a.id,d,a.element)):(p=[d.target,d.targetId,v,O],d.target=a.element,d.targetId=a.id,c.anchorManager.updateOtherEndpoint(d.sourceId,d.endpoints[C].elementId,d.targetId,d)),d.suspendedEndpoint=d.endpoints[C],d.suspendedElement=d.endpoints[C].getElement(),d.suspendedElementId=d.endpoints[C].elementId,d.suspendedElementType=0===C?"source":"target",d.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=d.suspendedEndpoint,d.endpoints[C]=this._jsPlumb.floatingEndpoint,d.addClass(c.draggingClass),this._jsPlumb.floatingEndpoint.addClass(c.draggingClass)}c.registerFloatingConnection(a,d,this._jsPlumb.floatingEndpoint),c.currentlyDragging=!0}.bind(this),E=function(){if(c.setConnectionBeingDragged(!1),d&&null!=d.endpoints){var e=c.getDropEvent(arguments),t=c.getFloatingAnchorIndex(d);if(d.endpoints[0===t?1:0].anchor.unlock(),d.removeClass(c.draggingClass),this._jsPlumb&&(d.deleteConnectionNow||d.endpoints[t]===this._jsPlumb.floatingEndpoint)&&h&&d.suspendedEndpoint){0===t?(d.floatingElement=d.source,d.floatingId=d.sourceId,d.floatingEndpoint=d.endpoints[0],d.floatingIndex=0,d.source=p[0],d.sourceId=p[1]):(d.floatingElement=d.target,d.floatingId=d.targetId,d.floatingEndpoint=d.endpoints[1],d.floatingIndex=1,d.target=p[0],d.targetId=p[1]);var n=this._jsPlumb.floatingEndpoint;c.setDragScope(p[2],p[3]),d.endpoints[t]=d.suspendedEndpoint,d.isReattach()||d._forceReattach||d._forceDetach||!c.deleteConnection(d,{originalEvent:e})?(d.setHover(!1),d._forceDetach=null,d._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(d),d.suspendedEndpoint.addConnection(d),1===t?c.anchorManager.updateOtherEndpoint(d.sourceId,d.floatingId,d.targetId,d):c.anchorManager.sourceChanged(d.floatingId,d.sourceId,d,d.source),c.repaint(p[1])):c.deleteObject({endpoint:n})}this.deleteAfterDragStop?c.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),c.fire("connectionDragStop",d,e),d.pending&&c.fire("connectionAborted",d,e),c.currentlyDragging=!1,d.suspendedElement=null,d.suspendedEndpoint=null,d=null}a&&a.element&&c.remove(a.element,!1,!1),f&&c.deleteObject({endpoint:f}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}.bind(this);(g=e.extend({},g)).scope=this.scope||g.scope,g[_]=t.wrap(g[_],(function(e){i=e.e.payload||{}}),!1),g[v]=t.wrap(g[v],k,!1),g[w]=t.wrap(g[w],y.drag),g[b]=t.wrap(g[b],E),g.multipleDrop=!1,g.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0&&!1!==this.connectionsDetachable}.bind(this),c.initDraggable(this.canvas,g,"internal"),this.canvas._jsPlumbRelatedElement=this.element,m=!0}};var y=s.endpoint||this._jsPlumb.instance.Defaults.Endpoint||e.Defaults.Endpoint;this.setEndpoint(y,!0);var g=s.anchor?s.anchor:s.anchors?s.anchors:c.Defaults.Anchor||"Top";this.setAnchor(g,!0);var v=["default",s.type||""].join(" ");this.addType(v,s.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var b=function(n,r,o,i){if(e.isDropSupported(this.element)){var a=s.dropOptions||c.Defaults.DropOptions||e.Defaults.DropOptions;(a=e.extend({},a)).scope=a.scope||this.scope;var u=e.dragEvents.drop,l=e.dragEvents.over,f=e.dragEvents.out,d=this,h=c.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:c,enabled:function(){return null==o||o.isEnabled()},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(e){d.addClass(e)},removeClass:function(e){d.removeClass(e)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:i,isRedrop:function(e,t){return e.suspendedEndpoint&&t.reference&&e.suspendedEndpoint.id===t.reference.id}});a[u]=t.wrap(a[u],h,!0),a[l]=t.wrap(a[l],function(){var t=e.getDragObject(arguments),n=c.getAttribute(e.getElement(t),"dragId"),r=c.getFloatingConnectionFor(n);if(null!=r){var o=c.getFloatingAnchorIndex(r),i=this.isTarget&&0!==o||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id;if(i){var a=c.checkCondition("checkDropAllowed",{sourceEndpoint:r.endpoints[o],targetEndpoint:this,connection:r});this[(a?"add":"remove")+"Class"](c.endpointDropAllowedClass),this[(a?"remove":"add")+"Class"](c.endpointDropForbiddenClass),r.endpoints[o].anchor.over(this.anchor,this)}}}.bind(this)),a[f]=t.wrap(a[f],function(){var t=e.getDragObject(arguments),n=null==t?null:c.getAttribute(e.getElement(t),"dragId"),r=n?c.getFloatingConnectionFor(n):null;if(null!=r){var o=c.getFloatingAnchorIndex(r),i=this.isTarget&&0!==o||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id;i&&(this.removeClass(c.endpointDropAllowedClass),this.removeClass(c.endpointDropForbiddenClass),r.endpoints[o].anchor.out())}}.bind(this)),c.initDroppable(n,a,"internal",r)}}.bind(this);return this.anchor.isFloating||b(this.canvas,!(s._transient||this.anchor.isFloating),this,s.reference),this},t.extend(e.Endpoint,e.OverlayCapableJsPlumbUIComponent,{setVisible:function(e,t,n){if(this._jsPlumb.visible=e,this.canvas&&(this.canvas.style.display=e?"block":"none"),this[e?"showOverlays":"hideOverlays"](),!t)for(var r=0;r<this.connections.length;r++)if(this.connections[r].setVisible(e),!n){var o=this===this.connections[r].endpoints[0]?1:0;1===this.connections[r].endpoints[o].connections.length&&this.connections[r].endpoints[o].setVisible(e,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,n){this.setPaintStyle(t.endpointStyle||t.paintStyle,n),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,n),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),e.extend(this,t,i),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(e){this._jsPlumb.enabled=e},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");e.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(e){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(e)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(e){var t=!1;if(e)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===e||this.connections[n].endpoints[0]===e){t=!0;break}return t},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(e){this._jsPlumb.connectionCost=e},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(e){this._jsPlumb.connectionsDirected=e},setElementId:function(e){this.elementId=e,this.anchor.elementId=e},setReferenceElement:function(t){this.element=e.getElement(t)},setDragAllowedWhenFull:function(e){this.dragAllowedWhenFull=e},equals:function(e){return this.anchor.equals(e.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(e){return this.anchor.compute(e)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(e){return function(n){var r=e.jsPlumb;e.removeClass(r.endpointDropAllowedClass),e.removeClass(r.endpointDropForbiddenClass);var o=r.getDropEvent(arguments),i=r.getDragObject(arguments),a=r.getAttribute(i,"dragId"),s=(r.getAttribute(i,"elId"),r.getAttribute(i,"originalScope")),c=r.getFloatingConnectionFor(a);if(null!=c){var u=null!=c.suspendedEndpoint;if(!u||null!=c.suspendedEndpoint._jsPlumb){var l=e.getEndpoint(c);if(null!=l){if(e.isRedrop(c,e))return c._forceReattach=!0,c.setHover(!1),void(e.maybeCleanup&&e.maybeCleanup(l));var f=r.getFloatingAnchorIndex(c);if(0===f&&!e.isSource||1===f&&!e.isTarget)e.maybeCleanup&&e.maybeCleanup(l);else{e.onDrop&&e.onDrop(c),s&&r.setDragScope(i,s);var d=e.isFull(n);if(d&&l.fire("maxConnections",{endpoint:this,connection:c,maxConnections:l._jsPlumb.maxConnections},o),!d&&e.enabled()){var h=!0;0===f?(c.floatingElement=c.source,c.floatingId=c.sourceId,c.floatingEndpoint=c.endpoints[0],c.floatingIndex=0,c.source=e.element,c.sourceId=e.elementId):(c.floatingElement=c.target,c.floatingId=c.targetId,c.floatingEndpoint=c.endpoints[1],c.floatingIndex=1,c.target=e.element,c.targetId=e.elementId),u&&c.suspendedEndpoint.id!==l.id&&(c.isDetachAllowed(c)&&c.endpoints[f].isDetachAllowed(c)&&c.suspendedEndpoint.isDetachAllowed(c)&&r.checkCondition("beforeDetach",c)||(h=!1));var p=function(n){c.endpoints[f].detachFromConnection(c),c.suspendedEndpoint&&c.suspendedEndpoint.detachFromConnection(c),c.endpoints[f]=l,l.addConnection(c);var i=l.getParameters();for(var a in i)c.setParameter(a,i[a]);if(u){var s=c.suspendedEndpoint.elementId;r.fireMoveEvent({index:f,originalSourceId:0===f?s:c.sourceId,newSourceId:0===f?l.elementId:c.sourceId,originalTargetId:1===f?s:c.targetId,newTargetId:1===f?l.elementId:c.targetId,originalSourceEndpoint:0===f?c.suspendedEndpoint:c.endpoints[0],newSourceEndpoint:0===f?l:c.endpoints[0],originalTargetEndpoint:1===f?c.suspendedEndpoint:c.endpoints[1],newTargetEndpoint:1===f?l:c.endpoints[1],connection:c},o)}else i.draggable&&r.initDraggable(this.element,e.dragOptions,"internal",r);(1===f?r.anchorManager.updateOtherEndpoint(c.sourceId,c.floatingId,c.targetId,c):r.anchorManager.sourceChanged(c.floatingId,c.sourceId,c,c.source),c.endpoints[0].finalEndpoint)&&(c.endpoints[0].detachFromConnection(c),c.endpoints[0]=c.endpoints[0].finalEndpoint,c.endpoints[0].addConnection(c));t.isObject(n)&&c.mergeData(n),r.finaliseConnection(c,null,o,!1),c.setHover(!1),r.revalidate(c.endpoints[0].element)}.bind(this),m=function(){c.suspendedEndpoint&&(c.endpoints[f]=c.suspendedEndpoint,c.setHover(!1),c._forceDetach=!0,0===f?(c.source=c.suspendedEndpoint.element,c.sourceId=c.suspendedEndpoint.elementId):(c.target=c.suspendedEndpoint.element,c.targetId=c.suspendedEndpoint.elementId),c.suspendedEndpoint.addConnection(c),1===f?r.anchorManager.updateOtherEndpoint(c.sourceId,c.floatingId,c.targetId,c):r.anchorManager.sourceChanged(c.floatingId,c.sourceId,c,c.source),r.repaint(c.sourceId),c._forceDetach=!1)};if(h=h&&e.isDropAllowed(c.sourceId,c.targetId,c.scope,c,l))return p(h),!0;m()}e.maybeCleanup&&e.maybeCleanup(l),r.currentlyDragging=!1}}}}}}}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,r=function(e,r,o,i,a){if(t.Connectors[r]=t.Connectors[r]||{},null==t.Connectors[r][o]){if(null==t.Connectors[o]){if(e.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+o+"'")}t.Connectors[r][o]=function(){t.Connectors[o].apply(this,arguments),t.ConnectorRenderers[r].apply(this,arguments)},n.extend(t.Connectors[r][o],[t.Connectors[o],t.ConnectorRenderers[r]])}return new t.Connectors[r][o](i,a)},o=function(e,t,n){return e?n.makeAnchor(e,t,n):null},i=function(e,t,r,o){null!=t&&(t._jsPlumbConnections=t._jsPlumbConnections||{},o?delete t._jsPlumbConnections[e.id]:t._jsPlumbConnections[e.id]=!0,n.isEmpty(t._jsPlumbConnections)?r.removeClass(t,r.connectedClass):r.addClass(t,r.connectedClass))};t.Connection=function(e){var r=e.newEndpoint;this.id=e.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=e.previousConnection,this.source=t.getElement(e.source),this.target=t.getElement(e.target),t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),e.sourceEndpoint?(this.source=e.sourceEndpoint.getElement(),this.sourceId=e.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),e.targetEndpoint?(this.target=e.targetEndpoint.getElement(),this.targetId=e.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=e.scope,this.endpoints=[],this.endpointStyles=[];var o=this._jsPlumb.instance;o.manage(this.sourceId,this.source),o.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:e.cssClass,container:e.container,"pointer-events":e["pointer-events"],editorParams:e.editorParams,overlays:e.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(t,n,i,a,s){return i=i||this._jsPlumb.instance.getId(n),this.prepareEndpoint(o,r,this,a,t?0:1,e,n,i,s)},e.type&&(e.endpoints=e.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(e.type).endpoints);var i=this.makeEndpoint(!0,this.source,this.sourceId,e.sourceEndpoint),a=this.makeEndpoint(!1,this.target,this.targetId,e.targetEndpoint);i&&n.addToList(e.endpointsByElement,this.sourceId,i),a&&n.addToList(e.endpointsByElement,this.targetId,a),this.scope||(this.scope=this.endpoints[0].scope),null!=e.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(e.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(e.deleteEndpointsOnEmpty));var s=o.Defaults.ConnectionsDetachable;!1===e.detachable&&(s=!1),!1===this.endpoints[0].connectionsDetachable&&(s=!1),!1===this.endpoints[1].connectionsDetachable&&(s=!1);var c=e.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||o.Defaults.ReattachConnections;this.appendToDefaultType({detachable:s,reattach:c,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||e.paintStyle||o.Defaults.PaintStyle||t.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||e.hoverPaintStyle||o.Defaults.HoverPaintStyle||t.Defaults.HoverPaintStyle});var u=o.getSuspendedAt();if(!o.isSuspendDrawing()){var l=o.getCachedData(this.sourceId),f=l.o,d=l.s,h=o.getCachedData(this.targetId),p=h.o,m=h.s,y=u||o.timestamp(),g=this.endpoints[0].anchor.compute({xy:[f.left,f.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:m,tElement:this.endpoints[1],timestamp:y});this.endpoints[0].paint({anchorLoc:g,timestamp:y}),g=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:m,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[f.left,f.top],twh:d,tElement:this.endpoints[0],timestamp:y}),this.endpoints[1].paint({anchorLoc:g,timestamp:y})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(e){return!1!==this._jsPlumb.detachable&&(null!=e?!0===e.connectionsDetachable:!0===this._jsPlumb.detachable)},this.setDetachable=function(e){this._jsPlumb.detachable=!0===e},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(e){this._jsPlumb.reattach=!0===e},this._jsPlumb.cost=e.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=e.directed,null==e.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var v=t.extend({},this.endpoints[1].getParameters());t.extend(v,this.endpoints[0].getParameters()),t.extend(v,this.getParameters()),this.setParameters(v),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||e.connector||o.Defaults.Connector||t.Defaults.Connector,!0);var b=null!=e.data&&n.isObject(e.data)?e.data:{};this.getData=function(){return b},this.setData=function(e){b=e||{}},this.mergeData=function(e){b=t.extend(b,e)};var w=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,e.type].join(" ");/[^\s]/.test(w)&&this.addType(w,e.data,!0),this.updateConnectedClass()},n.extend(t.Connection,t.OverlayCapableJsPlumbUIComponent,{applyType:function(e,n,r){var o=null;null!=e.connector&&(null==(o=this.getCachedTypeItem("connector",r.connector))&&(o=this.prepareConnector(e.connector,r.connector),this.cacheTypeItem("connector",o,r.connector)),this.setPreparedConnector(o)),null!=e.detachable&&this.setDetachable(e.detachable),null!=e.reattach&&this.setReattach(e.reattach),e.scope&&(this.scope=e.scope),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass);var i=null;e.anchor?null==(i=this.getCachedTypeItem("anchors",r.anchor))&&(i=[this._jsPlumb.instance.makeAnchor(e.anchor),this._jsPlumb.instance.makeAnchor(e.anchor)],this.cacheTypeItem("anchors",i,r.anchor)):e.anchors&&null==(i=this.getCachedTypeItem("anchors",r.anchors))&&(i=[this._jsPlumb.instance.makeAnchor(e.anchors[0]),this._jsPlumb.instance.makeAnchor(e.anchors[1])],this.cacheTypeItem("anchors",i,r.anchors)),null!=i&&(this.endpoints[0].anchor=i[0],this.endpoints[1].anchor=i[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},addClass:function(e,t){t&&(this.endpoints[0].addClass(e),this.endpoints[1].addClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(e)),this.connector&&this.connector.addClass(e)},removeClass:function(e,t){t&&(this.endpoints[0].removeClass(e),this.endpoints[1].removeClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(e)),this.connector&&this.connector.removeClass(e)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(e){this._jsPlumb.visible=e,this.connector&&this.connector.setVisible(e),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(e){this._jsPlumb&&(i(this,this.source,this._jsPlumb.instance,e),i(this,this.target,this._jsPlumb.instance,e))},setHover:function(t){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(t),e.jsPlumb[t?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),e.jsPlumb[t?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(e){this._jsPlumb.cost=e},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(e,t){var o,i={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},a=this._jsPlumb.instance.getRenderMode();return n.isString(e)?o=r(this._jsPlumb.instance,a,e,i,this):n.isArray(e)&&(o=1===e.length?r(this._jsPlumb.instance,a,e[0],i,this):r(this._jsPlumb.instance,a,e[0],n.merge(e[1],i),this)),null!=t&&(o.typeId=t),o},setPreparedConnector:function(e,t,n,r){if(this.connector!==e){var o,i="";if(null!=this.connector&&(i=(o=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=e,r&&this.cacheTypeItem("connector",e,r),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(i),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=o)for(var a=this.getOverlays(),s=0;s<a.length;s++)a[s].transfer&&a[s].transfer(this.connector);n||this.setListenerComponent(this.connector),t||this.repaint()}},setConnector:function(e,t,n,r){var o=this.prepareConnector(e,r);this.setPreparedConnector(o,t,n,r)},paint:function(e){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var t=(e=e||{}).timestamp,n=this.targetId,r=this.sourceId;if(null==t||t!==this._jsPlumb.lastPaintedAt){var o=this._jsPlumb.instance.updateOffset({elId:r}).o,i=this._jsPlumb.instance.updateOffset({elId:n}).o,a=this.endpoints[0],s=this.endpoints[1],c=a.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:a,timestamp:t}),u=s.anchor.getCurrentLocation({xy:[i.left,i.top],wh:[i.width,i.height],element:s,timestamp:t});this.connector.resetBounds(),this.connector.compute({sourcePos:c,targetPos:u,sourceOrientation:a.anchor.getOrientation(a),targetOrientation:s.anchor.getOrientation(s),sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:o,targetInfo:i});var l={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var f in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(f)){var d=this._jsPlumb.overlays[f];d.isVisible()&&(this._jsPlumb.overlayPlacements[f]=d.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(d)),l.minX=Math.min(l.minX,this._jsPlumb.overlayPlacements[f].minX),l.maxX=Math.max(l.maxX,this._jsPlumb.overlayPlacements[f].maxX),l.minY=Math.min(l.minY,this._jsPlumb.overlayPlacements[f].minY),l.maxY=Math.max(l.maxY,this._jsPlumb.overlayPlacements[f].maxY))}var h=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),m={xmin:Math.min(this.connector.bounds.minX-(h+p),l.minX),ymin:Math.min(this.connector.bounds.minY-(h+p),l.minY),xmax:Math.max(this.connector.bounds.maxX+(h+p),l.maxX),ymax:Math.max(this.connector.bounds.maxY+(h+p),l.maxY)};for(var y in this.connector.paint(this._jsPlumb.paintStyleInUse,null,m),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(y)){var g=this._jsPlumb.overlays[y];g.isVisible()&&g.paint(this._jsPlumb.overlayPlacements[y],m)}}this._jsPlumb.lastPaintedAt=t}},repaint:function(e){var t=jsPlumb.extend(e||{},{});t.elId=this.sourceId,this.paint(t)},prepareEndpoint:function(e,n,r,i,a,s,c,u,l){var f;if(i)r.endpoints[a]=i,i.addConnection(r);else{s.endpoints||(s.endpoints=[null,null]);var d=l||s.endpoints[a]||s.endpoint||e.Defaults.Endpoints[a]||t.Defaults.Endpoints[a]||e.Defaults.Endpoint||t.Defaults.Endpoint;s.endpointStyles||(s.endpointStyles=[null,null]),s.endpointHoverStyles||(s.endpointHoverStyles=[null,null]);var h=s.endpointStyles[a]||s.endpointStyle||e.Defaults.EndpointStyles[a]||t.Defaults.EndpointStyles[a]||e.Defaults.EndpointStyle||t.Defaults.EndpointStyle;null==h.fill&&null!=s.paintStyle&&(h.fill=s.paintStyle.stroke),null==h.outlineStroke&&null!=s.paintStyle&&(h.outlineStroke=s.paintStyle.outlineStroke),null==h.outlineWidth&&null!=s.paintStyle&&(h.outlineWidth=s.paintStyle.outlineWidth);var p=s.endpointHoverStyles[a]||s.endpointHoverStyle||e.Defaults.EndpointHoverStyles[a]||t.Defaults.EndpointHoverStyles[a]||e.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle;null!=s.hoverPaintStyle&&(null==p&&(p={}),null==p.fill&&(p.fill=s.hoverPaintStyle.stroke));var m=s.anchors?s.anchors[a]:s.anchor?s.anchor:o(e.Defaults.Anchors[a],u,e)||o(t.Defaults.Anchors[a],u,e)||o(e.Defaults.Anchor,u,e)||o(t.Defaults.Anchor,u,e);f=n({paintStyle:h,hoverPaintStyle:p,endpoint:d,connections:[r],uuid:s.uuids?s.uuids[a]:null,anchor:m,source:c,scope:s.scope,reattach:s.reattach||e.Defaults.ReattachConnections,detachable:s.detachable||e.Defaults.ConnectionsDetachable}),null==i&&f.setDeleteOnEmpty(!0),r.endpoints[a]=f,!1===s.drawEndpoints&&f.setVisible(!1,!0,!0)}return f},replaceEndpoint:function(e,t){var n=this.endpoints[e],r=n.elementId,o=this._jsPlumb.instance.getEndpoints(r),i=o.indexOf(n),a=this.makeEndpoint(0===e,n.element,r,null,t);this.endpoints[e]=a,o.splice(i,1,a),this._jsPlumb.instance.deleteObject({endpoint:n,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:n,current:a}),this._jsPlumb.instance.anchorManager.updateOtherEndpoint(this.endpoints[0].elementId,this.endpoints[1].elementId,this.endpoints[1].elementId,this)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumbUtil,t=this.jsPlumb;t.AnchorManager=function(n){var r={},o={},i={},a={},s=this,c={},u=n.jsPlumbInstance,l={},f=function(e){return function(t,n){return!1===(e?t[0][0]<n[0][0]:t[0][0]>n[0][0])?-1:1}},d={top:function(e,t){return e[0]>t[0]?1:-1},right:f(!0),bottom:f(!0),left:function(e,t){return(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])>(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])?1:-1}},h=function(e,t){var n=u.getCachedData(e),r=n.s,a=n.o,s=function(t,n,r,a,s,c,u){if(a.length>0)for(var l=function(e,t,n,r,o,i,a){for(var s=[],c=t[o?0:1]/(r.length+1),u=0;u<r.length;u++){var l=(u+1)*c,f=i*t[o?1:0];a&&(l=t[o?0:1]-l);var d=o?l:f,h=n[0]+d,p=d/t[0],m=o?f:l,y=n[1]+m,g=m/t[1];s.push([h,y,p,g,r[u][1],r[u][2]])}return s}(0,n,r,(g=d[t],a.sort(g)),s,c,"right"===t||"top"===t),f=function(e,t){o[e.id]=[t[0],t[1],t[2],t[3]],i[e.id]=u},h=0;h<l.length;h++){var p=l[h][4],m=p.endpoints[0].elementId===e,y=p.endpoints[1].elementId===e;m&&f(p.endpoints[0],l[h]),y&&f(p.endpoints[1],l[h])}var g};s("bottom",r,[a.left,a.top],t.bottom,!0,1,[0,1]),s("top",r,[a.left,a.top],t.top,!0,0,[0,-1]),s("left",r,[a.left,a.top],t.left,!1,0,[-1,0]),s("right",r,[a.left,a.top],t.right,!1,1,[1,0])};this.reset=function(){r={},a={},c={}},this.addFloatingConnection=function(e,t){l[e]=t},this.removeFloatingConnection=function(e){delete l[e]},this.newConnection=function(n){var r=n.sourceId,o=n.targetId,i=n.endpoints,s=!0,c=function(c,u,l,f,d){r===o&&l.isContinuous&&(n._jsPlumb.instance.removeElement(i[1].canvas),s=!1),e.addToList(a,f,[d,u,l.constructor===t.DynamicAnchor])};c(0,i[0],i[0].anchor,o,n),s&&c(0,i[1],i[1].anchor,r,n)};var p=function(t){!function(t,n){if(t){var r=function(e){return e[4]===n};e.removeWithFunction(t.top,r),e.removeWithFunction(t.left,r),e.removeWithFunction(t.bottom,r),e.removeWithFunction(t.right,r)}}(c[t.elementId],t.id)};this.connectionDetached=function(t,n){var r=t.connection||t,o=t.sourceId,i=t.targetId,c=r.endpoints,u=function(t,n,r,o,i){e.removeWithFunction(a[o],(function(e){return e[0].id===i.id}))};u(0,c[1],c[1].anchor,o,r),u(0,c[0],c[0].anchor,i,r),r.floatingId&&(u(r.floatingIndex,r.floatingEndpoint,r.floatingEndpoint.anchor,r.floatingId,r),p(r.floatingEndpoint)),p(r.endpoints[0]),p(r.endpoints[1]),n||(s.redraw(r.sourceId),r.targetId!==r.sourceId&&s.redraw(r.targetId))},this.add=function(t,n){e.addToList(r,n,t)},this.changeId=function(e,t){a[t]=a[e],r[t]=r[e],delete a[e],delete r[e]},this.getConnectionsFor=function(e){return a[e]||[]},this.getEndpointsFor=function(e){return r[e]||[]},this.deleteEndpoint=function(t){e.removeWithFunction(r[t.elementId],(function(e){return e.id===t.id})),p(t)},this.clearFor=function(e){delete r[e],r[e]=[]};var m=function(t,r,o,i,a,s,c,u,l,f,d,h){var p,m,y=-1,g=i.endpoints[c],v=g.id,b=[1,0][c],w=[[r,o],i,a,s,v],_=t[l],k=g._continuousAnchorEdge?t[g._continuousAnchorEdge]:null;if(k){var E=e.findWithFunction(k,(function(e){return e[4]===v}));if(-1!==E)for(k.splice(E,1),p=0;p<k.length;p++)m=k[p][1],e.addWithFunction(d,m,(function(e){return e.id===m.id})),e.addWithFunction(h,k[p][1].endpoints[c],(function(e){return e.id===m.endpoints[c].id})),e.addWithFunction(h,k[p][1].endpoints[b],(function(e){return e.id===m.endpoints[b].id}))}for(p=0;p<_.length;p++)m=_[p][1],1===n.idx&&_[p][3]===s&&-1===y&&(y=p),e.addWithFunction(d,m,(function(e){return e.id===m.id})),e.addWithFunction(h,_[p][1].endpoints[c],(function(e){return e.id===m.endpoints[c].id})),e.addWithFunction(h,_[p][1].endpoints[b],(function(e){return e.id===m.endpoints[b].id}));var C=u?-1!==y?y:0:_.length;_.splice(C,0,w),g._continuousAnchorEdge=l};this.updateOtherEndpoint=function(n,r,o,i){var s=e.findWithFunction(a[n],(function(e){return e[0].id===i.id})),c=e.findWithFunction(a[r],(function(e){return e[0].id===i.id}));-1!==s&&(a[n][s][0]=i,a[n][s][1]=i.endpoints[1],a[n][s][2]=i.endpoints[1].anchor.constructor===t.DynamicAnchor),c>-1&&(a[r].splice(c,1),e.addToList(a,o,[i,i.endpoints[0],i.endpoints[0].anchor.constructor===t.DynamicAnchor])),i.updateConnectedClass()},this.sourceChanged=function(n,r,o,i){if(n!==r){o.sourceId=r,o.source=i,e.removeWithFunction(a[n],(function(e){return e[0].id===o.id}));var s=e.findWithFunction(a[o.targetId],(function(e){return e[0].id===o.id}));s>-1&&(a[o.targetId][s][0]=o,a[o.targetId][s][1]=o.endpoints[0],a[o.targetId][s][2]=o.endpoints[0].anchor.constructor===t.DynamicAnchor),e.addToList(a,r,[o,o.endpoints[1],o.endpoints[1].anchor.constructor===t.DynamicAnchor]),o.endpoints[1].anchor.isContinuous&&(o.source===o.target?o._jsPlumb.instance.removeElement(o.endpoints[1].canvas):null==o.endpoints[1].canvas.parentNode&&o._jsPlumb.instance.appendElement(o.endpoints[1].canvas)),o.updateConnectedClass()}},this.rehomeEndpoint=function(e,t,n){var o=r[t]||[],i=u.getId(n);if(i!==t){var a=o.indexOf(e);if(a>-1){var c=o.splice(a,1)[0];s.add(c,i)}}for(var l=0;l<e.connections.length;l++)e.connections[l].sourceId===t?s.sourceChanged(t,e.elementId,e.connections[l],e.element):e.connections[l].targetId===t&&(e.connections[l].targetId=e.elementId,e.connections[l].target=e.element,s.updateOtherEndpoint(e.connections[l].sourceId,t,e.elementId,e.connections[l]))},this.redraw=function(n,o,i,s,f,d){if(!u.isSuspendDrawing()){var p=r[n]||[],y=a[n]||[],g=[],v=[],b=[];i=i||u.timestamp(),s=s||{left:0,top:0},o&&(o={left:o.left+s.left,top:o.top+s.top});for(var w=u.updateOffset({elId:n,offset:o,recalc:!1,timestamp:i}),_={},k=0;k<y.length;k++){var E=y[k][0],C=E.sourceId,O=E.targetId,S=E.endpoints[0].anchor.isContinuous,T=E.endpoints[1].anchor.isContinuous;if(S||T){var P=C+"_"+O,A=_[P],I=E.sourceId===n?1:0;S&&!c[C]&&(c[C]={top:[],right:[],bottom:[],left:[]}),T&&!c[O]&&(c[O]={top:[],right:[],bottom:[],left:[]}),n!==O&&u.updateOffset({elId:O,timestamp:i}),n!==C&&u.updateOffset({elId:C,timestamp:i});var x=u.getCachedData(O),j=u.getCachedData(C);O===C&&(S||T)?(m(c[C],-Math.PI/2,0,E,!1,O,0,!1,"top",0,g,v),m(c[O],-Math.PI/2,0,E,!1,C,1,!1,"top",0,g,v)):(A||(A=this.calculateOrientation(C,O,j.o,x.o,E.endpoints[0].anchor,E.endpoints[1].anchor,E),_[P]=A),S&&m(c[C],A.theta,0,E,!1,O,0,!1,A.a[0],0,g,v),T&&m(c[O],A.theta2,-1,E,!0,C,1,!0,A.a[1],0,g,v)),S&&e.addWithFunction(b,C,(function(e){return e===C})),T&&e.addWithFunction(b,O,(function(e){return e===O})),e.addWithFunction(g,E,(function(e){return e.id===E.id})),(S&&0===I||T&&1===I)&&e.addWithFunction(v,E.endpoints[I],(function(e){return e.id===E.endpoints[I].id}))}}for(k=0;k<p.length;k++)0===p[k].connections.length&&p[k].anchor.isContinuous&&(c[n]||(c[n]={top:[],right:[],bottom:[],left:[]}),m(c[n],-Math.PI/2,0,{endpoints:[p[k],p[k]],paint:function(){}},!1,n,0,!1,p[k].anchor.getDefaultFace(),0,g,v),e.addWithFunction(b,n,(function(e){return e===n})));for(k=0;k<b.length;k++)h(b[k],c[b[k]]);for(k=0;k<p.length;k++)p[k].paint({timestamp:i,offset:w,dimensions:w.s,recalc:!0!==d});for(k=0;k<v.length;k++){var D=u.getCachedData(v[k].elementId);v[k].paint({timestamp:null,offset:D,dimensions:D.s})}for(k=0;k<y.length;k++){var N=y[k][1];if(N.anchor.constructor===t.DynamicAnchor){N.paint({elementWithPrecedence:n,timestamp:i}),e.addWithFunction(g,y[k][0],(function(e){return e.id===y[k][0].id}));for(var R=0;R<N.connections.length;R++)N.connections[R]!==y[k][0]&&e.addWithFunction(g,N.connections[R],(function(e){return e.id===N.connections[R].id}))}else e.addWithFunction(g,y[k][0],(function(e){return e.id===y[k][0].id}))}var M=l[n];for(M&&M.paint({timestamp:i,recalc:!1,elId:n}),k=0;k<g.length;k++)g[k].paint({elId:n,timestamp:null,recalc:!1,clearEdits:f})}};var y=function(t){e.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=t.faces||["top","right","bottom","left"],r=!(!1===t.clockwise),a={},s={top:"bottom",right:"left",left:"right",bottom:"top"},c={top:"right",right:"bottom",left:"top",bottom:"left"},u={top:"left",right:"top",left:"bottom",bottom:"right"},l=r?c:u,f=r?u:c,d=t.cssClass||"",h=null,p=null,m=["left","right"],y=["top","bottom"],g=null,v=0;v<n.length;v++)a[n[v]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(e){return a[e]?e:a[s[e]]?s[e]:a[l[e]]?l[e]:a[f[e]]?f[e]:e},this.isEdgeSupported=function(e){return null==g?null==p?!0===a[e]:p===e:-1!==g.indexOf(e)},this.setCurrentFace=function(e,t){h=e,t&&null!=p&&(p=h)},this.getCurrentFace=function(){return h},this.getSupportedFaces=function(){var e=[];for(var t in a)a[t]&&e.push(t);return e},this.lock=function(){p=h},this.unlock=function(){p=null},this.isLocked=function(){return null!=p},this.lockCurrentAxis=function(){null!=h&&(g="left"===h||"right"===h?m:y)},this.unlockCurrentAxis=function(){g=null},this.compute=function(e){return o[e.element.id]||[0,0]},this.getCurrentLocation=function(e){return o[e.element.id]||[0,0]},this.getOrientation=function(e){return i[e.id]||[0,0]},this.getCssClass=function(){return d}};u.continuousAnchorFactory={get:function(e){return new y(e)},clear:function(e){delete o[e]}}},t.AnchorManager.prototype.calculateOrientation=function(e,t,n,r,o,i){var a=["left","top","right","bottom"];if(e===t)return{orientation:"identity",a:["top","top"]};var s=Math.atan2(r.centery-n.centery,r.centerx-n.centerx),c=Math.atan2(n.centery-r.centery,n.centerx-r.centerx),u=[],l={};!function(e,t){for(var n=0;n<e.length;n++)l[e[n]]={left:[t[n].left,t[n].centery],right:[t[n].right,t[n].centery],top:[t[n].centerx,t[n].top],bottom:[t[n].centerx,t[n].bottom]}}(["source","target"],[n,r]);for(var f=0;f<a.length;f++)for(var d=0;d<a.length;d++)u.push({source:a[f],target:a[d],dist:Biltong.lineLength(l.source[a[f]],l.target[a[d]])});u.sort((function(e,t){return e.dist<t.dist?-1:e.dist>t.dist?1:0}));for(var h=u[0].source,p=u[0].target,m=0;m<u.length&&(h=!o.isContinuous||o.isEdgeSupported(u[m].source)?u[m].source:null,p=!i.isContinuous||i.isEdgeSupported(u[m].target)?u[m].target:null,null==h||null==p);m++);return o.isContinuous&&o.setCurrentFace(h),i.isContinuous&&i.setCurrentFace(p),{a:[h,p],theta:s,theta2:c}},t.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null;var n=!1!==t.relocatable;this.isRelocatable=function(){return n},this.setRelocatable=function(e){n=e};var r=!1!==t.snapOnRelocate;this.isSnapOnRelocate=function(){return r};var o=!1;this.lock=function(){o=!0},this.unlock=function(){o=!1},this.isLocked=function(){return o},e.EventGenerator.apply(this),this.compute=function(e){var t=e.xy,n=e.wh,r=e.timestamp;return e.clearUserDefinedLocation&&(this.userDefinedLocation=null),r&&r===this.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[t[0]+this.x*n[0]+this.offsets[0],t[1]+this.y*n[1]+this.offsets[1],this.x,this.y],this.timestamp=r,this.lastReturnValue)},this.getCurrentLocation=function(e){return e=e||{},null==this.lastReturnValue||null!=e.timestamp&&this.timestamp!==e.timestamp?this.compute(e):this.lastReturnValue},this.setPosition=function(e,t,n,r,i){o&&!i||(this.x=e,this.y=t,this.orientation=[n,r],this.lastReturnValue=null)}},e.extend(t.Anchor,e.EventGenerator,{equals:function(e){if(!e)return!1;var t=e.getOrientation(),n=this.getOrientation();return this.x===e.x&&this.y===e.y&&this.offsets[0]===e.offsets[0]&&this.offsets[1]===e.offsets[1]&&n[0]===t[0]&&n[1]===t[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(e){this.userDefinedLocation=e},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),t.FloatingAnchor=function(e){t.Anchor.apply(this,arguments);var n=e.reference,r=e.referenceCanvas,o=t.getSize(r),i=0,a=0,s=null,c=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(e){var t=e.xy,n=[t[0]+o[0]/2,t[1]+o[1]/2];return c=n,n},this.getOrientation=function(e){if(s)return s;var t=n.getOrientation(e);return[Math.abs(t[0])*i*-1,Math.abs(t[1])*a*-1]},this.over=function(e,t){s=e.getOrientation(t)},this.out=function(){s=null},this.getCurrentLocation=function(e){return null==c?this.compute(e):c}},e.extend(t.FloatingAnchor,t.Anchor);var n=function(e,n,r){return e.constructor===t.Anchor?e:n.makeAnchor(e,r,n)};t.DynamicAnchor=function(e){t.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=e.elementId,this.jsPlumbInstance=e.jsPlumbInstance;for(var r=0;r<e.anchors.length;r++)this.anchors[r]=n(e.anchors[r],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};var o=this.anchors.length>0?this.anchors[0]:null,i=o,a=this,s=function(e,t,n,r,o){var i=r[0]+e.x*o[0],a=r[1]+e.y*o[1],s=r[0]+o[0]/2,c=r[1]+o[1]/2;return Math.sqrt(Math.pow(t-i,2)+Math.pow(n-a,2))+Math.sqrt(Math.pow(s-i,2)+Math.pow(c-a,2))},c=e.selector||function(e,t,n,r,o){for(var i=n[0]+r[0]/2,a=n[1]+r[1]/2,c=-1,u=1/0,l=0;l<o.length;l++){var f=s(o[l],i,a,e,t);f<u&&(c=l+0,u=f)}return o[c]};this.compute=function(e){var t=e.xy,n=e.wh,r=e.txy,s=e.twh;this.timestamp=e.timestamp;var u=a.getUserDefinedLocation();return null!=u?u:this.isLocked()||null==r||null==s?o.compute(e):(e.timestamp=null,o=c(t,n,r,s,this.anchors),this.x=o.x,this.y=o.y,o!==i&&this.fire("anchorChanged",o),i=o,o.compute(e))},this.getCurrentLocation=function(e){return this.getUserDefinedLocation()||(null!=o?o.getCurrentLocation(e):null)},this.getOrientation=function(e){return null!=o?o.getOrientation(e):[0,0]},this.over=function(e,t){null!=o&&o.over(e,t)},this.out=function(){null!=o&&o.out()},this.setAnchor=function(e){o=e},this.getCssClass=function(){return o&&o.getCssClass()||""},this.setAnchorCoordinates=function(e){var t=jsPlumbUtil.findWithFunction(this.anchors,(function(t){return t.x===e[0]&&t.y===e[1]}));return-1!==t&&(this.setAnchor(this.anchors[t]),!0)}},e.extend(t.DynamicAnchor,t.Anchor);var r=function(e,n,r,o,i,a){t.Anchors[i]=function(t){var s=t.jsPlumbInstance.makeAnchor([e,n,r,o,0,0],t.elementId,t.jsPlumbInstance);return s.type=i,a&&a(s,t),s}};r(.5,0,0,-1,"TopCenter"),r(.5,1,0,1,"BottomCenter"),r(0,.5,-1,0,"LeftMiddle"),r(1,.5,1,0,"RightMiddle"),r(.5,0,0,-1,"Top"),r(.5,1,0,1,"Bottom"),r(0,.5,-1,0,"Left"),r(1,.5,1,0,"Right"),r(.5,.5,0,0,"Center"),r(1,0,0,-1,"TopRight"),r(1,1,0,1,"BottomRight"),r(0,0,0,-1,"TopLeft"),r(0,1,0,1,"BottomLeft"),t.Defaults.DynamicAnchors=function(e){return e.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],e.elementId,e.jsPlumbInstance)},t.Anchors.AutoDefault=function(e){var n=e.jsPlumbInstance.makeDynamicAnchor(t.Defaults.DynamicAnchors(e));return n.type="AutoDefault",n};var o=function(e,n){t.Anchors[e]=function(t){var r=t.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],t.elementId,t.jsPlumbInstance);return r.type=e,r}};t.Anchors.Continuous=function(e){return e.jsPlumbInstance.continuousAnchorFactory.get(e)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),r(0,0,0,0,"Assign",(function(e,t){var n=t.position||"Fixed";e.positionFinder=n.constructor===String?t.jsPlumbInstance.AnchorPositionFinders[n]:n,e.constructorParams=t})),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(e,t,n){return[(e.left-t.left)/n[0],(e.top-t.top)/n[1]]},Grid:function(e,t,n,r){var o=e.left-t.left,i=e.top-t.top,a=n[0]/r.grid[0],s=n[1]/r.grid[1],c=Math.floor(o/a),u=Math.floor(i/s);return[(c*a+a/2)/n[0],(u*s+s/2)/n[1]]}},t.Anchors.Perimeter=function(e){var t=(e=e||{}).anchorCount||60,n=e.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var r=function(){for(var e=2*Math.PI/t,n=0,r=[],o=0;o<t;o++){var i=.5+.5*Math.sin(n),a=.5+.5*Math.cos(n);r.push([i,a,0,0]),n+=e}return r},o=function(e){for(var n=t/e.length,r=[],o=function(e,o,i,a,s,c,u){for(var l=(i-e)/(n=t*s),f=(a-o)/n,d=0;d<n;d++)r.push([e+l*d,o+f*d,null==c?0:c,null==u?0:u])},i=0;i<e.length;i++)o.apply(null,e[i]);return r},i=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1],e[n][2],e[n][3],1/e.length,e[n][4],e[n][5]]);return o(t)},a=function(){return i([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])},s={Circle:r,Ellipse:r,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:a,Square:a,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(e){for(var t=e.points,n=[],r=0,i=0;i<t.length-1;i++){var a=Math.sqrt(Math.pow(t[i][2]-t[i][0])+Math.pow(t[i][3]-t[i][1]));r+=a,n.push([t[i][0],t[i][1],t[i+1][0],t[i+1][1],a])}for(var s=0;s<n.length;s++)n[s][4]=n[s][4]/r;return o(n)}};if(!s[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var c=s[n](e);e.rotation&&(c=function(e,t){for(var n=[],r=t/180*Math.PI,o=0;o<e.length;o++){var i=e[o][0]-.5,a=e[o][1]-.5;n.push([i*Math.cos(r)-a*Math.sin(r)+.5,i*Math.sin(r)+a*Math.cos(r)+.5,e[o][2],e[o][3]])}return n}(c,e.rotation));var u=e.jsPlumbInstance.makeDynamicAnchor(c);return u.type="Perimeter",u}}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,r=e.Biltong;t.Segments={AbstractSegment:function(e){this.params=e,this.findClosestPointOnPath=function(e,t){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(e.x1,e.x2),minY:Math.min(e.y1,e.y2),maxX:Math.max(e.x1,e.x2),maxY:Math.max(e.y1,e.y2)}},this.lineIntersection=function(e,t,n,r){return[]},this.boxIntersection=function(e,t,n,r){var o=[];return o.push.apply(o,this.lineIntersection(e,t,e+n,t)),o.push.apply(o,this.lineIntersection(e+n,t,e+n,t+r)),o.push.apply(o,this.lineIntersection(e+n,t+r,e,t+r)),o.push.apply(o,this.lineIntersection(e,t+r,e,t)),o},this.boundingBoxIntersection=function(e){return this.boxIntersection(e.x,e.y,e.w,e.y)}},Straight:function(e){t.Segments.AbstractSegment.apply(this,arguments);var n,o,i,a,s,c,u,l=function(){n=Math.sqrt(Math.pow(s-a,2)+Math.pow(u-c,2)),o=r.gradient({x:a,y:c},{x:s,y:u}),i=-1/o};this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return o},this.getCoordinates=function(){return{x1:a,y1:c,x2:s,y2:u}},this.setCoordinates=function(e){a=e.x1,c=e.y1,s=e.x2,u=e.y2,l()},this.setCoordinates({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),this.getBounds=function(){return{minX:Math.min(a,s),minY:Math.min(c,u),maxX:Math.max(a,s),maxY:Math.max(c,u)}},this.pointOnPath=function(e,t){if(0!==e||t){if(1!==e||t){var o=t?e>0?e:n+e:e*n;return r.pointOnLine({x:a,y:c},{x:s,y:u},o)}return{x:s,y:u}}return{x:a,y:c}},this.gradientAtPoint=function(e){return o},this.pointAlongPathFrom=function(e,t,n){var o=this.pointOnPath(e,n),i=t<=0?{x:a,y:c}:{x:s,y:u};return t<=0&&Math.abs(t)>1&&(t*=-1),r.pointOnLine(o,i,t)};var f=function(e,t,n){return n>=Math.min(e,t)&&n<=Math.max(e,t)},d=function(e,t,n){return Math.abs(n-e)<Math.abs(n-t)?e:t};this.findClosestPointOnPath=function(e,t){var l={d:1/0,x:null,y:null,l:null,x1:a,x2:s,y1:c,y2:u};if(0===o)l.y=c,l.x=f(a,s,e)?e:d(a,s,e);else if(o===1/0||o===-1/0)l.x=a,l.y=f(c,u,t)?t:d(c,u,t);else{var h=c-o*a,p=(t-i*e-h)/(o-i),m=o*p+h;l.x=f(a,s,p)?p:d(a,s,p),l.y=f(c,u,m)?m:d(c,u,m)}var y=r.lineLength([l.x,l.y],[a,c]);return l.d=r.lineLength([e,t],[l.x,l.y]),l.l=y/n,l};var h=function(e,t,n){return n>t?t<=e&&e<=n:t>=e&&e>=n},p=h;this.lineIntersection=function(e,t,n,i){var l=Math.abs(r.gradient({x:e,y:t},{x:n,y:i})),f=Math.abs(o),d=f===1/0?a:c-f*a,h=[],m=l===1/0?e:t-l*e;if(l!==f)if(l===1/0&&0===f)p(e,a,s)&&p(c,t,i)&&(h=[e,c]);else if(0===l&&f===1/0)p(t,c,u)&&p(a,e,n)&&(h=[a,t]);else{var y,g;l===1/0?p(y=e,a,s)&&p(g=f*e+d,t,i)&&(h=[y,g]):0===l?p(g=t,c,u)&&p(y=(t-d)/f,e,n)&&(h=[y,g]):(g=f*(y=(m-d)/(f-l))+d,p(y,a,s)&&p(g,c,u)&&(h=[y,g]))}return h},this.boxIntersection=function(e,t,n,r){var o=[];return o.push.apply(o,this.lineIntersection(e,t,e+n,t)),o.push.apply(o,this.lineIntersection(e+n,t,e+n,t+r)),o.push.apply(o,this.lineIntersection(e+n,t+r,e,t+r)),o.push.apply(o,this.lineIntersection(e,t+r,e,t)),o},this.boundingBoxIntersection=function(e){return this.boxIntersection(e.x,e.y,e.w,e.h)}},Arc:function(e){t.Segments.AbstractSegment.apply(this,arguments);var n=function(t,n){return r.theta([e.cx,e.cy],[t,n])},o=function(e,t){if(e.anticlockwise){var n=e.startAngle<e.endAngle?e.startAngle+i:e.startAngle;return n-Math.abs(n-e.endAngle)*t}var r=e.endAngle<e.startAngle?e.endAngle+i:e.endAngle,o=Math.abs(r-e.startAngle);return e.startAngle+o*t},i=2*Math.PI;this.radius=e.r,this.anticlockwise=e.ac,this.type="Arc",e.startAngle&&e.endAngle?(this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.x1=e.cx+this.radius*Math.cos(e.startAngle),this.y1=e.cy+this.radius*Math.sin(e.startAngle),this.x2=e.cx+this.radius*Math.cos(e.endAngle),this.y2=e.cy+this.radius*Math.sin(e.endAngle)):(this.startAngle=n(e.x1,e.y1),this.endAngle=n(e.x2,e.y2),this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2),this.endAngle<0&&(this.endAngle+=i),this.startAngle<0&&(this.startAngle+=i);var a=this.endAngle<this.startAngle?this.endAngle+i:this.endAngle;this.sweep=Math.abs(a-this.startAngle),this.anticlockwise&&(this.sweep=i-this.sweep);var s=2*Math.PI*this.radius,c=this.sweep/i,u=s*c;this.getLength=function(){return u},this.getBounds=function(){return{minX:e.cx-e.r,maxX:e.cx+e.r,minY:e.cy-e.r,maxY:e.cy+e.r}};var l=1e-10,f=function(e){var t=Math.floor(e),n=Math.ceil(e);return e-t<l?t:n-e<l?n:e};this.pointOnPath=function(t,n){if(0===t)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===t)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(t/=u);var r=o(this,t),i=e.cx+e.r*Math.cos(r),a=e.cy+e.r*Math.sin(r);return{x:f(i),y:f(a),theta:r}},this.gradientAtPoint=function(t,n){var o=this.pointOnPath(t,n),i=r.normal([e.cx,e.cy],[o.x,o.y]);return this.anticlockwise||i!==1/0&&i!==-1/0||(i*=-1),i},this.pointAlongPathFrom=function(t,n,r){var o=this.pointOnPath(t,r),i=n/s*2*Math.PI,a=this.anticlockwise?-1:1,c=o.theta+a*i;return{x:e.cx+this.radius*Math.cos(c),y:e.cy+this.radius*Math.sin(c)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}];t.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var r=function(t,n,r){return r&&(n=e.jsBezier.locationAlongCurveFrom(t,n>0?0:1,n)),n};this.pointOnPath=function(t,n){return t=r(this.curve,t,n),e.jsBezier.pointOnCurve(this.curve,t)},this.gradientAtPoint=function(t,n){return t=r(this.curve,t,n),e.jsBezier.gradientAtPoint(this.curve,t)},this.pointAlongPathFrom=function(t,n,o){return t=r(this.curve,t,o),e.jsBezier.pointAlongCurveFrom(this.curve,t,n)},this.getLength=function(){return e.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(t,n){var r=e.jsBezier.nearestPointOnCurve({x:t,y:n},this.curve);return{d:Math.sqrt(Math.pow(r.point.x-t,2)+Math.pow(r.point.y-n,2)),x:r.point.x,y:r.point.y,l:r.location,s:this}},this.lineIntersection=function(t,n,r,o){return e.jsBezier.lineIntersection(t,n,r,o,this.curve)}}},t.SegmentRenderer={getPath:function(e,t){return{Straight:function(t){var n=e.getCoordinates();return(t?"M "+n.x1+" "+n.y1+" ":"")+"L "+n.x2+" "+n.y2},Bezier:function(t){var n=e.params;return(t?"M "+n.x2+" "+n.y2+" ":"")+"C "+n.cp2x+" "+n.cp2y+" "+n.cp1x+" "+n.cp1y+" "+n.x1+" "+n.y1},Arc:function(t){var n=e.params,r=e.sweep>Math.PI?1:0,o=e.anticlockwise?0:1;return(t?"M"+e.x1+" "+e.y1+" ":"")+"A "+e.radius+" "+n.r+" 0 "+r+","+o+" "+e.x2+" "+e.y2}}[e.type](t)}};var o=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};t.Connectors.AbstractConnector=function(e){o.apply(this,arguments);var i=[],a=0,s=[],c=[],u=e.stub||0,l=n.isArray(u)?u[0]:u,f=n.isArray(u)?u[1]:u,d=e.gap||0,h=n.isArray(d)?d[0]:d,p=n.isArray(d)?d[1]:d,m=null,y=null;this.getPathData=function(){for(var e="",n=0;n<i.length;n++)e+=t.SegmentRenderer.getPath(i[n],0===n),e+=" ";return e},this.findSegmentForPoint=function(e,t){for(var n={d:1/0,s:null,x:null,y:null,l:null},r=0;r<i.length;r++){var o=i[r].findClosestPointOnPath(e,t);o.d<n.d&&(n.d=o.d,n.l=o.l,n.x=o.x,n.y=o.y,n.s=i[r],n.x1=o.x1,n.x2=o.x2,n.y1=o.y1,n.y2=o.y2,n.index=r)}return n},this.lineIntersection=function(e,t,n,r){for(var o=[],a=0;a<i.length;a++)o.push.apply(o,i[a].lineIntersection(e,t,n,r));return o},this.boxIntersection=function(e,t,n,r){for(var o=[],a=0;a<i.length;a++)o.push.apply(o,i[a].boxIntersection(e,t,n,r));return o},this.boundingBoxIntersection=function(e){for(var t=[],n=0;n<i.length;n++)t.push.apply(t,i[n].boundingBoxIntersection(e));return t};var g=function(){for(var e=0,t=0;t<i.length;t++){var n=i[t].getLength();c[t]=n/a,s[t]=[e,e+=n/a]}},v=function(e,t){t&&(e=e>0?e/a:(a+e)/a);for(var n=s.length-1,r=1,o=0;o<s.length;o++)if(s[o][1]>=e){n=o,r=1===e?1:0===e?0:(e-s[o][0])/c[o];break}return{segment:i[n],proportion:r,index:n}},b=function(e,n,r){if(r.x1!==r.x2||r.y1!==r.y2){var o=new t.Segments[n](r);i.push(o),a+=o.getLength(),e.updateBounds(o)}},w=function(){a=i.length=s.length=c.length=0};this.setSegments=function(e){m=[],a=0;for(var t=0;t<e.length;t++)m.push(e[t]),a+=e[t].getLength()},this.getLength=function(){return a};var _=function(e){this.strokeWidth=e.strokeWidth;var t=r.quadrant(e.sourcePos,e.targetPos),n=e.targetPos[0]<e.sourcePos[0],o=e.targetPos[1]<e.sourcePos[1],i=e.strokeWidth||1,a=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),s=e.targetEndpoint.anchor.getOrientation(e.targetEndpoint),c=n?e.targetPos[0]:e.sourcePos[0],u=o?e.targetPos[1]:e.sourcePos[1],d=Math.abs(e.targetPos[0]-e.sourcePos[0]),m=Math.abs(e.targetPos[1]-e.sourcePos[1]);if(0===a[0]&&0===a[1]||0===s[0]&&0===s[1]){var y=d>m?0:1,g=[1,0][y];s=[],(a=[])[y]=e.sourcePos[y]>e.targetPos[y]?-1:1,s[y]=e.sourcePos[y]>e.targetPos[y]?1:-1,a[g]=0,s[g]=0}var v=n?d+h*a[0]:h*a[0],b=o?m+h*a[1]:h*a[1],w=n?p*s[0]:d+p*s[0],_=o?p*s[1]:m+p*s[1],k=a[0]*s[0]+a[1]*s[1],E={sx:v,sy:b,tx:w,ty:_,lw:i,xSpan:Math.abs(w-v),ySpan:Math.abs(_-b),mx:(v+w)/2,my:(b+_)/2,so:a,to:s,x:c,y:u,w:d,h:m,segment:t,startStubX:v+a[0]*l,startStubY:b+a[1]*l,endStubX:w+s[0]*f,endStubY:_+s[1]*f,isXGreaterThanStubTimes2:Math.abs(v-w)>l+f,isYGreaterThanStubTimes2:Math.abs(b-_)>l+f,opposite:-1===k,perpendicular:0===k,orthogonal:1===k,sourceAxis:0===a[0]?"y":"x",points:[c,u,d,m,v,b,w,_],stubs:[l,f]};return E.anchorOrientation=E.opposite?"opposite":E.orthogonal?"orthogonal":"perpendicular",E};this.getSegments=function(){return i},this.updateBounds=function(e){var t=e.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX),this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX),this.bounds.minY=Math.min(this.bounds.minY,t.minY),this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)};return this.pointOnPath=function(e,t){var n=v(e,t);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(e,t){var n=v(e,t);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(e,t,n){var r=v(e,n);return r.segment&&r.segment.pointAlongPathFrom(r.proportion,t,!1)||[0,0]},this.compute=function(e){y=_.call(this,e),w(),this._compute(y,e),this.x=y.points[0],this.y=y.points[1],this.w=y.points[2],this.h=y.points[3],this.segment=y.segment,g()},{addSegment:b,prepareCompute:_,sourceStub:l,targetStub:f,maxStub:Math.max(l,f),sourceGap:h,targetGap:p,maxGap:Math.max(h,p)}},n.extend(t.Connectors.AbstractConnector,o),t.Endpoints.AbstractEndpoint=function(e){o.apply(this,arguments);var t=this.compute=function(e,t,n,r){var o=this._compute.apply(this,arguments);return this.x=o[0],this.y=o[1],this.w=o[2],this.h=o[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,o};return{compute:t,cssClass:e.cssClass}},n.extend(t.Endpoints.AbstractEndpoint,o),t.Endpoints.Dot=function(e){this.type="Dot";t.Endpoints.AbstractEndpoint.apply(this,arguments);e=e||{},this.radius=e.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(e,t,n,r){this.radius=n.radius||this.radius;var o=e[0]-this.radius,i=e[1]-this.radius,a=2*this.radius,s=2*this.radius;if(n.stroke){var c=n.strokeWidth||1;o-=c,i-=c,a+=2*c,s+=2*c}return[o,i,a,s,this.radius]}},n.extend(t.Endpoints.Dot,t.Endpoints.AbstractEndpoint),t.Endpoints.Rectangle=function(e){this.type="Rectangle";t.Endpoints.AbstractEndpoint.apply(this,arguments);e=e||{},this.width=e.width||20,this.height=e.height||20,this._compute=function(e,t,n,r){var o=n.width||this.width,i=n.height||this.height;return[e[0]-o/2,e[1]-i/2,o,i]}},n.extend(t.Endpoints.Rectangle,t.Endpoints.AbstractEndpoint);var i=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(i,t.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(e){this._jsPlumb.displayElements.push(e)}}),t.Endpoints.Image=function(r){this.type="Image",i.apply(this,arguments),t.Endpoints.AbstractEndpoint.apply(this,arguments);var o=r.onload,a=r.src||r.url,s=r.cssClass?" "+r.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=r.width,this._jsPlumb.heightToUse=r.height,this._jsPlumb.endpoint=r.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,o&&o(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(e,t){var n=e.constructor===String?e:e.src;o=t,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(a,o),this._compute=function(e,t,n,r){return this.anchorPoint=e,this._jsPlumb.ready?[e[0]-this._jsPlumb.widthToUse/2,e[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=t.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+s),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(e,t,r){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var o=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,i=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,o,i,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(t,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(t,n):e.setTimeout(function(){this.paint(t,n)}.bind(this),200))}},n.extend(t.Endpoints.Image,[i,t.Endpoints.AbstractEndpoint],{cleanup:function(e){e&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),t.Endpoints.Blank=function(e){t.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",i.apply(this,arguments),this._compute=function(e,t,n,r){return[e[0],e[1],10,0]};var r=e.cssClass?" "+e.cssClass:"";this.canvas=t.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+r),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(e,t){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(t.Endpoints.Blank,[t.Endpoints.AbstractEndpoint,i],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),t.Endpoints.Triangle=function(e){this.type="Triangle",t.Endpoints.AbstractEndpoint.apply(this,arguments);var n=this;(e=e||{}).width=e.width||55,e.height=e.height||55,this.width=e.width,this.height=e.height,this._compute=function(e,t,r,o){var i=r.width||n.width,a=r.height||n.height;return[e[0]-i/2,e[1]-a/2,i,a]}};var a=t.Overlays.AbstractOverlay=function(e){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=e.component,this.loc=null==e.location?.5:e.location,this.endpointLoc=null==e.endpointLocation?[.5,.5]:e.endpointLocation,this.visible=!1!==e.visible};a.prototype={cleanup:function(e){e&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(e,t){},setVisible:function(e){this.visible=e,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(e){this.loc+=e,this.component.repaint()},setLocation:function(e){this.loc=e,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},t.Overlays.Arrow=function(e){this.type="Arrow",a.apply(this,arguments),this.isAppendedAtTopLevel=!1,e=e||{};var o=this;this.length=e.length||20,this.width=e.width||20,this.id=e.id,this.direction=(e.direction||1)<0?-1:1;var i=e.paintStyle||{"stroke-width":1},s=e.foldback||.623;this.computeMaxSize=function(){return 1.5*o.width},this.elementCreated=function(n,r){if(this.path=n,e.events)for(var o in e.events)t.on(n,o,e.events[o])},this.draw=function(e,t){var o,a,c,u;if(e.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var l=parseInt(this.loc,10),f=this.loc<0?1:0;o=e.pointAlongPathFrom(f,l,!1),a=e.pointAlongPathFrom(f,l-this.direction*this.length/2,!1),c=r.pointOnLine(o,a,this.length)}else if(1===this.loc){if(o=e.pointOnPath(this.loc),a=e.pointAlongPathFrom(this.loc,-this.length),c=r.pointOnLine(o,a,this.length),-1===this.direction){var d=c;c=o,o=d}}else if(0===this.loc){if(c=e.pointOnPath(this.loc),a=e.pointAlongPathFrom(this.loc,this.length),o=r.pointOnLine(c,a,this.length),-1===this.direction){var h=c;c=o,o=h}}else o=e.pointAlongPathFrom(this.loc,this.direction*this.length/2),a=e.pointOnPath(this.loc),c=r.pointOnLine(o,a,this.length);var p={hxy:o,tail:u=r.perpendicularLineTo(o,c,this.width),cxy:r.pointOnLine(o,c,s*this.length)},m=i.stroke||t.stroke,y=i.fill||t.stroke;return{component:e,d:p,"stroke-width":i.strokeWidth||t.strokeWidth,stroke:m,fill:y,minX:Math.min(o.x,u[0].x,u[1].x),maxX:Math.max(o.x,u[0].x,u[1].x),minY:Math.min(o.y,u[0].y,u[1].y),maxY:Math.max(o.y,u[0].y,u[1].y)}}return{component:e,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(t.Overlays.Arrow,a,{updateFrom:function(e){this.length=e.length||this.length,this.width=e.width||this.width,this.direction=null!=e.direction?e.direction:this.direction,this.foldback=e.foldback||this.foldback},cleanup:function(){this.path&&this.canvas&&this.canvas.removeChild(this.path)}}),t.Overlays.PlainArrow=function(e){e=e||{};var n=t.extend(e,{foldback:1});t.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(t.Overlays.PlainArrow,t.Overlays.Arrow),t.Overlays.Diamond=function(e){var n=(e=e||{}).length||40,r=t.extend(e,{length:n/2,foldback:2});t.Overlays.Arrow.call(this,r),this.type="Diamond"},n.extend(t.Overlays.Diamond,t.Overlays.Arrow);var s=function(e,t){return(null==e._jsPlumb.cachedDimensions||t)&&(e._jsPlumb.cachedDimensions=e.getDimensions()),e._jsPlumb.cachedDimensions},c=function(e){t.jsPlumbUIComponent.apply(this,arguments),a.apply(this,arguments);var r=this.fire;this.fire=function(){r.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=e.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=e.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=e.create,this._jsPlumb.initiallyInvisible=!1===e.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=t.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",jsPlumb.addClass(n,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:e.cssClass?e.cssClass:"")),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n;var r="translate(-50%, -50%)";n.style.webkitTransform=r,n.style.mozTransform=r,n.style.msTransform=r,n.style.oTransform=r,n.style.transform=r,n._jsPlumb=this,!1===e.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(e,t,r){var o=s(this);if(null!=o&&2===o.length){var i={x:0,y:0};if(r)i={x:r[0],y:r[1]};else if(e.pointOnPath){var a=this.loc,c=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(a=parseInt(this.loc,10),c=!0),i=e.pointOnPath(a,c)}else{var u=this.loc.constructor===Array?this.loc:this.endpointLoc;i={x:u[0]*e.w,y:u[1]*e.h}}var l=i.x-o[0]/2,f=i.y-o[1]/2;return{component:e,d:{minx:l,miny:f,td:o,cxy:i},minX:l,maxX:l+o[0],minY:f,maxY:f+o[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(c,[t.jsPlumbUIComponent,a],{getDimensions:function(){return[1,1]},setVisible:function(e){this._jsPlumb.div&&(this._jsPlumb.div.style.display=e?"block":"none",e&&this._jsPlumb.initiallyInvisible&&(s(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(e){e?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(e,t){null!=this._jsPlumb.div&&e.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var e=s(this);return Math.max(e[0],e[1])},paint:function(e,t){this._jsPlumb.initialised||(this.getElement(),e.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=e.component.x+e.d.minx+"px",this._jsPlumb.div.style.top=e.component.y+e.d.miny+"px"}}),t.Overlays.Custom=function(e){this.type="Custom",c.apply(this,arguments)},n.extend(t.Overlays.Custom,c),t.Overlays.GuideLines=function(){var e=this;e.length=50,e.strokeWidth=5,this.type="GuideLines",a.apply(this,arguments),t.jsPlumbUIComponent.apply(this,arguments),this.draw=function(t,n){var o=t.pointAlongPathFrom(e.loc,e.length/2),i=t.pointOnPath(e.loc),a=r.pointOnLine(o,i,e.length),s=r.perpendicularLineTo(o,a,40),c=r.perpendicularLineTo(a,o,20);return{connector:t,head:o,tail:a,headLine:c,tailLine:s,minX:Math.min(o.x,a.x,c[0].x,c[1].x),minY:Math.min(o.y,a.y,c[0].y,c[1].y),maxX:Math.max(o.x,a.x,c[0].x,c[1].x),maxY:Math.max(o.y,a.y,c[0].y,c[1].y)}}},t.Overlays.Label=function(e){this.labelStyle=e.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=t.extend({create:function(){return t.createElement("div")}},e);if(t.Overlays.Custom.call(this,n),this.type="Label",this.label=e.label||"",this.labelText=null,this.labelStyle){var r=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",r.style.font=this.labelStyle.font,r.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(r.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var o=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";r.style.border=this.labelStyle.borderWidth+"px solid "+o}this.labelStyle.padding&&(r.style.padding=this.labelStyle.padding)}},n.extend(t.Overlays.Label,t.Overlays.Custom,{cleanup:function(e){e&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(e){this.label=e,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),c.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"===typeof this.label){var e=this.label(this);this.getElement().innerHTML=e.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(e){null!=e.label&&this.setLabel(e.label)}})}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumbUtil,n=e.jsPlumbInstance,r="stop",o="revert",i="_jsPlumbGroup",a="show",s="hide",c=function(e){var n={},r={},o={},c=this;function u(t,n){for(var r=t.getMembers(),o=0;o<r.length;o++)e[n?a:s](r[o],!0)}e.bind("connection",(function(e){null!=e.source[i]&&null!=e.target[i]&&e.source[i]===e.target[i]?(r[e.connection.id]=e.source[i],o[e.connection.id]=e.source[i]):(null!=e.source[i]&&(t.suggest(e.source[i].connections.source,e.connection),r[e.connection.id]=e.source[i]),null!=e.target[i]&&(t.suggest(e.target[i].connections.target,e.connection),o[e.connection.id]=e.target[i]))})),e.bind("internal.connectionDetached",(function(e){!function(e){delete e.proxies;var n,i=r[e.id];null!=i&&(n=function(t){return t.id===e.id},t.removeWithFunction(i.connections.source,n),t.removeWithFunction(i.connections.target,n),delete r[e.id]),null!=(i=o[e.id])&&(n=function(t){return t.id===e.id},t.removeWithFunction(i.connections.source,n),t.removeWithFunction(i.connections.target,n),delete o[e.id])}(e.connection)})),e.bind("connectionMoved",(function(e){var t=(0===e.index?r:o)[e.connection.id];if(t){var n=t.connections[0===e.index?"source":"target"],i=n.indexOf(e.connection);-1!==i&&n.splice(i,1)}})),this.addGroup=function(t){e.addClass(t.getEl(),"jtk-group-expanded"),n[t.id]=t,t.manager=this,d(t),e.fire("group:add",{group:t})},this.addToGroup=function(t,n,r){if(t=this.getGroup(t)){var o=t.getEl();if(n._isJsPlumbGroup)return;var i=n._jsPlumbGroup;if(i!==t){var a=e.getOffset(n,!0),s=t.collapsed?e.getOffset(o,!0):e.getOffset(t.getDragArea(),!0);null!=i&&(i.remove(n,!1,r,!1,t),c.updateConnectionsForGroup(i)),t.add(n,r);var u=function(e,n){var r=0===n?1:0;e.each((function(e){e.setVisible(!1),e.endpoints[r].element._jsPlumbGroup===t?(e.endpoints[r].setVisible(!1),f(e,r,t)):(e.endpoints[n].setVisible(!1),l(e,n,t))}))};t.collapsed&&(u(e.select({source:n}),0),u(e.select({target:n}),1));var d=e.getId(n);e.dragManager.setParent(n,d,o,e.getId(o),a);var h={left:a.left-s.left,top:a.top-s.top};if(e.setPosition(n,h),e.dragManager.revalidateParent(n,d,a),c.updateConnectionsForGroup(t),e.revalidate(d),!r){var p={group:t,el:n,pos:h};i&&(p.sourceGroup=i),e.fire("group:addMember",p)}}}},this.removeFromGroup=function(e,t,n){(e=this.getGroup(e))&&e.remove(t,null,n)},this.getGroup=function(e){var r=e;if(t.isString(e)&&null==(r=n[e]))throw new TypeError("No such group ["+e+"]");return r},this.getGroups=function(){var e=[];for(var t in n)e.push(n[t]);return e},this.removeGroup=function(t,r,o,i){t=this.getGroup(t),this.expandGroup(t,!0);var a=t[r?"removeAll":"orphanAll"](o,i);return e.remove(t.getEl()),delete n[t.id],delete e._groups[t.id],e.fire("group:remove",{group:t}),a},this.removeAllGroups=function(e,t,r){for(var o in n)this.removeGroup(n[o],e,t,r)};var l=function(t,n,r){var o=t.endpoints[0===n?1:0].element;if(!o[i]||o[i].shouldProxy()||!o[i].collapsed){var a=r.getEl(),s=e.getId(a);e.proxyConnection(t,n,a,s,(function(e,t){return r.getEndpoint(e,t)}),(function(e,t){return r.getAnchor(e,t)}))}};this.collapseGroup=function(t){if(null!=(t=this.getGroup(t))&&!t.collapsed){var n=t.getEl();if(u(t,!1),t.shouldProxy()){var r=function(e,n){for(var r=0;r<e.length;r++){var o=e[r];l(o,n,t)}};r(t.connections.source,0),r(t.connections.target,1)}t.collapsed=!0,e.removeClass(n,"jtk-group-expanded"),e.addClass(n,"jtk-group-collapsed"),e.revalidate(n),e.fire("group:collapse",{group:t})}};var f=function(t,n,r){e.unproxyConnection(t,n,e.getId(r.getEl()))};function d(t){var n=t.getMembers(),i=e.getConnections({source:n,scope:"*"},!0),a=e.getConnections({target:n,scope:"*"},!0),s={};t.connections.source.length=0,t.connections.target.length=0;var c=function(e){for(var n=0;n<e.length;n++)s[e[n].id]||(s[e[n].id]=!0,e[n].source._jsPlumbGroup===t?(e[n].target._jsPlumbGroup!==t&&t.connections.source.push(e[n]),r[e[n].id]=t):e[n].target._jsPlumbGroup===t&&(t.connections.target.push(e[n]),o[e[n].id]=t))};c(i),c(a)}this.expandGroup=function(t,n){if(null!=(t=this.getGroup(t))&&t.collapsed){var r=t.getEl();if(u(t,!0),t.shouldProxy()){var o=function(e,n){for(var r=0;r<e.length;r++){var o=e[r];f(o,n,t)}};o(t.connections.source,0),o(t.connections.target,1)}t.collapsed=!1,e.addClass(r,"jtk-group-expanded"),e.removeClass(r,"jtk-group-collapsed"),e.revalidate(r),this.repaintGroup(t),n||e.fire("group:expand",{group:t})}},this.repaintGroup=function(t){for(var n=(t=this.getGroup(t)).getMembers(),r=0;r<n.length;r++)e.revalidate(n[r])},this.updateConnectionsForGroup=d,this.refreshAllGroups=function(){for(var t in n)d(n[t]),e.dragManager.updateOffsets(e.getId(n[t].getEl()))}},u=function(n,a){var s=this,c=a.el;this.getEl=function(){return c},this.id=a.id||t.uuid(),c._isJsPlumbGroup=!0;var u=this.getDragArea=function(){var e=n.getSelector(c,"[jtk-group-content]");return e&&e.length>0?e[0]:c},l=!0===a.ghost,f=l||!0===a.constrain,d=!1!==a.revert,h=!0===a.orphan,p=!0===a.prune,m=!0===a.dropOverride,y=!1!==a.proxied,g=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(e,t){return a.anchor||"Continuous"},this.getEndpoint=function(e,t){return a.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==a.draggable){var v={stop:function(e){n.fire("groupDragStop",jsPlumb.extend(e,{group:s}))},scope:"_jsPlumbGroupDrag"};a.dragOptions&&e.jsPlumb.extend(v,a.dragOptions),n.draggable(a.el,v)}!1!==a.droppable&&n.droppable(a.el,{drop:function(e){var t=e.drag.el;if(!t._isJsPlumbGroup){var r=t._jsPlumbGroup;if(r!==s){if(null!=r&&r.overrideDrop(t,s))return;n.getGroupManager().addToGroup(s,t,!1)}}}});var b=function(e,t){for(var n=null==e.nodeType?e:[e],r=0;r<n.length;r++)t(n[r])};function w(e,t){var r=function(e){return e.offsetParent}(e),o=n.getSize(r),i=n.getSize(e),a=t[0],s=a+i[0],c=t[1],u=c+i[1];return s>0&&a<o[0]&&u>0&&c<o[1]}function _(e){var t=n.getId(e),r=n.getOffset(e);return e.parentNode.removeChild(e),n.getContainer().appendChild(e),n.setPosition(e,r),delete e._jsPlumbGroup,C(e),n.dragManager.clearParent(e,t),[t,r]}function k(e){var t=null;if(!w(e.el,e.pos)){var r=e.el._jsPlumbGroup;p?n.remove(e.el):t=_(e.el),r.remove(e.el)}return t}function E(e){var t=n.getId(e);n.revalidate(e),n.dragManager.revalidateParent(e,t)}function C(e){e._katavorioDrag&&((p||h)&&e._katavorioDrag.off(r,k),p||h||!d||(e._katavorioDrag.off(o,E),e._katavorioDrag.setRevert(null)))}function O(e){e._katavorioDrag&&((p||h)&&e._katavorioDrag.on(r,k),f&&e._katavorioDrag.setConstrain(!0),l&&e._katavorioDrag.setUseGhostProxy(!0),p||h||!d||(e._katavorioDrag.on(o,E),e._katavorioDrag.setRevert((function(e,t){return!w(e,t)}))))}this.overrideDrop=function(e,t){return m&&(d||p||h)},this.add=function(e,t){var r=u();b(e,(function(e){if(null!=e._jsPlumbGroup){if(e._jsPlumbGroup===s)return;e._jsPlumbGroup.remove(e,!0,t,!1)}e._jsPlumbGroup=s,g.push(e),n.isAlreadyDraggable(e)&&O(e),e.parentNode!==r&&r.appendChild(e)})),n.getGroupManager().updateConnectionsForGroup(s)},this.remove=function(e,r,o,i,a){b(e,(function(e){if(delete e._jsPlumbGroup,t.removeWithFunction(g,(function(t){return t===e})),r)try{s.getDragArea().removeChild(e)}catch(c){jsPlumbUtil.log("Could not remove element from Group "+c)}if(C(e),!o){var i={group:s,el:e};a&&(i.targetGroup=a),n.fire("group:removeMember",i)}})),i||n.getGroupManager().updateConnectionsForGroup(s)},this.removeAll=function(e,t){for(var r=0,o=g.length;r<o;r++){var i=g[0];s.remove(i,e,t,!0),n.remove(i,!0)}g.length=0,n.getGroupManager().updateConnectionsForGroup(s)},this.orphanAll=function(){for(var e={},t=0;t<g.length;t++){var n=_(g[t]);e[n[0]]=n[1]}return g.length=0,e},this.getMembers=function(){return g},c[i]=this,n.bind("elementDraggable",function(e){e.el._jsPlumbGroup===this&&O(e.el)}.bind(this)),this.shouldProxy=function(){return y},n.getGroupManager().addGroup(this)};n.prototype.addGroup=function(e){var t=this;if(t._groups=t._groups||{},null!=t._groups[e.id])throw new TypeError("cannot create Group ["+e.id+"]; a Group with that ID exists");if(null!=e.el[i])throw new TypeError("cannot create Group ["+e.id+"]; the given element is already a Group");var n=new u(t,e);return t._groups[n.id]=n,e.collapsed&&this.collapseGroup(n),n},n.prototype.addToGroup=function(e,t,n){var r=function(t){var r=this.getId(t);this.manage(r,t),this.getGroupManager().addToGroup(e,t,n)}.bind(this);if(Array.isArray(t))for(var o=0;o<t.length;o++)r(t[o]);else r(t)},n.prototype.removeFromGroup=function(e,t,n){this.getGroupManager().removeFromGroup(e,t,n)},n.prototype.removeGroup=function(e,t,n,r){return this.getGroupManager().removeGroup(e,t,n,r)},n.prototype.removeAllGroups=function(e,t,n){this.getGroupManager().removeAllGroups(e,t,n)},n.prototype.getGroup=function(e){return this.getGroupManager().getGroup(e)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(e){this.getGroupManager().expandGroup(e)},n.prototype.collapseGroup=function(e){this.getGroupManager().collapseGroup(e)},n.prototype.repaintGroup=function(e){this.getGroupManager().repaintGroup(e)},n.prototype.toggleGroup=function(e){null!=(e=this.getGroupManager().getGroup(e))&&this.getGroupManager()[e.collapsed?"expandGroup":"collapseGroup"](e)},n.prototype.getGroupManager=function(){var e=this._groupManager;return null==e&&(e=this._groupManager=new c(this)),e},n.prototype.removeGroupManager=function(){delete this._groupManager},n.prototype.getGroupFor=function(e){if(e=this.getElement(e))return e[i]}}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.Flowchart=function(t){this.type="Flowchart",(t=t||{}).stub=null==t.stub?30:t.stub;var n,r=e.Connectors.AbstractConnector.apply(this,arguments),o=null==t.midpoint?.5:t.midpoint,i=!0===t.alwaysRespectStubs,a=null,s=null,c=null!=t.cornerRadius?t.cornerRadius:0,u=(t.loopbackRadius,function(e){return e<0?-1:0===e?0:1}),l=function(e){return[u(e[2]-e[0]),u(e[3]-e[1])]},f=function(e,t,n,r){if(a!==t||s!==n){var o=null==a?r.sx:a,i=null==s?r.sy:s,c=o===t?"v":"h";a=t,s=n,e.push([o,i,t,n,c])}},d=function(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))},h=function(e){var t=[];return t.push.apply(t,e),t},p=function(e,t,n){for(var o,i,a,s=null,u=0;u<t.length-1;u++){if(s=s||h(t[u]),o=h(t[u+1]),i=l(s),a=l(o),c>0&&s[4]!==o[4]){var f=Math.min(d(s),d(o)),p=Math.min(c,f/2);s[2]-=i[0]*p,s[3]-=i[1]*p,o[0]+=a[0]*p,o[1]+=a[1]*p;var m=i[1]===a[0]&&1===a[0]||i[1]===a[0]&&0===a[0]&&i[0]!==a[1]||i[1]===a[0]&&-1===a[0],y=(o[1]>s[3]?1:-1)===(o[0]>s[2]?1:-1),g=y&&m||!y&&!m?o[0]:s[2],v=y&&m||!y&&!m?s[3]:o[1];r.addSegment(e,"Straight",{x1:s[0],y1:s[1],x2:s[2],y2:s[3]}),r.addSegment(e,"Arc",{r:p,x1:s[2],y1:s[3],x2:o[0],y2:o[1],cx:g,cy:v,ac:m})}else{var b=s[2]===s[0]?0:s[2]>s[0]?n.lw/2:-n.lw/2,w=s[3]===s[1]?0:s[3]>s[1]?n.lw/2:-n.lw/2;r.addSegment(e,"Straight",{x1:s[0]-b,y1:s[1]-w,x2:s[2]+b,y2:s[3]+w})}s=o}null!=o&&r.addSegment(e,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]})};this._compute=function(e,t){n=[],a=null,s=null,null;var c=function(){return[e.startStubX,e.startStubY,e.endStubX,e.endStubY]},u={perpendicular:c,orthogonal:c,opposite:function(t){var n=e,r="x"===t?0:1;return!i&&{x:function(){return 1===n.so[r]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[r]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[r]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[r]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}}[e.anchorOrientation](e.sourceAxis),l="x"===e.sourceAxis?0:1,d="x"===e.sourceAxis?1:0,h=u[l],m=u[d],y=u[l+2],g=u[d+2];f(n,u[0],u[1],e);var v=e.startStubX+(e.endStubX-e.startStubX)*o,b=e.startStubY+(e.endStubY-e.startStubY)*o,w={x:[0,1],y:[1,0]},_={perpendicular:function(t){var n=e,r={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},o={x:[[v,n.startStubY],[v,n.endStubY]],y:[[n.startStubX,b],[n.endStubX,b]]},i={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},a={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},s={x:[[n.startStubX,b],[n.endStubX,b],[n.endStubX,n.endStubY]],y:[[v,n.startStubY],[v,n.endStubY],[n.endStubX,n.endStubY]]},c={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},u=w[t][0],l=w[t][1],f=n.so[u]+1,d=n.to[l]+1,h=-1===n.to[l]&&c[t][1]<c[t][0]||1===n.to[l]&&c[t][1]>c[t][0],p=r[t][f][0],m=r[t][f][1],y={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[t][f][d];return n.segment===y[3]||n.segment===y[2]&&h?o[t]:n.segment===y[2]&&m<p?i[t]:n.segment===y[2]&&m>=p||n.segment===y[1]&&!h?s[t]:n.segment===y[0]||n.segment===y[1]&&h?a[t]:void 0},orthogonal:function(t,n,r,o,i){var a=e,s={x:-1===a.so[0]?Math.min(n,o):Math.max(n,o),y:-1===a.so[1]?Math.min(n,o):Math.max(n,o)}[t];return{x:[[s,r],[s,i],[o,i]],y:[[r,s],[i,s],[i,o]]}[t]},opposite:function(n,o,i,a){var s=e,c={x:"y",y:"x"}[n],u={x:"height",y:"width"}[n],f=s["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(t.sourceEndpoint.elementId===t.targetEndpoint.elementId){var d=i+(1-t.sourceEndpoint.anchor[c])*t.sourceInfo[u]+r.maxStub;return{x:[[o,d],[a,d]],y:[[d,o],[d,a]]}[n]}return!f||1===s.so[l]&&o>a||-1===s.so[l]&&o<a?{x:[[o,b],[a,b]],y:[[v,o],[v,a]]}[n]:1===s.so[l]&&o<a||-1===s.so[l]&&o>a?{x:[[v,s.sy],[v,s.ty]],y:[[s.sx,b],[s.tx,b]]}[n]:void 0}}[e.anchorOrientation](e.sourceAxis,h,m,y,g);if(_)for(var k=0;k<_.length;k++)f(n,_[k][0],_[k][1],e);f(n,u[2],u[3],e),f(n,e.tx,e.ty,e),p(this,n,e)}},t.extend(e.Connectors.Flowchart,e.Connectors.AbstractConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.AbstractBezierConnector=function(t){var n,r=!1!==(t=t||{}).showLoopback,o=(t.curviness,t.margin||5),i=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),a=t.loopbackRadius||25;return this._compute=function(e,t){var s=t.sourcePos,c=t.targetPos,u=Math.abs(s[0]-c[0]),l=Math.abs(s[1]-c[1]);if(r&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){!0;var f=t.sourcePos[0],d=t.sourcePos[1]-o,h=f,p=d-a,m=h-a,y=p-a;u=2*a,l=2*a,e.points[0]=m,e.points[1]=y,e.points[2]=u,e.points[3]=l,n.addSegment(this,"Arc",{loopback:!0,x1:f-m+4,y1:d-y,startAngle:0,endAngle:2*Math.PI,r:a,ac:!i,x2:f-m-4,y2:d-y,cx:h-m,cy:p-y})}else!1,this._computeBezier(e,t,s,c,u,l)},n=e.Connectors.AbstractConnector.apply(this,arguments)},t.extend(e.Connectors.AbstractBezierConnector,e.Connectors.AbstractConnector);var n=function(t){t=t||{},this.type="Bezier";var n=e.Connectors.AbstractBezierConnector.apply(this,arguments),r=t.curviness||150,o=10;this.getCurviness=function(){return r},this._findControlPoint=function(e,t,n,i,a,s,c){var u=[];return s[0]!==c[0]||s[1]===c[1]?(0===c[0]?u.push(n[0]<t[0]?e[0]+o:e[0]-o):u.push(e[0]+r*c[0]),0===c[1]?u.push(n[1]<t[1]?e[1]+o:e[1]-o):u.push(e[1]+r*s[1])):(0===s[0]?u.push(t[0]<n[0]?e[0]+o:e[0]-o):u.push(e[0]-r*s[0]),0===s[1]?u.push(t[1]<n[1]?e[1]+o:e[1]-o):u.push(e[1]+r*c[1])),u},this._computeBezier=function(e,t,r,o,i,a){var s,c,u=r[0]<o[0]?i:0,l=r[1]<o[1]?a:0,f=r[0]<o[0]?0:i,d=r[1]<o[1]?0:a;s=this._findControlPoint([u,l],r,o,t.sourceEndpoint,t.targetEndpoint,e.so,e.to),c=this._findControlPoint([f,d],o,r,t.targetEndpoint,t.sourceEndpoint,e.to,e.so),n.addSegment(this,"Bezier",{x1:u,y1:l,x2:f,y2:d,cp1x:s[0],cp1y:s[1],cp2x:c[0],cp2y:c[1]})}};e.Connectors.Bezier=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(e,t,n,r){return e<=n&&r<=t?1:e<=n&&t<=r?2:n<=e&&r>=t?3:4},r=function(e,t,n,r,o,i,a,s,c){return s<=c?[e,t]:1===n?r[3]<=0&&o[3]>=1?[e+(r[2]<.5?-1*i:i),t]:r[2]>=1&&o[2]<=0?[e,t+(r[3]<.5?-1*a:a)]:[e+-1*i,t+-1*a]:2===n?r[3]>=1&&o[3]<=0?[e+(r[2]<.5?-1*i:i),t]:r[2]>=1&&o[2]<=0?[e,t+(r[3]<.5?-1*a:a)]:[e+i,t+-1*a]:3===n?r[3]>=1&&o[3]<=0?[e+(r[2]<.5?-1*i:i),t]:r[2]<=0&&o[2]>=1?[e,t+(r[3]<.5?-1*a:a)]:[e+-1*i,t+-1*a]:4===n?r[3]<=0&&o[3]>=1?[e+(r[2]<.5?-1*i:i),t]:r[2]<=0&&o[2]>=1?[e,t+(r[3]<.5?-1*a:a)]:[e+i,t+-1*a]:void 0},o=function(t){t=t||{},this.type="StateMachine";var o,i=e.Connectors.AbstractBezierConnector.apply(this,arguments),a=t.curviness||10,s=t.margin||5,c=t.proximityLimit||80;t.orientation&&t.orientation;this._computeBezier=function(e,t,u,l,f,d){var h=t.sourcePos[0]<t.targetPos[0]?0:f,p=t.sourcePos[1]<t.targetPos[1]?0:d,m=t.sourcePos[0]<t.targetPos[0]?f:0,y=t.sourcePos[1]<t.targetPos[1]?d:0;0===t.sourcePos[2]&&(h-=s),1===t.sourcePos[2]&&(h+=s),0===t.sourcePos[3]&&(p-=s),1===t.sourcePos[3]&&(p+=s),0===t.targetPos[2]&&(m-=s),1===t.targetPos[2]&&(m+=s),0===t.targetPos[3]&&(y-=s),1===t.targetPos[3]&&(y+=s);var g,v,b,w,_=(h+m)/2,k=(p+y)/2,E=n(h,p,m,y),C=Math.sqrt(Math.pow(m-h,2)+Math.pow(y-p,2));g=(o=r(_,k,E,t.sourcePos,t.targetPos,a,a,C,c))[0],v=o[0],b=o[1],w=o[1],i.addSegment(this,"Bezier",{x1:m,y1:y,x2:h,y2:p,cp1x:g,cp1y:b,cp2x:v,cp2y:w})}};e.Connectors.StateMachine=o,t.extend(o,e.Connectors.AbstractBezierConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(t){this.type="Straight";var n=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e,t){n.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),n.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),n.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};e.Connectors.Straight=n,t.extend(n,e.Connectors.AbstractConnector)}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="http://www.w3.org/2000/svg",o=function(e,t){for(var n in t)e.setAttribute(n,""+t[n])},i=function(t,n){return(n=n||{}).version="1.1",n.xmlns=r,e.createElementNS(r,t,null,null,n)},a=function(e){return"position:absolute;left:"+e[0]+"px;top:"+e[1]+"px"},s=function(e){for(var t=e.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},c=function(e,t,r,o,a){if(t.setAttribute("fill",r.fill?r.fill:"none"),t.setAttribute("stroke",r.stroke?r.stroke:"none"),r.gradient?function(e,t,n,r,o){var a,c="jsplumb_gradient_"+o._jsPlumb.instance.idstamp();s(e),a=n.gradient.offset?i("radialGradient",{id:c}):i("linearGradient",{id:c,gradientUnits:"userSpaceOnUse"});var u=i("defs");e.appendChild(u),u.appendChild(a);for(var l=0;l<n.gradient.stops.length;l++){var f=1===o.segment||2===o.segment?l:n.gradient.stops.length-1-l,d=n.gradient.stops[f][1],h=i("stop",{offset:Math.floor(100*n.gradient.stops[l][0])+"%","stop-color":d});a.appendChild(h)}var p=n.stroke?"stroke":"fill";t.setAttribute(p,"url(#"+c+")")}(e,t,r,0,a):(s(e),t.setAttribute("style","")),r.strokeWidth&&t.setAttribute("stroke-width",r.strokeWidth),r.dashstyle&&r.strokeWidth&&!r["stroke-dasharray"]){var c=-1===r.dashstyle.indexOf(",")?" ":",",u=r.dashstyle.split(c),l="";u.forEach((function(e){l+=Math.floor(e*r.strokeWidth)+c})),t.setAttribute("stroke-dasharray",l)}else r["stroke-dasharray"]&&t.setAttribute("stroke-dasharray",r["stroke-dasharray"]);for(var f in n)r[f]&&t.setAttribute(n[f],r[f])},u=function(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)};t.svg={node:i,attr:o,pos:a};var l=function(n){var r=n.pointerEventsSpec||"all",s={};e.jsPlumbUIComponent.apply(this,n.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var c=n.cssClass+" "+(n.originalArgs[0].cssClass||""),u={style:"",width:0,height:0,"pointer-events":r,position:"absolute"};this.svg=i("svg",u),n.useDivWrapper?(this.canvas=e.createElement("div",{position:"absolute"}),t.sizeElement(this.canvas,0,0,1,1),this.canvas.className=c):(o(this.svg,{class:c}),this.canvas=this.svg),n._jsPlumb.appendElement(this.canvas,n.originalArgs[0].parent),n.useDivWrapper&&this.canvas.appendChild(this.svg);var l=[this.canvas];return this.getDisplayElements=function(){return l},this.appendDisplayElement=function(e){l.push(e)},this.paint=function(e,r,i){if(null!=e){var c,u=[this.x,this.y],l=[this.w,this.h];null!=i&&(i.xmin<0&&(u[0]+=i.xmin),i.ymin<0&&(u[1]+=i.ymin),l[0]=i.xmax+(i.xmin<0?-i.xmin:0),l[1]=i.ymax+(i.ymin<0?-i.ymin:0)),n.useDivWrapper?(t.sizeElement(this.canvas,u[0],u[1],l[0],l[1]),u[0]=0,u[1]=0,c=a([0,0])):c=a([u[0],u[1]]),s.paint.apply(this,arguments),o(this.svg,{style:c,width:l[0]||0,height:l[1]||0})}},{renderer:s}};t.extend(l,e.jsPlumbUIComponent,{cleanup:function(e){e||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(e){var t=e.getContainer();this.canvas&&null==this.canvas.parentNode&&t.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&t.appendChild(this.bgCanvas)},setVisible:function(e){this.canvas&&(this.canvas.style.display=e?"block":"none")}}),e.ConnectorRenderers.svg=function(t){var n=this,r=l.apply(this,[{cssClass:t._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]);r.renderer.paint=function(r,a,s){var l=n.getSegments(),f=[0,0];if(s.xmin<0&&(f[0]=-s.xmin),s.ymin<0&&(f[1]=-s.ymin),l.length>0){var d={d:n.getPathData(),transform:"translate("+f[0]+","+f[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},h=null;n.x,n.y,n.w,n.h;if(r.outlineStroke){var p=r.outlineWidth||1,m=r.strokeWidth+2*p;delete(h=e.extend({},r)).gradient,h.stroke=r.outlineStroke,h.strokeWidth=m,null==n.bgPath?(n.bgPath=i("path",d),e.addClass(n.bgPath,e.connectorOutlineClass),u(n.svg,n.bgPath,0)):o(n.bgPath,d),c(n.svg,n.bgPath,h,0,n)}null==n.path?(n.path=i("path",d),u(n.svg,n.path,r.outlineStroke?1:0)):o(n.path,d),c(n.svg,n.path,r,0,n)}}},t.extend(e.ConnectorRenderers.svg,l);var f=e.SvgEndpoint=function(t){var n=l.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]);n.renderer.paint=function(t){var n=e.extend({},t);n.outlineStroke&&(n.stroke=n.outlineStroke),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),c(this.svg,this.node,n,(this.x,this.y,this.w,this.h),this),a(this.node,(this.x,this.y))}.bind(this)};t.extend(f,l),e.Endpoints.svg.Dot=function(){e.Endpoints.Dot.apply(this,arguments),f.apply(this,arguments),this.makeNode=function(e){return i("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(e){o(e,{cx:this.w/2,cy:this.h/2,r:this.radius})}},t.extend(e.Endpoints.svg.Dot,[e.Endpoints.Dot,f]),e.Endpoints.svg.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),f.apply(this,arguments),this.makeNode=function(e){return i("rect",{width:this.w,height:this.h})},this.updateNode=function(e){o(e,{width:this.w,height:this.h})}},t.extend(e.Endpoints.svg.Rectangle,[e.Endpoints.Rectangle,f]),e.Endpoints.svg.Image=e.Endpoints.Image,e.Endpoints.svg.Blank=e.Endpoints.Blank,e.Overlays.svg.Label=e.Overlays.Label,e.Overlays.svg.Custom=e.Overlays.Custom;var d=function(t,n){t.apply(this,n),e.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(e,t){if(e.component.svg&&t){null==this.path&&(this.path=i("path",{"pointer-events":"all"}),e.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,e.component),this.canvas=e.component.svg);var a=n&&1===n.length&&n[0].cssClass||"",s=[0,0];t.xmin<0&&(s[0]=-t.xmin),t.ymin<0&&(s[1]=-t.ymin),o(this.path,{d:r(e.d),class:a,stroke:e.stroke?e.stroke:null,fill:e.fill?e.fill:null,transform:"translate("+s[0]+","+s[1]+")"})}};var r=function(e){return isNaN(e.cxy.x)||isNaN(e.cxy.y)?"":"M"+e.hxy.x+","+e.hxy.y+" L"+e.tail[0].x+","+e.tail[0].y+" L"+e.cxy.x+","+e.cxy.y+" L"+e.tail[1].x+","+e.tail[1].y+" L"+e.hxy.x+","+e.hxy.y};this.transfer=function(e){e.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),e.canvas.appendChild(this.path))}};t.extend(d,[e.jsPlumbUIComponent,e.Overlays.AbstractOverlay],{cleanup:function(e){null!=this.path&&(e?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(e,t){this.path&&t.canvas&&t.canvas.appendChild(this.path)},setVisible:function(e){null!=this.path&&(this.path.style.display=e?"block":"none")}}),e.Overlays.svg.Arrow=function(){d.apply(this,[e.Overlays.Arrow,arguments])},t.extend(e.Overlays.svg.Arrow,[e.Overlays.Arrow,d]),e.Overlays.svg.PlainArrow=function(){d.apply(this,[e.Overlays.PlainArrow,arguments])},t.extend(e.Overlays.svg.PlainArrow,[e.Overlays.PlainArrow,d]),e.Overlays.svg.Diamond=function(){d.apply(this,[e.Overlays.Diamond,arguments])},t.extend(e.Overlays.svg.Diamond,[e.Overlays.Diamond,d]),e.Overlays.svg.GuideLines=function(){var t,n,r=null,a=this;e.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,c){null==r&&(r=i("path"),e.connector.svg.appendChild(r),a.attachListeners(r,e.connector),a.attachListeners(r,a),t=i("path"),e.connector.svg.appendChild(t),a.attachListeners(t,e.connector),a.attachListeners(t,a),n=i("path"),e.connector.svg.appendChild(n),a.attachListeners(n,e.connector),a.attachListeners(n,a));var u=[0,0];c.xmin<0&&(u[0]=-c.xmin),c.ymin<0&&(u[1]=-c.ymin),o(r,{d:s(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+u[0]+","+u[1]+")"}),o(t,{d:s(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+u[0]+","+u[1]+")"}),o(n,{d:s(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+u[0]+","+u[1]+")"})};var s=function(e,t){return"M "+e.x+","+e.y+" L"+t.x+","+t.y}},t.extend(e.Overlays.svg.GuideLines,e.Overlays.GuideLines)}.call("undefined"!==typeof window?window:this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,r=e.Katavorio,o=e.Biltong,i=function(e,n){var i="_katavorio_"+(n=n||"main"),a=e[i],s=e.getEventManager();return a||((a=new r({bind:s.on,unbind:s.off,getSize:t.getSize,getConstrainingRectangle:function(e){return[e.parentNode.scrollWidth,e.parentNode.scrollHeight]},getPosition:function(t,n){var r=e.getOffset(t,n,t._katavorioDrag?t.offsetParent:null);return[r.left,r.top]},setPosition:function(e,t){e.style.left=t[0]+"px",e.style.top=t[1]+"px"},addClass:t.addClass,removeClass:t.removeClass,intersects:o.intersects,indexOf:function(e,t){return e.indexOf(t)},scope:e.getDefaultScope(),css:{noSelect:e.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(e.getZoom()),e[i]=a,e.bind("zoom",a.setZoom)),a},a=function(e){var t=e.el._jsPlumbDragOptions,n=!0;return t.canDrag&&(n=t.canDrag()),n&&(this.setHoverSuspended(!0),this.select({source:e.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:e.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),n},s=function(e){var t=this.getUIPosition(arguments,this.getZoom());if(null!=t){var n=e.el._jsPlumbDragOptions;this.draw(e.el,t,null,!0),n._dragging&&this.addClass(e.el,"jtk-dragged"),n._dragging=!0}},c=function(e){for(var t,n=e.selection,r=function(e){null!=e[1]&&(t=this.getUIPosition([{el:e[2].el,pos:[e[1].left,e[1].top]}]),this.draw(e[2].el,t)),delete e[0]._jsPlumbDragOptions._dragging,this.removeClass(e[0],"jtk-dragged"),this.select({source:e[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:e[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.getDragManager().dragEnded(e[2].el)}.bind(this),o=0;o<n.length;o++)r(n[o]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)},u=function(e,t){if(null==t)return[0,0];var n=p(t),r=h(n,0);return[r[e+"X"],r[e+"Y"]]},l=u.bind(this,"page"),f=u.bind(this,"screen"),d=u.bind(this,"client"),h=function(e,t){return e.item?e.item(t):e[t]},p=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},m=function(e){var t={},n=[],r={},o={},i={};this.register=function(a){var s,c=e.getId(a);t[c]||(t[c]=a,n.push(a),r[c]={});!function t(n){if(n)for(var u=0;u<n.childNodes.length;u++)if(3!==n.childNodes[u].nodeType&&8!==n.childNodes[u].nodeType){var l=jsPlumb.getElement(n.childNodes[u]),f=e.getId(n.childNodes[u],null,!0);if(f&&o[f]&&o[f]>0){s||(s=e.getOffset(a));var d=e.getOffset(l);r[c][f]={id:f,offset:{left:d.left-s.left,top:d.top-s.top}},i[f]=c}t(n.childNodes[u])}}(a)},this.updateOffsets=function(t,n){if(null!=t){n=n||{};var o,a=jsPlumb.getElement(t),s=e.getId(a),c=r[s];if(c)for(var u in c)if(c.hasOwnProperty(u)){var l=jsPlumb.getElement(u),f=n[u]||e.getOffset(l);if(null==l.offsetParent&&null!=r[s][u])continue;o||(o=e.getOffset(a)),r[s][u]={id:u,offset:{left:f.left-o.left,top:f.top-o.top}},i[u]=s}}},this.endpointAdded=function(n,a){a=a||e.getId(n);var s=document.body,c=n.parentNode;for(o[a]=o[a]?o[a]+1:1;null!=c&&c!==s;){var u=e.getId(c,null,!0);if(u&&t[u]){var l=e.getOffset(c);if(null==r[u][a]){var f=e.getOffset(n);r[u][a]={id:a,offset:{left:f.left-l.left,top:f.top-l.top}},i[a]=u}break}c=c.parentNode}},this.endpointDeleted=function(e){if(o[e.elementId]&&(o[e.elementId]--,o[e.elementId]<=0))for(var t in r)r.hasOwnProperty(t)&&r[t]&&(delete r[t][e.elementId],delete i[e.elementId])},this.changeId=function(e,t){r[t]=r[e],r[e]={},i[t]=i[e],i[e]=null},this.getElementsForDraggable=function(e){return r[e]},this.elementRemoved=function(e){var t=i[e];t&&(delete r[t][e],delete i[e])},this.reset=function(){t={},n=[],r={},o={}},this.dragEnded=function(t){if(null!=t.offsetParent){var n=e.getId(t),r=i[n];r&&this.updateOffsets(r)}},this.setParent=function(t,n,o,a,s){var c=i[n];r[a]||(r[a]={});var u=e.getOffset(o),l=s||e.getOffset(t);c&&r[c]&&delete r[c][n],r[a][n]={id:n,offset:{left:l.left-u.left,top:l.top-u.top}},i[n]=a},this.clearParent=function(e,t){var n=i[t];n&&(delete r[n][t],delete i[t])},this.revalidateParent=function(t,n,r){var o=i[n];if(o){var a={};a[n]=r,this.updateOffsets(o,a),e.revalidate(o)}},this.getDragAncestor=function(t){var n=jsPlumb.getElement(t),r=e.getId(n),o=i[r];return o?jsPlumb.getElement(o):null}},y=function(e,t,r){t=n.fastTrim(t),"undefined"!==typeof e.className.baseVal?e.className.baseVal=t:e.className=t;try{var o=e.classList;if(null!=o){for(;o.length>0;)o.remove(o.item(0));for(var i=0;i<r.length;i++)r[i]&&o.add(r[i])}}catch(a){n.log("JSPLUMB: cannot set class list",a)}},g=function(e){return"undefined"===typeof e.className.baseVal?e.className:e.className.baseVal},v=function(e,t,r){t=null==t?[]:n.isArray(t)?t:t.split(/\s+/),r=null==r?[]:n.isArray(r)?r:r.split(/\s+/);var o=g(e).split(/\s+/),i=function(e,t){for(var n=0;n<t.length;n++)if(e)-1===o.indexOf(t[n])&&o.push(t[n]);else{var r=o.indexOf(t[n]);-1!==r&&o.splice(r,1)}};i(!0,t),i(!1,r),y(e,o.join(" "),o)};e.jsPlumb.extend(e.jsPlumbInstance.prototype,{headless:!1,pageLocation:l,screenLocation:f,clientLocation:d,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new m(this)),this.dragManager},recalculateOffsets:function(e){this.getDragManager().updateOffsets(e)},createElement:function(e,t,n,r){return this.createElementNS(null,e,t,n,r)},createElementNS:function(e,t,n,r,o){var i,a=null==e?document.createElement(t):document.createElementNS(e,t);for(i in n=n||{})a.style[i]=n[i];for(i in r&&(a.className=r),o=o||{})a.setAttribute(i,""+o[i]);return a},getAttribute:function(e,t){return null!=e.getAttribute?e.getAttribute(t):null},setAttribute:function(e,t,n){null!=e.setAttribute&&e.setAttribute(t,n)},setAttributes:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])},appendToRoot:function(e){document.body.appendChild(e)},getRenderModes:function(){return["svg"]},getClass:g,addClass:function(e,t){jsPlumb.each(e,(function(e){v(e,t)}))},hasClass:function(e,t){return(e=jsPlumb.getElement(e)).classList?e.classList.contains(t):-1!==g(e).indexOf(t)},removeClass:function(e,t){jsPlumb.each(e,(function(e){v(e,null,t)}))},toggleClass:function(e,t){jsPlumb.hasClass(e,t)?jsPlumb.removeClass(e,t):jsPlumb.addClass(e,t)},updateClasses:function(e,t,n){jsPlumb.each(e,(function(e){v(e,t,n)}))},setClass:function(e,t){null!=t&&jsPlumb.each(e,(function(e){y(e,t,t.split(/\s+/))}))},setPosition:function(e,t){e.style.left=t.left+"px",e.style.top=t.top+"px"},getPosition:function(e){var t=function(t){var n=e.style[t];return n?n.substring(0,n.length-2):0};return{left:t("left"),top:t("top")}},getStyle:function(e,t){return"undefined"!==typeof window.getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]},getSelector:function(e,t){return 1===arguments.length?null!=e.nodeType?e:document.querySelectorAll(e):e.querySelectorAll(t)},getOffset:function(e,t,n){e=jsPlumb.getElement(e),n=n||this.getContainer();for(var r={left:e.offsetLeft,top:e.offsetTop},o=t||null!=n&&e!==n&&e.offsetParent!==n?e.offsetParent:null,i=function(e){null!=e&&e!==document.body&&(e.scrollTop>0||e.scrollLeft>0)&&(r.left-=e.scrollLeft,r.top-=e.scrollTop)}.bind(this);null!=o;)r.left+=o.offsetLeft,r.top+=o.offsetTop,i(o),o=t?o.offsetParent:o.offsetParent===n?null:o.offsetParent;if(null!=n&&!t&&(n.scrollTop>0||n.scrollLeft>0)){var a=null!=e.offsetParent?this.getStyle(e.offsetParent,"position"):"static",s=this.getStyle(e,"position");"absolute"!==s&&"fixed"!==s&&"absolute"!==a&&"fixed"!==a&&(r.left-=n.scrollLeft,r.top-=n.scrollTop)}return r},getPositionOnElement:function(e,t,n){var r="undefined"!==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},o=document.body,i=document.documentElement,a=window.pageYOffset||i.scrollTop||o.scrollTop,s=window.pageXOffset||i.scrollLeft||o.scrollLeft,c=i.clientTop||o.clientTop||0,u=i.clientLeft||o.clientLeft||0,l=r.top+a-c+0*n,f=r.left+s-u+0*n,d=jsPlumb.pageLocation(e),h=r.width||t.offsetWidth*n,p=r.height||t.offsetHeight*n;return[(d[0]-f)/h,(d[1]-l)/p]},getAbsolutePosition:function(e){var t=function(t){var n=e.style[t];if(n)return parseFloat(n.substring(0,n.length-2))};return[t("left"),t("top")]},setAbsolutePosition:function(e,t,n,r){n?this.animate(e,{left:"+="+(t[0]-n[0]),top:"+="+(t[1]-n[1])},r):(e.style.left=t[0]+"px",e.style.top=t[1]+"px")},getSize:function(e){return[e.offsetWidth,e.offsetHeight]},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(e,t){var r;return e=n.isArray(e)||null!=e.length&&!n.isString(e)?e:[e],Array.prototype.slice.call(e).forEach(function(e){(r=this.info(e)).el&&this._initDraggableIfNecessary(r.el,!0,t,r.id,!0)}.bind(this)),this},snapToGrid:function(e,t,n){var r=[],o=function(e){var o=this.info(e);if(null!=o.el&&o.el._katavorioDrag){var i=o.el._katavorioDrag.snap(t,n);this.revalidate(o.el),r.push([o.el,i])}}.bind(this);if(1===arguments.length||3===arguments.length)o(e,t,n);else{var i=this.getManagedElements();for(var a in i)o(a,arguments[0],arguments[1])}return r},initDraggable:function(e,t,n){i(this,n).draggable(e,t),e._jsPlumbDragOptions=t},destroyDraggable:function(e,t){i(this,t).destroyDraggable(e),delete e._jsPlumbDragOptions},unbindDraggable:function(e,t,n,r){i(this,r).destroyDraggable(e,t,n)},setDraggable:function(e,t){return jsPlumb.each(e,function(e){this.isDragSupported(e)&&(this._draggableStates[this.getAttribute(e,"id")]=t,this.setElementDraggable(e,t))}.bind(this))},_draggableStates:{},toggleDraggable:function(e){var t;return jsPlumb.each(e,function(e){var n=this.getAttribute(e,"id");return t=!(t=null!=this._draggableStates[n]&&this._draggableStates[n]),this._draggableStates[n]=t,this.setDraggable(e,t),t}.bind(this)),t},_initDraggableIfNecessary:function(e,t,r,o,i){if(!jsPlumb.headless&&(null!=t&&t&&jsPlumb.isDragSupported(e,this))){var u=r||this.Defaults.DragOptions;if(u=jsPlumb.extend({},u),jsPlumb.isAlreadyDraggable(e,this))r.force&&this.initDraggable(e,u);else{var l=jsPlumb.dragEvents.drag,f=jsPlumb.dragEvents.stop,d=jsPlumb.dragEvents.start;this.manage(o,e),u[d]=n.wrap(u[d],a.bind(this)),u[l]=n.wrap(u[l],s.bind(this)),u[f]=n.wrap(u[f],c.bind(this));var h=this.getId(e);this._draggableStates[h]=!0;var p=this._draggableStates[h];u.disabled=null!=p&&!p,this.initDraggable(e,u),this.getDragManager().register(e),i&&this.fire("elementDraggable",{el:e,options:u})}}},animationSupported:!0,getElement:function(e){return null==e?null:"string"===typeof(e="string"===typeof e?e:null!=e.length&&null==e.enctype?e[0]:e)?document.getElementById(e):e},removeElement:function(e){i(this).elementRemoved(e),this.getEventManager().remove(e)},doAnimate:function(e,r,o){o=o||{};var i=this.getOffset(e),a=function(e,t){var r=function(r){if(null!=t[r]){if(n.isString(t[r])){var o=t[r].match(/-=/)?-1:1,i=t[r].substring(2);return e[r]+o*i}return t[r]}return e[r]};return[r("left"),r("top")]}(i,r),s=a[0]-i.left,c=a[1]-i.top,u=o.duration||250,l=u/15,f=15/u*s,d=15/u*c,h=0,p=setInterval((function(){t.setPosition(e,{left:i.left+f*(h+1),top:i.top+d*(h+1)}),null!=o.step&&o.step(h,Math.ceil(l)),++h>=l&&(window.clearInterval(p),null!=o.complete&&o.complete())}),15)},destroyDroppable:function(e,t){i(this,t).destroyDroppable(e)},unbindDroppable:function(e,t,n,r){i(this,r).destroyDroppable(e,t,n)},droppable:function(e,t){var r;return e=n.isArray(e)||null!=e.length&&!n.isString(e)?e:[e],(t=t||{}).allowLoopback=!1,Array.prototype.slice.call(e).forEach(function(e){(r=this.info(e)).el&&this.initDroppable(r.el,t)}.bind(this)),this},initDroppable:function(e,t,n){i(this,n).droppable(e,t)},isAlreadyDraggable:function(e){return null!=e._katavorioDrag},isDragSupported:function(e,t){return!0},isDropSupported:function(e,t){return!0},isElementDraggable:function(e){return(e=t.getElement(e))._katavorioDrag&&e._katavorioDrag.isEnabled()},getDragObject:function(e){return e[0].drag.getDragElement()},getDragScope:function(e){return e._katavorioDrag&&e._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(e){return e[0].e},getUIPosition:function(e,t){var n=e[0].el;if(null==n.offsetParent)return null;var r=e[0].finalPos||e[0].pos,o={left:r[0],top:r[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var i=this.getOffset(n.offsetParent);o.left+=i.left,o.top+=i.top}return o},setDragFilter:function(e,t,n){e._katavorioDrag&&e._katavorioDrag.setFilter(t,n)},setElementDraggable:function(e,n){(e=t.getElement(e))._katavorioDrag&&e._katavorioDrag.setEnabled(n)},setDragScope:function(e,t){e._katavorioDrag&&e._katavorioDrag.k.setDragScope(e,t)},setDropScope:function(e,t){e._katavorioDrop&&e._katavorioDrop.length>0&&e._katavorioDrop[0].k.setDropScope(e,t)},addToPosse:function(e,n){var r=Array.prototype.slice.call(arguments,1),o=i(this);t.each(e,(function(e){(e=[t.getElement(e)]).push.apply(e,r),o.addToPosse.apply(o,e)}))},setPosse:function(e,n){var r=Array.prototype.slice.call(arguments,1),o=i(this);t.each(e,(function(e){(e=[t.getElement(e)]).push.apply(e,r),o.setPosse.apply(o,e)}))},removeFromPosse:function(e,n){var r=Array.prototype.slice.call(arguments,1),o=i(this);t.each(e,(function(e){(e=[t.getElement(e)]).push.apply(e,r),o.removeFromPosse.apply(o,e)}))},removeFromAllPosses:function(e){var n=i(this);t.each(e,(function(e){n.removeFromAllPosses(t.getElement(e))}))},setPosseState:function(e,n,r){var o=i(this);t.each(e,(function(e){o.setPosseState(t.getElement(e),n,r)}))},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(e){e._katavorioDrag&&e._katavorioDrag.abort()},addToDragSelection:function(e){i(this).select(e)},removeFromDragSelection:function(e){i(this).deselect(e)},clearDragSelection:function(){i(this).deselectAll()},trigger:function(e,t,n,r){this.getEventManager().trigger(e,t,n,r)},doReset:function(){for(var e in this)0===e.indexOf("_katavorio_")&&this[e].reset()},getEventManager:function(){return(n=(t=this)._mottle)||(n=t._mottle=new e.Mottle),n;var t,n},on:function(e,t,n){return this.getEventManager().on.apply(this,arguments),this},off:function(e,t,n){return this.getEventManager().off.apply(this,arguments),this}});var b;b=t.init,function e(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!==typeof document.body&&null!=document.body?b():setTimeout(e,9)}()}.call("undefined"!==typeof window?window:this)},function(e,t,n){"use strict";var r=n(31),o=n(42),i=(n(20),n(30));n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(e,t){return void 0===t&&(t={}),a(void 0,void 0,Promise,(function(){var n;return s(this,(function(a){return n={headers:{"Content-Type":"application/json","X-CSRF-Token":Object(r.a)(),"X-UID":i.a.ww.uid}},[2,Object(o.apiFetch)(e,n,t)]}))}))},u=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=4),a(void 0,void 0,Promise,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,4]),[4,c(e,t)];case 1:return[2,o.sent()];case 2:if(r=o.sent(),1===n||r.status<500)throw r;return[4,(i=10,a=50,new Promise((function(e,t){(i<0||a<i)&&t(new Error("Invalid min or max time values."));var n=i+Math.ceil(Math.random()*(a-i));setTimeout(e,n)})))];case 3:return o.sent(),[2,u(e,t,n-1)];case 4:return[2]}var i,a}))}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(4),o={title:Object(r.a)("You have unsaved changes"),body:Object(r.a)("Are you sure you want to discard them and close this panel?"),confirmButtonText:Object(r.a)("Discard and close"),cancelButtonText:Object(r.a)("Keep working")},i={message:Object(r.a)("Sorry, we couldn't save your changes. Please refresh the page."),actionText:Object(r.a)("Refresh"),actionName:"reloadPage"}},function(e,t,n){"use strict";t.a=function(e,t){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.__iosAppMsgCenter?window.webkit.messageHandlers.__iosAppMsgCenter.postMessage(e):window.__androidAppMsgCenter?window.__androidAppMsgCenter.postMessage(JSON.stringify(e)):window.Windows&&window.__windowsAppMsgCenter?window.__windowsAppMsgCenter.postMessage(e):window.__macAppMsgCenter?window.__macAppMsgCenter.postMessage(e):t&&t()}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(144);t.configure=o.configure,t.resetConfiguration=o.resetConfiguration;var i=n(48);t.apiFetch=i.apiFetch;var a=r(n(272));t.fetchWall=a.default;var s=r(n(273));t.saveWall=s.default;var c=r(n(274));t.deleteWall=c.default;var u=r(n(275));t.likeWall=u.default;var l=r(n(276));t.unlikeWall=l.default;var f=r(n(199));t.checkWallAddressValid=f.default;var d=r(n(277));t.checkWallAvailability=d.default;var h=r(n(278));t.validateWall=h.default;var p=r(n(280));t.fetchEmojis=p.default;var m=r(n(200));t.fetchPictureBackgrounds=m.default;var y=r(n(201));t.fetchColorBackgrounds=y.default;var g=r(n(202));t.fetchGradientBackgrounds=g.default;var v=r(n(203));t.fetchPatternBackgrounds=v.default;var b=r(n(283));t.fetchBackgrounds=b.default;var w=r(n(284));t.fetchMapThemes=w.default;var _=r(n(285));t.fetchLink=_.default;var k=r(n(286));t.subscribeLink=k.default},function(e,t,n){"use strict";var r=n(0),o=n(6);function i(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:a(e)}]}}function a(e){if("number"===typeof e||"boolean"===typeof e||"string"===typeof e||"undefined"===typeof e||null===e)return null;if(Array.isArray(e))return a(e[0]);var t=[];return Object.keys(e).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:a(e[n])||void 0};t.push(r)})),{kind:"SelectionSet",selections:t}}var s,c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},u=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(o.h)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(o.h)(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,o=e.data;if("undefined"!==typeof r){var s=null;try{s=this.read({rootId:r,optimistic:!1,query:c})}catch(f){}var u=s&&s.__typename||"__ClientData",l=Object.assign({__typename:u},o);this.writeFragment({id:r,fragment:(t=l,n=u,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:a(t)}]}),data:l})}else this.writeQuery({query:i(o),data:o})},e}();s||(s={});var l=n(107),f=n(55),d=n(5),h=new Map;if(h.set(1,2)!==h){var p=h.set;Map.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.apply(this,e),this}}var m=new Set;if(m.add(3)!==m){var y=m.add;Set.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return y.apply(this,e),this}}var g={};"function"===typeof Object.freeze&&Object.freeze(g);try{h.set(g,g).delete(g)}catch(Te){var v=function(e){return e&&function(t){try{h.set(t,t).delete(t)}finally{return e.call(Object,t)}}};Object.freeze=v(Object.freeze),Object.seal=v(Object.seal),Object.preventExtensions=v(Object.preventExtensions)}var b=!1;function w(){var e=!b;return Object(o.s)()||(b=!0),e}var _=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id);return!r&&"ROOT_QUERY"===e.id||!!r&&(r.__typename&&r.__typename===t||(w(),"heuristic"))},e}(),k=(function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}e.prototype.match=function(e,t,n){Object(d.b)(this.isReady);var r=n.store.get(e.id);if(!r)return!1;if(Object(d.b)(r.__typename),r.__typename===t)return!0;var o=this.possibleTypesMap[t];return!!(o&&o.indexOf(r.__typename)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach((function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map((function(e){return e.name})))})),t}}(),function(){function e(){this.children=null,this.key=null}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){t=t.getOrCreate(e)})),t.key||(t.key=Object.create(null))},e.prototype.getOrCreate=function(t){var n=this.children||(this.children=new Map),r=n.get(t);return r||n.set(t,r=new e),r},e}()),E=Object.prototype.hasOwnProperty,C=function(){function e(e){void 0===e&&(e=Object.create(null));var t=this;this.data=e,this.depend=Object(f.wrap)((function(e){return t.data[e]}),{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){E.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach((function(n){t.set(n,e[n])})),Object.keys(this.data).forEach((function(n){E.call(e,n)||t.delete(n)}))):Object.keys(this.data).forEach((function(e){t.delete(e)}))},e}();function O(e){return new C(e)}var S=function(){function e(e){void 0===e&&(e=new k);var t=this;this.cacheKeyRoot=e;var n=this,r=n.executeStoreQuery,o=n.executeSelectionSet;this.executeStoreQuery=Object(f.wrap)((function(e){return r.call(t,e)}),{makeCacheKey:function(e){var t=e.query,r=e.rootValue,o=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(o.store instanceof C)return n.cacheKeyRoot.lookup(t,o.store,a,JSON.stringify(i),r.id)}}),this.executeSelectionSet=Object(f.wrap)((function(e){return o.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,r=e.rootValue,o=e.execContext;if(o.contextValue.store instanceof C)return n.cacheKeyRoot.lookup(t,o.contextValue.store,o.fragmentMatcher,JSON.stringify(o.variableValues),r.id)}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Object(r.__assign)({},e,{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.variables,i=e.previousResult,a=e.returnPartialData,s=void 0===a||a,c=e.rootId,u=void 0===c?"ROOT_QUERY":c,f=e.fragmentMatcherFunction,h=e.config,p=Object(o.l)(n);r=Object(o.c)({},Object(o.e)(p),r);var m={store:t,dataIdFromObject:h&&h.dataIdFromObject||null,cacheRedirects:h&&h.cacheRedirects||{}},y=this.executeStoreQuery({query:n,rootValue:{type:"id",id:u,generated:!0,typename:"Query"},contextValue:m,variableValues:r,fragmentMatcher:f}),g=y.missing&&y.missing.length>0;return g&&!s&&y.missing.forEach((function(e){if(!e.tolerable)throw new d.a})),i&&Object(l.a)(i,y.result)&&(y.result=i),{result:y.result,complete:!g}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,a=e.fragmentMatcher,s=void 0===a?P:a,c=Object(o.i)(t),u=Object(o.g)(t),l={query:t,fragmentMap:Object(o.d)(u),contextValue:r,variableValues:i,fragmentMatcher:s};return this.executeSelectionSet({selectionSet:c.selectionSet,rootValue:n,execContext:l})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,i=e.rootValue,a=e.execContext,s=a.fragmentMap,c=a.contextValue,u=a.variableValues,l={result:null},f=[],h=c.store.get(i.id),p=h&&h.__typename||"ROOT_QUERY"===i.id&&"Query"||void 0;function m(e){var t;return e.missing&&(l.missing=l.missing||[],(t=l.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach((function(e){var n;if(Object(o.v)(e,u))if(Object(o.n)(e)){var l=m(t.executeField(h,p,e,a));"undefined"!==typeof l&&f.push(((n={})[Object(o.u)(e)]=l,n))}else{var y=void 0;if(Object(o.p)(e))y=e;else if(!(y=s[e.name.value]))throw new d.a;var g=y.typeCondition.name.value,v=a.fragmentMatcher(i,g,c);if(v){var b=t.executeSelectionSet({selectionSet:y.selectionSet,rootValue:i,execContext:a});"heuristic"===v&&b.missing&&(b=Object(r.__assign)({},b,{missing:b.missing.map((function(e){return Object(r.__assign)({},e,{tolerable:!0})}))})),f.push(m(b))}}})),l.result=Object(o.t)(f),l},e.prototype.executeField=function(e,t,n,r){var i=r.variableValues,a=r.contextValue,s=function(e,t,n,r,i,a){a.resultKey;var s=a.directives,c=n;(r||s)&&(c=Object(o.m)(c,r,s));var u=void 0;if(e&&"undefined"===typeof(u=e[c])&&i.cacheRedirects&&"string"===typeof t){var l=i.cacheRedirects[t];if(l){var f=l[n];f&&(u=f(e,r,{getCacheKey:function(e){return Object(o.x)({id:i.dataIdFromObject(e),typename:e.__typename})}}))}}if("undefined"===typeof u)return{result:u,missing:[{object:e,fieldName:c,tolerable:!1}]};Object(o.q)(u)&&(u=u.json);return{result:u}}(e,t,n.name.value,Object(o.b)(n,i),a,{resultKey:Object(o.u)(n),directives:Object(o.f)(n,i)});return Array.isArray(s.result)?this.combineExecResults(s,this.executeSubSelectedArray(n,s.result,r)):n.selectionSet?null==s.result?s:this.combineExecResults(s,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:s.result,execContext:r})):(T(n,s.result),s)},e.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return e.forEach((function(e){e.missing&&(n=n||[]).push.apply(n,e.missing)})),{result:e.pop().result,missing:n}},e.prototype.executeSubSelectedArray=function(e,t,n){var r=this,o=null;function i(e){return e.missing&&(o=o||[]).push.apply(o,e.missing),e.result}return{result:t=t.map((function(t){return null===t?null:Array.isArray(t)?i(r.executeSubSelectedArray(e,t,n)):e.selectionSet?i(r.executeSelectionSet({selectionSet:e.selectionSet,rootValue:t,execContext:n})):(T(e,t),t)})),missing:o}},e}();function T(e,t){if(!e.selectionSet&&Object(o.o)(t))throw new d.a}function P(){return!0}var A=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}();var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return Object(r.__extends)(t,e),t}(Error);var x=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,o=void 0===r?O():r,i=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:o,variables:i,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,i=e.store,a=void 0===i?O():i,s=e.variables,c=e.dataIdFromObject,u=e.fragmentMatcherFunction,l=Object(o.j)(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:l.selectionSet,context:{store:a,processedData:{},variables:Object(o.c)({},Object(o.e)(l),s),dataIdFromObject:c,fragmentMap:Object(o.d)(Object(o.g)(r)),fragmentMatcherFunction:u}})}catch(f){throw function(e,t){var n=new I("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}(f,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,i=e.selectionSet,a=e.context,s=a.variables,c=a.store,u=a.fragmentMap;return i.selections.forEach((function(e){if(Object(o.v)(e,s))if(Object(o.n)(e)){var i=Object(o.u)(e),c=n[i];if("undefined"!==typeof c)t.writeFieldToStore({dataId:r,value:c,field:e,context:a});else{var l=!1,f=!1;e.directives&&e.directives.length&&(l=e.directives.some((function(e){return e.name&&"defer"===e.name.value})),f=e.directives.some((function(e){return e.name&&"client"===e.name.value}))),!l&&!f&&a.fragmentMatcherFunction}}else{var h=void 0;Object(o.p)(e)?h=e:(h=(u||{})[e.name.value],Object(d.b)(h));var p=!0;if(a.fragmentMatcherFunction&&h.typeCondition){var m=Object(o.x)({id:"self",typename:void 0}),y={store:new A({self:n}),cacheRedirects:{}},g=a.fragmentMatcherFunction(m,h.typeCondition.name.value,y);Object(o.r)(),p=!!g}p&&t.writeSelectionSetToStore({result:n,selectionSet:h.selectionSet,dataId:r,context:a})}})),c},e.prototype.writeFieldToStore=function(e){var t,n,i,a=e.field,s=e.value,c=e.dataId,u=e.context,f=u.variables,h=u.dataIdFromObject,p=u.store,m=Object(o.w)(a,f);if(a.selectionSet&&null!==s)if(Array.isArray(s)){var y=c+"."+m;n=this.processArrayValue(s,y,a.selectionSet,u)}else{var g=c+"."+m,v=!0;if(j(g)||(g="$"+g),h){var b=h(s);Object(d.b)(!b||!j(b)),(b||"number"===typeof b&&0===b)&&(g=b,v=!1)}D(g,a,u.processedData)||this.writeSelectionSetToStore({dataId:g,result:s,selectionSet:a.selectionSet,context:u});var w=s.__typename;n=Object(o.x)({id:g,typename:w},v);var _=(i=p.get(c))&&i[m];if(_!==n&&Object(o.o)(_)){var k=void 0!==_.typename,E=void 0!==w,C=k&&E&&_.typename!==w;Object(d.b)(!v||_.generated||C),Object(d.b)(!k||E),_.generated&&(C?v||p.delete(_.id):function e(t,n,i){if(t===n)return!1;var a=i.get(t);var s=i.get(n);var c=!1;Object.keys(a).forEach((function(t){var n=a[t],r=s[t];Object(o.o)(n)&&j(n.id)&&Object(o.o)(r)&&!Object(l.a)(n,r)&&e(n.id,r.id,i)&&(c=!0)}));i.delete(t);var u=Object(r.__assign)({},a,s);if(Object(l.a)(u,s))return c;i.set(n,u);return!0}(_.id,n.id,p))}}else n=null!=s&&"object"===typeof s?{type:"json",json:s}:s;(i=p.get(c))&&Object(l.a)(n,i[m])||p.set(c,Object(r.__assign)({},i,((t={})[m]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var i=this;return e.map((function(e,a){if(null===e)return null;var s=t+"."+a;if(Array.isArray(e))return i.processArrayValue(e,s,n,r);var c=!0;if(r.dataIdFromObject){var u=r.dataIdFromObject(e);u&&(s=u,c=!1)}return D(s,n,r.processedData)||i.writeSelectionSetToStore({dataId:s,result:e,selectionSet:n,context:r}),Object(o.x)({id:s,typename:e.__typename},c)}))},e}();function j(e){return"$"===e[0]}function D(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var N={fragmentMatcher:new _,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0};var R=Object.prototype.hasOwnProperty,M=function(e){function t(t,n,r){var o=e.call(this,Object.create(null))||this;return o.optimisticId=t,o.parent=n,o.transaction=r,o}return Object(r.__extends)(t,e),t.prototype.toObject=function(){return Object(r.__assign)({},this.parent.toObject(),this.data)},t.prototype.get=function(e){return R.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(A),L=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new k,n.silenceBroadcast=!1,n.config=Object(r.__assign)({},N,t),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=n.config.addTypename,n.data=n.config.resultCaching?new C:new A,n.optimisticData=n.data,n.storeReader=new S(n.cacheKeyRoot),n.storeWriter=new x;var o=n,i=o.maybeBroadcastWatch;return n.maybeBroadcastWatch=Object(f.wrap)((function(e){return i.call(n,e)}),{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return o.data instanceof C?o.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return Object(r.__extends)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){return"string"===typeof e.rootId&&"undefined"===typeof this.data.get(e.rootId)?null:this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:this.config.fragmentMatcher.match,previousResult:e.previousResult,config:this.config})},t.prototype.write=function(e){this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:this.config.fragmentMatcher.match}),this.broadcastWatches()},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:this.config.fragmentMatcher.match,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new d.a},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof M;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var o=t.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"===typeof t&&(this.data=this.optimisticData=new M(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Object(o.a)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(u),F=n(3),B=n(118),U=n.n(B).a,q=n(88);!function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}Object(r.__extends)(t,e)}(Error);function V(e){return e.request.length<=1}function W(e){return new U((function(t){t.error(e)}))}function G(e,t){var n=Object(r.__assign)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"===typeof e?Object(r.__assign)({},n,e(n)):Object(r.__assign)({},n,e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Object(r.__assign)({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function H(e,t){return t?t(e):U.of()}function z(e){return"function"===typeof e?new Y(e):e}function Q(){return new Y((function(){return U.of()}))}function $(e){return 0===e.length?Q():e.map(z).reduce((function(e,t){return e.concat(t)}))}function K(e,t,n){var r=z(t),o=z(n||new Y(H));return V(r)&&V(o)?new Y((function(t){return e(t)?r.request(t)||U.of():o.request(t)||U.of()})):new Y((function(t,n){return e(t)?r.request(t,n)||U.of():o.request(t,n)||U.of()}))}var Y=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(K(t,n,r||new e(H)))},e.prototype.concat=function(e){return function(e,t){var n=z(e);if(V(n))return n;var r=z(t);return V(r)?new Y((function(e){return n.request(e,(function(e){return r.request(e)||U.of()}))||U.of()})):new Y((function(e,t){return n.request(e,(function(e){return r.request(e,t)||U.of()}))||U.of()}))}(this,e)},e.prototype.request=function(e,t){throw new q.a(1)},e.empty=Q,e.from=$,e.split=K,e.execute=X,e}();function X(e,t){return e.request(G(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?Object(o.k)(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw new q.a(2)}return e}(t))))||U.of()}var J,Z=n(116),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inFlightRequestObservables=new Map,t.subscribers=new Map,t}return Object(r.__extends)(t,e),t.prototype.request=function(e,t){var n=this;if(e.getContext().forceFetch)return t(e);var r=e.toKey();if(!this.inFlightRequestObservables.get(r)){var o,i=t(e),a=new U((function(e){return n.subscribers.has(r)||n.subscribers.set(r,new Set),n.subscribers.get(r).add(e),o||(o=i.subscribe({next:function(e){var t=n.subscribers.get(r);n.subscribers.delete(r),n.inFlightRequestObservables.delete(r),t&&(t.forEach((function(t){return t.next(e)})),t.forEach((function(e){return e.complete()})))},error:function(e){var t=n.subscribers.get(r);n.subscribers.delete(r),n.inFlightRequestObservables.delete(r),t&&t.forEach((function(t){return t.error(e)}))}})),function(){n.subscribers.has(r)&&(n.subscribers.get(r).delete(e),0===n.subscribers.get(r).size&&(n.inFlightRequestObservables.delete(r),o&&o.unsubscribe()))}}));this.inFlightRequestObservables.set(r,a)}return this.inFlightRequestObservables.get(r)},t}(Y),te=n(16);function ne(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(J||(J={}));var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype[Z.a]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(U);var oe,ie=function(e){var t="";return Array.isArray(e.graphQLErrors)&&0!==e.graphQLErrors.length&&e.graphQLErrors.forEach((function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"})),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},ae=function(e){function t(n){var r=n.graphQLErrors,o=n.networkError,i=n.errorMessage,a=n.extraInfo,s=e.call(this,i)||this;return s.graphQLErrors=r||[],s.networkError=o||null,s.message=i||ie(s),s.extraInfo=a,s.__proto__=t.prototype,s}return Object(r.__extends)(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(oe||(oe={}));var se=function(e){function t(t){var n=t.queryManager,r=t.options,o=t.shouldSubscribe,i=void 0===o||o,a=e.call(this,(function(e){return a.onSubscribe(e)}))||this;return a.isTornDown=!1,a.options=r,a.variables=r.variables||{},a.queryId=n.generateQueryId(),a.shouldSubscribe=i,a.queryManager=n,a.observers=[],a.subscriptionHandles=[],a}return Object(r.__extends)(t,e),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r,o={next:function(n){t(n),e.observers.some((function(e){return e!==o}))||e.queryManager.removeQuery(e.queryId),setTimeout((function(){r.unsubscribe()}),0)},error:function(e){n(e)}};r=e.subscribe(o)}))},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown)return{data:this.lastError?void 0:this.lastResult?this.lastResult.data:void 0,error:this.lastError,loading:!1,networkStatus:J.error};var e,t,n=this.queryManager.queryStore.get(this.queryId);if(e=n,void 0===(t=this.options.errorPolicy)&&(t="none"),e&&(e.graphQLErrors&&e.graphQLErrors.length>0&&"none"===t||e.networkError))return{data:void 0,loading:!1,networkStatus:n.networkStatus,error:new ae({graphQLErrors:n.graphQLErrors,networkError:n.networkError})};n&&n.variables&&(this.options.variables=Object.assign({},this.options.variables,n.variables));var o,i=this.queryManager.getCurrentQueryResult(this),a=i.data,s=i.partial,c=!n||n.networkStatus===J.loading,u="network-only"===this.options.fetchPolicy&&c||s&&"cache-only"!==this.options.fetchPolicy,l={data:a,loading:ne(o=n?n.networkStatus:u?J.loading:J.ready),networkStatus:o};return n&&n.graphQLErrors&&"all"===this.options.errorPolicy&&(l.errors=n.graphQLErrors),s||(this.lastResult=Object(r.__assign)({},l,{stale:!1}),this.lastResultSnapshot=Object(F.d)(this.lastResult)),Object(r.__assign)({},l,{partial:s})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&Object(F.p)(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;if("cache-only"===t)return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."));Object(F.p)(this.variables,e)||(this.variables=Object.assign({},this.variables,e)),Object(F.p)(this.options.variables,this.variables)||(this.options.variables=Object.assign({},this.options.variables,this.variables));var n="network-only"===t||"no-cache"===t,o=Object(r.__assign)({},this.options,{fetchPolicy:n?t:"network-only"});return this.queryManager.fetchQuery(this.queryId,o,oe.refetch).then((function(e){return e}))},t.prototype.fetchMore=function(e){var t,n=this;return Object(d.b)(e.updateQuery),Promise.resolve().then((function(){var o=n.queryManager.generateQueryId();return(t=e.query?e:Object(r.__assign)({},n.options,e,{variables:Object.assign({},n.variables,e.variables)})).fetchPolicy="network-only",n.queryManager.fetchQuery(o,t,oe.normal,n.queryId)})).then((function(r){return n.updateQuery((function(n){return e.updateQuery(n,{fetchMoreResult:r.data,variables:t.variables})})),r}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){e.updateQuery&&t.updateQuery((function(t,r){var o=r.variables;return e.updateQuery(t,{subscriptionData:n,variables:o})}))},error:function(t){e.onError?e.onError(t):console.error("Unhandled GraphQL subscription error",t)}});return this.subscriptionHandles.push(n),function(){var e=t.subscriptionHandles.indexOf(n);e>=0&&(t.subscriptionHandles.splice(e,1),n.unsubscribe())}},t.prototype.setOptions=function(e){var t=this.options;this.options=Object.assign({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n="network-only"!==t.fetchPolicy&&"network-only"===e.fetchPolicy||"cache-only"===t.fetchPolicy&&"cache-only"!==e.fetchPolicy||"standby"===t.fetchPolicy&&"standby"!==e.fetchPolicy||!1;return this.setVariables(this.options.variables,n,e.fetchResults)},t.prototype.setVariables=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1;var o=e||this.variables;return Object(F.p)(o,this.variables)&&!t?0!==this.observers.length&&n?this.result():new Promise((function(e){return e()})):(this.variables=o,this.options.variables=o,0===this.observers.length?new Promise((function(e){return e()})):this.queryManager.fetchQuery(this.queryId,Object(r.__assign)({},this.options,{variables:this.variables})).then((function(e){return e})))},t.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),n=t.previousResult,r=t.variables,o=t.document,i=Object(F.y)((function(){return e(n,{variables:r})}));i&&(this.queryManager.dataStore.markUpdateQueryResult(o,r,i),this.queryManager.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){ce(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.onSubscribe=function(e){var t=this;return e._subscription&&e._subscription._observer&&!e._subscription._observer.error&&(e._subscription._observer.error=function(e){console.error("Unhandled error",e.message,e.stack)}),this.observers.push(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),1===this.observers.length&&this.setUpQuery(),function(){t.observers=t.observers.filter((function(t){return t!==e})),0===t.observers.length&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this;this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval&&(ce(this),this.queryManager.startPollingQuery(this.options,this.queryId));var t={next:function(t){e.lastResult=t,e.lastResultSnapshot=Object(F.d)(t),e.observers.forEach((function(e){return e.next&&e.next(t)}))},error:function(t){e.lastError=t,e.observers.forEach((function(e){return e.error&&e.error(t)}))}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))},t.prototype.tearDownQuery=function(){this.isTornDown=!0,this.queryManager.stopPollingQuery(this.queryId),this.subscriptionHandles.forEach((function(e){return e.unsubscribe()})),this.subscriptionHandles=[],this.queryManager.removeObservableQuery(this.queryId),this.queryManager.stopQuery(this.queryId),this.observers=[]},t}(re);function ce(e){var t=e.options.fetchPolicy;Object(d.b)("cache-first"!==t&&"cache-only"!==t)}var ue=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),le=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];if(t&&t.document!==e.document&&!Object(F.p)(t.document,e.document))throw new d.a;var n,r=!1,o=null;e.storePreviousVariables&&t&&t.networkStatus!==J.loading&&(Object(F.p)(t.variables,e.variables)||(r=!0,o=t.variables)),n=r?J.setVariables:e.isPoll?J.poll:e.isRefetch?J.refetch:J.loading;var i=[];t&&t.graphQLErrors&&(i=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:i,networkStatus:n,metadata:e.metadata},"string"===typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=J.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=t.errors&&t.errors.length?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=J.ready,"string"===typeof n&&this.store[n]&&(this.store[n].networkStatus=J.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=J.error,"string"===typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].previousVariables=null,this.store[e].networkStatus=t?J.ready:J.loading)},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;this.store=Object.keys(this.store).filter((function(t){return e.indexOf(t)>-1})).reduce((function(e,n){return e[n]=Object(r.__assign)({},t.store[n],{networkStatus:J.loading}),e}),{})},e}();var fe=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Object(F.s)(t.resolvers,e)})):this.resolvers=Object(F.s)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,o=e.context,i=e.variables,a=e.onlyRunForcedResolvers,s=void 0!==a&&a;return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,o,i,this.fragmentMatcher,s).then((function(e){return Object(r.__assign)({},n,{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Object(F.o)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return this.resolvers?Object(F.u)(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return Object(r.__assign)({},e,{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);Object(d.b)(!1)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Object(r.__assign)({},t,e.exportedVariables)}))]:[2,Object(r.__assign)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Object(te.visit)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return te.BREAK}}}),t},e.prototype.shouldForceResolver=function(e){return this.shouldForceResolvers(e)},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Object(F.c)(e),variables:t,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,o,i,a){return void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=function(){return!0}),void 0===a&&(a=!1),Object(r.__awaiter)(this,void 0,void 0,(function(){var s,c,u,l,f,d,h,p,m;return Object(r.__generator)(this,(function(y){var g;return s=Object(F.h)(e),c=Object(F.g)(e),u=Object(F.e)(c),l=s.operation,f=l?(g=l).charAt(0).toUpperCase()+g.slice(1):"Query",h=(d=this).cache,p=d.client,m={fragmentMap:u,context:Object(r.__assign)({},n,{cache:h,client:p}),variables:o,fragmentMatcher:i,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(s.selectionSet,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,c,u=this;return Object(r.__generator)(this,(function(l){return o=n.fragmentMap,i=n.context,a=n.variables,s=[t],c=function(e){return Object(r.__awaiter)(u,void 0,void 0,(function(){var c,u;return Object(r.__generator)(this,(function(r){return Object(F.x)(e,a)?Object(F.q)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;"undefined"!==typeof t&&s.push(((n={})[Object(F.w)(e)]=t,n))}))]:(Object(F.r)(e)?c=e:(c=o[e.name.value],Object(d.b)(c)),c&&c.typeCondition&&(u=c.typeCondition.name.value,n.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(c.selectionSet,t,n).then((function(e){s.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(c)).then((function(){return Object(F.t)(s)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,c,u,l,f,d,h=this;return Object(r.__generator)(this,(function(r){return o=n.variables,i=e.name.value,a=Object(F.w)(e),s=i!==a,c=t[a]||t[i],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolver(e)||(l=t.__typename||n.defaultOperationType,(f=this.resolvers&&this.resolvers[l])&&(d=f[s?i:a])&&(u=Promise.resolve(d(t,Object(F.a)(e,o),n.context,{field:e})))),[2,u.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?h.resolveSubSelectedArray(e,t,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),de=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,i=e.onBroadcast,a=void 0===i?function(){}:i,s=e.ssrMode,c=void 0!==s&&s,u=e.clientAwareness,l=void 0===u?{}:u,f=e.localState;this.mutationStore=new ue,this.queryStore=new le,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.queryIdsByName={},this.pollingInfoByQueryId=new Map,this.nextPoll=null,this.link=t,this.deduplicator=Y.from([new ee,t]),this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=a,this.clientAwareness=l,this.localState=f||new fe({cache:o.getCache()}),this.ssrMode=c}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(e){e(new Error("QueryManager stopped while query was in flight"))}))},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,o=e.optimisticResponse,i=e.updateQueries,a=e.refetchQueries,s=void 0===a?[]:a,c=e.awaitRefetchQueries,u=void 0!==c&&c,l=e.update,f=e.errorPolicy,h=void 0===f?"none":f,p=e.fetchPolicy,m=e.context,y=void 0===m?{}:m;return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,a,c,f,m,g=this;return Object(r.__generator)(this,(function(v){switch(v.label){case 0:return Object(d.b)(t),Object(d.b)(!p||"no-cache"===p),e=this.generateQueryId(),a=this.dataStore.getCache(),t=a.transformDocument(t),n=Object(F.b)({},Object(F.f)(Object(F.i)(t)),n),this.setQuery(e,(function(){return{document:t}})),c=function(){var e={};return i&&Object.keys(i).forEach((function(t){return(g.queryIdsByName[t]||[]).forEach((function(n){e[n]={updater:i[t],query:g.queryStore.get(n)}}))})),e},Object(F.n)(t)?[4,this.localState.addExportedVariables(t,n,y)]:[3,2];case 1:return m=v.sent(),[3,3];case 2:m=n,v.label=3;case 3:return f=m,this.mutationStore.initMutation(e,t,f),this.dataStore.markMutationInit({mutationId:e,document:t,variables:f||{},updateQueries:c(),update:l,optimisticResponse:o}),this.broadcastQueries(),[2,new Promise((function(n,i){var a,d,m=g.buildOperationForLink(t,f,Object(r.__assign)({},y,{optimisticResponse:o})),v=function(){if(d&&g.mutationStore.markMutationError(e,d),g.dataStore.markMutationComplete({mutationId:e,optimisticResponse:o}),g.broadcastQueries(),d)return Promise.reject(d);"function"===typeof s&&(s=s(a));for(var t=[],n=0,r=s;n<r.length;n++){var i=r[n];if("string"!==typeof i){var c={query:i.query,variables:i.variables,fetchPolicy:"network-only"};i.context&&(c.context=i.context),t.push(g.query(c))}else{var l=g.refetchQueryByName(i);l&&t.push(l)}}return Promise.all(u?t:[]).then((function(){return g.setQuery(e,(function(){return{document:null}})),"ignore"===h&&a&&Object(F.m)(a)&&delete a.errors,a}))},b=g.localState.clientQuery(m.query),w=g.localState.serverQuery(m.query);w&&(m.query=w);var _=w?X(g.link,m):re.of({data:{}}),k=g,E=!1,C=!1;_.subscribe({next:function(o){return Object(r.__awaiter)(g,void 0,void 0,(function(){var s,u,y;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return C=!0,Object(F.m)(o)&&"none"===h?(C=!1,d=new ae({graphQLErrors:o.errors}),[2]):(k.mutationStore.markMutationResult(e),s=o,u=m.context,y=m.variables,b&&Object(F.o)(["client"],b)?[4,k.localState.runResolvers({document:b,remoteResult:o,context:u,variables:y}).catch((function(e){return C=!1,i(e),o}))]:[3,2]);case 1:s=r.sent(),r.label=2;case 2:return"no-cache"!==p&&k.dataStore.markMutationResult({mutationId:e,result:s,document:t,variables:f||{},updateQueries:c(),update:l}),a=s,C=!1,E&&v().then(n,i),[2]}}))}))},error:function(t){k.mutationStore.markMutationError(e,t),k.dataStore.markMutationComplete({mutationId:e,optimisticResponse:o}),k.broadcastQueries(),k.setQuery(e,(function(){return{document:null}})),i(new ae({networkError:t}))},complete:function(){C||v().then(n,i),E=!0}})}))]}}))}))},e.prototype.fetchQuery=function(e,t,n,o){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,c,u,l,f,d,h,p,m,y,g,v,b,w,_,k,E,C,O,S,T=this;return Object(r.__generator)(this,(function(P){switch(P.label){case 0:return i=t.variables,a=void 0===i?{}:i,s=t.metadata,c=void 0===s?null:s,u=t.fetchPolicy,l=void 0===u?"cache-first":u,f=t.context,d=void 0===f?{}:f,h=this.dataStore.getCache(),p=h.transformDocument(t.query),Object(F.n)(p)?[4,this.localState.addExportedVariables(p,a,d)]:[3,2];case 1:return y=P.sent(),[3,3];case 2:y=a,P.label=3;case 3:if(m=y,g=Object(r.__assign)({},t,{variables:m}),b="network-only"===l||"no-cache"===l,n!==oe.refetch&&"network-only"!==l&&"no-cache"!==l&&(w=this.dataStore.getCache().diff({query:p,variables:m,returnPartialData:!0,optimistic:!1}),_=w.complete,k=w.result,b=!_||"cache-and-network"===l,v=k),E=b&&"cache-only"!==l&&"standby"!==l,Object(F.o)(["live"],p)&&(E=!0),C=this.generateRequestId(),O=this.updateQueryWatch(e,p,g),this.setQuery(e,(function(){return{document:p,lastRequestId:C,invalidated:!0,cancel:O}})),this.invalidate(!0,o),this.queryStore.initQuery({queryId:e,document:p,storePreviousVariables:E,variables:m,isPoll:n===oe.poll,isRefetch:n===oe.refetch,metadata:c,fetchMoreForQueryId:o}),this.broadcastQueries(),(!E||"cache-and-network"===l)&&(this.queryStore.markQueryResultClient(e,!E),this.invalidate(!0,e,o),this.broadcastQueries(this.localState.shouldForceResolvers(p))),E){if(S=this.fetchRequest({requestId:C,queryId:e,document:p,options:g,fetchMoreForQueryId:o}).catch((function(t){if(t.hasOwnProperty("graphQLErrors"))throw t;var n=T.getQuery(e).lastRequestId;throw C>=(n||1)&&(T.queryStore.markQueryError(e,t,o),T.invalidate(!0,e,o),T.broadcastQueries()),new ae({networkError:t})})),"cache-and-network"!==l)return[2,S];S.catch((function(){}))}return[2,Promise.resolve({data:v})]}}))}))},e.prototype.queryListenerForObserver=function(e,t,n){var o=this,i=!1;return function(a,s,c){return Object(r.__awaiter)(o,void 0,void 0,(function(){var o,u,l,f,d,h,p,m,y,g,v,b,w,_,k,E,C,O,S,T;return Object(r.__generator)(this,(function(P){switch(P.label){case 0:if(this.invalidate(!1,e),!a)return[2];if(o=this.getQuery(e).observableQuery,"standby"===(u=o?o.options.fetchPolicy:t.fetchPolicy))return[2];if(l=o?o.options.errorPolicy:t.errorPolicy,f=o?o.getLastResult():null,d=o?o.getLastError():null,h=!s&&null!=a.previousVariables||"cache-only"===u||"cache-and-network"===u,p=Boolean(f&&a.networkStatus!==f.networkStatus),m=l&&(d&&d.graphQLErrors)!==a.graphQLErrors&&"none"!==l,!(!ne(a.networkStatus)||p&&t.notifyOnNetworkStatusChange||h))return[3,8];if((!l||"none"===l)&&a.graphQLErrors&&a.graphQLErrors.length>0||a.networkError){if(y=new ae({graphQLErrors:a.graphQLErrors,networkError:a.networkError}),i=!0,n.error)try{n.error(y)}catch(A){setTimeout((function(){throw A}),0)}else setTimeout((function(){throw y}),0);return[2]}P.label=1;case 1:if(P.trys.push([1,7,,8]),g=void 0,v=void 0,s?("no-cache"!==u&&"network-only"!==u&&this.setQuery(e,(function(){return{newData:null}})),g=s.result,v=!s.complete||!1):f&&f.data&&!m?(g=f.data,v=!1):(b=this.getQuery(e).document,w=this.dataStore.getCache().diff({query:b,variables:a.previousVariables||a.variables,optimistic:!0}),g=w.result,v=!w.complete),_=void 0,_=v&&"cache-only"!==u?{data:f&&f.data,loading:ne(a.networkStatus),networkStatus:a.networkStatus,stale:!0}:{data:g,loading:ne(a.networkStatus),networkStatus:a.networkStatus,stale:!1},"all"===l&&a.graphQLErrors&&a.graphQLErrors.length>0&&(_.errors=a.graphQLErrors),!n.next)return[3,6];if(!i&&o&&!o.isDifferentFromLastResult(_))return[3,6];P.label=2;case 2:return P.trys.push([2,5,,6]),c?(k=t.query,E=t.variables,C=t.context,[4,this.localState.runResolvers({document:k,remoteResult:_,context:C,variables:E,onlyRunForcedResolvers:c})]):[3,4];case 3:O=P.sent(),_=Object(r.__assign)({},_,O),P.label=4;case 4:return n.next(_),[3,6];case 5:return S=P.sent(),setTimeout((function(){throw S}),0),[3,6];case 6:return i=!1,[3,8];case 7:return T=P.sent(),i=!0,n.error&&n.error(new ae({networkError:T})),[2];case 8:return[2]}}))}))}},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),Object(d.b)("standby"!==e.fetchPolicy);var n=Object(F.l)(e.query);if(n.variableDefinitions&&n.variableDefinitions.length){var o=Object(F.f)(n);e.variables=Object(F.b)({},o,e.variables)}"undefined"===typeof e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var i=Object(r.__assign)({},e);return new se({queryManager:this,options:i,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return Object(d.b)(e.query),Object(d.b)("Document"===e.query.kind),Object(d.b)(!e.returnPartialData),Object(d.b)(!e.pollInterval),new Promise((function(n,r){var o=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+o.queryId,r),o.result().then(n,r).then((function(){return t.fetchQueryRejectFns.delete("query:"+o.queryId)}))}))},e.prototype.generateQueryId=function(){var e=this.idCounter.toString();return this.idCounter++,e},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(!0,e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,(function(e){var n=e.listeners;return{listeners:(void 0===n?[]:n).concat([t]),invalidated:!1}}))},e.prototype.updateQueryWatch=function(e,t,n){var r=this,o=this.getQuery(e).cancel;o&&o();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var o=n.getLastResult();o&&(t=o.data)}return t},callback:function(t){r.setQuery(e,(function(){return{invalidated:!0,newData:t}}))}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,(function(){return{observableQuery:t}}));var n=Object(F.l)(t.options.query);if(n.name&&n.name.value){var r=n.name.value;this.queryIdsByName[r]=this.queryIdsByName[r]||[],this.queryIdsByName[r].push(t.queryId)}},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e),n=t.observableQuery,r=t.cancel;if(r&&r(),n){var o=Object(F.l)(n.options.query),i=o.name?o.name.value:null;this.setQuery(e,(function(){return{observableQuery:null}})),i&&(this.queryIdsByName[i]=this.queryIdsByName[i].filter((function(e){return!(n.queryId===e)})))}},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(e){e(new Error("Store reset while query was in flight(not completed in link chain)"))}));var e=[];return this.queries.forEach((function(t,n){t.observableQuery&&e.push(n)})),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this.getObservableQueryPromises(e);return this.broadcastQueries(),Promise.all(t)},e.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t).catch((function(){})),e},e.prototype.startGraphQLSubscription=function(e){var t,n=this,o=e.query,i=!(e.fetchPolicy&&"no-cache"===e.fetchPolicy),a=this.dataStore.getCache().transformDocument(o),s=Object(F.b)({},Object(F.f)(Object(F.j)(o)),e.variables),c=s,u=[],l=this.localState.clientQuery(a);return new re((function(e){if(u.push(e),1===u.length){var o=0,f=!1,d={next:function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return o+=1,t=e,l&&Object(F.o)(["client"],l)?[4,this.localState.runResolvers({document:l,remoteResult:e,context:{},variables:c})]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return i&&(this.dataStore.markSubscriptionResult(t,a,c),this.broadcastQueries()),u.forEach((function(e){Object(F.m)(t)&&e.error?e.error(new ae({graphQLErrors:t.errors})):e.next&&e.next(t),o-=1})),0===o&&f&&d.complete(),[2]}}))}))},error:function(e){u.forEach((function(t){t.error&&t.error(e)}))},complete:function(){0===o&&u.forEach((function(e){e.complete&&e.complete()})),f=!0}};Object(r.__awaiter)(n,void 0,void 0,(function(){var e,n,o,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return Object(F.n)(a)?[4,this.localState.addExportedVariables(a,s)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n=s,r.label=3;case 3:return e=n,(o=this.localState.serverQuery(a))?(i=this.buildOperationForLink(o,e),t=X(this.link,i).subscribe(d)):t=re.of({data:{}}).subscribe(d),[2]}}))}))}return function(){0===(u=u.filter((function(t){return t!==e}))).length&&t&&t.unsubscribe()}}))},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){var t=this.getQuery(e).subscriptions;this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),t.forEach((function(e){return e.unsubscribe()})),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,o=n.query,i=n.fetchPolicy,a=e.getLastResult(),s=this.getQuery(e.queryId).newData;if(s&&s.complete)return{data:s.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};try{return{data:this.dataStore.getCache().read({query:o,variables:r,previousResult:a?a.data:void 0,optimistic:t})||void 0,partial:!1}}catch(c){return{data:void 0,partial:!0}}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"===typeof e){var n=this.getQuery(e).observableQuery;Object(d.b)(n),t=n}else t=e;var r=t.options,o=r.variables,i=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:o,document:i}},e.prototype.broadcastQueries=function(e){var t=this;void 0===e&&(e=!1),this.onBroadcast(),this.queries.forEach((function(n,r){n.invalidated&&n.listeners&&n.listeners.filter((function(e){return!!e})).forEach((function(o){o(t.queryStore.get(r),n.newData,e)}))}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableQueryPromises=function(e){var t=this,n=[];return this.queries.forEach((function(r,o){var i=r.observableQuery;if(i){var a=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(i.refetch()),t.setQuery(o,(function(){return{newData:null}})),t.invalidate(!0,o)}})),n},e.prototype.fetchRequest=function(e){var t,n,o=this,i=e.requestId,a=e.queryId,s=e.document,c=e.options,u=e.fetchMoreForQueryId,l=c.variables,f=c.context,d=c.errorPolicy,h=void 0===d?"none":d,p=c.fetchPolicy;return new Promise((function(e,c){var d,m={},y=o.localState.clientQuery(s),g=o.localState.serverQuery(s);if(g){var v=o.buildOperationForLink(g,l,Object(r.__assign)({},f,{forceFetch:!o.queryDeduplication}));m=v.context,d=X(o.deduplicator,v)}else m=o.prepareContext(f),d=re.of({data:{}});o.fetchQueryRejectFns.set("fetchRequest:"+a,c);var b=!1,w=!0,_={next:function(e){return Object(r.__awaiter)(o,void 0,void 0,(function(){var o,f;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return w=!0,o=e,f=this.getQuery(a).lastRequestId,i>=(f||1)?y&&Object(F.o)(["client"],y)?[4,this.localState.runResolvers({document:y,remoteResult:e,context:m,variables:l}).catch((function(t){return w=!1,c(t),e}))]:[3,2]:[3,3];case 1:o=r.sent(),r.label=2;case 2:if("no-cache"!==p)try{this.dataStore.markQueryResult(o,s,l,u,"ignore"===h||"all"===h)}catch(d){return w=!1,c(d),[2]}else this.setQuery(a,(function(){return{newData:{result:o.data,complete:!0}}}));this.queryStore.markQueryResult(a,o,u),this.invalidate(!0,a,u),this.broadcastQueries(),r.label=3;case 3:if(o.errors&&"none"===h)return w=!1,c(new ae({graphQLErrors:o.errors})),[2];if("all"===h&&(n=o.errors),u||"no-cache"===p)t=o.data;else try{t=this.dataStore.getCache().read({variables:l,query:s,optimistic:!1})}catch(d){}return w=!1,b&&_.complete(),[2]}}))}))},error:function(e){o.fetchQueryRejectFns.delete("fetchRequest:"+a),o.setQuery(a,(function(e){return{subscriptions:e.subscriptions.filter((function(e){return e!==k}))}})),c(e)},complete:function(){w||(o.fetchQueryRejectFns.delete("fetchRequest:"+a),o.setQuery(a,(function(e){return{subscriptions:e.subscriptions.filter((function(e){return e!==k}))}})),e({data:t,errors:n,loading:!1,networkStatus:J.ready,stale:!1})),b=!0}},k=d.subscribe(_);o.setQuery(a,(function(e){return{subscriptions:e.subscriptions.concat([k])}}))})).catch((function(e){throw o.fetchQueryRejectFns.delete("fetchRequest:"+a),e}))},e.prototype.refetchQueryByName=function(e){var t=this,n=this.queryIdsByName[e];if(void 0!==n)return Promise.all(n.map((function(e){return t.getQuery(e).observableQuery})).filter((function(e){return!!e})).map((function(e){return e.refetch()})))},e.prototype.generateRequestId=function(){var e=this.idCounter;return this.idCounter++,e},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:[],invalidated:!1,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),o=Object(r.__assign)({},n,t(n));this.queries.set(e,o)},e.prototype.invalidate=function(e,t,n){t&&this.setQuery(t,(function(){return{invalidated:e}})),n&&this.setQuery(n,(function(){return{invalidated:e}}))},e.prototype.buildOperationForLink=function(e,t,n){var r=this.dataStore.getCache();return{query:r.transformForLink?r.transformForLink(e):e,variables:t,operationName:Object(F.k)(e)||void 0,context:this.prepareContext(n)}},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Object(r.__assign)({},t,{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==J.ready&&t.networkStatus!==J.error},e.prototype.startPollingQuery=function(e,t,n){var o=e.pollInterval;return Object(d.b)(o),this.ssrMode||(this.pollingInfoByQueryId.set(t,{interval:o,lastPollTimeMs:Date.now()-10,options:Object(r.__assign)({},e,{fetchPolicy:"network-only"})}),n&&this.addQueryListener(t,n),this.schedulePoll(o)),t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e.prototype.schedulePoll=function(e){var t=this,n=Date.now();if(this.nextPoll){if(!(e<this.nextPoll.time-n))return;clearTimeout(this.nextPoll.timeout)}this.nextPoll={time:n+e,timeout:setTimeout((function(){t.nextPoll=null;var e=1/0;t.pollingInfoByQueryId.forEach((function(n,r){if(n.interval<e&&(e=n.interval),!t.checkInFlight(r)&&Date.now()-n.lastPollTimeMs>=n.interval){var o=function(){n.lastPollTimeMs=Date.now()};t.fetchQuery(r,n.options,oe.poll).then(o,o)}})),isFinite(e)&&t.schedulePoll(e)}),e)}},e}(),he=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var i=!Object(F.m)(e);o&&Object(F.m)(e)&&e.data&&(i=!0),!r&&i&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Object(F.m)(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var n;n="function"===typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse;this.cache.recordOptimisticTransaction((function(r){var o=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:n},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=o}}),e.mutationId)}},e.prototype.markMutationResult=function(e){var t=this;if(!Object(F.m)(e.result)){var n=[];n.push({result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),e.updateQueries&&Object.keys(e.updateQueries).filter((function(t){return e.updateQueries[t]})).forEach((function(r){var o=e.updateQueries[r],i=o.query,a=o.updater,s=t.cache.diff({query:i.document,variables:i.variables,returnPartialData:!0,optimistic:!1}),c=s.result;if(s.complete){var u=Object(F.y)((function(){return a(c,{mutationResult:e.result,queryName:Object(F.k)(i.document)||void 0,queryVariables:i.variables})}));u&&n.push({result:u,dataId:"ROOT_QUERY",query:i.document,variables:i.variables})}})),this.cache.performTransaction((function(e){n.forEach((function(t){return e.write(t)}))}));var r=e.update;r&&this.cache.performTransaction((function(t){Object(F.y)((function(){return r(t,e.result)}))}))}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),pe="2.5.1",me=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],this.clientAwareness={};var n=e.cache,r=e.ssrMode,o=void 0!==r&&r,i=e.ssrForceFetchDelay,a=void 0===i?0:i,s=e.connectToDevTools,c=e.queryDeduplication,u=void 0===c||c,l=e.defaultOptions,f=e.resolvers,h=e.typeDefs,p=e.fragmentMatcher,m=e.name,y=e.version,g=e.link;if(!g&&f&&(g=Y.empty()),!g||!n)throw new d.a;var v=new Map,b=new Y((function(e,t){var n=v.get(e.query);return n||(n=Object(F.v)(e.query),v.set(e.query,n),v.set(n,n)),e.query=n,t(e)}));this.link=b.concat(g),this.cache=n,this.store=new he(n),this.disableNetworkFetches=o||a>0,this.queryDeduplication=u,this.ssrMode=o,this.defaultOptions=l||{},this.typeDefs=h,a&&setTimeout((function(){return t.disableNetworkFetches=!1}),a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);"undefined"!==typeof s&&(s&&"undefined"!==typeof window)&&(window.__APOLLO_CLIENT__=this),this.version=pe,m&&(this.clientAwareness.name=m),y&&(this.clientAwareness.version=y),this.localState=new fe({cache:n,client:this,resolvers:f,fragmentMatcher:p})}return e.prototype.stop=function(){this.queryManager&&this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Object(r.__assign)({},this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Object(r.__assign)({},e,{fetchPolicy:"cache-first"})),this.initQueryManager().watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Object(r.__assign)({},this.defaultOptions.query,e)),Object(d.b)("cache-and-network"!==e.fetchPolicy),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Object(r.__assign)({},e,{fetchPolicy:"cache-first"})),this.initQueryManager().query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Object(r.__assign)({},this.defaultOptions.mutate,e)),this.initQueryManager().mutate(e)},e.prototype.subscribe=function(e){return this.initQueryManager().startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.initProxy().readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.initProxy().readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.initProxy().writeQuery(e);return this.initQueryManager().broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.initProxy().writeFragment(e);return this.initQueryManager().broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.initProxy().writeData(e);return this.initQueryManager().broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return X(this.link,e)},e.prototype.initQueryManager=function(){var e=this;return this.queryManager||(this.queryManager=new de({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,clientAwareness:this.clientAwareness,localState:this.localState,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager?e.queryManager.queryStore.getStore():{},mutations:e.queryManager?e.queryManager.mutationStore.getStore():{}},dataWithOptimisticResults:e.cache.extract(!0)})}})),this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager?e.queryManager.clearStore():Promise.resolve(null)})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.queryManager&&e.queryManager.reFetchObservableQueries?e.queryManager.reFetchObservableQueries():Promise.resolve(null)}))},e.prototype.clearStore=function(){var e=this,t=this.queryManager;return Promise.resolve().then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))})).then((function(){return t?t.clearStore():Promise.resolve(null)}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager?this.queryManager.reFetchObservableQueries(e):Promise.resolve(null)},e.prototype.extract=function(e){return this.initProxy().extract(e)},e.prototype.restore=function(e){return this.initProxy().restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.initProxy=function(){return this.proxy||(this.initQueryManager(),this.proxy=this.cache),this.proxy},e}(),ye=n(119),ge=n(89),ve={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},be=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},we=function(e,t){var n;try{n=JSON.stringify(e)}catch(o){var r=new ge.a(2);throw r.parseError=o,r}return n},_e=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,o=e.fetch,i=e.includeExtensions,a=e.useGETForQueries,s=Object(r.__rest)(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"===typeof fetch){throw"undefined"===typeof window&&"node-fetch",new ge.a(1)}}(o),o||(o=fetch);var c={http:{includeExtensions:i},options:s.fetchOptions,credentials:s.credentials,headers:s.headers};return new Y((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"===typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),s={};if(i.clientAwareness){var u=i.clientAwareness,l=u.name,f=u.version;l&&(s["apollographql-client-name"]=l),f&&(s["apollographql-client-version"]=f)}var d,h=Object(r.__assign)({},s,i.headers),p={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:h},m=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=Object(r.__assign)({},t.options,{headers:t.headers,credentials:t.credentials}),a=t.http;n.forEach((function(e){i=Object(r.__assign)({},i,e.options,{headers:Object(r.__assign)({},i.headers,e.headers)}),e.credentials&&(i.credentials=e.credentials),a=Object(r.__assign)({},a,e.http)}));var s=e.operationName,c=e.extensions,u=e.variables,l=e.query,f={operationName:s,variables:u};return a.includeExtensions&&(f.extensions=c),a.includeQuery&&(f.query=Object(ye.print)(l)),{options:i,body:f}}(e,ve,c,p),y=m.options,g=m.body;if(!y.signal){var v=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),b=v.controller,w=v.signal;(d=b)&&(y.signal=w)}if(a&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(y.method="GET"),"GET"===y.method){var _=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var o=void 0;try{o=we(t.variables,"Variables map")}catch(E){return{parseError:E}}r("variables",o)}if(t.extensions){var i=void 0;try{i=we(t.extensions,"Extensions map")}catch(E){return{parseError:E}}r("extensions",i)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+a}}(t,g),k=_.newURI,E=_.parseError;if(E)return W(E);t=k}else try{y.body=we(g,"Payload")}catch(E){return W(E)}return new U((function(n){var r;return o(t,y).then((function(t){return e.setContext({response:t}),t})).then((r=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}})).then((function(t){return e.status>=300&&be(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||be(e,t,"Server response was missing for query '"+(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){d&&d.abort()}}))}))};var ke=function(e){function t(t){return e.call(this,_e(t).request)||this}return Object(r.__extends)(t,e),t}(Y),Ee=n(31),Ce=n(77);n.d(t,"a",(function(){return Oe})),n.d(t,"b",(function(){return Se}));var Oe=new me({cache:new L,link:new ke({uri:"/api/graphql",credentials:"same-origin",headers:{"X-CSRF-Token":Object(Ee.a)(),"X-UID":ww.uid}})}),Se=new Ce.a({defaultClient:Oe})},function(e,t,n){"use strict";var r=n(25),o=n.n(r),i=n(8),a=n(2),s=n(18),c=n(22),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l={namespaced:!0,state:{reactionsFetched:!1,reactionEntities:{},pendingReactionIds:[],postIdBeingReactedTo:null,reactionDropdownTop:null,reactionDropdownLeft:null},getters:{reactions:function(e){return Object.values(e.reactionEntities)},reactionIds:function(e){return Object.keys(e.reactionEntities)},reactionIdsByPost:function(e,t,n,r){var o={};return t.reactionIds.forEach((function(t){var n=e.reactionEntities[t];o[n.wish_id]=o[n.wish_id]||[],n.reaction_type===r.reactionData.type&&o[n.wish_id].push(t)})),o},hasReactions:function(e,t){return t.reactionIds.length>0},maxGrade:function(e,t,n,r){if(!r.isReactable)return 0;var o=r.reactionData.max_value||0;return Math.min(o,100)},myReaction:function(e,t,n){var r=t.reactions.filter((function(t){return t.user_id===n.user.id&&t.wish_id===e.postIdBeingReactedTo}));return r.length>0?r[0]:null},xReactionDropdownStar:function(e,t,n,r){return!!e.postIdBeingReactedTo&&"star"===r.reactionData.type},xReactionDropdownGrade:function(e,t,n,r){return!!e.postIdBeingReactedTo&&"grade"===r.reactionData.type},postIdBeingReactedTo:function(e){return e.postIdBeingReactedTo}},mutations:{FETCH_REACTIONS_SUCCESS:function(e,t){if(t){var n={};t.forEach((function(e){n[e.id]=e})),e.reactionEntities=n,e.pendingReactionIds=[]}e.reactionsFetched=!0},UPDATE_REACTION:function(e,t){var n,r=t.id,o=t.obj;if(!(r<0)&&o){var i=u(u({},e.reactionEntities[r]),o);e.reactionEntities=u(u({},e.reactionEntities),((n={})[r]=i,n))}},ADD_PENDING_REACTION:function(e,t){var n;if(!e.pendingReactionIds.some((function(n){return e.reactionEntities[n].wish_id===t.wish_id&&e.reactionEntities[n].value===t.value}))){var r="new_"+(new Date).valueOf();e.reactionEntities=u(u({},e.reactionEntities),((n={})[r]=t,n)),e.pendingReactionIds.push(r)}},ADD_REACTION:function(e,t){var n;e.pendingReactionIds.some((function(n){var r;if(e.reactionEntities[n].wish_id===t.wish_id&&e.reactionEntities[n].value===t.value&&e.reactionEntities[n].user_id===t.user_id&&e.reactionEntities[n].reaction_type===t.reaction_type){var o=u({},e.reactionEntities);return delete o[n],e.reactionEntities=u(u({},o),((r={})[t.id]=t,r)),e.pendingReactionIds=e.pendingReactionIds.filter((function(e){return e!==n})),!0}return!1}))||(e.reactionEntities=u(u({},e.reactionEntities),((n={})[t.id]=t,n)))},REMOVE_REACTION:function(e,t){var n=u({},e.reactionEntities);delete n[t],e.reactionEntities=n},EDIT_REACTION_REMOTE:function(e,t){var n,r=e.reactionEntities[t.id];r&&r.updated_at<=t.updated_at&&(e.reactionEntities=u(u({},e.reactionEntities),((n={})[t.id]=t,n)))},START_EDITING_REACTION:function(e,t){var n=t.postId,r=t.dropdownTop,o=t.dropdownLeft;e.postIdBeingReactedTo=n,e.reactionDropdownTop=r,e.reactionDropdownLeft=o},STOP_EDITING_REACTION:function(e){e.postIdBeingReactedTo=null}},actions:{fetchReactions:function(e){var t=e.dispatch,n=e.rootState;s.a.Reaction.readAll({wall:{id:n.wall.id}}).then((function(e){t("fetchReactionsSuccess",{reactions:e})})).catch((function(e){Object(c.b)(e,{source:"fetchReactions"})}))},fetchReactionsSuccess:function(e,t){(0,e.commit)("FETCH_REACTIONS_SUCCESS",t.reactions)},createReaction:function(e,t){var n=e.commit,r=e.state,o=e.getters,i=e.rootState,a=e.rootGetters,c=e.dispatch,l=t.postId,f=t.value,d=o.reactions.find((function(e){return e.user_id===i.user.id&&e.wish_id===l&&e.reaction_type===a.reactionData.type}));if(d)n("UPDATE_REACTION",{id:d.id,obj:{value:f}}),s.a.Reaction.update(u(u({},r.reactionEntities[d.id]),{value:f}));else{var h={wish_id:l,value:f,reaction_type:a.reactionData.type};n("ADD_PENDING_REACTION",u(u({},h),{user_id:i.user.id})),s.a.Reaction.create(h).then((function(e){c("createReactionSuccess",{reaction:e})}))}},createReactionSuccess:function(e,t){(0,e.commit)("ADD_REACTION",t.reaction)},deleteReaction:function(e,t){var n=e.commit,r=e.getters,o=e.rootState,i=t.postId,a=r.reactions.find((function(e){return e.user_id===o.user.id&&e.wish_id===i}));n("STOP_EDITING_REACTION"),a&&(n("REMOVE_REACTION",a.id),s.a.Reaction.delete(a))},startEditingReaction:function(e,t){(0,e.commit)("START_EDITING_REACTION",t)},stopEditingReaction:function(e){(0,e.commit)("STOP_EDITING_REACTION")},newReactionRemote:function(e,t){(0,e.commit)("ADD_REACTION",t)},editReactionRemote:function(e,t){(0,e.commit)("EDIT_REACTION_REMOTE",t)},deleteReactionRemote:function(e,t){var n=e.commit;e.state.postIdBeingReactedTo===t.wish_id&&n("STOP_EDITING_REACTION"),n("REMOVE_REACTION",t.id)}}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={namespaced:!0,state:{sectionsFetched:!1,sectionEntities:{},pendingSectionId:null,sectionBeingEditedId:null,actionMenuSectionId:null},getters:{sections:function(e,t){return t.sectionIds.map((function(t){return e.sectionEntities[t]}))},sectionIds:function(e){return Object.keys(e.sectionEntities)},numOfSections:function(e,t){return t.sectionIds.length}},mutations:{FETCH_SECTIONS_SUCCESS:function(e,t){if(t){var n={};t.forEach((function(e){n[e.id]=e})),function(t){var n=e.sectionEntities[e.pendingSectionId];n&&(t[e.pendingSectionId]=n)}(n),function(t){var n=e.sectionEntities[e.sectionBeingEditedId],r=t[e.sectionBeingEditedId];n&&r&&n.title!==r.title&&(r.title=n.title)}(n),e.sectionEntities=n}e.sectionsFetched=!0},ADD_PENDING_SECTION:function(e,t){var n="new_"+(new Date).valueOf();e.sectionEntities=d({},e.sectionEntities,h({},n,d({},t,{id:n}))),e.pendingSectionId=n},ADD_SECTION:function(e,t){var n=d({},e.sectionEntities);delete n[e.pendingSectionId],e.sectionEntities=d({},n,h({},t.id,t)),e.pendingSectionId=null},UPDATE_SECTION:function(e,t){var n=t.id,r=t.obj;i.a.set(e.sectionEntities,n,r)},REMOVE_SECTION:function(e,t){e.pendingSectionId===t&&(e.pendingSectionId=null);var n=d({},e.sectionEntities);delete n[t],e.sectionEntities=n},SHOW_SECTION_ACTION_MENU:function(e,t){e.actionMenuSectionId=t},HIDE_SECTION_ACTION_MENU:function(e){e.actionMenuSectionId=null},START_EDITING_SECTION:function(e,t){e.sectionBeingEditedId=t},STOP_EDITING_SECTION:function(e){e.sectionBeingEditedId=null}},actions:{fetchSections:function(e){var t=e.dispatch,n=e.rootState;s.a.WallSection.readAll({wall:{id:n.wall.id}}).then((function(e){t("fetchSectionsSuccess",{sections:e})})).catch((function(e){Object(c.b)(e,{source:"fetchSections"})}))},fetchSectionsSuccess:function(e,t){(0,e.commit)("FETCH_SECTIONS_SUCCESS",t.sections)},showSectionActionMenu:function(e,t){(0,e.commit)("SHOW_SECTION_ACTION_MENU",t.sectionId)},hideSectionActionMenu:function(e){(0,e.commit)("HIDE_SECTION_ACTION_MENU")},deleteSection:function(e,t){var n=e.commit,r=e.state,o=t.sectionId,i=r.sectionEntities[o];n("STOP_EDITING_SECTION"),i&&(n("REMOVE_SECTION",o),s.a.WallSection.delete(i))},startEditingSection:function(e,t){var n=e.commit,r=e.dispatch,o=(e.state,t.sectionId);r("stopEditingSection"),n("START_EDITING_SECTION",o)},stopEditingSection:function(e){var t=e.commit,n=e.state;n.sectionBeingEditedId&&String(n.sectionBeingEditedId).startsWith("new_")&&t("REMOVE_SECTION",n.sectionBeingEditedId),t("STOP_EDITING_SECTION")},startWithNoSections:function(e){var t=e.dispatch;0===e.getters.numOfSections&&t("startNewSection",{section:{sort_index:window.ww.sectionSorter.getBottomSortIndex()}})},startNewSection:function(e,t){var n=e.state,r=e.commit,o=e.dispatch,i=t.section;o("stopEditingSection"),r("ADD_PENDING_SECTION",i),r("START_EDITING_SECTION",n.pendingSectionId)},changeSectionTitle:function(e,t){var n=e.commit,r=e.state,o=e.rootState,i=t.sectionId,a=t.title;r.sectionEntities[i].title!==a&&n("UPDATE_SECTION",{id:i,obj:d({},r.sectionEntities[i],{title:a})}),r.pendingSectionId?s.a.WallSection.create(d({},r.sectionEntities[r.pendingSectionId],{wall_id:o.wall.id,title:a})).then((function(e){n("ADD_SECTION",e)})):s.a.WallSection.update(d({},r.sectionEntities[i],{title:a})),r.sectionBeingEditedId===i&&n("STOP_EDITING_SECTION")},sortedSection:function(e,t){var n=e.commit,r=e.state,o=t.sectionId,i=t.sortIndex;r.sectionEntities[o].sortIndex!==i&&(n("UPDATE_SECTION",{id:o,obj:d({},r.sectionEntities[o],{sort_index:i})}),s.a.WallSection.update(d({},r.sectionEntities[o],{sort_index:i})))},changeSectionColor:function(){},removeSectionColor:function(){},newSectionRemote:function(e,t){(0,e.commit)("ADD_SECTION",t)},editSectionRemote:function(e,t){(0,e.commit)("UPDATE_SECTION",{id:t.id,obj:t})},deleteSectionRemote:function(e,t){(0,e.commit)("REMOVE_SECTION",t.id)}}},m=n(40),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},b={namespaced:!0,state:function(){return{commentsFetched:!1,commentEntities:{},newCommentBodyByPostCid:{},pendingCommentIds:[],commentBeingEditedId:null,actionMenuCommentId:null,addCommentInputFocusedForPostId:null}},getters:{commentIds:function(e){return Object.keys(e.commentEntities)},commentIdsByPost:function(e,t){var n={};return t.commentIds.forEach((function(t){var r=e.commentEntities[t];n[r.wish_id]=n[r.wish_id]||[],n[r.wish_id].push(t)})),n},isCommenting:function(e){return!!e.commentBeingEditedId||null!==e.addCommentInputFocusedForPostId},newCommentBodyForPostCid:function(e){return function(t){return e.newCommentBodyByPostCid[t]}}},mutations:{FETCH_COMMENTS_SUCCESS:function(e,t){if(t){var n={};t.forEach((function(e){n[e.id]=e})),e.commentEntities=n,e.pendingCommentIds=[]}e.commentsFetched=!0},UPDATE_COMMENT:function(e,t){var n,r=t.id,o=t.obj;if(!(r<0)&&o){var i=y(y({},e.commentEntities[r]),o);e.commentEntities=y(y({},e.commentEntities),((n={})[r]=i,n))}},ADD_PENDING_COMMENT:function(e,t){var n;e.commentEntities=y(y({},e.commentEntities),((n={})[t.id]=t,n)),e.pendingCommentIds.push(t.id)},REMOVE_PENDING_COMMENT:function(e,t){var n=t.commentId;e.pendingCommentIds.includes(n)&&(e.pendingCommentIds=e.pendingCommentIds.filter((function(e){return e!==n})),i.a.delete(e.commentEntities,n))},REVERT_PENDING_COMMENT:function(e,t){var n=t.commentId,r=t.postCid;if(e.pendingCommentIds.includes(n)){e.pendingCommentIds=e.pendingCommentIds.filter((function(e){return e!==n}));var o=e.commentEntities[n];i.a.delete(e.commentEntities,n),i.a.set(e.newCommentBodyByPostCid,r,o.body)}},ADD_COMMENT:function(e,t){var n,r=t.comment,o=t.tempId;e.commentEntities[o]&&i.a.delete(e.commentEntities,o),e.pendingCommentIds.includes(o)&&(e.pendingCommentIds=e.pendingCommentIds.filter((function(e){return e!==o}))),e.commentEntities=y(y({},e.commentEntities),((n={})[r.id]=r,n))},REMOVE_COMMENT:function(e,t){var n=y({},e.commentEntities);delete n[t],e.commentEntities=n},EDIT_COMMENT_REMOTE:function(e,t){var n,r=e.commentEntities[t.id];r&&r.updated_at<=t.updated_at&&(e.commentEntities=y(y({},e.commentEntities),((n={})[t.id]=t,n)))},START_EDITING_COMMENT:function(e,t){e.commentBeingEditedId=t},STOP_EDITING_COMMENT:function(e){e.commentBeingEditedId=null},SHOW_COMMENT_ACTION_MENU:function(e,t){e.actionMenuCommentId?e.actionMenuCommentId=null:e.actionMenuCommentId=t},HIDE_COMMENT_ACTION_MENU:function(e){e.actionMenuCommentId=null},ADD_COMMENT_INPUT_FOCUSED:function(e,t){e.addCommentInputFocusedForPostId=t},ADD_COMMENT_INPUT_BLURRED:function(e,t){e.addCommentInputFocusedForPostId===t&&(e.addCommentInputFocusedForPostId=null)},UPDATE_NEW_COMMENT_BODY:function(e,t){var n=t.postCid,r=t.body;i.a.set(e.newCommentBodyByPostCid,n,r)}},actions:{fetchComments:function(e){var t=e.dispatch,n=e.rootState;s.a.Comment.readAll({wall:{id:n.wall.id}}).then((function(e){t("fetchCommentsSuccess",{comments:e})})).catch((function(e){Object(c.b)(e,{source:"fetchComments"})}))},fetchCommentsSuccess:function(e,t){(0,e.commit)("FETCH_COMMENTS_SUCCESS",t.comments)},createComment:function(e,t){var n=e.commit,r=e.rootState,o=e.dispatch,i=e.rootGetters,a=t.postId,c=t.body,u=t.createdAt;return g(this,void 0,Promise,(function(){var e,t,l,f;return v(this,(function(d){switch(d.label){case 0:e="new_"+(new Date).valueOf(),t={id:e,wish_id:a,body:c,created_at:u,user:r.user,user_id:r.user.id},n("ADD_PENDING_COMMENT",t),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,s.a.Comment.create(t)];case 2:return l=d.sent(),n("ADD_COMMENT",{comment:l,tempId:e}),[3,4];case 3:return d.sent(),o("snackbars/setSnackbar",m.b,{root:!0}),(f=i["post/getPostByServerId"](a))&&f.cid?n("REVERT_PENDING_COMMENT",{commentId:e,postCid:f.cid}):n("REMOVE_PENDING_COMMENT",{commentId:e}),[3,4];case 4:return[2]}}))}))},deleteComment:function(e,t){var n=e.commit,r=e.state,o=t.commentId,i=r.commentEntities[o];n("STOP_EDITING_COMMENT"),i&&(n("REMOVE_COMMENT",i.id),s.a.Comment.delete(i))},startEditingComment:function(e,t){(0,e.commit)("START_EDITING_COMMENT",t.commentId)},stopEditingComment:function(e){(0,e.commit)("STOP_EDITING_COMMENT")},editComment:function(e,t){var n=e.commit,r=e.dispatch,o=t.id,i=t.body;return g(this,void 0,Promise,(function(){return v(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n("UPDATE_COMMENT",{id:o,obj:{body:i}}),n("STOP_EDITING_COMMENT"),[4,s.a.Comment.update({id:o,body:i})];case 1:return e.sent(),[3,3];case 2:return e.sent(),r("snackbars/setSnackbar",m.b,{root:!0}),r("startEditingComment",{commentId:o}),[3,3];case 3:return[2]}}))}))},addCommentInputFocused:function(e,t){(0,e.commit)("ADD_COMMENT_INPUT_FOCUSED",t.postId)},addCommentInputBlurred:function(e,t){(0,e.commit)("ADD_COMMENT_INPUT_BLURRED",t.postId)},updateNewCommentBody:function(e,t){(0,e.commit)("UPDATE_NEW_COMMENT_BODY",{postCid:t.postCid,body:t.body})},newCommentRemote:function(e,t){(0,e.commit)("ADD_COMMENT",t)},editCommentRemote:function(e,t){(0,e.commit)("EDIT_COMMENT_REMOTE",t)},deleteCommentRemote:function(e,t){var n=e.commit,r=e.state;r.commentBeingEditedId&&r.commentBeingEditedId===t.id&&n("STOP_EDITING_COMMENT"),r.actionMenuCommentId&&r.actionMenuCommentId===t.id&&n("HIDE_COMMENT_ACTION_MENU"),n("REMOVE_COMMENT",t.id)},showCommentActionMenu:function(e,t){(0,e.commit)("SHOW_COMMENT_ACTION_MENU",t.commentId)},hideCommentActionMenu:function(e){(0,e.commit)("HIDE_COMMENT_ACTION_MENU")}}};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={namespaced:!0,state:{connectionsFetched:!1,connectionEntities:{},pendingConnectionIds:[],postToConnectFromId:null,postToDisconnectFromId:null},getters:{connections:function(e,t){return t.connectionIds.map((function(t){return e.connectionEntities[t]}))},connectionIds:function(e){return Object.keys(e.connectionEntities)},xConnectionCancellation:function(e){return!!e.postToConnectFromId},xDisconnectionCancellation:function(e){return!!e.postToDisconnectFromId}},mutations:{FETCH_CONNECTIONS_SUCCESS:function(e,t){if(t){var n={};t.forEach((function(e){n[e.id]=e})),e.connectionEntities=n,e.pendingConnectionIds=[]}e.connectionsFetched=!0},ADD_PENDING_CONNECTION:function(e,t){var n="new_"+(new Date).valueOf();e.connectionEntities=_({},e.connectionEntities,k({},n,_({},t,{id:n}))),e.pendingConnectionIds.push(n)},ADD_CONNECTION:function(e,t){e.pendingConnectionIds.some((function(n){if(e.connectionEntities[n].from_wish_id===t.from_wish_id&&e.connectionEntities[n].to_wish_id===t.to_wish_id&&e.connectionEntities[n].label===t.label){var r=_({},e.connectionEntities);return delete r[n],e.connectionEntities=_({},r,k({},t.id,t)),e.pendingConnectionIds=e.pendingConnectionIds.filter((function(e){return e!==n})),!0}return!1}))||(e.connectionEntities=_({},e.connectionEntities,k({},t.id,t)))},REMOVE_CONNECTION:function(e,t){var n=_({},e.connectionEntities);delete n[t],e.connectionEntities=n},REMOVE_CONNECTIONS:function(e,t){var n=_({},e.connectionEntities);t.forEach((function(e){return delete n[e]})),e.connectionEntities=n},START_CONNECTION:function(e,t){e.postToConnectFromId=t},START_DISCONNECTION:function(e,t){e.postToDisconnectFromId=t},CANCEL_CONNECTION:function(e){e.postToConnectFromId=null},CANCEL_DISCONNECTION:function(e){e.postToDisconnectFromId=null}},actions:{fetchConnections:function(e){var t=e.dispatch,n=e.rootState;s.a.PostConnection.readAll({wall:{id:n.wall.id}}).then((function(e){t("fetchConnectionsSuccess",{connections:e})})).catch((function(e){Object(c.b)(e,{source:"fetchConnections"})}))},fetchConnectionsSuccess:function(e,t){(0,e.commit)("FETCH_CONNECTIONS_SUCCESS",t.connections)},startConnection:function(e,t){(0,e.commit)("START_CONNECTION",t.postId)},startDisconnection:function(e,t){(0,e.commit)("START_DISCONNECTION",t.postId)},cancelConnection:function(e){(0,e.commit)("CANCEL_CONNECTION")},cancelDisconnection:function(e){(0,e.commit)("CANCEL_DISCONNECTION")},removeConnectionsForPost:function(e,t){var n=e.state,r=e.getters,o=e.commit,i=t.postId;o("REMOVE_CONNECTIONS",r.connectionIds.filter((function(e){return n.connectionEntities[e].from_wish_id===i||n.connectionEntities[e].to_wish_id===i})))},completeConnection:function(e,t){var n=e.commit,r=e.state,o=e.dispatch,i=t.postToConnectToId,a=t.label,c={from_wish_id:r.postToConnectFromId,to_wish_id:i,label:a};n("CANCEL_CONNECTION"),n("ADD_PENDING_CONNECTION",c),s.a.PostConnection.create(c).then((function(e){o("completeConnectionSuccess",{connection:e})}))},completeConnectionSuccess:function(e,t){(0,e.commit)("ADD_CONNECTION",t.connection)},completeDisconnection:function(e,t){var n=e.commit,r=e.state,o=t.connectionId,i=r.connectionEntities[o];n("CANCEL_DISCONNECTION"),i&&(n("REMOVE_CONNECTION",i.id),s.a.PostConnection.delete(i))},newConnectionRemote:function(e,t){(0,e.commit)("ADD_CONNECTION",t)},deleteConnectionRemote:function(e,t){(0,e.commit)("REMOVE_CONNECTION",t.id)}}},C=n(75),O=n(17),S=function(){var e=0;return document.querySelectorAll("[data-view-mode='show']").forEach((function(t){e=Math.max(e,t.getBoundingClientRect().bottom)})),e?e+=8:e=100,{left:16,top:e}},T=function(e,t){void 0===e&&(e={});var n=void 0===t?{state:$e.state,getters:$e.getters}:t,r=n.state,o=n.getters,i=new Date,a=e;"free"!==o.format||a.position||(a=Object.assign(S(),a));var s={wall_id:r.wall.id,published:o.canIModerate||!o.requireApproval,author_id:r.user.id,width:200,body:a.body||"",subject:a.subject||"",attachment:a.attachment||"",sort_index:a.sortIndex||a.sort_index||Object(C.d)(),created_at:i.toISOString(),wall_section_id:a.wallSectionId||a.wall_section_id,col_id:a.col_id,row_id:a.row_id,top:a.top,left:a.left,location_point:a.location_point||a.locationPoint,location_name:a.location_name||a.locationName,color:a.color};if(s.cid=e.cid||Object(O.g)(s),o.isTable){var c=a.rowCid,u=a.colCid;c&&u&&(s.rowCid=c,s.colCid=u)}return s};var P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},x={namespaced:!0,state:{postBeingEditedCid:null,postEntitiesByCid:{},pendingPostEntitiesByCid:{},postsMarkedAsDeleted:[],postsFetched:!1,chatAttachment:null,newestPostCid:null},getters:{postBeingEditedCid:function(e){return e.postBeingEditedCid},postEntitiesByCid:function(e){return e.postEntitiesByCid},pendingPostEntitiesByCid:function(e){return e.pendingPostEntitiesByCid},postsFetched:function(e){return e.postsFetched},chatAttachment:function(e){return e.chatAttachment},newestPostCid:function(e){return e.newestPostCid},getPostByCid:function(e){return function(t){return e.postEntitiesByCid[t]}},getPostByServerId:function(e,t){return function(e){return t.postsArray.find((function(t){return t.id===e}))}},postsArray:function(e,t){return t.postCids.map((function(t){return e.postEntitiesByCid[t]}))},nonEmptyPostsArray:function(e,t){return t.postsArray.filter(O.k)},postBeingEdited:function(e){return e.postBeingEditedCid?e.postEntitiesByCid[e.postBeingEditedCid]:null},postCids:function(e){return Object.keys(e.postEntitiesByCid)},pendingPosts:function(e,t){return t.pendingPostCids.map((function(t){return e.pendingPostEntitiesByCid[t]}))},pendingPostCids:function(e){return Object.keys(e.pendingPostEntitiesByCid)},postCidsBySection:function(e,t,n,r){if(r.isShelf){var o={};return t.postCids.forEach((function(t){var n=e.postEntitiesByCid[t];n.wall_section_id&&(o[n.wall_section_id]=o[n.wall_section_id]||[],o[n.wall_section_id].push(t))})),o}return{}},sortedPosts:function(e,t,n,r){var o=n.inlinePostEdit?t.postsArray:t.nonEmptyPostsArray;return r.isBackchannel?Object(C.f)(o):r.isTimeline?Object(C.g)(o).reverse():Object(C.g)(o)},postConfiguration:function(e,t,n,r){return r.isBackchannel?O.a.BodyAndOrAttachment:r.isTable?O.a.BodyOrAttachment:O.a.All},canUserViewPost:function(e,t,n,r){return function(e){return e.published||r.canIModerate||null!==n.user.id&&e.author_id===n.user.id}},isPostMarkedAsDeleted:function(e){return function(t){return!!e.postsMarkedAsDeleted.find((function(e){return e.cid===t.cid||e.id&&t.id&&e.id===t.id}))}}},mutations:{FETCH_POSTS_SUCCESS:function(e,t){if(t){var n,r=null;if(e.postBeingEditedCid){var o=e.postEntitiesByCid[e.postBeingEditedCid];Object(O.j)(o)||(r=e.postBeingEditedCid,n=o.id)}var i={};t.forEach((function(e){var t=Object(O.g)(e);e.id&&r&&e.id===n&&(t=r),i[t]=P(P({},e),{cid:t})})),e.postBeingEditedCid&&e.postEntitiesByCid[e.postBeingEditedCid]&&Object(O.j)(e.postEntitiesByCid[e.postBeingEditedCid])&&!i[e.postBeingEditedCid]&&(i[e.postBeingEditedCid]=e.postEntitiesByCid[e.postBeingEditedCid]),e.postEntitiesByCid=i,e.pendingPostEntitiesByCid={}}e.postsFetched=!0},UPDATE_PENDING_POST:function(e,t){var n,r=e.pendingPostEntitiesByCid[t.cid];if(r){var o=P(P({},e.pendingPostEntitiesByCid),((n={})[r.cid]=P(P({},r),t),n));e.pendingPostEntitiesByCid=o}},ADD_PENDING_POST:function(e,t){var n,r=Object(O.g)(t);e.pendingPostEntitiesByCid=P(P({},e.pendingPostEntitiesByCid),((n={})[r]=P(P({},t),{cid:r}),n))},REMOVE_PENDING_POST:function(e,t){var n=t.cid,r=P({},e.pendingPostEntitiesByCid);delete r[n],e.pendingPostEntitiesByCid=r},REMOVE_PENDING_POSTS:function(e,t){var n=P({},e.pendingPostEntitiesByCid);t.forEach((function(e){var t=e.id;delete n[t]})),e.pendingPostEntitiesByCid=n},REMOVE_ALL_PENDING_POSTS_WITHOUT_SECTION:function(e){var t=P({},e.pendingPostEntitiesByCid);Object.keys(e.pendingPostEntitiesByCid).forEach((function(e){t[e].wall_section_id||delete t[e]})),e.pendingPostEntitiesByCid=t},REJECT_POSTS_WITH_FILE_SIZE_EXCEEDED:function(e,t){if(t){var n=P({},e.pendingPostEntitiesByCid);Object.keys(e.pendingPostEntitiesByCid).forEach((function(e){n[e].file===t&&delete n[e]})),e.pendingPostEntitiesByCid=n}},START_NEW_POST:function(e,t){var n,r=Object(O.g)(t);e.postBeingEditedCid=r,e.postEntitiesByCid=P(P({},e.postEntitiesByCid),((n={})[r]=P(P({},t),{cid:r}),n))},CREATED_POST:function(e,t){var n=t;if(!n.cid){var r=Object(O.g)(n);n.cid=r}i.a.set(e.postEntitiesByCid,n.cid,n)},CREATED_POST_SUCCESS:function(e,t){var n=t.id,r=t.cid,o=e.postEntitiesByCid[r];o&&i.a.set(o,"id",n)},CREATED_POST_ERROR:function(e,t){},MARK_NEWEST_POST:function(e,t){e.newestPostCid=t},DELETED_POST:function(e,t){var n=t.cid;n||(n=Object.keys(e.postEntitiesByCid).find((function(n){return e.postEntitiesByCid[n].id===t.id}))),n&&(n===e.postBeingEditedCid&&(e.postBeingEditedCid=null),e.postsMarkedAsDeleted.push(t),i.a.delete(e.postEntitiesByCid,n))},UPDATED_POST:function(e,t){i.a.set(e.postEntitiesByCid,t.cid,t)},UPDATED_POST_SUCCESS:function(){},UPDATED_POST_ERROR:function(e,t){i.a.set(e.postEntitiesByCid,t.cid,t)},START_EDITING_POST:function(e,t){e.postBeingEditedCid=t},STOP_EDITING_POST:function(e){e.postBeingEditedCid=null},UPDATE_CID_WITH_SERVER_ID:function(e,t){var n,r=e.postEntitiesByCid[t];if(r&&r.id){var o=Object(O.g)(r);if(o!==r.cid){var i=P(P({},e.postEntitiesByCid),((n={})[o]=P(P({},r),{cid:o}),n));delete i[t],e.postEntitiesByCid=i}}},CHANGE_POST_TEXT:function(e,t){var n=t.postCid,r=t.attributes,o=e.postEntitiesByCid[n];o=Object.assign(o,r),i.a.set(e.postEntitiesByCid,n,o)},SORTED_POST:function(e,t){var n=t.postCid,r=t.sortIndex,o=t.sectionId;r&&i.a.set(e.postEntitiesByCid[n],"sort_index",r),o&&i.a.set(e.postEntitiesByCid[n],"wall_section_id",o)},MOVED_POST:function(e,t){var n=t.postCid,r=t.position;r.left&&i.a.set(e.postEntitiesByCid[n],"left",r.left),r.top&&i.a.set(e.postEntitiesByCid[n],"top",r.top)},RESIZED_POST:function(e,t){var n=t.postCid,r=t.size;r&&r.width&&i.a.set(e.postEntitiesByCid[n],"width",r.width)},APPROVE_POST:function(e,t){var n=t.postCid;i.a.set(e.postEntitiesByCid[n],"published",!0)},REMOVE_POST_COLOR:function(e,t){var n=t.postCid;i.a.set(e.postEntitiesByCid[n],"color",null)},CHANGE_POST_COLOR:function(e,t){var n=t.postCid,r=t.color;i.a.set(e.postEntitiesByCid[n],"color",r)},SAVE_ATTACHMENT_CHAT:function(e,t){e.postBeingEditedCid?i.a.set(e.postEntitiesByCid[e.postBeingEditedCid],"attachment",t):e.chatAttachment=t},REMOVE_ATTACHMENT_CHAT:function(e){e.chatAttachment=null},SAVE_CAPTION_AS_TITLE:function(e,t){if(e.postBeingEditedCid){if(e.postEntitiesByCid[e.postBeingEditedCid].subject)return;i.a.set(e.postEntitiesByCid[e.postBeingEditedCid],"subject",t)}},SAVE_ATTACHMENT:function(e,t){e.postBeingEditedCid&&i.a.set(e.postEntitiesByCid[e.postBeingEditedCid],"attachment",t)},REMOVE_ATTACHMENT:function(e,t){t?i.a.set(e.postEntitiesByCid[t],"attachment",null):e.postBeingEditedCid&&i.a.set(e.postEntitiesByCid[e.postBeingEditedCid],"attachment",null)},SAVE_FILE:function(e,t){e.postBeingEditedCid&&i.a.set(e.postEntitiesByCid[e.postBeingEditedCid],"file",t)},CHANGE_ATTACHMENT:function(e,t){var n=t.postCid,r=t.attributes;i.a.set(e.postEntitiesByCid[n||r.cid],"attachment",r.attachment)}},actions:{fetchPosts:function(e){var t=e.dispatch,n=e.rootState;return A(this,void 0,Promise,(function(){var e,r;return I(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,s.a.Wish.readAll({wall:{id:n.wall.id}})];case 1:return e=o.sent(),t("fetchPostsSuccess",{posts:e}),[3,3];case 2:return r=o.sent(),Object(c.b)(r,{source:"fetchPosts"}),[3,3];case 3:return[2]}}))}))},fetchPostsSuccess:function(e,t){(0,e.commit)("FETCH_POSTS_SUCCESS",t.posts)},startNewPost:function(e,t){var n=e.rootState,r=e.rootGetters,o=e.commit,i=e.dispatch,a=(void 0===t?{attributes:{wall_section_id:null,file:null}}:t).attributes,s=P({},a);r.isShelf&&!s.wall_section_id||(i("removeEmptyPostBeingEdited"),o("START_NEW_POST",s=T(s,{state:n,getters:r})))},createPost:function(e,t){var n=(void 0===t?{attributes:{wall_section_id:null,file:null}}:t).attributes,r=e.commit,o=e.rootState,i=e.rootGetters,a=n,s=i["section/sections"].filter((function(e){return!function(e){return String(e.id).startsWith("new_")}(e)}));i.isShelf&&!a.wall_section_id&&1!==s.length?r("ADD_PENDING_POST",a):(i.isShelf&&!a.wall_section_id&&1===s.length&&(a=P(P({},a),{wall_section_id:s[0].id})),"file"in a&&a.file?r("ADD_PENDING_POST",a):(a=T(a,{state:o,getters:i}),Object(O.n)(e,a),r("MARK_NEWEST_POST",a.cid)))},removeEmptyPostBeingEdited:function(e){var t=e.dispatch,n=e.getters;n.postBeingEdited&&Object(O.i)(n.postBeingEdited)&&t("deletePost",{post:n.postBeingEdited})},savePost:function(e,t){var n,r=t.attributes,o=e.commit,i=e.dispatch,a=e.rootState,s=e.rootGetters;r.cid&&r.id&&r.wall_id?(n=r,Object(O.n)(e,n)):((n=T(r,{state:a,getters:s})).cid=r.cid||Object(O.g)(n),Object(O.n)(e,n),o("MARK_NEWEST_POST",n.cid)),i("stopEditingPost")},savePostAttributes:function(e,t){Object(O.n)(e,t)},startEditingPost:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;r("stopEditingPost"),n("START_EDITING_POST",o)},stopEditingPost:function(e){var t=e.commit,n=e.dispatch,r=e.state;n("removeEmptyPostBeingEdited"),r.postBeingEditedCid&&(t("UPDATE_CID_WITH_SERVER_ID",r.postBeingEditedCid),t("STOP_EDITING_POST"))},syncPostBeingEditedCidForMap:function(e,t){var n=e.dispatch,r=e.state;e.rootGetters.isMap&&t.cid===r.postBeingEditedCid&&n("startEditingPost",{postCid:Object(O.g)(t)})},changePostText:function(e,t){var n=t.postCid,r=t.attributes,o=e.state;(0,e.commit)("CHANGE_POST_TEXT",{postCid:n,attributes:r});var i=o.postEntitiesByCid[n];Object(O.i)(i)||Object(O.n)(e,i)},completePostUpload:function(e,t){var n=t.file,r=t.status,o=e.commit,i=e.getters,a=e.rootState,s=e.rootGetters,c=i.pendingPosts.find((function(e){return e.file===n}));o("REMOVE_PENDING_POST",c),"error"!==r&&"cancel"!==r&&(c=P(P({},c),{attachment:r}),c=T(c,{state:a,getters:s}),Object(O.n)(e,c))},updateAfterPostCreated:function(e,t){var n=t.postCid,r=e.state.postEntitiesByCid[n];r&&(Object(O.n)(e,r),Object(O.n)(e,r))},movedPost:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;n("MOVED_POST",{postCid:o,position:t.position}),r("updateAfterPostCreated",{postCid:o})},sortedPost:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;n("SORTED_POST",{postCid:o,sortIndex:t.sortIndex,sectionId:t.sectionId}),r("updateAfterPostCreated",{postCid:o})},resizedPost:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;n("RESIZED_POST",{postCid:o,size:t.size}),r("updateAfterPostCreated",{postCid:o})},deletePost:function(e,t){var n=e.commit,r=e.getters,o=e.dispatch,i=e.state,a=t.post,s=t.postCid||a&&a.cid,c=a||i.postEntitiesByCid[s];s&&Object(O.l)(s)||(s=(c=r.getPostByServerId(a.id)).cid),Object(O.e)({commit:n,dispatch:o},c),o("removeConnectionsForPost",{postId:c.id},{root:!0})},approvePost:function(e,t){var n=e.state,r=e.commit,o=t.postCid;r("APPROVE_POST",{postCid:o}),s.a.Wish.approve({wishId:n.postEntitiesByCid[o].id})},removePostColor:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;n("REMOVE_POST_COLOR",{postCid:o}),r("updateAfterPostCreated",{postCid:o})},changePostColor:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;n("CHANGE_POST_COLOR",{postCid:o,color:t.newBgColor}),r("updateAfterPostCreated",{postCid:o})},removePost:function(e,t){(0,e.commit)("DELETED_POST",{id:t.id,cid:t.cid})},addPost:function(e,t){(0,e.commit)("CREATED_POST",t)},newPostRemote:function(e,t){var n=e.dispatch,r=e.getters,o=e.rootGetters;(r.canUserViewPost(t)||o.xUnpublishedPostPosition)&&n("addPost",t)},editPostRemote:function(e,t){var n=e.dispatch,r=e.getters,o=e.rootGetters,i=r.getPostByServerId(t.id);i&&(i.updated_at&&t.updated_at&&i.updated_at<t.updated_at&&(r.canUserViewPost(t)||o.xUnpublishedPostPosition?n("updatePostInStore",P(P({},i),t)):n("removePost",i)))},deletePostRemote:function(e,t){(0,e.commit)("DELETED_POST",t)},clearAllPosts:function(e){var t=e.getters,n=e.commit,r=e.dispatch;n("HIDE_CLEAR_ALL_DIALOG",null,{root:!0}),Object(O.d)({commit:n,dispatch:r},t.postsArray)},saveCaptionAsTitle:function(e,t){(0,e.commit)("SAVE_CAPTION_AS_TITLE",t.caption)},saveContent:function(e,t){var n=t.content,r=e.commit,o=e.dispatch,i=e.state,a=e.rootGetters;if(o("contentPicker/hideContentPickerPanel",null,{root:!0}),n.link)if("chat"===a.format)r("SAVE_ATTACHMENT_CHAT",n.link);else{r("SAVE_ATTACHMENT",n.link);var s=i.postBeingEditedCid&&i.postEntitiesByCid[i.postBeingEditedCid];s&&(Object(O.i)(s)||Object(O.n)(e,s))}else r("SAVE_FILE",n.file)},removePostAttachment:function(e,t){var n=e.state,r=e.commit,o=e.dispatch,i=e.rootGetters,a=(void 0===t?{postCid:null}:t).postCid;r("REMOVE_ATTACHMENT",a);var s=n.postEntitiesByCid[a||n.postBeingEditedCid];i.isBackchannel?r("REMOVE_ATTACHMENT_CHAT"):s&&Object(O.i)(s)||o("updateAfterPostCreated",{postCid:a||n.postBeingEditedCid})},changePostAttachment:function(e,t){var n=e.commit,r=e.dispatch,o=t.postCid;n("CHANGE_ATTACHMENT",{postCid:o,attributes:t.attributes}),r("updateAfterPostCreated",{postCid:o})},pickSection:function(e,t){var n=t.sectionId,r=e.getters,o=e.rootState,i=e.rootGetters,a=e.commit,s=e.dispatch,c=[];r.pendingPosts.forEach((function(t){if(!t.wall_section_id){var r=void 0;t.wall_section_id=n,t.file||(t.subject||t.body||t.attachment?((r=T(t,{state:o,getters:i})).cid=Object(O.g)(r),Object(O.n)(e,r),a("MARK_NEWEST_POST",r.cid),c.push(t)):(r=T(t,{state:o,getters:i}),s("stopEditingPost"),a("START_NEW_POST",r),c.push(t)))}})),a("REMOVE_PENDING_POSTS",c)},cancelPickingSection:function(e){var t=e.rootGetters,n=e.commit;t.isShelf&&n("REMOVE_ALL_PENDING_POSTS_WITHOUT_SECTION")},rejectPostsWithFileSizeExceeded:function(e,t){(0,e.commit)("REJECT_POSTS_WITH_FILE_SIZE_EXCEEDED",t)},updatePostInStore:function(e,t){var n=e.commit,r=e.getters;if(t.cid)n("UPDATED_POST",t);else{var o=r.getPostByServerId(t.id);if(!o&&r.isPostMarkedAsDeleted(t))return;n("UPDATED_POST",P(P({},t),{cid:o.cid}))}},updatePendingPost:function(e,t){(0,e.commit)("UPDATE_PENDING_POST",t)},removePendingPost:function(e,t){(0,e.commit)("REMOVE_PENDING_POST",t)},createdPostSuccess:function(e,t){var n=e.commit,r=e.dispatch,o=e.state;e.getters.isPostMarkedAsDeleted(t)||(n("CREATED_POST_SUCCESS",t),setTimeout((function(){o.postBeingEditedCid||n("UPDATE_CID_WITH_SERVER_ID",t.cid)}),1e3),r("syncPostBeingEditedCidForMap",t))},updatedPostSuccess:function(e,t){(0,e.commit)("UPDATED_POST_SUCCESS",t)},enqueueRequest:function(e,t){var n=t.post,r=t.customRequest;return Object(O.c)(e,n,r)}}},j=n(4),D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},R={namespaced:!0,state:{currentlyPlayingPostCid:null,zoomedPostCid:null,zoomedLink:null,expandedPostCid:null,postUnderActionCid:null,xTransferPostPanel:!1,postBeingTransferredCid:null,transferPostActivePanel:"main",xCopyPostPanel:!1,postBeingCopiedCid:null,copyPostActivePanel:"main",destinationWallSections:[],destinationWallSectionsFetched:!1,copyOrTransferPostResult:null},getters:{zoomedPostCid:function(e){return e.zoomedPostCid},zoomedLink:function(e){return e.zoomedLink},expandedPostCid:function(e){return e.expandedPostCid},postUnderActionCid:function(e){return e.postUnderActionCid},xTransferPostPanel:function(e){return e.xTransferPostPanel},postBeingTransferredCid:function(e){return e.postBeingTransferredCid},transferPostActivePanel:function(e){return e.transferPostActivePanel},copyOrTransferPostResult:function(e){return e.copyOrTransferPostResult},xCopyPostPanel:function(e){return e.xCopyPostPanel},postBeingCopiedCid:function(e){return e.postBeingCopiedCid},copyPostActivePanel:function(e){return e.copyPostActivePanel},destinationWallSections:function(e){return e.destinationWallSections},destinationWallSectionsFetched:function(e){return e.destinationWallSectionsFetched},hasPostUnderActionWithConnections:function(e,t,n,r){if(!t.postUnderAction)return!1;var o=t.postUnderAction.id;return r["postConnection/connections"].filter((function(e){return e.from_wish_id===o||e.to_wish_id===o})).length>0},isPostUnderActionUserAuthored:function(e,t,n){return!!t.postUnderAction&&t.postUnderAction.author_id===n.user.id},canEditPostUnderAction:function(e,t,n,r){return r.canIEdit||r.canIWrite&&t.isPostUnderActionUserAuthored},canDeletePostUnderAction:function(e,t){return t.canEditPostUnderAction},canTransferPostUnderAction:function(e,t){return t.canEditPostUnderAction},canCopyPostUnderAction:function(e,t,n,r){return r.amIRegistered},canConnectPostUnderAction:function(e,t,n,r){return(r.isCanvas||r.isMap)&&r.canIWrite},canDisconnectPostUnderAction:function(e,t){return t.canConnectPostUnderAction&&t.hasPostUnderActionWithConnections},canChangePostStackOrder:function(e,t,n,r){return(r.isCanvas||r.isMap)&&r.canIEdit},doesPostUnderActionHaveAttachment:function(e,t){return t.postUnderAction&&t.postUnderAction.attachment&&""!==t.postUnderAction.attachment},canChangeCoverToPostUnderAction:function(e,t,n,r){return r.canIChangeCoverPost&&t.doesPostUnderActionHaveAttachment},canChangePostUnderActionLocation:function(e,t,n,r){return r.isMap&&(r.canIEdit||r.canIWrite&&t.isPostUnderActionUserAuthored)},isPostUnderActionPreviewPost:function(e,t,n,r){return t.postUnderAction&&t.postUnderAction.id===r.coverPostId},expandedPostServerId:function(e,t,n){return e.expandedPostCid&&n.post.postEntitiesByCid[e.expandedPostCid]?n.post.postEntitiesByCid[e.expandedPostCid].id:null},expandedPostFrameUrl:function(e,t,n,r){return r.publicKey&&e.expandedPostCid?"/padlets/"+r.publicKey+"/frames/post"+t.expandedPostServerId:"about:blank"},postUnderAction:function(e,t,n,r){return e.postUnderActionCid?r["post/postEntitiesByCid"][e.postUnderActionCid]:null}},mutations:{SHOW_POST_ACTION_MENU:function(e,t){e.postUnderActionCid=t},HIDE_POST_ACTION_MENU:function(e){e.postUnderActionCid=null},ZOOM_POST:function(e,t){var n=t.zoomedPostCid,r=t.zoomedLink;e.currentlyPlayingPostCid=n,e.zoomedPostCid=n,e.zoomedLink=r},UNZOOM_POST:function(e){e.currentlyPlayingPostCid===e.zoomedPostCid&&(e.currentlyPlayingPostCid=null),e.zoomedPostCid=null,e.zoomedLink=null},EXPAND_POST:function(e,t){e.currentlyPlayingPostCid=t,e.expandedPostCid=t},UNEXPAND_POST:function(e){e.currentlyPlayingPostCid===e.expandedPostCid&&(e.currentlyPlayingPostCid=null),e.expandedPostCid=null},START_POST_TRANSFER:function(e,t){e.xTransferPostPanel=!0,e.postBeingTransferredCid=t},END_POST_TRANSFER:function(e){e.xTransferPostPanel=!1,e.postBeingTransferredCid=null,e.transferPostActivePanel="main",e.copyOrTransferPostResult=null},UPDATE_POST_TRANSFER:function(e,t){"error"!==t.status&&(e.postBeingTransferredCid=null),e.copyOrTransferPostResult=t},POST_TRANSFER_NAVIGATE:function(e,t){e.transferPostActivePanel=t},START_POST_COPY:function(e,t){e.xCopyPostPanel=!0,e.postBeingCopiedCid=t},END_POST_COPY:function(e){e.xCopyPostPanel=!1,e.postBeingCopiedCid=null,e.copyPostActivePanel="main",e.copyOrTransferPostResult=null},UPDATE_POST_COPY:function(e,t){e.copyOrTransferPostResult=t},POST_COPY_NAVIGATE:function(e,t){e.copyPostActivePanel=t},FETCH_DESTINATION_WALL_SECTIONS:function(e){e.destinationWallSections=[],e.destinationWallSectionsFetched=!1},FETCHED_DESTINATION_WALL_SECTIONS:function(e,t){e.destinationWallSections=t,e.destinationWallSectionsFetched=!0},SET_CURRENTLY_PLAYING_POST:function(e,t){e.currentlyPlayingPostCid=t},UNSET_CURRENTLY_PLAYING_POST:function(e,t){e.currentlyPlayingPostCid===t&&(e.currentlyPlayingPostCid=null)}},actions:{showPostActionMenu:function(e,t){(0,e.commit)("SHOW_POST_ACTION_MENU",t.postCid)},hidePostActionMenu:function(e){(0,e.commit)("HIDE_POST_ACTION_MENU")},zoomPost:function(e,t){var n=e.commit,r=t.zoomedPostCid,o=t.zoomedLink;n("UNEXPAND_POST"),n("ZOOM_POST",{zoomedPostCid:r,zoomedLink:o})},unzoomPost:function(e){var t=e.commit;t("UNEXPAND_POST"),t("UNZOOM_POST")},expandPost:function(e,t){var n=e.commit,r=e.rootState,o=e.dispatch,i=t.postCid;n("UNZOOM_POST"),r.isApp||n("EXPAND_POST",i),o("nativeApp/expandPost",r.post.postEntitiesByCid[i],{root:!0})},unexpandPost:function(e){var t=e.commit,n=e.dispatch;t("UNEXPAND_POST"),n("nativeApp/unexpandPost",null,{root:!0})},startPostTransfer:function(e,t){(0,e.commit)("START_POST_TRANSFER",t.transferPostCid)},endPostTransfer:function(e){(0,e.commit)("END_POST_TRANSFER")},actuallyTransferPost:function(e,t){var n=e.dispatch,r={id:t.postId};n("post/enqueueRequest",{post:r,customRequest:{key:"TRANSFER_POST",method:function(){return Object(O.o)({dispatch:n},t)}}},{root:!0})},updatePostTransferred:function(e,t){var n=e.commit,r=e.dispatch,o=(e.rootGetters,e.rootState),i=(t.transferredPostCid,t.error),a=t.newPostData,c=t.isDestinationNewWall,u=t.isDestinationThisWall;return D(this,void 0,void 0,(function(){var e,t;return N(this,(function(l){switch(l.label){case 0:return e={status:"success",operation:"transfer",isDestinationThisWall:u,isDestinationNewWall:c},i?(e.status="error",e.text=Object(j.a)("Sorry, we failed to transfer your post.")+" "+(i.error||""),[3,5]):[3,1];case 1:return t=o.wall,u?[3,3]:[4,s.a.Wall.read({id:a.wall_id})];case 2:return t=l.sent(),[3,4];case 3:r("addPostCopiedOrMovedToCurrent",{newPostData:a}),l.label=4;case 4:e.url=t.links.show,e.text=Object(j.a)("Post transferred successfully."),l.label=5;case 5:return n("UPDATE_POST_TRANSFER",e),[2]}}))}))},postTransferNavigate:function(e,t){(0,e.commit)("POST_TRANSFER_NAVIGATE",t.panel)},startPostCopy:function(e,t){(0,e.commit)("START_POST_COPY",t.copyPostCid)},endPostCopy:function(e){(0,e.commit)("END_POST_COPY")},actuallyCopyPost:function(e,t){var n=e.dispatch,r={id:t.postId};n("post/enqueueRequest",{post:r,customRequest:{key:"COPY_POST",method:function(){return Object(O.b)({dispatch:n},t)}}},{root:!0})},updatePostCopied:function(e,t){var n=e.commit,r=e.rootGetters,o=e.rootState,i=e.dispatch,a=t.error,c=t.newPostData,u=t.isDestinationNewWall;return D(this,void 0,Promise,(function(){var e,t;return N(this,(function(l){switch(l.label){case 0:return e={status:"success",operation:"copy",isDestinationThisWall:!1,isDestinationNewWall:u},a?(e.status="error",e.text=Object(j.a)("Sorry, we failed to copy your post.")+" "+(a.error||""),[3,5]):[3,1];case 1:return e.isDestinationThisWall=!u&&r.wallId===c.wall_id,t=o.wall,e.isDestinationThisWall?(i("addPostCopiedOrMovedToCurrent",{newPostData:c}),[3,4]):[3,2];case 2:return[4,s.a.Wall.read({id:c.wall_id})];case 3:t=l.sent(),l.label=4;case 4:e.url=t.links.show,e.text=Object(j.a)("Post copied successfully."),l.label=5;case 5:return n("UPDATE_POST_COPY",e),[2]}}))}))},addPostCopiedOrMovedToCurrent:function(e,t){(0,e.dispatch)("addPost",{post:t.newPostData},{root:!0})},postCopyNavigate:function(e,t){(0,e.commit)("POST_COPY_NAVIGATE",t.panel)},fetchDestinationWallSections:function(e,t){var n=e.commit,r=t.wallId;return D(this,void 0,void 0,(function(){var e;return N(this,(function(t){switch(t.label){case 0:return n("FETCH_DESTINATION_WALL_SECTIONS"),[4,s.a.WallSection.readAll({wall:{id:r}})];case 1:return e=t.sent(),n("FETCHED_DESTINATION_WALL_SECTIONS",e),[2]}}))}))},setCurrentlyPlayingPost:function(e,t){(0,e.commit)("SET_CURRENTLY_PLAYING_POST",t.cid)},unsetCurrentlyPlayingPost:function(e,t){(0,e.commit)("UNSET_CURRENTLY_PLAYING_POST",t.cid)},deletePostRemote:function(e,t){var n=e.state,r=e.dispatch;if(t){var o=Object(O.h)(t);o===n.postBeingTransferredCid&&r("endPostTransfer"),o===n.postBeingCopiedCid&&r("endPostCopy"),o===n.postUnderActionCid&&r("hidePostActionMenu"),o===n.zoomedPostCid&&r("unzoomPost"),o===n.expandedPostCid&&r("unexpandPost")}},recalibrate:function(e){var t=e.state,n=e.rootState,r=e.dispatch,o=n.post.postEntitiesByCid;!t.postBeingTransferredCid||t.postBeingTransferredCid in o||r("endPostTransfer"),!t.postBeingCopiedCid||t.postBeingCopiedCid in o||r("endPostCopy"),!t.postUnderActionCid||t.postUnderActionCid in o||r("hidePostActionMenu"),!t.zoomedPostCid||t.zoomedPostCid in o||r("unzoomPost"),!t.expandedPostCid||t.expandedPostCid in o||r("unexpandPost")}}},M=n(153),L=n(194),F=n(49),B=n.n(F),U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},V=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},W=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},G=1;function H(e,t){return Array(e).fill(null).map((function(e,n){return t(n)}))}var z=function(e){var t=void 0===e?{}:e,n=t.id,r=t.cid;return r||(n?"row_"+n:B()("row_new_"))},Q=function(e){var t=void 0===e?{}:e,n=t.id,r=t.cid;return r||(n?"col_"+n:B()("col_new_"))};function $(e){return e.reduce((function(e,t,n){return t.id&&(e[t.id]=n+G),e}),{})}function K(e){return e.reduce((function(e,t,n){return e[t.cid]=n+G,e}),{})}var Y={namespaced:!0,state:function(){return{isLayoutFetched:!1,rowOrdering:[],colOrdering:[],activeCell:null,cellBeingMoved:null,headerCellBeingEdited:null,openHeaderActionMenuKey:null,requestQueue:new L.a}},getters:{cellToPostAttributes:function(e){return function(t){var n=e.rowOrdering[t.row-G],r=e.colOrdering[t.col-G];return n&&r?{row_id:n.id,col_id:r.id,rowCid:n.cid,colCid:r.cid}:{}}},rowIdToCoordMap:function(e){return $(e.rowOrdering)},colIdToCoordMap:function(e){return $(e.colOrdering)},rowCidToCoordMap:function(e){return K(e.rowOrdering)},colCidToCoordMap:function(e){return K(e.colOrdering)},rowCidToId:function(e,t){return function(n){return e.rowOrdering[t.rowCidToCoordMap[n]-G].id}},colCidToId:function(e,t){return function(n){return e.colOrdering[t.colCidToCoordMap[n]-G].id}},rowIdToCid:function(e,t){return function(n){var r=e.rowOrdering[t.rowIdToCoordMap[n]-G];return r?r.cid:null}},colIdToCid:function(e,t){return function(n){var r=e.colOrdering[t.colIdToCoordMap[n]-G];return r?r.cid:null}},getPostCoords:function(e,t){return function(n){return e.isLayoutFetched?(n.row_id&&(r=t.rowIdToCoordMap[n.row_id]),n.col_id&&(o=t.colIdToCoordMap[n.col_id]),!r&&n.rowCid&&(r=t.rowCidToCoordMap[n.rowCid]),!o&&n.colCid&&(o=t.colCidToCoordMap[n.colCid]),r&&o?{row:r,col:o}:null):null;var r,o}},hasAssignedCell:function(e,t){return function(e){return!!t.getPostCoords(e)}},hasNoAssignedCell:function(e,t){return function(e){return!t.getPostCoords(e)}},posts:function(e,t,n,r){return r.isTable&&e.isLayoutFetched?r["post/postsArray"]:[]},pendingPosts:function(e,t,n,r){return r.isTable&&e.isLayoutFetched?r["post/pendingPosts"]:[]},getCellData:function(e,t){return function(e){var n=e.row,r=e.col;return t.cells.find((function(e){return e.row===n&&e.col===r}))}},activeCell:function(e,t){return e.activeCell?e.activeCell.hasOwnProperty("key")?e.activeCell:t.getCellData(e.activeCell):e.activeCell},isNoCellActive:function(e){return!e.activeCell},isActiveCell:function(e){return function(t){return!!e.activeCell&&(t.row===e.activeCell.row&&t.col===e.activeCell.col)}},cellBeingMoved:function(e){return e.cellBeingMoved},rowBeingMoved:function(e){return e.cellBeingMoved&&e.cellBeingMoved.isRowHeader?e.cellBeingMoved.row:null},colBeingMoved:function(e){return e.cellBeingMoved&&e.cellBeingMoved.isColHeader?e.cellBeingMoved.col:null},postBeingMoved:function(e,t){return t.cellBeingMoved&&t.cellBeingMoved.post||null},isPostBeingMoved:function(e,t){return!!t.postBeingMoved},headerCellBeingEdited:function(e){return e.headerCellBeingEdited},celledCreatedPosts:function(e,t){return t.posts.filter(t.hasAssignedCell)},celllessCreatedPosts:function(e,t){return t.posts.filter(t.hasNoAssignedCell)},celllessPendingPosts:function(e,t){return t.pendingPosts.filter(t.hasNoAssignedCell)},postsPendingUpload:function(e,t){return t.pendingPosts.filter(t.hasAssignedCell)},isSelectingCellForPendingPost:function(e,t){return t.celllessPendingPosts.length>0},isSelectingCellForCreatedPost:function(e,t){return!t.isSelectingCellForPendingPost&&t.celllessCreatedPosts.length>0},isSelectingCell:function(e,t){return t.isPostBeingMoved||t.isSelectingCellForPendingPost||t.isSelectingCellForCreatedPost},postToSelectCellFor:function(e,t){return t.isPostBeingMoved?t.postBeingMoved:t.isSelectingCellForPendingPost?t.celllessPendingPosts[0]:t.isSelectingCellForCreatedPost?t.celllessCreatedPosts[0]:null},rows:function(e){return e.rowOrdering.length},cols:function(e){return e.colOrdering.length},lastRowIndex:function(e){return e.rowOrdering.length+1},lastColIndex:function(e){return e.colOrdering.length+1},isPostContentHidden:function(e,t,n,r){var o=r["post/canUserViewPost"];return function(e){return!!e.is_content_hidden||!o(e)}},cells:function(e,t){if(!e.isLayoutFetched)return[];var n=G+t.rows+1,r=G+t.cols+1,o=Array(n).fill(null).map((function(e,t){return Array(r).fill(null).map((function(e,n){return{row:t,col:n,key:"placeholder-"+t+"-"+n,isPlaceholder:!0}}))})),i=t.celledCreatedPosts,a=t.getPostCoords,s=t.isPostContentHidden,c=i.filter(s);i.filter((function(e){return!s(e)})).forEach((function(e,t){var n=a(e),r=n.row,s=n.col,c=t===i.length-1;o[r][s]={row:r,col:s,key:"post-"+e.cid,isPost:!0,post:e,isLastPost:c}})),c.forEach((function(e){var t=a(e),n=t.row,r=t.col;o[n][r]={row:n,col:r,key:"post-"+e.cid,isOccupied:!0,post:e}})),t.postsPendingUpload.forEach((function(e){var t=a(e),n=t.row,r=t.col;o[n][r]={row:n,col:r,key:"uploading-"+n+"-"+r,isUploading:!0,post:e}}));var u=e.rowOrdering,l=e.colOrdering;Array(t.rows).fill(null).forEach((function(e,t){var n=u[t],r=n.id,i=n.title,a=G+t,s=a.toString(),c=r?i:void 0;o[a][0]={id:r,row:a,col:0,key:"header-"+a+"-0",isHeader:!0,isRowHeader:!0,text:c,numeral:s}})),Array(t.cols).fill(null).forEach((function(e,t){var n=l[t],r=n.id,i=n.title,a=G+t,s=String.fromCharCode(65+t),c=r?i:void 0;o[0][a]={id:r,row:0,col:a,key:"header-0-"+a,isHeader:!0,isColHeader:!0,text:c,numeral:s}}));var f=n-1,d=r-1;o[0][0]={row:0,col:0,isCornerHeader:!0,key:"corner-0-0"},Array(t.rows+1).fill(null).forEach((function(e,t){var n=G+t,r=d;o[n][r]={row:n,col:r,key:"add-col-"+n+"-"+r,isAddColButton:!0}})),Array(t.cols).fill(null).forEach((function(e,t){var n=f,r=G+t;o[n][r]={row:f,col:r,key:"add-row-"+n+"-"+r,isAddRowButton:!0}}));var h,p={row:0,col:d,isHeaderAddColButton:!0,key:"header-add-col"},m={row:f,col:0,isHeaderAddRowButton:!0,key:"header-add-row"},y={row:f,col:d,isAddRowAndColButton:!0,key:"add-row-and-col"};return o[0][p.col]=p,o[m.row][0]=m,o[m.row][p.col]=y,h=o,[].concat.apply([],h)},canCancelSelectCell:function(e,t){return t.isSelectingCellForPendingPost},canRearrangeTable:function(e,t,n,r){return r.isPostable},isHeaderActionMenuOpen:function(e){return function(t){return e.openHeaderActionMenuKey===t}},isKeyboardNavigationDisabled:function(e,t,n,r){return!(!e.openHeaderActionMenuKey&&!e.cellBeingMoved)||r.isAPanelVisible},isPristine:function(e,t){return 1===t.rows&&1===t.cols&&0===t.posts.length&&0===t.pendingPosts.length}},mutations:{UPDATE_LAYOUT:function(e,t){var n=t.rowOrdering,r=t.colOrdering;e.rowOrdering=n,e.colOrdering=r,e.isLayoutFetched=!0},ADD_NEW_ROW:function(e,t){var n=t.at,r={cid:t.cid||z()};e.rowOrdering="number"!==typeof n?W(e.rowOrdering,[r]):W(e.rowOrdering.slice(0,n),[r],e.rowOrdering.slice(n))},ADD_NEW_COL:function(e,t){var n=t.at,r={cid:t.cid||Q()};e.colOrdering="number"!==typeof n?W(e.colOrdering,[r]):W(e.colOrdering.slice(0,n),[r],e.colOrdering.slice(n))},UPDATE_ROW_TITLE:function(e,t){var n=t.id,r=t.title,o=e.rowOrdering.find((function(e){return e.id===n}));o&&i.a.set(o,"title",r)},UPDATE_COL_TITLE:function(e,t){var n=t.id,r=t.title,o=e.colOrdering.find((function(e){return e.id===n}));o&&i.a.set(o,"title",r)},UPDATE_ROW_ID:function(e,t){var n=t.cid,r=t.id,o=e.rowOrdering.find((function(e){return e.cid===n}));o&&i.a.set(o,"id",r)},UPDATE_COL_ID:function(e,t){var n=t.cid,r=t.id,o=e.colOrdering.find((function(e){return e.cid===n}));o&&i.a.set(o,"id",r)},DELETE_ROW:function(e,t){var n=t.cid;e.rowOrdering=e.rowOrdering.filter((function(e){return e.cid!==n}))},DELETE_COL:function(e,t){var n=t.cid;e.colOrdering=e.colOrdering.filter((function(e){return e.cid!==n}))},UPDATE_ROW_POSITION:function(e,t){var n=t.cid,r=t.layoutIndex,o=e.rowOrdering.findIndex((function(e){return e.cid===n})),i=W(e.rowOrdering);i.splice(o,1),i.splice(r,0,e.rowOrdering[o]),e.rowOrdering=i},UPDATE_COL_POSITION:function(e,t){var n=t.cid,r=t.layoutIndex,o=e.colOrdering.findIndex((function(e){return e.cid===n})),i=W(e.colOrdering);i.splice(o,1),i.splice(r,0,e.colOrdering[o]),e.colOrdering=i},SET_ACTIVE_CELL:function(e,t){e.activeCell=t},UNSET_ACTIVE_CELL:function(e){e.activeCell=null},START_MOVING_CELL:function(e,t){e.cellBeingMoved=t},STOP_MOVING_CELL:function(e){e.cellBeingMoved=null},START_EDITING_HEADER:function(e,t){e.headerCellBeingEdited=t},STOP_EDITING_HEADER:function(e){e.headerCellBeingEdited=null},OPEN_HEADER_ACTION_MENU:function(e,t){e.openHeaderActionMenuKey=t},CLOSE_HEADER_ACTION_MENU:function(e){e.openHeaderActionMenuKey=null}},actions:{fetchTableLayout:function(e){var t=e.dispatch,n=e.rootState;return q(this,void 0,Promise,(function(){var e,r,o;return V(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e={wall:{id:n.wall.id}},[4,s.a.WallTableLayout.readAll(e)];case 1:return r=i.sent(),t("updateLayout",r[0]),[3,3];case 2:return o=i.sent(),Object(c.a)(o),[3,3];case 3:return[2]}}))}))},updateLayout:function(e,t){var n=e.commit,r=e.state,o=e.getters,i=t.rows,a=t.cols,s=t.row_titles,c=t.col_titles,u=i.map((function(e){return{id:e,cid:o.rowIdToCid(e)||z({id:e}),title:s[e]}})),l=a.map((function(e){return{id:e,cid:o.colIdToCid(e)||Q({id:e}),title:c[e]}}));r.rowOrdering.forEach((function(e,t){if(!e.id){var n=Math.min(t,u.length);u.splice(n,0,e)}})),r.colOrdering.forEach((function(e,t){if(!e.id){var n=Math.min(t,l.length);l.splice(n,0,e)}})),n("UPDATE_LAYOUT",{rowOrdering:u,colOrdering:l})},updateRowId:function(e,t){var n=e.commit,r=e.dispatch,o=e.getters,i=t.cid,a=t.id;n("UPDATE_ROW_ID",{cid:i,id:a});o.celledCreatedPosts.filter((function(e){return!e.row_id&&e.rowCid===i})).forEach((function(e){return r("post/savePostAttributes",U(U({},e),{row_id:a}),{root:!0})}))},updateColId:function(e,t){var n=e.commit,r=e.dispatch,o=e.getters,i=t.cid,a=t.id;n("UPDATE_COL_ID",{cid:i,id:a});o.celledCreatedPosts.filter((function(e){return!e.col_id&&e.colCid===i})).forEach((function(e){return r("post/savePostAttributes",U(U({},e),{col_id:a}),{root:!0})}))},addTableRow:function(e,t){var n=e.commit,r=e.dispatch,o=e.state,i=e.rootState;return void 0===t&&(t={}),q(this,void 0,Promise,(function(){var e,a,u,l,f,d,h,p,y;return V(this,(function(g){switch(g.label){case 0:e=z(),a={cid:e},u={wall_id:i.wall.id},"number"===typeof t.at&&(l=t.at-G,u.at=l,a.at=l),n("ADD_NEW_ROW",a),g.label=1;case 1:return g.trys.push([1,3,,4]),f=function(){return s.a.WallTableLayout.createRow(u)},[4,o.requestQueue.enqueue("addTableRow",f)];case 2:return d=g.sent(),h=d.layout,p=d.new_row,r("updateRowId",{cid:e,id:p.id}),r("updateLayout",h),[3,4];case 3:return y=g.sent(),Object(c.a)(y),r("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},addTableCol:function(e,t){var n=e.commit,r=e.dispatch,o=e.state,i=e.rootState;return void 0===t&&(t={}),q(this,void 0,Promise,(function(){var e,a,u,l,f,d,h,p,y;return V(this,(function(g){switch(g.label){case 0:e=Q(),a={cid:e},u={wall_id:i.wall.id},"number"===typeof t.at&&(l=t.at-G,u.at=l,a.at=l),n("ADD_NEW_COL",a),g.label=1;case 1:return g.trys.push([1,3,,4]),f=function(){return s.a.WallTableLayout.createCol(u)},[4,o.requestQueue.enqueue("addTableCol",f)];case 2:return d=g.sent(),h=d.layout,p=d.new_col,r("updateColId",{cid:e,id:p.id}),r("updateLayout",h),[3,4];case 3:return y=g.sent(),Object(c.a)(y),r("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},addTableRowAndCol:function(e){var t=e.commit,n=e.dispatch,r=e.state,o=e.rootState;return q(this,void 0,Promise,(function(){var e,i,a,u,l,f,d,h,p;return V(this,(function(y){switch(y.label){case 0:e=z(),i=Q(),t("ADD_NEW_ROW",{cid:e}),t("ADD_NEW_COL",{cid:i}),y.label=1;case 1:return y.trys.push([1,3,,4]),a={wall_id:o.wall.id},u=function(){return s.a.WallTableLayout.createRowAndCol(a)},[4,r.requestQueue.enqueue("addTableRowAndCol",u)];case 2:return l=y.sent(),f=l.layout,d=l.new_row,h=l.new_col,n("updateRowId",{cid:e,id:d.id}),n("updateColId",{cid:i,id:h.id}),n("updateLayout",f),[3,4];case 3:return p=y.sent(),Object(c.a)(p),n("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},removeTableCol:function(e,t){var n=e.state,r=e.getters,o=e.dispatch,i=t.col,a=n.colOrdering[i-G],s=a.id,c=a.cid,u=function(e){return e.col_id===s||e.colCid===c},l=r.postsPendingUpload.filter(u),f=r.celledCreatedPosts.filter(u),d=l.length>0||f.length>0,h={id:s,cid:c,pendingPostsToDelete:l,postsToDelete:f};o(d?"confirmRemoveTableCol":"actuallyRemoveTableCol",h)},confirmRemoveTableCol:function(e,t){(0,e.dispatch)("confirmationDialog/openConfirmationDialog",{title:Object(j.a)("This column has one or more posts"),body:Object(j.a)("The posts will be deleted with the column. Continue?"),confirmButtonText:Object(j.a)("Delete Posts"),cancelButtonText:Object(j.a)("Keep working"),afterConfirmActions:[{type:"table/actuallyRemoveTableCol",payload:t}]},{root:!0})},actuallyRemoveTableCol:function(e,t){var n=e.commit,r=e.dispatch,o=e.state,i=e.getters;return q(this,void 0,Promise,(function(){var e,a,u,l,f,d,h,p;return V(this,(function(y){switch(y.label){case 0:e=t.id,a=t.cid,u=t.pendingPostsToDelete,l=t.postsToDelete,f=function(e){return r("post/removePendingPost",e,{root:!0})},d=function(e){return r("post/removePost",e,{root:!0})},u.forEach(f),l.forEach(d),n("DELETE_COL",{cid:a}),h=function(){var t=e||i.colCidToId(a);return t?s.a.WallTableLayout.deleteCol({id:t}):Promise.resolve()},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,o.requestQueue.enqueue("actuallyRemoveTableCol",h)];case 2:return y.sent(),[3,4];case 3:return p=y.sent(),Object(c.a)(p),r("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},removeTableRow:function(e,t){var n=e.state,r=e.getters,o=e.dispatch,i=t.row,a=n.rowOrdering[i-G],s=a.id,c=a.cid,u=function(e){return e.row_id===s||e.rowCid===c},l=r.postsPendingUpload.filter(u),f=r.celledCreatedPosts.filter(u),d=l.length>0||f.length>0,h={id:s,cid:c,pendingPostsToDelete:l,postsToDelete:f};o(d?"confirmRemoveTableRow":"actuallyRemoveTableRow",h)},confirmRemoveTableRow:function(e,t){(0,e.dispatch)("confirmationDialog/openConfirmationDialog",{title:Object(j.a)("This row has one or more posts"),body:Object(j.a)("The posts will be deleted with the row. Continue?"),confirmButtonText:Object(j.a)("Delete Posts"),cancelButtonText:Object(j.a)("Keep working"),afterConfirmActions:[{type:"table/actuallyRemoveTableRow",payload:t}]},{root:!0})},actuallyRemoveTableRow:function(e,t){var n=e.commit,r=e.dispatch,o=e.state,i=e.getters;return q(this,void 0,Promise,(function(){var e,a,u,l,f,d,h,p;return V(this,(function(y){switch(y.label){case 0:e=t.id,a=t.cid,u=t.pendingPostsToDelete,l=t.postsToDelete,f=function(e){return r("post/removePendingPost",e,{root:!0})},d=function(e){return r("post/removePost",e,{root:!0})},u.forEach(f),l.forEach(d),n("DELETE_ROW",{cid:a}),h=function(){var t=e||i.rowCidToId(a);return t?s.a.WallTableLayout.deleteRow({id:t}):Promise.resolve()},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,o.requestQueue.enqueue("actuallyRemoveTableRow",h)];case 2:return y.sent(),[3,4];case 3:return p=y.sent(),Object(c.a)(p),r("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},startNewPostInCell:function(e,t){(0,e.dispatch)("post/startNewPost",{attributes:e.getters.cellToPostAttributes(t)},{root:!0})},startNewPostInFringeCell:function(e,t){var n=e.dispatch;return q(this,void 0,Promise,(function(){var e;return V(this,(function(r){return e="",t.isAddRowButton&&(e="addTableRow"),t.isAddColButton&&(e="addTableCol"),t.isAddRowAndColButton&&(e="addTableRowAndCol"),e?(n(e),n("startNewPostInCell",t),[2]):[2]}))}))},cancelSelectCellForPendingPost:function(e){var t=e.dispatch,n=e.getters,r=n.celllessPendingPosts.length>0&&n.celllessPendingPosts[0];r&&t("post/removePendingPost",r,{root:!0})},cancelSelectCell:function(e){var t=e.dispatch;e.getters.isSelectingCellForPendingPost&&t("cancelSelectCellForPendingPost")},putPendingPostInCell:function(e,t){var n=e.dispatch,r=e.getters,o=t.post.cid,i=t.cell;n("post/updatePendingPost",U({cid:o},r.cellToPostAttributes(i)),{root:!0})},enqueuePutPostInCell:function(e,t){var n=e.commit,r=e.dispatch,o=e.getters,i=t.post,a=t.cell;return q(this,void 0,Promise,(function(){var e,t,s,c,u,l;return V(this,(function(f){return e=Math.max(0,a.row-o.rows),t=Math.max(0,a.col-o.cols),s=H(e,(function(){return z()})),c=H(t,(function(){return Q()})),s.forEach((function(e){return n("ADD_NEW_ROW",{cid:e})})),c.forEach((function(e){return n("ADD_NEW_COL",{cid:e})})),u=o.cellToPostAttributes(a),r("post/updatePostInStore",U(U({},i),u),{root:!0}),l=function(e){return r("putPostInCell",{post:e,cell:a,cellIds:u,newRowCids:s,newColCids:c})},r("post/enqueueRequest",{post:i,customRequest:{key:"PUT_POST_IN_CELL",method:l}},{root:!0}),[2]}))}))},putPostInCell:function(e,t){var n=e.dispatch,r=e.state,o=e.getters;return q(this,void 0,Promise,(function(){var e,i,a,u,l,f,d,h,p,m,y;return V(this,(function(g){switch(g.label){case 0:e=t.post,i=t.cell,a=t.cellIds,u=t.newRowCids,l=t.newColCids,f=function(){var t=o.rowCidToCoordMap[a.rowCid],n=o.colCidToCoordMap[a.colCid],r=("number"===typeof t?t:i.row)-G,c=("number"===typeof n?n:i.col)-G,u={wish_id:e.id,row_index:r,col_index:c};return s.a.WallTableLayout.putPostInCell(u)},g.label=1;case 1:return g.trys.push([1,3,,4]),[4,r.requestQueue.enqueue("putPostInCell",f)];case 2:return d=g.sent(),h=d.layout,p=d.new_rows,m=d.new_cols,u.forEach((function(e,t){return n("updateRowId",{cid:e,id:p[t].id})})),l.forEach((function(e,t){return n("updateColId",{cid:e,id:m[t].id})})),n("updateLayout",h),[3,4];case 3:return y=g.sent(),Object(c.a)(y),[3,4];case 4:return[2]}}))}))},selectCell:function(e,t){var n=e.dispatch,r=e.getters,o=r.postToSelectCellFor;r.isPostBeingMoved&&n("enqueuePutPostInCell",{post:o,cell:t}),r.isSelectingCellForPendingPost&&n("putPendingPostInCell",{post:o,cell:t}),r.isSelectingCellForCreatedPost&&n("enqueuePutPostInCell",{post:o,cell:t})},startMovingCell:function(e,t){(0,e.commit)("START_MOVING_CELL",t)},stopMovingCell:function(e){(0,e.commit)("STOP_MOVING_CELL")},setActiveCell:function(e,t){var n=e.commit;e.getters.isActiveCell(t)||n("SET_ACTIVE_CELL",t)},unsetActiveCell:function(e){(0,e.commit)("UNSET_ACTIVE_CELL")},navigateToCellCoords:function(e,t){var n=e.dispatch,r=e.getters.getCellData(t);n("setActiveCell",r),r.isPost?n("post/startEditingPost",{postCid:r.post.cid},{root:!0}):r.isHeader?n("startEditingHeader",r):r.isPlaceholder&&n("startNewPostInCell",r)},stepNextCell:function(e,t){var n=e.dispatch,r=e.getters;if(void 0===t&&(t={}),r.isKeyboardNavigationDisabled)return!1;var o=r.isNoCellActive;if(o&&!t.stepToCellIfNoneSelected)return!1;if(n("post/stopEditingPost",null,{root:!0}),o)return n("navigateToCellCoords",{col:1,row:0}),!0;var i=r.activeCell,a=i.row,s=i.col;return s<r.lastColIndex?(n("navigateToCellCoords",{col:s+1,row:a}),!0):a<r.lastRowIndex?(n("navigateToCellCoords",{col:0,row:a+1}),!0):(n("unsetActiveCell"),!1)},stepPreviousCell:function(e,t){var n=e.dispatch,r=e.getters;if(void 0===t&&(t={}),r.isKeyboardNavigationDisabled)return!1;var o=r.isNoCellActive;if(o&&!t.stepToCellIfNoneSelected)return!1;if(n("post/stopEditingPost",null,{root:!0}),o)return n("navigateToCellCoords",{col:r.lastColIndex,row:r.lastRowIndex}),!0;var i=r.activeCell,a=i.row,s=i.col;return 0!==s?(n("navigateToCellCoords",{col:s-1,row:a}),!0):0!==a?(n("navigateToCellCoords",{col:r.lastColIndex,row:a-1}),!0):(n("unsetActiveCell"),!1)},stepLeftCell:function(e){var t=e.dispatch,n=e.state,r=e.getters,o=e.rootGetters;if(r.isNoCellActive||r.isKeyboardNavigationDisabled||o["post/postBeingEditedCid"]||n.headerCellBeingEdited)return!1;var i=r.activeCell,a=i.row,s=i.col;return!(s-1<0)&&(t("setActiveCell",{col:s-1,row:a}),!0)},stepRightCell:function(e){var t=e.dispatch,n=e.state,r=e.getters,o=e.rootGetters;if(r.isNoCellActive||r.isKeyboardNavigationDisabled||o["post/postBeingEditedCid"]||n.headerCellBeingEdited)return!1;var i=r.activeCell,a=i.row,s=i.col;return!(s+1>r.cols+1)&&(t("setActiveCell",{col:s+1,row:a}),!0)},stepAboveCell:function(e){var t=e.dispatch,n=e.getters,r=e.rootGetters;if(n.isNoCellActive||n.isKeyboardNavigationDisabled||r["post/postBeingEditedCid"])return!1;var o=n.activeCell,i=o.row,a=o.col;return!(i-1<0)&&(t("stopEditingHeader"),t("setActiveCell",{row:i-1,col:a}),!0)},stepBelowCell:function(e){var t=e.dispatch,n=e.getters,r=e.rootGetters;if(n.isNoCellActive||n.isKeyboardNavigationDisabled||r["post/postBeingEditedCid"])return!1;var o=n.activeCell,i=o.row,a=o.col;return!(i+1>n.rows+1)&&(t("stopEditingHeader"),t("setActiveCell",{row:i+1,col:a}),!0)},enterActiveCell:function(e){var t=e.dispatch,n=e.state,r=e.getters,o=e.rootGetters;if(r.isNoCellActive||r.isKeyboardNavigationDisabled||o["post/postBeingEditedCid"]||n.headerCellBeingEdited)return!1;var i=r.activeCell;return!i.isBlank&&(i.isPost?(t("post/startEditingPost",{postCid:i.post.cid},{root:!0}),!0):i.isPlaceholder?(t("startNewPostInCell",i),!0):i.isHeader?(t("startEditingHeader",i),!0):i.isHeaderAddRowButton?(t("addTableRow"),!0):i.isHeaderAddColButton?(t("addTableCol"),!0):!!(i.isAddRowButton||i.isAddColButton||i.isAddRowAndColButton)&&(t("startNewPostInFringeCell",i),!0))},copyCell:function(e){var t=e.getters,n=e.rootGetters;if(t.isNoCellActive||n["post/postBeingEditedCid"])return!1;var r=t.activeCell;return!!r.isPost&&(M.a&&Object(M.b)(Object(O.f)(r.post)),!0)},savePastedPost:function(e,t){var n=e.dispatch,r=e.getters,o=e.rootGetters,i=Object(O.g)(t);n("post/createPost",{attributes:U(U({},t),{cid:i})},{root:!0});var a=o["post/getPostByCid"](i),s=r.activeCell;s&&(s.isPlaceholder||s.isAddRowButton||s.isAddColButton||s.isAddRowAndColButton)&&n("enqueuePutPostInCell",{post:a,cell:s})},updateTableRowTitle:function(e,t){var n=e.dispatch,r=e.state,o=e.getters,i=t.id,a=t.cid,u=t.title;return q(this,void 0,Promise,(function(){var e,t,l;return V(this,(function(f){switch(f.label){case 0:e=function(){var e=i||o.rowCidToId[a];return e?s.a.WallTableLayout.updateRow({id:e,title:u}):Promise.resolve()},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.requestQueue.enqueue("updateTableRowTitle",e)];case 2:return t=f.sent(),n("updateLayout",t),[3,4];case 3:return l=f.sent(),Object(c.a)(l),n("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},updateTableColTitle:function(e,t){var n=e.dispatch,r=e.state,o=e.getters,i=t.id,a=t.cid,u=t.title;return q(this,void 0,Promise,(function(){var e,t,l;return V(this,(function(f){switch(f.label){case 0:e=function(){var e=i||o.colCidToId[a];return e?s.a.WallTableLayout.updateCol({id:e,title:u}):Promise.resolve()},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.requestQueue.enqueue("updateTableColTitle",e)];case 2:return t=f.sent(),n("updateLayout",t),[3,4];case 3:return l=f.sent(),Object(c.a)(l),n("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},moveTableRow:function(e,t){var n=e.commit,r=e.dispatch,o=e.state,i=e.getters,a=t.sourceIndex,u=t.indexToMoveAfter;return q(this,void 0,Promise,(function(){var e,t,l,f,d,h,p;return V(this,(function(y){switch(y.label){case 0:if(a===(e=u+(u<a?1:0)))return[2];t=o.rowOrdering[a-G],l=t.id,f=t.cid,n("UPDATE_ROW_POSITION",{cid:f,layoutIndex:d=e-G}),h=function(){var e=l||i.rowCidToId[f];return e?s.a.WallTableLayout.updateRow({id:e,layout_index:d}):Promise.resolve()},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,o.requestQueue.enqueue("moveTableRow",h)];case 2:return y.sent(),[3,4];case 3:return p=y.sent(),Object(c.a)(p),r("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},moveTableCol:function(e,t){var n=e.commit,r=e.dispatch,o=e.state,i=e.getters,a=t.sourceIndex,u=t.indexToMoveAfter;return q(this,void 0,Promise,(function(){var e,t,l,f,d,h,p;return V(this,(function(y){switch(y.label){case 0:if(a===(e=u+(u<a?1:0)))return[2];t=o.colOrdering[a-G],l=t.id,f=t.cid,n("UPDATE_COL_POSITION",{cid:f,layoutIndex:d=e-G}),h=function(){var e=l||i.colCidToId[f];return e?s.a.WallTableLayout.updateCol({id:e,layout_index:d}):Promise.resolve()},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,o.requestQueue.enqueue("moveTableCol",h)];case 2:return y.sent(),[3,4];case 3:return p=y.sent(),Object(c.a)(p),r("snackbars/setSnackbar",m.b,{root:!0}),[3,4];case 4:return[2]}}))}))},startEditingHeader:function(e,t){(0,e.commit)("START_EDITING_HEADER",t)},stopEditingHeader:function(e,t){var n=e.commit,r=e.state;r.headerCellBeingEdited&&(t&&r.headerCellBeingEdited&&t.key!==r.headerCellBeingEdited.key||n("STOP_EDITING_HEADER"))},openHeaderActionMenu:function(e,t){(0,e.commit)("OPEN_HEADER_ACTION_MENU",t)},closeHeaderActionMenu:function(e,t){var n=e.commit;e.state.openHeaderActionMenuKey===t&&n("CLOSE_HEADER_ACTION_MENU")},editLayoutRemote:function(e,t){(0,e.dispatch)("updateLayout",t)},editRowRemote:function(e,t){(0,e.commit)("UPDATE_ROW_TITLE",{id:t.id,title:t.title})},editColRemote:function(e,t){(0,e.commit)("UPDATE_COL_TITLE",{id:t.id,title:t.title})}}},X=n(132),J=n(258),Z=n(66);function ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function te(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){te(i,r,o,a,s,"next",e)}function s(e){te(i,r,o,a,s,"throw",e)}a(void 0)}))}}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,ae,se,ce,ue={namespaced:!0,state:{isPrivacyFetched:!1,isPasswordSet:!1,_wallPrivacyObject:null,wallPrivacy:null,errorMessage:null,isSaving:!1,isSearchingContributors:!1,contributorsSearchResults:[]},getters:{isDirty:function(e){return!!e.wallPrivacy&&e.wallPrivacy.hasChanges},isContributorInvited:function(e){return function(t){return e._wallPrivacyObject.isContributorInvited(t)}},access:function(e){var t=e.wallPrivacy&&e.wallPrivacy.access;return t===Z.ACCESS.SECRET&&e.isPasswordSet?Z.ACCESS.PASSWORD_PROTECTED:t}},mutations:{FETCHED_WALL_PRIVACY_SUCCESS:function(e,t){e._wallPrivacyObject=t,e.wallPrivacy=e._wallPrivacyObject.attributes,e.isPrivacyFetched=!0,e.errorMessage=null,e.isPasswordSet=!!t.password},DISCARD_SHARE_PANEL_CHANGES:function(e){e._wallPrivacyObject&&e._wallPrivacyObject.hasChanges&&(e._wallPrivacyObject.discardChanges(),e.wallPrivacy=e._wallPrivacyObject.attributes,e.isPasswordSet=!!e.wallPrivacy.password,e.isPrivacyFetched=!0,e.isSearchingContributors=!1,e.contributorsSearchResults=[])},RESET_WALL_PRIVACY:function(e){e.isPrivacyFetched=!1,e.isPasswordSet=!1,e._wallPrivacyObject=null,e.wallPrivacy=null,e.errorMessage=null,e.isSaving=!1,e.isSearchingContributors=!1,e.contributorsSearchResults=[]},FETCHED_WALL_PRIVACY_ERROR:function(e){e.isPrivacyFetched=!0},SET_WALL_PRIVACY_ACCESS:function(e,t){switch(e.isPasswordSet=!1,t){case Z.ACCESS.PUBLIC:e._wallPrivacyObject.isPublic=!0;break;case Z.ACCESS.SECRET:e._wallPrivacyObject.isSecret=!0;break;case Z.ACCESS.PRIVATE:e._wallPrivacyObject.isPrivate=!0;break;case Z.ACCESS.ORGWIDE:e._wallPrivacyObject.isSecret=!0,e._wallPrivacyObject.isOrgwide=!0;break;case Z.ACCESS.PASSWORD_PROTECTED:e._wallPrivacyObject.isSecret=!0,e.isPasswordSet=!0,e._wallPrivacyObject.originalAttributes.password?e._wallPrivacyObject.password=e._wallPrivacyObject.originalAttributes.password:e._wallPrivacyObject.password=""}e.wallPrivacy=e._wallPrivacyObject.attributes},SET_WALL_PRIVACY_PASSWORD:function(e,t){e.isPasswordSet=!0,e._wallPrivacyObject.password=t,e.wallPrivacy=e._wallPrivacyObject.attributes},SET_WALL_PRIVACY_PERMISSION:function(e,t){e._wallPrivacyObject.permission=t,e.wallPrivacy=e._wallPrivacyObject.attributes},ADD_CONTRIBUTOR_TO_WALL_PRIVACY:function(e,t){var n=t.emailOrUserIdOrContributor,r=t.permission,o=t.extra;try{e._wallPrivacyObject.addContributor(n,r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{synced:!1}))}catch(i){console.warn(i)}e.wallPrivacy=e._wallPrivacyObject.attributes},REMOVE_CONTRIBUTOR_FROM_WALL_PRIVACY:function(e,t){e._wallPrivacyObject.removeContributor(t),e.wallPrivacy=e._wallPrivacyObject.attributes},SET_PERMISSION_FOR_WALL_PRIVACY_CONTRIBUTOR:function(e,t){var n=t.permission,r=t.contributor;e._wallPrivacyObject.setContributorPermission(r,n),e.wallPrivacy=e._wallPrivacyObject.attributes},SAVE_WALL_PRIVACY_SETTINGS:function(e){e.isSaving=!0},SAVE_WALL_PRIVACY_SETTINGS_SUCCESS:function(e,t){e.isPrivacyFetched&&(e.isSaving=!1,e._wallPrivacyObject=t,e.wallPrivacy=e._wallPrivacyObject.attributes)},SAVE_WALL_PRIVACY_SETTINGS_FAILURE:function(e){e.isSaving=!1},SET_ERROR_MESSAGE:function(e,t){e.errorMessage=t},CLEAR_ERROR_MESSAGE:function(e){e.errorMessage=null},SEARCH_CONTRIBUTORS:function(e){e.isSearchingContributors=!0},SEARCH_CONTRIBUTORS_SUCCESS:function(e,t){e.isPrivacyFetched&&(e.contributorsSearchResults=t.filter((function(e){return!(e.userId&&!e.username)})),e.isSearchingContributors=!1)},SEARCH_CONTRIBUTORS_ERROR:function(e){e.isPrivacyFetched&&(e.contributorsSearchResults=[],e.isSearchingContributors=!1)},STOP_CONTRIBUTOR_SEARCH:function(e){e.isSearchingContributors=!1,e.contributorsSearchResults=[]},RESEND_INVITATION:function(e,t){e._wallPrivacyObject.resendInvitation(t)}},actions:{fetchWallPrivacy:(se=ne(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,r=t.commit,e.prev=1,e.next=4,Object(Z.fetchWallPrivacy)({privacyPolicyId:n.wall.privacy_policy.id,host:window.location.hostname,protocol:window.location.protocol.replace(":",""),csrfToken:n.csrfToken});case 4:i=e.sent,r("FETCHED_WALL_PRIVACY_SUCCESS",i),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r("FETCHED_WALL_PRIVACY_ERROR"),r("SET_ERROR_MESSAGE",Object(j.a)("Sorry, we were unable to get your privacy settings.")+" "+e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(e){return se.apply(this,arguments)}),setAccess:function(e,t){(0,e.commit)("SET_WALL_PRIVACY_ACCESS",t.access)},setPassword:function(e,t){(0,e.commit)("SET_WALL_PRIVACY_PASSWORD",t.password)},setWallPermission:function(e,t){(0,e.commit)("SET_WALL_PRIVACY_PERMISSION",t.permission)},saveSettings:(ae=ne(o.a.mark((function e(t){var n,r,i,a,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=t.commit,i=t.dispatch,n.wallPrivacy.password||!n.isPasswordSet){e.next=4;break}return i("setErrorMessage",{errorMessage:Object(j.a)("You have to set a password!")}),e.abrupt("return");case 4:return r("SAVE_WALL_PRIVACY_SETTINGS"),e.prev=5,e.next=8,n._wallPrivacyObject.commit();case 8:a=e.sent,r("SAVE_WALL_PRIVACY_SETTINGS_SUCCESS",a),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(5),s=Object(j.a)("Sorry! Something went wrong. Please try saving again."),c=e.t0.message||e.t0.error||"",u="".concat(s," ").concat(c),r("SAVE_WALL_PRIVACY_SETTINGS_FAILURE"),r("SET_ERROR_MESSAGE",u);case 19:case"end":return e.stop()}}),e,null,[[5,12]])}))),function(e){return ae.apply(this,arguments)}),setErrorMessage:function(e,t){var n=e.state,r=e.commit,o=t.errorMessage;r("SET_ERROR_MESSAGE",o),n.errorMessageTimeout&&clearTimeout(n.errorMessageTimeout),n.errorMessageTimeout=setTimeout((function(){r("CLEAR_ERROR_MESSAGE")}),5e3)},clearErrorMessage:function(e){(0,e.commit)("CLEAR_ERROR_MESSAGE")},addContributor:function(e,t){e.state;(0,e.commit)("ADD_CONTRIBUTOR_TO_WALL_PRIVACY",{emailOrUserIdOrContributor:t.emailOrUserIdOrContributor,permission:t.permission,extra:ee(t,["emailOrUserIdOrContributor","permission"])})},removeContributor:function(e,t){e.state;(0,e.commit)("REMOVE_CONTRIBUTOR_FROM_WALL_PRIVACY",t)},setPermissionForContributor:function(e,t){e.state;(0,e.commit)("SET_PERMISSION_FOR_WALL_PRIVACY_CONTRIBUTOR",{permission:t.permission,contributor:t.contributor})},searchContributors:(ie=ne(o.a.mark((function e(t,n){var r,i,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,i=t.dispatch,a=t.commit,s=n.query,a("SEARCH_CONTRIBUTORS"),e.prev=3,e.next=6,r._wallPrivacyObject.searchContributors(s);case 6:c=e.sent,a("SEARCH_CONTRIBUTORS_SUCCESS",c),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),i("setErrorMessage",{errorMessage:e.t0.message}),a("SEARCH_CONTRIBUTORS_ERROR",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))),function(e,t){return ie.apply(this,arguments)}),stopContributorSearch:function(e){(0,e.commit)("STOP_CONTRIBUTOR_SEARCH")},resetWallPrivacy:function(e){(0,e.commit)("RESET_WALL_PRIVACY")},discardWallPrivacyChanges:function(e){(0,e.commit)("DISCARD_SHARE_PANEL_CHANGES")},resendInvitation:function(e,t){(0,e.commit)("RESEND_INVITATION",t)}}};!function(e){e.Settings="main",e.ReadyToPost="ready"}(ce||(ce={}));var le={namespaced:!0,state:{isFirstView:!1,onboardingStage:null},getters:{isFirstView:function(e){return e.isFirstView},isWallOnboardingFlow:function(e){return null!==e.onboardingStage},xReadyToPostPanel:function(e){return e.onboardingStage===ce.ReadyToPost}},mutations:{SET_IS_FIRST_VIEW:function(e,t){e.isFirstView=t},CHANGE_ONBOARDING_STAGE:function(e,t){e.onboardingStage=t},END_ONBOARDING:function(e){e.onboardingStage=null}},actions:{setIsFirstView:function(e,t){(0,e.commit)("SET_IS_FIRST_VIEW",t)},goOnboardingNextStage:function(e){var t=e.state,n=e.commit,r=e.dispatch;t.onboardingStage===ce.Settings?(r("settings/hideSettingsPanel",void 0,{root:!0}),n("CHANGE_ONBOARDING_STAGE",ce.ReadyToPost)):t.onboardingStage===ce.ReadyToPost&&n("END_ONBOARDING")},goOnboardingPreviousStage:function(e){var t=e.state,n=e.commit,r=e.dispatch;t.onboardingStage===ce.Settings?(r("settings/hideSettingsPanel",void 0,{root:!0}),n("END_ONBOARDING")):t.onboardingStage===ce.ReadyToPost&&(n("CHANGE_ONBOARDING_STAGE",ce.Settings),r("settings/showSettingsPanel",void 0,{root:!0}))},startOnboardingIfFirstView:function(e){var t=e.commit,n=e.getters,r=e.dispatch;n.isFirstView&&(t("CHANGE_ONBOARDING_STAGE",ce.Settings),r("settings/showSettingsPanel",void 0,{root:!0}))},endOnboarding:function(e){(0,e.commit)("END_ONBOARDING")}}},fe=n(104),de={namespaced:!0,state:{isOpen:!1,title:"",body:"",confirmButtonText:"",cancelButtonText:"",afterConfirmActions:[]},mutations:{RESET_CONFIRMATION_DIALOG:function(e){e.isOpen=!1,e.title="",e.body="",e.confirmButtonText="",e.cancelButtonText="",e.afterConfirmActions=[]},OPEN_CONFIRMATION_DIALOG:function(e,t){var n=t.title,r=t.body,o=t.confirmButtonText,i=t.cancelButtonText,a=t.afterConfirmActions;e.isOpen=!0,e.title=n,e.body=r,e.confirmButtonText=o,e.cancelButtonText=i,e.afterConfirmActions=a}},actions:{openConfirmationDialog:function(e,t){(0,e.commit)("OPEN_CONFIRMATION_DIALOG",t)},executeConfirmActions:function(e,t){var n=e.dispatch;t.forEach((function(e){n(e.type,e.payload,{root:!0})}))},confirm:function(e){var t=e.commit;(0,e.dispatch)("executeConfirmActions",e.state.afterConfirmActions),t("RESET_CONFIRMATION_DIALOG")},cancel:function(e){(0,e.commit)("RESET_CONFIRMATION_DIALOG")}}},he=function(){return(he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pe=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},me={namespaced:!0,state:{current:null,queue:[]},getters:{hasPending:function(e){return e.queue.length>0},nextSnackbar:function(e,t){return t.hasPending?e.queue[0]:null},currentSnackbar:function(e){return e.current},isCoolingDown:function(e){return!(!e.current||!e.current.openTimerId)},xSnackbar:function(e,t){return t.currentSnackbar&&!t.isCoolingDown}},mutations:{CLEAR_CURRENT_SNACKBAR:function(e){e.current=null},REVEAL_SNACKBAR:function(e){e.current&&(e.current.openTimerId=null)},NEXT_SNACKBAR:function(e,t){if(!(e.queue.length<=0)){var n=e.queue.shift();e.current=he(he({},n),t)}},ENQUEUE_SNACKBAR:function(e,t){e.queue=pe(e.queue,[t])},REMOVE_FROM_QUEUE:function(e,t){e.queue=e.queue.filter((function(e){return e.uid!==t}))}},actions:{clearSnackbar:function(e,t){var n=e.commit,r=e.getters,o=e.dispatch,i=r.currentSnackbar;i&&i.uid===t?o("nextSnackbar"):n("REMOVE_FROM_QUEUE",t)},clearCurrentSnackbar:function(e){var t=e.state,n=e.commit;if(e.getters.currentSnackbar){var r=t.current;r.openTimerId&&clearTimeout(r.openTimerId),r.closeTimerId&&clearTimeout(r.closeTimerId),n("CLEAR_CURRENT_SNACKBAR")}},nextSnackbar:function(e){var t=e.dispatch,n=e.commit,r=e.getters,o=!!r.currentSnackbar;if(o&&t("clearCurrentSnackbar"),r.hasPending){var i=r.nextSnackbar,a=null;if(!i.persist){var s=(i.timeout||5e3)+(o?200:0);a=setTimeout((function(){return t("nextSnackbar")}),s)}var c=null;o&&(c=setTimeout((function(){return n("REVEAL_SNACKBAR")}),200)),n("NEXT_SNACKBAR",{closeTimerId:a,openTimerId:c})}},setSnackbar:function(e,t){var n=e.commit,r=e.getters,o=e.dispatch,i=B()("snack_");return n("ENQUEUE_SNACKBAR",he(he({},t),{uid:i})),(!r.currentSnackbar||r.currentSnackbar&&r.currentSnackbar.persist)&&o("nextSnackbar"),i},executeCurrentSnackbarAction:function(e){var t=e.dispatch,n=e.getters.currentSnackbar;n&&(n.actionName&&t(n.actionName,null,{root:!0}),t("nextSnackbar"))}}},ye=n(30),ge=n(90),ve=n.n(ge);function be(e){return!e.isBackchannel&&!!e["post/postBeingEditedCid"]||!!e["reaction/postIdBeingReactedTo"]||e["comment/isCommenting"]}var we={namespaced:!0,state:function(){return{wallChannel:null,deviceChannel:null,dispatchQueue:[],isClearingQueue:!1,notificationUid:null}},getters:{areUpdatesPending:function(e){return e.dispatchQueue.length>0}},mutations:{SET_WALL_CHANNEL:function(e,t){e.wallChannel=t},SET_DEVICE_CHANNEL:function(e,t){e.deviceChannel=t},QUEUE_UPDATE_ACTION:function(e,t){e.dispatchQueue.push(t)},START_CLEARING_DISPATCH_QUEUE:function(e){e.isClearingQueue=!0},CLEAR_DISPATCH_QUEUE:function(e){e.dispatchQueue=[]},END_CLEARING_DISPATCH_QUEUE:function(e){e.isClearingQueue=!1},SET_NOTIFICATION_UID:function(e,t){e.notificationUid=t},CLEAR_NOTIFICATION_UID:function(e){e.notificationUid=null}},actions:{connect:function(e,t){var n=e.dispatch;n("subscribeWallChannel",t),n("subscribeDeviceChannel",t),n("subscribeToStoreChanges")},disconnect:function(e){var t=e.state;t.wallChannel&&t.wallChannel.unsubscribe(),t.deviceChannel&&t.deviceChannel.unsubscribe()},absent:function(e){var t=e.state;t.wallChannel&&t.wallChannel.present()},present:function(e){var t=e.state;t.wallChannel&&t.wallChannel.absent()},subscribeWallChannel:function(e,t){var n=e.dispatch,r=e.commit,o=e.rootGetters.wallId;r("SET_WALL_CHANNEL",t.subscriptions.create({channel:"WallChannel",wall_id:o},{received:function(e){n("handleMessage",e)},disconnect:function(){this.absent()},present:function(){this.perform("present",{wall_id:o})},absent:function(){this.perform("absent",{wall_id:o})}}))},subscribeDeviceChannel:function(e,t){var n=e.dispatch,r=e.commit,o=e.rootState;r("SET_DEVICE_CHANNEL",t.subscriptions.create({channel:"DeviceChannel",device_id:o.deviceId},{received:function(e){n("handleMessage",e)}}))},subscribeToStoreChanges:function(e){var t=e.dispatch,n=e.getters,r=e.rootGetters,o=ve()((function(){n.areUpdatesPending&&!be(r)&&t("dispatchAllQueuedActions")}),200,{leading:!0});this.subscribe((function(){return o()}))},handleMessage:function(e,t){var n=e.dispatch,r=e.rootState;if(t&&t.event&&t.uid!==r.uid){var o=JSON.parse(t.message),i=function(e){return n(e,o,{root:!0})},a=function(e){return n("queueUpdateAction",{type:e,payload:o})},s=function(e){var t=1e3*(Math.random()+.5);o.attachment?setTimeout((function(){a(e)}),t):a(e)},c={edit_wall:function(){i("updateWall")},delete_wall:function(){ye.a.location.href="/"},add_section:function(){i("section/newSectionRemote")},edit_section:function(){i("section/editSectionRemote")},delete_section:function(){i("section/deleteSectionRemote")},add_wish:function(){s("post/newPostRemote")},edit_wish:function(){s("post/editPostRemote")},delete_wish:function(){i("post/deletePostRemote"),i("postAction/deletePostRemote")},add_comment:function(){a("comment/newCommentRemote")},edit_comment:function(){a("comment/editCommentRemote")},delete_comment:function(){a("comment/deleteCommentRemote")},add_reaction:function(){i("reaction/newReactionRemote")},edit_reaction:function(){i("reaction/editReactionRemote")},delete_reaction:function(){i("reaction/deleteReactionRemote")},add_connection:function(){i("postConnection/newConnectionRemote")},delete_connection:function(){i("postConnection/deleteConnectionRemote")},edit_table_layout:function(){a("table/editLayoutRemote")},edit_table_row:function(){a("table/editRowRemote")},edit_table_col:function(){a("table/editColRemote")},login:function(){ye.a.location.reload()},logout:function(){ye.a.location.reload()}}[t.event];c&&c()}},queueUpdateAction:function(e,t){var n=e.dispatch,r=e.commit,o=e.getters,i=e.rootGetters,a=t.type,s=t.payload;be(i)?(o.areUpdatesPending||n("setUpdatesPendingNotification"),r("QUEUE_UPDATE_ACTION",{type:a,payload:s})):n(a,s,{root:!0})},setUpdatesPendingNotification:function(e){var t=e.dispatch,n=e.commit;t("snackbars/setSnackbar",{message:Object(j.a)("Padlet updated elsewhere."),actionText:Object(j.a)("Update"),actionName:"realtime/dispatchAllQueuedActions",persist:!0},{root:!0}).then((function(e){return n("SET_NOTIFICATION_UID",e)}))},clearUpdatesPendingNotification:function(e){var t=e.dispatch,n=e.commit;t("snackbars/clearSnackbar",e.state.notificationUid,{root:!0}),n("CLEAR_NOTIFICATION_UID")},dispatchAllQueuedActions:function(e){var t=e.commit,n=e.dispatch,r=e.state;r.isClearingQueue||(t("START_CLEARING_DISPATCH_QUEUE"),r.dispatchQueue.forEach((function(e){var t=e.type,r=e.payload;return n(t,r,{root:!0})})),n("clearDispatchQueue"),t("END_CLEARING_DISPATCH_QUEUE"))},clearDispatchQueue:function(e){var t=e.dispatch,n=e.commit;t("clearUpdatesPendingNotification"),n("CLEAR_DISPATCH_QUEUE")}}},_e={namespaced:!0,state:{linkToOpen:null,expandedPost:null},mutations:{NATIVE_APP_OPEN_LINK:function(e,t){e.linkToOpen=t},NATIVE_APP_LINK_OPENED:function(e){e.linkToOpen=null},EXPAND_POST:function(e,t){e.expandedPost=t},UNEXPAND_POST:function(e){e.expandedPost=null}},actions:{openLink:function(e,t){(0,e.commit)("NATIVE_APP_OPEN_LINK",t)},clearOpenLink:function(e){(0,e.commit)("NATIVE_APP_LINK_OPENED")},hideAllPanelsAndMenus:function(e){var t=e.dispatch,n=e.rootState;t("settings/hideSettingsPanel",null,{root:!0}),t("share/resetSharePanel",null,{root:!0}),t("hideRemakePanel",null,{root:!0}),t("hideConvertLayoutPanel",null,{root:!0}),t("postAction/endPostCopy",null,{root:!0}),t("postAction/endPostTransfer",null,{root:!0}),n.postAction&&n.postAction.postUnderActionCid&&t("postAction/hidePostActionMenu",null,{root:!0}),n.section&&n.section.actionMenuSectionId&&t("section/hideSectionActionMenu",null,{root:!0}),n.comment&&n.comment.actionMenuCommentId&&t("comment/hideCommentActionMenu",null,{root:!0})},expandPost:function(e,t){(0,e.commit)("EXPAND_POST",t)},unexpandPost:function(e){(0,e.commit)("UNEXPAND_POST")}}},ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ee={namespaced:!0,state:{map:null,mapDoesFitMarkersBounds:!1,pinDropSuggestions:null,pinDropLocation:null,isPickingLocation:!1,postWithPopupBeingOpenedCid:null,postWithLocationBeingEditedCid:null,postWithMarkerHighlightedCid:null,overlappingMarkerSpiderfier:null,isClusteringEnabled:!1,markerClusterer:null,isPreviewPanelShown:!1},getters:{mapDoesFitMarkersBounds:function(e){return e.mapDoesFitMarkersBounds},map:function(e){return e.map},pinDropSuggestions:function(e){return e.pinDropSuggestions},pinDropLocation:function(e){return e.pinDropLocation},isPickingLocation:function(e){return e.isPickingLocation},postWithPopupBeingOpenedCid:function(e){return e.postWithPopupBeingOpenedCid},postWithLocationBeingEditedCid:function(e){return e.postWithLocationBeingEditedCid},postWithMarkerHighlightedCid:function(e){return e.postWithMarkerHighlightedCid},overlappingMarkerSpiderfier:function(e){return e.overlappingMarkerSpiderfier},markerClusterer:function(e){return e.isClusteringEnabled?e.markerClusterer:null},isClusteringEnabled:function(e){return e.isClusteringEnabled},offsetForMapPopup:function(e,t,n){return{top:n.headerHeight+24||160,bottom:80,left:20,right:60}},isPreviewPanelShown:function(e){return e.isPreviewPanelShown}},mutations:{ENABLE_MAP_FITTING_MARKERS_BOUNDS:function(e){e.mapDoesFitMarkersBounds=!0},DISABLE_MAP_FITTING_MARKERS_BOUNDS:function(e){e.mapDoesFitMarkersBounds=!1},SET_MAP_BEING_USED:function(e,t){e.map=t},SET_MAP_PIN_DROP_SUGGESTIONS:function(e,t){e.pinDropSuggestions=t},SET_MAP_PIN_DROP_LOCATION:function(e,t){e.pinDropLocation=t},SHOW_PICK_LOCATION_PANEL:function(e){e.isPickingLocation=!0,e.postWithPopupBeingOpenedCid=null},HIDE_PICK_LOCATION_PANEL:function(e){e.isPickingLocation=!1},START_PICKING_NEW_LOCATION:function(e,t){e.postWithLocationBeingEditedCid=t},STOP_PICKING_NEW_LOCATION:function(e){e.postWithLocationBeingEditedCid=null},SET_OVERLAPPING_MARKER_SPIDERFIER:function(e,t){var n=t.spiderfier;t.infoWindow;e.overlappingMarkerSpiderfier=n},SET_MARKER_CLUSTERER:function(e,t){var n=t.clusterer;e.markerClusterer=n},OPEN_POST_POPUP:function(e,t){e.postWithPopupBeingOpenedCid=t},CLOSE_POST_POPUP:function(e){e.postWithPopupBeingOpenedCid=null},HIGHLIGHT_POST_MARKER:function(e,t){e.postWithMarkerHighlightedCid=t},TOGGLE_MAP_PREVIEW_PANEL:function(e){e.isPreviewPanelShown=!e.isPreviewPanelShown}},actions:{enableMapFittingMarkersBounds:function(e){(0,e.commit)("ENABLE_MAP_FITTING_MARKERS_BOUNDS",!0)},disableMapFittingMarkersBounds:function(e){(0,e.commit)("DISABLE_MAP_FITTING_MARKERS_BOUNDS",!1)},setMapBeingUsed:function(e,t){(0,e.commit)("SET_MAP_BEING_USED",t.map)},setMapPinDropSuggestions:function(e,t){var n=e.commit,r=t.suggestions;n("SET_MAP_PIN_DROP_LOCATION",t.location),n("SET_MAP_PIN_DROP_SUGGESTIONS",r)},clearMapPinDropSuggestions:function(e){var t=e.commit;t("SET_MAP_PIN_DROP_LOCATION",null),t("SET_MAP_PIN_DROP_SUGGESTIONS",null)},startPickingLocation:function(e,t){var n=e.commit,r=(void 0===t?{postCid:null}:t).postCid;n("SHOW_PICK_LOCATION_PANEL"),r&&n("START_PICKING_NEW_LOCATION",r)},hidePickLocationPanel:function(e){(0,e.commit)("HIDE_PICK_LOCATION_PANEL")},stopPickingLocation:function(e){var t=e.commit;t("HIDE_PICK_LOCATION_PANEL"),t("STOP_PICKING_NEW_LOCATION")},pickLocation:function(e,t){var n=e.state,r=e.dispatch,o=e.rootGetters,i=t.latLng,a=t.name;if(n.postWithLocationBeingEditedCid){var s=o["post/getPostByCid"](n.postWithLocationBeingEditedCid),c=ke(ke({},s),{location_point:{longitude:i.lng(),latitude:i.lat()},location_name:a});s.location_name===s.subject&&(c.subject=a),r("post/savePost",{attributes:c},{root:!0})}else r("post/savePost",{attributes:{locationPoint:{longitude:i.lng(),latitude:i.lat()},subject:a,locationName:a}},{root:!0}).then((function(){r("post/startEditingPost",{postCid:o["post/newestPostCid"]},{root:!0})}));setTimeout((function(){r("stopPickingLocation")}),500)},setMarkerOverlayLayer:function(e,t){var n=e.commit,r=t.spiderfier,o=t.clusterer;n("SET_OVERLAPPING_MARKER_SPIDERFIER",{spiderfier:r,infoWindow:t.infoWindow}),n("SET_MARKER_CLUSTERER",{clusterer:o})},openPostPopup:function(e,t){(0,e.commit)("OPEN_POST_POPUP",t.postCid)},closePostPopup:function(e){(0,e.commit)("CLOSE_POST_POPUP")},highlightPostMarker:function(e,t){(0,e.commit)("HIGHLIGHT_POST_MARKER",t.postCid)},toggleMapPreviewPanel:function(e){(0,e.commit)("TOGGLE_MAP_PREVIEW_PANEL")}}},Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Oe={namespaced:!0,state:function(){return{fileUploadingToPickerBox:null,linkDisplayAttributes:{}}},getters:{fileUploadingToPickerBox:function(e){return e.fileUploadingToPickerBox},linkDisplayAttributesForUrl:function(e){return function(t){return e.linkDisplayAttributes[t]}}},mutations:{UPLOAD_FILE:function(e,t){e.fileUploadingToPickerBox=t},COMPLETE_UPLOAD_FILE:function(e){e.fileUploadingToPickerBox=null},CANCEL_UPLOAD_FILE:function(e){e.fileUploadingToPickerBox=null},UPDATE_LINK_DISPLAY_ATTRIBUTES:function(e,t){var n,r=t.url,o=t.attributes;e.linkDisplayAttributes=Ce(Ce({},e.linkDisplayAttributes),((n={})[r]=o,n))}},actions:{uploadFileToPickerBox:function(e,t){(0,e.commit)("UPLOAD_FILE",t.file)},completeUploadingFileToPickerBox:function(e){(0,e.commit)("COMPLETE_UPLOAD_FILE")},cancelUploadFileToPickerBox:function(e){(0,e.commit)("CANCEL_UPLOAD_FILE")},updateLinkDisplayAttributes:function(e,t){(0,e.commit)("UPDATE_LINK_DISPLAY_ATTRIBUTES",t)}}},Se=n(260),Te=(n(105),window.history),Pe=n(259),Ae=n(92),Ie=n(42),xe=n(140);function je(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){je(i,r,o,a,s,"next",e)}function s(e){je(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ne(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return He})),i.a.use(a.a);var Fe=[function(e){e.subscribe((function(t,n){var r="",o=e.getters;n.postAction.expandedPostCid?(r="/"+o.address+"/wish/"+o["postAction/expandedPostServerId"],window.location.pathname!==r&&Te.pushState({expandedPostCid:n.postAction.expandedPostCid,expandedPostServerId:o["postAction/expandedPostServerId"]},"",r)):(r=n.isEmbedded?"/embed/"+o.publicKey:"/"+o.address,window.location.pathname!==r&&(Te.state&&Te.state.expandedPostServerId?Te.pushState({},"",r):Te.replaceState({},"",r)))})),window.addEventListener("popstate",(function(t){var n=t.state;n&&n.expandedPostCid?e.dispatch({type:"postAction/expandPost",postCid:n.expandedPostCid}):e.dispatch({type:"postAction/unexpandPost"})}))}];var Be,Ue,qe,Ve,We,Ge,He=function(){return{isFullscreen:!1,windowHeight:0,windowWidth:0,canPostMessage:!1,constants:{},cookiesEnabled:!1,csrfToken:"",deviceId:"",dpr:1,environment:"production",inlinePostEdit:!1,isAndroid:!1,isApp:!1,isChrome:!1,isDesktop:!1,isEdge:!1,isEmbedded:!1,isFirefox:!1,isIE:!1,isIOS:!1,isIPhone:!1,isIPhoneX:!1,isMac:!1,isMobile:!1,isMousable:!1,isOldApp:!1,isPhone:!1,isSafari:!1,isTablet:!1,isTouchable:!1,isWindows:!1,locale:"en",modalPostEdit:!1,nativePostEdit:!1,release:"",showAlertSheet:!1,uid:"",xHeader:!1,tenant:{},user:{},wall:{},commentsPanelPostId:null,convertLayoutErrorMessage:"",editorHeight:0,fileThatExceededSize:null,headerHeight:136,isLikedByCurrentUser:!1,isOnline:!0,isRefreshPending:!1,wishListMounted:!1,xContributorsList:!1,xExtensionRequired:!1,xFileSizeExceeded:!1,xWallQuotaExceeded:!1,xClearAllDialog:!1,xCommentsPanel:!1,xConvertLayoutPanel:!1,xCookieNotification:!1,xDeleteDialog:!1,xInfo:!1,xPermitNotification:!1,xReloadNotification:!1,xRemakePanel:!1,xToolMenu:!1,amIOwner:!1,canIAdminister:!1,canIEdit:!1,canIModerate:!1,canIRemake:!1,canIWrite:!1,isReadOnly:!0}},ze=new a.a.Store({plugins:Fe,modules:{attachment:Oe,nativeApp:_e,imagePicker:Se.b,reaction:l,postConnection:E,comment:b,section:p,post:x,postAction:R,table:Y,share:X.b,settings:J.b,privacySettings:ue,onboarding:le,contentPicker:fe.b,confirmationDialog:de,map:Ee,snackbars:me,realtime:we},state:He(),getters:{mapThemesDictionary:function(e){return e.constants.allMapThemes.reduce((function(e,t){return e[t.id]=t,e}),{})},displayAttrs:function(e,t){return t["settings/isPreviewing"]?t["settings/previewAttributes"]:e.wall},wallId:function(e){return e.wall.id},wallUpdatedAt:function(e){return e.wall.updated_at},wallCreatedAt:function(e){return e.wall.created_at},originalBackground:function(e){return e.wall.background},title:function(e,t){return t.displayAttrs.title},description:function(e,t){return t.displayAttrs.description},background:function(e,t){return t.displayAttrs.background},portrait:function(e,t){return t.displayAttrs.portrait},format:function(e,t){return t.displayAttrs.viz},newPostLocation:function(e,t){return t.displayAttrs.new_wish_loc},filterProfanity:function(e,t){return t.displayAttrs.filter_profanity},requireApproval:function(e,t){return t.displayAttrs.require_approval},backgroundColor:function(e,t){return t.displayAttrs.background.dominant_color_as_rgb},backgroundLuminance:function(e,t){return t.displayAttrs.background.luminance_name},isBackgroundBlurred:function(e,t){return"blur"===t.background.effect},colorScheme:function(e,t){return t.displayAttrs.color_scheme},themeId:function(e,t){return t.displayAttrs.theme_id},mapTheme:function(e,t){return t.mapThemesDictionary[Object(Pe.b)(t.themeId)]},fontId:function(e,t){return t.displayAttrs.font_id},isCommentable:function(e,t){return t.displayAttrs.is_commentable},isReactable:function(e,t){return t.displayAttrs.is_reactable},reactionData:function(e,t){return t.displayAttrs.reaction_data},publicTagList:function(e,t){return t.displayAttrs.public_tag_list},name:function(e,t){return t.displayAttrs.name},xAuthor:function(e,t){return t.displayAttrs.show_author},builder:function(e){return e.wall.builder},namespace:function(e){return e.wall.namespace},convertLayoutErrorMessage:function(e){return e.convertLayoutErrorMessage},wallPrivacy:function(e){return new Z.WallPrivacy(Me({},e.wall.privacy_policy,{ausers:e.wall.privacy_policy.users}))},contributors:function(e,t){return t.wallPrivacy.contributors||[]},access:function(e,t){return t.wallPrivacy.access},isOrgWall:function(e){return e.wall.tenant_id>1},coverPostId:function(e){return e.wall.cover_wish_id},publicKey:function(e){return e.wall.public_key},address:function(e){return e.wall.address},domainName:function(e){return e.tenant.domain_name},tenantName:function(e){return e.tenant.name},canIAdminister:function(e){return e.canIAdminister},canIModerate:function(e){return e.canIModerate},canIWrite:function(e){return e.canIWrite},canIEdit:function(e){return e.canIEdit},canIRemake:function(e){return e.canIRemake},canIChangeCoverPost:function(e){return e.canIAdminister},amIOwner:function(e){return e.amIOwner},amIRegistered:function(e){return!!e.user.registered_at},canICreateWall:function(e){return e.user.quota.walls_used<e.user.quota.walls_limit},isCanvas:function(e){return"free"===e.wall.viz},isBackchannel:function(e){return"chat"===e.wall.viz},isMap:function(e){return"map"===e.wall.viz},isReadOnly:function(e){return e.isReadOnly},isPostable:function(e,t){return t.canIWrite&&!e.isReadOnly},isShelf:function(e){return"shelf"===e.wall.viz},isGrid:function(e){return"grid"===e.wall.viz},isTable:function(e){return"table"===e.wall.viz},isTimeline:function(e){return"timeline"===e.wall.viz},isSectioned:function(e,t){return t.isShelf},canHaveConnections:function(e,t){return t.isCanvas||t.isMap},xPostCommentsInPanel:function(e,t){return t.isMap||t.isTable||t.isCanvas||t.isTimeline},xUnpublishedPostPosition:function(e,t){return t.isTable},uploadLimit:function(e){return e.wall.upload_limit},isPremiumWall:function(e){return e.wall.is_premium},isRemakeable:function(e){return!0},links:function(e){return e.wall.links},xSharePanel:function(e,t){return t["share/isOpen"]},xSettingsPanel:function(e,t){return t["settings/isOpen"]},isAPanelVisible:function(e,t){return t.xSharePanel||t.xSettingsPanel||t["onboarding/xReadyToPostPanel"]||t["contentPicker/xContentPickerPanel"]||e.reaction.postIdBeingReactedTo||e.xRemakePanel||e.xConvertLayoutPanel||e.xInfo},xHeader:function(e){return e.xHeader},headerHeight:function(e){return e.headerHeight},xTallAttachmentPickerBox:function(e,t){return t.isMap||t.isTimeline||t.isTable}},mutations:{INITIALIZE_STATE:function(e,t){Object.assign(e,t)},RESIZE_WINDOW:function(e,t){e.windowHeight=t.height,e.windowWidth=t.width},CHANGE_CONNECTIVITY:function(e,t){e.isOnline=t.isOnline},LIKE_WALL:function(e){e.isLikedByCurrentUser=!0},UNLIKE_WALL:function(e){e.isLikedByCurrentUser=!1},ENTER_FULLSCREEN:function(e){e.isFullscreen=!0},EXIT_FULLSCREEN:function(e){e.isFullscreen=!1},HIDE_CONTRIBUTORS_LIST:function(e){e.xContributorsList=!1},HIDE_EXTENSION_REQUIRED:function(e){e.xExtensionRequired=!1},HIDE_FILE_SIZE_EXCEEDED:function(e){e.xFileSizeExceeded=!1,e.fileThatExceededSize=null},HIDE_INFO:function(e){e.xInfo=!1},HIDE_WALL_QUOTA_EXCEEDED:function(e){e.xWallQuotaExceeded=!1},HIDE_COMMENTS_PANEL:function(e){e.xCommentsPanel=!1,e.commentsPanelPostId=null},HIDE_DELETE_DIALOG:function(e){e.xDeleteDialog=!1},HIDE_CLEAR_ALL_DIALOG:function(e){e.xClearAllDialog=!1},HIDE_PERMIT_NOTIFICATION:function(e){e.xPermitNotification=!1},SHOW_COOKIE_NOTIFICATION:function(e){e.xCookieNotification=!0},HIDE_COOKIE_NOTIFICATION:function(e){e.xCookieNotification=!1},SHOW_RELOAD_NOTIFICATION:function(e){e.xReloadNotification=!0},HIDE_RELOAD_NOTIFICATION:function(e){e.xReloadNotification=!1},SHOW_CONTRIBUTORS_LIST:function(e){e.xContributorsList=!0},SHOW_FILE_SIZE_EXCEEDED:function(e,t){e.xFileSizeExceeded=!0,e.fileThatExceededSize=t},SHOW_EXTENSION_REQUIRED:function(e){e.xExtensionRequired=!0},SHOW_INFO:function(e){e.xInfo=!0},SHOW_WALL_QUOTA_EXCEEDED:function(e){e.xWallQuotaExceeded=!0},SHOW_COMMENTS_PANEL:function(e,t){e.xCommentsPanel=!0,e.commentsPanelPostId=t},SHOW_DELETE_DIALOG:function(e){e.xDeleteDialog=!0},SHOW_CLEAR_ALL_DIALOG:function(e){e.xClearAllDialog=!0},SHOW_PERMIT_NOTIFICATION:function(e){e.xPermitNotification=!0},STARTING_NEW_SECTION:function(e,t){e.newSection=t},RESIZE_EDITOR:function(e,t){e.editorHeight=t},RESIZE_HEADER:function(e,t){e.headerHeight=t},SHOW_CONVERT_LAYOUT_PANEL:function(e){e.xConvertLayoutPanel=!0},HIDE_CONVERT_LAYOUT_PANEL:function(e){e.xConvertLayoutPanel=!1},CONVERT_LAYOUT_FAILED:function(e,t){e.convertLayoutErrorMessage=t},SHOW_TOOL_MENU:function(e){e.xToolMenu=!0},HIDE_TOOL_MENU:function(e){e.xToolMenu=!1},SHOW_REMAKE_PANEL:function(e){e.xRemakePanel=!0},HIDE_REMAKE_PANEL:function(e){e.xRemakePanel=!1},UPDATE_WALL:function(e,t){e.wall=Me({},e.wall,{},t)},ANNOUNCE_WISH_LIST_MOUNTED:function(e){e.wishListMounted=!0},REFRESH_REQUESTED:function(e){e.isRefreshPending=!0},REFRESH_DISPATCHED:function(e){e.isRefreshPending=!1}},actions:{initializeState:function(e,t){var n=e.commit,r=e.dispatch,o=t.isFirstView,i=t.expandedPostCid;n("INITIALIZE_STATE",Ne(t,["isFirstView","expandedPostCid"])),r("onboarding/setIsFirstView",o),i&&r("postAction/expandPost",{postCid:i})},reloadPage:function(){Object(Ae.c)()},resizeWindow:function(e,t){(0,e.commit)("RESIZE_WINDOW",t)},changeConnectivity:function(e,t){(0,e.commit)("CHANGE_CONNECTIVITY",t)},hideContributorsList:function(e){(0,e.commit)("HIDE_CONTRIBUTORS_LIST")},hideExtensionRequired:function(e){(0,e.commit)("HIDE_EXTENSION_REQUIRED")},hideFileSizeExceeded:function(e){(0,e.commit)("HIDE_FILE_SIZE_EXCEEDED")},hideInfo:function(e){(0,e.commit)("HIDE_INFO")},hideWallQuotaExceeded:function(e){(0,e.commit)("HIDE_WALL_QUOTA_EXCEEDED")},hideCommentsPanel:function(e){(0,e.commit)("HIDE_COMMENTS_PANEL")},hideToolMenu:function(e){(0,e.commit)("HIDE_TOOL_MENU")},hideDeleteDialog:function(e){(0,e.commit)("HIDE_DELETE_DIALOG")},hideClearAllDialog:function(e){(0,e.commit)("HIDE_CLEAR_ALL_DIALOG")},hidePermitNotification:function(e){(0,e.commit)("HIDE_PERMIT_NOTIFICATION")},showCookieNotification:function(e){(0,e.commit)("SHOW_COOKIE_NOTIFICATION")},hideCookieNotification:function(e){(0,e.commit)("HIDE_COOKIE_NOTIFICATION")},showReloadNotification:function(e){(0,e.commit)("SHOW_RELOAD_NOTIFICATION")},hideReloadNotification:function(e){(0,e.commit)("HIDE_RELOAD_NOTIFICATION")},showContributorsList:function(e){(0,e.commit)("SHOW_CONTRIBUTORS_LIST")},showExtensionRequired:function(e){(0,e.commit)("SHOW_EXTENSION_REQUIRED")},showFileSizeExceeded:function(e,t){var n=e.commit,r=e.dispatch,o=t.file;r("post/rejectPostsWithFileSizeExceeded",{file:o}),n("SHOW_FILE_SIZE_EXCEEDED",o)},showInfo:function(e){(0,e.commit)("SHOW_INFO")},showWallQuotaExceeded:function(e){(0,e.commit)("SHOW_WALL_QUOTA_EXCEEDED")},showCommentsPanel:function(e,t){(0,e.commit)("SHOW_COMMENTS_PANEL",t.postId)},showDeleteDialog:function(e){(0,e.commit)("SHOW_DELETE_DIALOG")},showClearAllDialog:function(e){(0,e.commit)("SHOW_CLEAR_ALL_DIALOG")},checkAndSubscribeToPushNotifications:function(e){var t=e.dispatch;Object(xe.a)().then((function(e){if("granted"===e)t("registerForPushNotifications");else if("default"===e){var n=Object(j.a)("Turn on notifications for this browser?"),r=Object(j.a)("OK");t("snackbars/setSnackbar",{message:n,actionText:r,actionName:"registerForPushNotifications",persist:!0},{root:!0})}}))},registerForPushNotifications:function(e){var t=e.commit,n=e.state;Object(xe.b)(n.user).catch((function(e){console.warn("No push",e),t("SHOW_PERMIT_NOTIFICATION")}))},showConvertLayoutPanel:function(e){(0,e.commit)("SHOW_CONVERT_LAYOUT_PANEL")},hideConvertLayoutPanel:function(e){(0,e.commit)("HIDE_CONVERT_LAYOUT_PANEL")},convertWallLayout:(Ge=De(o.a.mark((function e(t,n){var r,i,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,i=t.getters,a=n.newLayout,e.prev=2,e.next=5,s.a.Wall.convertLayout({id:i.wallId,newLayout:a});case 5:r("UPDATE_WALL",{viz:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),c=Object(j.a)("Failed to convert layout. Please try again."),r("CONVERT_LAYOUT_FAILED",c);case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),function(e,t){return Ge.apply(this,arguments)}),showRemakePanel:function(e){(0,e.commit)("SHOW_REMAKE_PANEL")},hideRemakePanel:function(e){(0,e.commit)("HIDE_REMAKE_PANEL")},toggleToolMenu:function(e){var t=e.commit;e.state.xToolMenu?t("HIDE_TOOL_MENU"):t("SHOW_TOOL_MENU")},removePost:function(e,t){(0,e.dispatch)("post/removePost",{id:t.id,cid:t.cid})},addPost:function(e,t){(0,e.dispatch)("post/addPost",t.post)},resizeEditor:function(e,t){(0,e.commit)("RESIZE_EDITOR",t.height)},resizeHeader:function(e,t){(0,e.commit)("RESIZE_HEADER",t.height)},updateWall:function(e,t){(0,e.commit)("UPDATE_WALL",t)},likeWall:(We=De(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.getters,e.next=3,Object(Ie.likeWall)(r.wallId);case 3:n("LIKE_WALL");case 4:case"end":return e.stop()}}),e)}))),function(e){return We.apply(this,arguments)}),unlikeWall:(Ve=De(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.getters,e.next=3,Object(Ie.unlikeWall)(r.wallId);case 3:n("UNLIKE_WALL");case 4:case"end":return e.stop()}}),e)}))),function(e){return Ve.apply(this,arguments)}),setCoverPost:(qe=De(o.a.mark((function e(t,n){var r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,i=t.state,a=n.postId,e.next=4,Object(Ie.saveWall)(Me({},i.wall,{cover_wish_id:a}));case 4:s=e.sent,r("UPDATE_WALL",s);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return qe.apply(this,arguments)}),unsetCoverPost:(Ue=De(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.next=3,Object(Ie.saveWall)(Me({},r.wall,{cover_wish_id:null}));case 3:i=e.sent,n("UPDATE_WALL",i);case 5:case"end":return e.stop()}}),e)}))),function(e){return Ue.apply(this,arguments)}),enterFullscreen:function(e){(0,e.commit)("ENTER_FULLSCREEN")},exitFullscreen:function(e){(0,e.commit)("EXIT_FULLSCREEN")},deleteWall:(Be=De(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getters,e.next=3,Object(Ie.deleteWall)(n.wallId);case 3:window.location="/";case 4:case"end":return e.stop()}}),e)}))),function(e){return Be.apply(this,arguments)}),announceWishListMounted:function(e){(0,e.commit)("ANNOUNCE_WISH_LIST_MOUNTED")},removeConnectionsForPost:function(e,t){(0,e.dispatch)("postConnection/removeConnectionsForPost",{postId:t.postId})},requestRefresh:function(e){var t=e.commit,n=e.dispatch;e.state.isRefreshPending||(t("REFRESH_REQUESTED"),n("refresh"))},refresh:function(e){var t=e.commit,n=e.dispatch,r=e.state,o=e.getters;if(r.isOnline){n("realtime/clearDispatchQueue");var i=o["map/mapDoesFitMarkersBounds"];n("map/disableMapFittingMarkersBounds"),n("reaction/fetchReactions"),n("comment/fetchComments"),n("post/fetchPosts").then((function(){n("postAction/recalibrate"),i&&n("map/enableMapFittingMarkersBounds")})),o.isSectioned&&n("section/fetchSections"),o.canHaveConnections&&n("postConnection/fetchConnections"),t("REFRESH_DISPATCHED")}}}}),Qe=function(e){return ze.dispatch(e.type,e)};window.ww||(window.ww={}),window.ww.xstore={store:ze,state:{},getters:{},dispatch:function(e,t){"string"===typeof e?ze.dispatch(e,t):e.type?Qe(e):"function"===typeof e&&e(Qe)}},ze.subscribe((function(){window.ww.xstore.state=ze.state,window.ww.xstore.getters=ze.getters}));var $e=t.b=ze},function(e,t,n){},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u}));var r={};function o(e,t){r[e]=t}function i(e){var t=r[e.message_type];return!!t&&(t(e),!0)}var a=function(e){o("padlet_settings_update",e)},s=function(e){o("padlet_settings_hide",e)},c=function(e){o("create_post",e)},u=function(e){o("cancel_show",e)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),s=n(144);t.apiFetch=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r(this,void 0,void 0,(function(){var n,r,c,u,l,f,d,h;return o(this,(function(o){switch(o.label){case 0:return[4,s.deferredGetConfiguration()];case 1:return n=o.sent(),r=n.host,c=n.token,u=c.csrfToken,l=c.oauthToken,f={},l&&(f.authorization=[a.HTTPAuthenticationScheme.bearer,l]),u&&(d=u(),f.headers={"X-CSRF-Token":d}),h="https://"+r+e,[2,a.fetchJson.apply(void 0,i([h,f],t))]}}))}))}},function(e,t,n){(function(t){var n=1/0,r="[object Symbol]",o="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),s=Object.prototype,c=0,u=s.toString,l=a.Symbol,f=l?l.prototype:void 0,d=f?f.toString:void 0;function h(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&u.call(e)==r}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}e.exports=function(e){var t,n=++c;return(null==(t=e)?"":h(t))+n}}).call(this,n(28))},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n(33),o=n(205),i=n(24),a=n(154);function s(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"===typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:r},__sentry_wrapped__:{enumerable:!1,value:o}})}catch(i){}e[t]=o}}function c(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function u(e){if(Object(r.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}if(Object(r.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(r.c)(a.target)?Object(i.h)(a.target):Object.prototype.toString.call(a.target)}catch(c){s.target="<unknown>"}try{s.currentTarget=Object(r.c)(a.currentTarget)?Object(i.h)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(c){s.currentTarget="<unknown>"}for(var o in"undefined"!==typeof CustomEvent&&e instanceof CustomEvent&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a);return s}return e}function l(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function f(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=p(e,t);return l(r)>n?f(e,t-1,n):r}function d(t,n){return"domain"===n&&t&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!==typeof e&&t===e?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":Object(r.k)(t)?"[SyntheticEvent]":"number"===typeof t&&t!==t?"[NaN]":void 0===t?"[undefined]":"function"===typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function h(e,t,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new o.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"===typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=d(e);return Object(r.h)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"===typeof t.toJSON)return t.toJSON();var a=d(t,e);if(Object(r.h)(a))return a;var s=u(t),c=Array.isArray(t)?[]:{};if(i.memoize(t))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=h(l,s[l],n-1,i));return i.unmemoize(t),c}function p(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return h(e,n,t)})))}catch(n){return"**non-serializable**"}}function m(e,t){void 0===t&&(t=40);var n=Object.keys(u(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(a.c)(n[0],t);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:Object(a.c)(o,t)}return""}}).call(this,n(28))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=2;if(n(71).isReactNative){var o=n(125).PixelRatio;r=Math.ceil(o.get())}else"undefined"!==typeof window&&void 0!==window.devicePixelRatio&&(r=Math.ceil(window.devicePixelRatio));t.default=r},function(e,t,n){"use strict";var r,o,i=n(27),a={};a.zh_CN={prefixAgo:null,prefixFromNow:"\u4ece\u73b0\u5728\u5f00\u59cb",suffixAgo:"\u4e4b\u524d",suffixFromNow:null,seconds:"\u4e0d\u52301\u5206\u949f",minute:"1\u5206\u949f",minutes:"%d\u5206\u949f",hour:"1\u5c0f\u65f6",hours:"%d\u5c0f\u65f6",day:"1\u5929",days:"%d\u5929",month:"1\u4e2a\u6708",months:"%d\u6708",year:"1\u5e74",years:"%d\u5e74",numbers:[],wordSeparator:""},a.vi={prefixAgo:"c\xe1ch \u0111\xe2y",prefixFromNow:null,suffixAgo:"tr\u01b0\u1edbc",suffixFromNow:"t\u1edbi",seconds:"d\u01b0\u1edbi m\u1ed9t ph\xfat",minute:"m\u1ed9t ph\xfat",minutes:"%d ph\xfat",hour:"m\u1ed9t ti\u1ebfng",hours:"%d ti\u1ebfng",day:"m\u1ed9t ng\xe0y",days:"%d ng\xe0y",month:"m\u1ed9t th\xe1ng",months:"%d th\xe1ng",year:"m\u1ed9t n\u0103m",years:"%d n\u0103m",wordSeparator:" ",numbers:[]},a["vi-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1s",minute:"1ph",minutes:"%dph",hour:"1g",hours:"%dg",day:"1ng\xe0y",days:"%dng\xe0y",month:"1thg",months:"%dthg",year:"1n\u0103m",years:"%dn\u0103m",wordSeparator:" ",numbers:[]},a.uk=(r=function(e,t,n,r){var o;return 1===(o=e%10)&&(1===e||e>20)?t:o>1&&o<5&&(e>20||e<10)?n:r},{prefixAgo:null,prefixFromNow:"\u0447\u0435\u0440\u0435\u0437",suffixAgo:"\u0442\u043e\u043c\u0443",suffixFromNow:null,seconds:"\u043c\u0435\u043d\u0448\u0435 \u0445\u0432\u0438\u043b\u0438\u043d\u0438",minute:"\u0445\u0432\u0438\u043b\u0438\u043d\u0430",minutes:function(e){return r(e,"%d \u0445\u0432\u0438\u043b\u0438\u043d\u0430","%d \u0445\u0432\u0438\u043b\u0438\u043d\u0438","%d \u0445\u0432\u0438\u043b\u0438\u043d")},hour:"\u0433\u043e\u0434\u0438\u043d\u0430",hours:function(e){return r(e,"%d \u0433\u043e\u0434\u0438\u043d\u0430","%d \u0433\u043e\u0434\u0438\u043d\u0438","%d \u0433\u043e\u0434\u0438\u043d")},day:"\u0434\u0435\u043d\u044c",days:function(e){return r(e,"%d \u0434\u0435\u043d\u044c","%d \u0434\u043d\u0456","%d \u0434\u043d\u0456\u0432")},month:"\u043c\u0456\u0441\u044f\u0446\u044c",months:function(e){return r(e,"%d \u043c\u0456\u0441\u044f\u0446\u044c","%d \u043c\u0456\u0441\u044f\u0446\u0456","%d \u043c\u0456\u0441\u044f\u0446\u0456\u0432")},year:"\u0440\u0456\u043a",years:function(e){return r(e,"%d \u0440\u0456\u043a","%d \u0440\u043e\u043a\u0438","%d \u0440\u043e\u043a\u0456\u0432")}}),a.th={prefixAgo:null,prefixFromNow:null,suffixAgo:"\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",suffixFromNow:"\u0e08\u0e32\u0e01\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49",seconds:"\u0e19\u0e49\u0e2d\u0e22\u0e01\u0e27\u0e48\u0e32\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e19\u0e32\u0e17\u0e35",minute:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e19\u0e32\u0e17\u0e35",minutes:"%d \u0e19\u0e32\u0e17\u0e35",hour:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hours:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13 %d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",day:"\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e27\u0e31\u0e19",days:"%d \u0e27\u0e31\u0e19",month:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e40\u0e14\u0e37\u0e2d\u0e19",months:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",year:"\u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e1b\u0e35",years:"%d \u0e1b\u0e35",wordSeparator:"",numbers:[]},a.tr={suffixAgo:"\xf6nce",suffixFromNow:null,seconds:"1 dakikadan",minute:"1 dakika",minutes:"%d dakika",hour:"1 saat",hours:"%d saat",day:"1 g\xfcn",days:"%d g\xfcn",month:"1 ay",months:"%d ay",year:"1 y\u0131l",years:"%d y\u0131l"},a["tr-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1sn",minute:"1d",minutes:"%dd",hour:"1s",hours:"%ds",day:"1g",days:"%dg",month:"1ay",months:"%day",year:"1y",years:"%dy",wordSeparator:" ",numbers:[]},a.tl={prefixFromNow:"sa loob ng",suffixAgo:" ang nakalipas",seconds:"ilang segundo",minute:"isang minuto",minutes:"%d minuto",hour:"isang oras",hours:"%d oras",day:"isang araw",days:"%d araw",month:"isang buwan",months:"%d buwan",year:"isang taon",years:"%d taon"},a.sv={prefixAgo:"f\xf6r",prefixFromNow:"om",suffixAgo:"sedan",suffixFromNow:"",seconds:"mindre \xe4n en minut",minute:"en minut",minutes:"%d minuter",hour:"en timme",hours:"%d timmar",day:"en dag",days:"%d dagar",month:"en m\xe5nad",months:"%d m\xe5nader",year:"ett \xe5r",years:"%d \xe5r"},a.sr=function(){var e;return e=function(e,t,n,r){var o;return void 0,1===(o=e%10)&&(1===e||e>20)?t:o>1&&o<5&&(e>20||e<10)?n:r},{prefixAgo:"\u043f\u0440\u0435",prefixFromNow:"\u0437\u0430",suffixAgo:null,suffixFromNow:null,second:"\u0441\u0435\u043a\u0443\u043d\u0434",seconds:function(t){return e(t,"%d \u0441\u0435\u043a\u0443\u043d\u0434","%d \u0441\u0435\u043a\u0443\u043d\u0434\u0435","%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438")},minute:"\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442",minutes:function(t){return e(t,"%d \u043c\u0438\u043d\u0443\u0442","%d \u043c\u0438\u043d\u0443\u0442\u0430","%d \u043c\u0438\u043d\u0443\u0442\u0430")},hour:"\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442",hours:function(t){return e(t,"%d \u0441\u0430\u0442","%d \u0441\u0430\u0442\u0430","%d \u0441\u0430\u0442\u0438")},day:"\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d",days:function(t){return e(t,"%d \u0434\u0430\u043d","%d \u0434\u0430\u043d\u0430","%d \u0434\u0430\u043d\u0430")},month:"\u043c\u0435\u0441\u0435\u0446 \u0434\u0430\u043d\u0430",months:function(t){return e(t,"%d \u043c\u0435\u0441\u0435\u0446","%d \u043c\u0435\u0441\u0435\u0446\u0430","%d \u043c\u0435\u0441\u0435\u0446\u0438")},year:"\u0433\u043e\u0434\u0438\u043d\u0443 \u0434\u0430\u043d\u0430",years:function(t){return e(t,"%d \u0433\u043e\u0434\u0438\u043d\u0443","%d \u0433\u043e\u0434\u0438\u043d\u0435","%d \u0433\u043e\u0434\u0438\u043d\u0430")},wordSeparator:" "}}(),a.sk={prefixAgo:"pred",prefixFromNow:null,suffixAgo:null,suffixFromNow:null,seconds:"menej ne\u017e min\xfatou",minute:"min\xfatou",minutes:"%d min\xfatami",hour:"hodinou",hours:"%d hodinami",day:"1 d\u0148om",days:"%d d\u0148ami",month:"1 mesiacom",months:"%d mesiacmi",year:"1 rokom",years:"%d rokmi"},a.ru=function(){var e;return e=function(e,t,n,r){var o;return 1===(o=e%10)&&(1===e||e>20)?t:o>1&&o<5&&(e>20||e<10)?n:r},{prefixAgo:null,prefixFromNow:"\u0447\u0435\u0440\u0435\u0437",suffixAgo:"\u043d\u0430\u0437\u0430\u0434",suffixFromNow:null,seconds:"\u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b",minute:"\u043c\u0438\u043d\u0443\u0442\u0443",minutes:function(t){return e(t,"%d \u043c\u0438\u043d\u0443\u0442\u0430","%d \u043c\u0438\u043d\u0443\u0442\u044b","%d \u043c\u0438\u043d\u0443\u0442")},hour:"\u0447\u0430\u0441",hours:function(t){return e(t,"%d \u0447\u0430\u0441","%d \u0447\u0430\u0441\u0430","%d \u0447\u0430\u0441\u043e\u0432")},day:"\u0434\u0435\u043d\u044c",days:function(t){return e(t,"%d \u0434\u0435\u043d\u044c","%d \u0434\u043d\u044f","%d \u0434\u043d\u0435\u0439")},month:"\u043c\u0435\u0441\u044f\u0446",months:function(t){return e(t,"%d \u043c\u0435\u0441\u044f\u0446","%d \u043c\u0435\u0441\u044f\u0446\u0430","%d \u043c\u0435\u0441\u044f\u0446\u0435\u0432")},year:"\u0433\u043e\u0434",years:function(t){return e(t,"%d \u0433\u043e\u0434","%d \u0433\u043e\u0434\u0430","%d \u043b\u0435\u0442")}}}(),a.ro={prefixAgo:"acum",prefixFromNow:"in timp de",suffixAgo:"",suffixFromNow:"",seconds:"mai putin de un minut",minute:"un minut",minutes:"%d minute",hour:"o ora",hours:"%d ore",day:"o zi",days:"%d zile",month:"o luna",months:"%d luni",year:"un an",years:"%d ani"},a.pt_BR={prefixAgo:"h\xe1",prefixFromNow:"em",suffixAgo:null,suffixFromNow:null,seconds:"alguns segundos",minute:"um minuto",minutes:"%d minutos",hour:"uma hora",hours:"%d horas",day:"um dia",days:"%d dias",month:"um m\xeas",months:"%d meses",year:"um ano",years:"%d anos"},a["pt_BR-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1M",months:"%dM",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},a.pl=function(){var e;return e=function(e,t,n){var r;return(r=e%10)>1&&r<5&&(e>20||e<10)?t:n},{prefixAgo:null,prefixFromNow:"za",suffixAgo:"temu",suffixFromNow:null,seconds:"mniej ni\u017c minut\u0119",minute:"minut\u0119",minutes:function(t){return e(t,"%d minuty","%d minut")},hour:"godzin\u0119",hours:function(t){return e(t,"%d godziny","%d godzin")},day:"dzie\u0144",days:"%d dni",month:"miesi\u0105c",months:function(t){return e(t,"%d miesi\u0105ce","%d miesi\u0119cy")},year:"rok",years:function(t){return e(t,"%d lata","%d lat")}}}(),a.no={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre enn et minutt",minute:"et minutt",minutes:"%d minutter",hour:"en time",hours:"%d timer",day:"en dag",days:"%d dager",month:"en m\xe5ned",months:"%d m\xe5neder",year:"et \xe5r",years:"%d \xe5r"},a.nl={prefixAgo:null,prefixFromNow:"over",suffixAgo:"geleden",suffixFromNow:null,seconds:"minder dan een minuut",minute:"een minuut",minutes:"%d minuten",hour:"een uur",hours:"%d uur",day:"een dag",days:"%d dagen",month:"een maand",months:"%d maanden",year:"een jaar",years:"%d jaar",wordSeparator:" ",numbers:[]},a.ms={prefixFromNow:"dalam ",suffixAgo:" yang lalu",seconds:"beberapa saat",minute:"seminit",minutes:"%d minit",hour:"sejam",hours:"%d jam",day:"sehari",days:"%d hari",month:"sebulan",months:"%d bulan",year:"setahun",years:"%d tahun"},a.ko={prefixAgo:null,prefixFromNow:null,suffixAgo:"\uc804",suffixFromNow:"\ud6c4",seconds:"1\ubd84",minute:"1\ubd84",minutes:"%d\ubd84",hour:"1\uc2dc\uac04",hours:"%d\uc2dc\uac04",day:"\ud558\ub8e8",days:"%d\uc77c",month:"1\uac1c\uc6d4",months:"%d\uac1c\uc6d4",year:"1\ub144",years:"%d\ub144",wordSeparator:" ",numbers:[]},a.ja={prefixAgo:"",prefixFromNow:"\u4eca\u304b\u3089",suffixAgo:"\u524d",suffixFromNow:"\u5f8c",seconds:"1 \u5206\u672a\u6e80",minute:"1 \u5206",minutes:"%d \u5206",hour:"1 \u6642\u9593",hours:"%d \u6642\u9593",day:"1 \u65e5",days:"%d \u65e5",month:"1 \u30f6\u6708",months:"%d \u30f6\u6708",year:"1 \u5e74",years:"%d \u5e74",wordSeparator:""},a.it={suffixAgo:"fa",suffixFromNow:"da ora",seconds:"meno di un minuto",minute:"circa un minuto",minutes:"%d minuti",hour:"circa un'ora",hours:"circa %d ore",day:"un giorno",days:"%d giorni",month:"circa un mese",months:"%d mesi",year:"circa un anno",years:"%d anni"},a["it-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1g",days:"%dg",month:"1me",months:"%dme",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},a.id={prefixAgo:null,prefixFromNow:null,suffixAgo:"yang lalu",suffixFromNow:"dari sekarang",seconds:"kurang dari semenit",minute:"satu menit",minutes:"%d menit",hour:"sejam",hours:"%d jam",day:"sehari",days:"%d hari",month:"sebulan",months:"%d bulan",year:"setahun",years:"%d tahun"},a.hu={prefixAgo:null,prefixFromNow:null,suffixAgo:null,suffixFromNow:null,seconds:"kevesebb mint egy perce",minute:"k\xf6r\xfclbel\xfcl egy perce",minutes:"%d perce",hour:"k\xf6r\xfclbel\xfcl egy \xf3r\xe1ja",hours:"k\xf6r\xfclbel\xfcl %d \xf3r\xe1ja",day:"k\xf6r\xfclbel\xfcl egy napja",days:"%d napja",month:"k\xf6r\xfclbel\xfcl egy h\xf3napja",months:"%d h\xf3napja",year:"k\xf6r\xfclbel\xfcl egy \xe9ve",years:"%d \xe9ve"},a.hi={prefixAgo:null,prefixFromNow:null,suffixAgo:"\u092a\u0939\u0932\u0947",suffixFromNow:"\u092e\u0947\u0902",seconds:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",minute:"\u090f\u0915 \u092e\u093f\u0928\u091f",minutes:"%d \u092e\u093f\u0928\u091f",hour:"\u090f\u0915 \u0918\u0902\u091f\u093e",hours:"%d \u0918\u0902\u091f\u0947",day:"\u090f\u0915 \u0926\u093f\u0928",days:"%d \u0926\u093f\u0928",month:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",months:"%d \u092e\u0939\u0940\u0928\u0947",year:"\u090f\u0915 \u0935\u0930\u094d\u0937",years:"%d \u0935\u0930\u094d\u0937"},a.he={prefixAgo:"\u05dc\u05e4\u05e0\u05d9",prefixFromNow:"\u05e2\u05d5\u05d3",seconds:"\u05e4\u05d7\u05d5\u05ea \u05de\u05d3\u05e7\u05d4",minute:"\u05d3\u05e7\u05d4",minutes:"%d \u05d3\u05e7\u05d5\u05ea",hour:"\u05e9\u05e2\u05d4",hours:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":"%d \u05e9\u05e2\u05d5\u05ea"},day:"\u05d9\u05d5\u05dd",days:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":"%d \u05d9\u05de\u05d9\u05dd"},month:"\u05d7\u05d5\u05d3\u05e9",months:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},year:"\u05e9\u05e0\u05d4",years:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":"%d \u05e9\u05e0\u05d9\u05dd"}},a.fr={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"environ une heure",hours:"environ %d heures",day:"environ un jour",days:"environ %d jours",month:"environ un mois",months:"environ %d mois",year:"un an",years:"%d ans"},a["fr-short"]={prefixAgo:"il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"une minute",minutes:"%d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"},a.fi={prefixAgo:null,prefixFromNow:null,suffixAgo:"sitten",suffixFromNow:"tulevaisuudessa",seconds:"alle minuutti",minute:"minuutti",minutes:"%d minuuttia",hour:"tunti",hours:"%d tuntia",day:"p\xe4iv\xe4",days:"%d p\xe4iv\xe4\xe4",month:"kuukausi",months:"%d kuukautta",year:"vuosi",years:"%d vuotta"},a.fa={prefixAgo:null,prefixFromNow:null,suffixAgo:"\u067e\u06cc\u0634",suffixFromNow:"\u0627\u0632 \u062d\u0627\u0644",seconds:"\u06a9\u0645\u062a\u0631 \u0627\u0632 \u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",minute:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",minutes:"%d \u062f\u0642\u06cc\u0642\u0647",hour:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0633\u0627\u0639\u062a",hours:"\u062d\u062f\u0648\u062f %d \u0633\u0627\u0639\u062a",day:"\u06cc\u06a9 \u0631\u0648\u0632",days:"%d \u0631\u0648\u0632",month:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0645\u0627\u0647",months:"%d \u0645\u0627\u0647",year:"\u062d\u062f\u0648\u062f \u06cc\u06a9 \u0633\u0627\u0644",years:"%d \u0633\u0627\u0644"},a["fa-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1\u062f\u0642\u06cc\u0642\u0647",minute:"1\u062f\u0642\u06cc\u0642\u0647",minutes:"%d\u062f\u0642\u06cc\u0642\u0647",hour:"1\u0633\u0627\u0639\u062a",hours:"%d\u0633\u0627\u0639\u062a",day:"1\u0631\u0648\u0632",days:"%d\u0631\u0648\u0632",month:"1\u0645\u0627\u0647",months:"%d\u0645\u0627\u0647",year:"1\u0633\u0627\u0644",years:"%d\u0633\u0627\u0644"},a.es={prefixAgo:"hace",prefixFromNow:"dentro de",suffixAgo:"",suffixFromNow:"",seconds:"menos de un minuto",minute:"un minuto",minutes:"unos %d minutos",hour:"una hora",hours:"%d horas",day:"un d\xeda",days:"%d d\xedas",month:"un mes",months:"%d meses",year:"un a\xf1o",years:"%d a\xf1os"},a["es-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1me",months:"%dme",year:"1a",years:"%da",wordSeparator:" ",numbers:[]},a.en={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]},a["en-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1yr",years:"%dyr",wordSeparator:" ",numbers:[]},a.el={prefixAgo:"\u03c0\u03c1\u03b9\u03bd",prefixFromNow:"\u03c3\u03b5",suffixAgo:"",suffixFromNow:"",seconds:"\u03bb\u03b9\u03b3\u03cc\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",minute:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",minutes:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",hour:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hours:"%d \u03ce\u03c1\u03b5\u03c2",day:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",days:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",month:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",months:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",year:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",years:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},a["de-short"]={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"s",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1T.",days:"%dT.",month:"1Mt.",months:"%dMt.",year:"1J.",years:"%dJ.",wordSeparator:" ",numbers:[]},a.de={prefixAgo:"vor",prefixFromNow:"in",suffixAgo:"",suffixFromNow:"",seconds:"wenigen Sekunden",minute:"etwa einer Minute",minutes:"%d Minuten",hour:"etwa einer Stunde",hours:"%d Stunden",day:"etwa einem Tag",days:"%d Tagen",month:"etwa einem Monat",months:"%d Monaten",year:"etwa einem Jahr",years:"%d Jahren"},a.da={prefixAgo:"for",prefixFromNow:"om",suffixAgo:"siden",suffixFromNow:"",seconds:"mindre end et minut",minute:"et minut",minutes:"%d minutter",hour:"en time",hours:"%d timer",day:"en dag",days:"%d dage",month:"en m\xe5ned",months:"%d m\xe5neder",year:"et \xe5r",years:"%d \xe5r"},a.cy={prefixAgo:null,prefixFromNow:null,suffixAgo:"yn \xf4l",suffixFromNow:"o hyn",seconds:"llai na munud",minute:"funud",minutes:"%d munud",hour:"tua awr",hours:"%d awr",day:"y dydd",days:"%d diwrnod",month:"tua mis",months:"%d mis",year:"y flwyddyn",years:"%d blynedd",wordSeparator:" ",numbers:[]},a.cs=(o=function(e,t,n){return n[t>=0?0:2===n.length||e<5?1:2]},{prefixAgo:"p\u0159ed",prefixFromNow:"za",suffixAgo:null,suffixFromNow:null,seconds:function(e,t){return o(e,t,["m\xe9n\u011b ne\u017e minutou","m\xe9n\u011b ne\u017e minutu"])},minute:function(e,t){return o(e,t,["minutou","minutu"])},minutes:function(e,t){return o(e,t,["%d minutami","%d minuty","%d minut"])},hour:function(e,t){return o(e,t,["hodinou","hodinu"])},hours:function(e,t){return o(e,t,["%d hodinami","%d hodiny","%d hodin"])},day:function(e,t){return o(e,t,["%d dnem","%d den"])},days:function(e,t){return o(e,t,["%d dny","%d dny","%d dn\xed"])},month:function(e,t){return o(e,t,["%d m\u011bs\xedcem","%d m\u011bs\xedc"])},months:function(e,t){return o(e,t,["%d m\u011bs\xedci","%d m\u011bs\xedce","%d m\u011bs\xedc\u016f"])},year:function(e,t){return o(e,t,["%d rokem","%d rok"])},years:function(e,t){return o(e,t,["%d lety","%d roky","%d let"])}}),a.ca={prefixAgo:"fa",prefixFromNow:"d'aqu\xed",suffixAgo:null,suffixFromNow:null,seconds:"menys d'un minut",minute:"un minut",minutes:"%d minuts",hour:"una hora",hours:"%d hores",day:"un dia",days:"%d dies",month:"un mes",months:"%d mesos",year:"un any",years:"%d anys"},a.bg={prefixAgo:"\u043f\u0440\u0435\u0434\u0438",prefixFromNow:"\u0441\u043b\u0435\u0434",suffixAgo:null,suffixFromNow:null,seconds:"\u043f\u043e-\u043c\u0430\u043b\u043a\u043e \u043e\u0442 \u043c\u0438\u043d\u0443\u0442\u0430",minute:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",minutes:"%d \u043c\u0438\u043d\u0443\u0442\u0438",hour:"\u0435\u0434\u0438\u043d \u0447\u0430\u0441",hours:"%d \u0447\u0430\u0441\u0430",day:"\u0435\u0434\u0438\u043d \u0434\u0435\u043d",days:"%d \u0434\u043d\u0438",month:"\u0435\u0434\u0438\u043d \u043c\u0435\u0441\u0435\u0446",months:"%d \u043c\u0435\u0441\u0435\u0446\u0430",year:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",years:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},a.ar=function(){var e;return e=function(e,t){return t[0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5]},{prefixAgo:"\u0645\u0646\u0630",prefixFromNow:"\u0628\u0639\u062f",suffixAgo:null,suffixFromNow:null,second:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629","\u062b\u0627\u0646\u064a\u062a\u064a\u0646","%d \u062b\u0648\u0627\u0646\u064d","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"])},seconds:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629","\u062b\u0627\u0646\u064a\u062a\u064a\u0646","%d \u062b\u0648\u0627\u0646\u064d","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"])},minute:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629","\u062f\u0642\u064a\u0642\u062a\u064a\u0646","%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629"])},minutes:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629","\u062f\u0642\u064a\u0642\u062a\u064a\u0646","%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629"])},hour:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629","\u0633\u0627\u0639\u062a\u064a\u0646","%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"])},hours:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629","\u0633\u0627\u0639\u062a\u064a\u0646","%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"])},day:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f","\u064a\u0648\u0645\u064a\u0646","%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"])},days:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f","\u064a\u0648\u0645\u064a\u0646","%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"])},month:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f","\u0634\u0647\u0631\u064a\u0646","%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u064b\u0627","%d \u0634\u0647\u0631"])},months:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f","\u0634\u0647\u0631\u064a\u0646","%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u064b\u0627","%d \u0634\u0647\u0631"])},year:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f","%d \u0639\u0627\u0645\u064a\u0646","%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627"])},years:function(t){return e(t,["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f","\u0639\u0627\u0645\u064a\u0646","%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"])}}}();var s=a;function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=function(e,t,n){var r,o,a,u,l,f,d,h=new Date(e).getTime(),p=(n?new Date(n):new Date).getTime()-h,m=c((r=Math.abs(p),f=(l=(u=(a=(o=r/1e3)/60)/60)/24)/30,d=l/365,o<45?["seconds",o]:o<90?["minute",a]:a<45?["minutes",a]:a<90?["hour",u]:u<24?["hours",u]:u<36?["day",l]:l<28?["days",l]:l<45?["month",f]:f<12?["months",f]:f<18?["year",d]:["years",d]),2),y=m[0],g=m[1],v=i.c;if("short"==t){var b=(s["".concat(v,"-short")]||s[v]||s["en-short"])[y];return("function"==typeof b?b(g):b).replace(/%d/i,Math.round(g))}if("long"==t){var w=s[v]||s.en,_=w[y],k=[("function"==typeof _?_(g):_).replace(/%d/i,Math.round(g))];return p>0?(w.prefixAgo&&k.unshift(w.prefixAgo),w.suffixAgo&&k.push(w.suffixAgo)):(w.prefixFromNow&&k.unshift(w.prefixFromNow),w.suffixFromNow&&k.push(w.suffixFromNow)),k.join(" ")}throw new Error("Valid formats are short and long")},l={props:{datetime:{},dateformat:{default:"short"},autoupdate:{default:!1}},computed:{relativeTime:function(){var e=this.datetime,t=this.dateformat;return u(e,t)},actualTime:function(){return new Date(this.datetime).toLocaleString(i.a)}}},f=n(1),d=Object(f.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("time",{attrs:{title:this.actualTime}},[this._v(this._s(this.relativeTime))])}),[],!1,null,null,null);t.a=d.exports},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(161).Cache,o=n(162).tuple,i=n(163).Entry,a=n(108).get;t.defaultMakeCacheKey=o,t.wrap=function(e,t){var n=!!(t=function(e){return"function"!==typeof(e=e||Object.create(null)).makeCacheKey&&(e.makeCacheKey=o),"number"!==typeof e.max&&(e.max=Math.pow(2,16)),e}(t)).disposable,s=new r({max:t.max,dispose:function(e,t){t.dispose()}});function c(e){if(n)return s.delete(e.key),!0}function u(){if(!n||a().currentParentEntry){var r=t.makeCacheKey.apply(null,arguments);if(!r)return e.apply(null,arguments);for(var o=[],u=arguments.length;u--;)o[u]=arguments[u];var l=s.get(r);l?l.args=o:(s.set(r,l=i.acquire(e,r,o)),l.subscribe=t.subscribe,n&&(l.reportOrphan=c));var f=l.recompute();return s.set(r,l),0===l.parents.size&&s.clean(),n?void 0:f}}return u.dirty=function(){var e=t.makeCacheKey.apply(null,arguments);e&&s.has(e)&&s.get(e).setDirty()},u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73),o="https://padlet.pics";t.buildProxyUrl=function(e){var t=encodeURIComponent(e);return o+"/1/proxy?url="+t};t.buildTransformUrl=function(e,t){var n=t.transforms.map((function(e){return e.join("_")})),i=[];t.metadata&&i.push(["m","1"]),i.push(["t",n.join(",")]),i.push(["url",e]);var a=r.default(i);return t.format?o+"/1/image."+t.format+"?"+a:o+"/1/image?"+a}},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(234)("wks"),o=n(169),i=n(54).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"k",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"j",(function(){return P}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o="open_link";function i(e,t,n,r){return{message_type:o,link_type:t,url:e,content_category:n,content_subcategory:r}}var a="edit_post";function s(e){return{message_type:a,postAttributes:e}}var c="padlet_background_update";function u(e){var t=r(r({},e),{image_color:e.dominant_color_as_rgb,image_luminance:e.luminance_name});return{message_type:c,background_attributes:t}}function l(e){var t=e.expandedPost,n=e.wishFrameUrlTemplate,r=e.allPosts,o=e.wall,i=r.findIndex((function(e){return t.id===e.id}));return{posts:r.map((function(e){var t=n.replace("_host_",window.location.hostname).replace("_wallPublicKey_",o.public_key).replace("_wishId_",e.id.toString());return{subject:e.subject||null,url:t}})),post_index:i}}var f="show_expanded_post";function d(e){var t=e.window,n=e.wall,o=e.allPosts,i=e.expandedPost;t.ww.$state.wishUrls=o.map((function(e){return t.location.protocol+"//"+t.location.host+"/walls/"+n.id+"/wishes/"+e.id+".html"}));var a=o.map((function(e){return e.id})).indexOf(i.id);t.location.href=t.location.protocol+"//"+t.location.host+"/ios-app/expand-post?selected_index="+a;var s=l(e);return r({message_type:f},s)}var h="convert_layout_result";function p(e){return r({message_type:h},e)}var m="padlet_address_update";function y(e){return{message_type:m,new_address:e}}var g="wall_settings_update_result";function v(e){return r({message_type:g},e)}var b="copy_post_result";function w(e){return r({message_type:b},e)}var _="transfer_post_result";function k(e){return r({message_type:_},e)}var E="touchend";function C(){return{message_type:E,is_first_touch:!0}}var O="open_map_location_picker";function S(){return{message_type:O}}var T="show_comments_panel";function P(e){return{message_type:T,post:{id:e}}}},function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error"}(r||(r={}));var o={};function i(e){return new Promise((function(t,n){if(o[e]===r.loaded)t(e);else if(o[e]===r.loading){(i=document.querySelector("script[src='"+e+"']"))&&(i.addEventListener("load",(function(){t(e)})),i.addEventListener("error",n))}else{var i;o[e]=r.loading,(i=document.createElement("script")).type="text/javascript",i.addEventListener("load",(function(){o[e]=r.loaded,t(e)})),i.addEventListener("error",(function(t){o[e]=r.error,n(t)})),i.async=!0,i.src=e;var a=document.getElementsByTagName("script")[0];a.parentNode&&a.parentNode.insertBefore(i,a)}}))}function a(e){return new Promise((function(t,n){if(o[e]===r.loaded)t(e);else if(o[e]===r.loading){var i=document.querySelector("link[href='"+e+"']");i&&(i.addEventListener("load",(function(){t(e)})),i.addEventListener("error",n))}else{o[e]=r.loading;var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.addEventListener("load",(function(){o[e]=r.loaded,t(e)})),a.addEventListener("error",(function(t){o[e]=r.error,n(t)})),a.href=e;var s=document.getElementsByTagName("script")[0];s.parentNode&&s.parentNode.insertBefore(a,s)}}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";var r=n(34),o={props:["transforms","src","width","height"],computed:{processedSrc:function(){return this.src.startsWith("/")?this.src:Object(r.processedUrl)(this.src,this.transforms)}},methods:{handleError:function(e){this.$emit("error",e)}}},i=n(1),a=Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return this.src?t("img",{attrs:{src:this.processedSrc,width:this.width,height:this.height},on:{error:this.handleError}}):this._e()}),[],!1,null,null,null);t.a=a.exports},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i}));var r=window.navigator,o=r.userAgent.toLowerCase(),i={width:window.screen.width,height:window.screen.height},a=function(e){return o.includes(e)},s={},c={},u={},l={};function f(e){if("undefined"===typeof c[e]){if("undefined"===typeof s[e])throw new Error("Unsupported query "+e);c[e]=s[e]()}return c[e]}function d(e){if("undefined"===typeof l[e]){if("undefined"===typeof u[e])throw new Error("Unsupported query "+e);l[e]=u[e]()}return l[e]}s.ie=function(){return a("msie")||"Netscape"===r.appName&&a("trident")},u.cookies=function(){return r.cookieEnabled},u.cookiesForReal=function(){return r.cookieEnabled&&""!==document.cookie},u.lazyLoad=function(){return"loading"in HTMLImageElement.prototype}},function(e,t,n){"use strict";var r=n(403),o=r.fetchWallPrivacy,i=r.WallPrivacy,a=n(317).Contributor,s=n(242),c=s.PUBLIC,u=s.SECRET,l=s.ORGWIDE,f=s.PRIVATE,d=s.CAN_EDIT,h=s.CAN_READ,p=s.CAN_WRITE,m=s.CAN_ADMINISTER,y={PUBLIC:c,SECRET:u,ORGWIDE:l,PRIVATE:f,PASSWORD_PROTECTED:s.PASSWORD_PROTECTED},g={CAN_READ:h,CAN_WRITE:p,CAN_ADMINISTER:m,CAN_EDIT:d};e.exports={fetchWallPrivacy:o,WallPrivacy:i,Contributor:a,ACCESS:y,PERMISSIONS:g}},function(e,t,n){"use strict";var r=null,o=document.body.getAttribute("ww-variant-version");o&&(r=o),null==r&&(r=document.documentElement.getAttribute("data-app-version")),null==r&&"undefined"!==typeof Windows&&(r="20.0"),null!=r&&(r=parseFloat(r));var i=r;void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));var a={chat:44.1,postMessage:19,postNatively:30,showAddPost:19,showAlertSheet:19,showChildPanel:18,signalStatusWithLocation:19,useNativeHeader:59.1,useNativeCommentsPanel:104.9,useNativeMapLocationPicker:106};t.a=function(e){return null!=i&&i-a[e]>Number.EPSILON}},function(e,t){},,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.REACT_NATIVE="REACT_NATIVE",e.BROWSER="BROWSER",e.NODE="NODE"}(r||(r={}));var o=r.NODE;t.platformName=o,"undefined"!=typeof document?t.platformName=o=r.BROWSER:"undefined"!=typeof navigator&&"ReactNative"==navigator.product&&(t.platformName=o=r.REACT_NATIVE);var i=o==r.REACT_NATIVE;t.isReactNative=i;var a=o==r.BROWSER;t.isBrowser=a;var s=o==r.NODE;t.isNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),o=function(e){try{localStorage.setItem("webp",e?"1":"0")}catch(t){}},i=null;if(r.isBrowser){if(null===(i=function(){try{var e=localStorage.getItem("webp");if("1"===e)return!0;if("0"===e)return!1}catch(t){}return null}())){var a=new Image;a.onload=function(){i=a.width>0&&a.height>0,o(i)},a.onerror=function(){o(i=!1)},a.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",i=!1}}else i=!1;t.isSupported=function(){return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.map((function(e){return e[1]?[e[0],encodeURIComponent(e[1])].join("="):e[0]})).join("&")}},function(e,t,n){"use strict";function r(e){return"code"===e.content_subcategory}function o(e){return"text"===e.content_subcategory}function i(e){return"page"===e.content_category}Object.defineProperty(t,"__esModule",{value:!0}),t.isStatic=function(e){return"text/html"!=e.content_type},t.isPhoto=function(e){return"photo"===e.content_category},t.isFile=function(e){return"file"===e.content_category},t.isAudio=function(e){return"audio"===e.content_category},t.isVideo=function(e){return"video"===e.content_category},t.isDocument=function(e){return"document"===e.content_category},t.isWordDocument=function(e){return["doc","docx","dot","dotx","docm","dotm"].includes(e.extension)},t.isPowerpointPresentation=function(e){return["ppt","pptx","ppam","potx","pps","ppsx","ppsm","pptm"].includes(e.extension)},t.isExcelSpreadsheet=function(e){return["xls","xlsx","xlsm","xlsb"].includes(e.extension)},t.isPdf=function(e){return"pdf"===e.content_subcategory},t.isCode=r,t.isText=o,t.isPlainText=function(e){return r(e)||o(e)},t.isPage=i,t.isAmpablePage=function(e){return i(e)&&!!e.amp_url},t.isPadlet=function(e){return"padlet"===e.content_subcategory},t.firstAuthorName=function(e){return e.authors&&e.authors[0]&&e.authors[0].name?e.authors[0].name:null}},function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return p}));var r=n(7),o=n(243),i=n.n(o),a=n(44);function s(e,t){return void 0===e&&(e=new Date),void 0===t&&(t=a.b.getters.wallCreatedAt),1024*((e instanceof Date?e.getTime():e)-new Date(t).getTime())}function c(){var e="bottom"===a.b.getters.newPostLocation,t=s();return e?-t:t}function u(){return s()}function l(){return-s()}function f(e,t){void 0===t&&(t={});var n,o,i=Object(r.a)(e),a=t.sectionId;n=void 0===t.prevId?i.prev(".wish"):null!=t.prevId?Object(r.a)("#"+t.prevId):Object(r.a)([]);var s=null,f=null,d=null;return 0===(o=void 0===t.nextId?i.next(".wish"):null!=t.nextId?Object(r.a)("#"+t.nextId):Object(r.a)([])).length&&0===n.length?d=null===a?null:c():(0===o.length?s=l():0===n.length&&(f=u()),null==s&&(s=parseInt(o.attr("data-rank"),10)),null==f&&(f=parseInt(n.attr("data-rank"),10)),d=null!=s&&null!=f?Math.round((f+s)/2):null),{sortIndex:d,sectionId:a}}function d(e,t){void 0===t&&(t={});var n=f(e,t),o=n.sortIndex,i=n.sectionId,s=Object(r.a)(e);o&&a.b.dispatch("post/sortedPost",{postCid:s.data("post-cid"),sortIndex:o,sectionId:i})}function h(e){return i()(e,(function(e){return e.id?e.created_at:new Date}))}function p(e){return i()(e,(function(e){if(e.sort_index)return e.sort_index;var t=parseInt((e.rank||"")+new Date(e.created_at).getTime(),10);return Math.abs(s(t))})).reverse()}},function(e,t,n){"use strict";var r=n(31),o={data:function(){return{csrfToken:Object(r.a)()}}},i=n(1),a=Object(i.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:this.csrfToken}})}),[],!1,null,null,null);t.a=a.exports},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?f(e):t}function h(e,t,n){return(h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t,n,r){var o,i=!1,a=0;function s(){o&&clearTimeout(o)}function c(){var c=this,u=Date.now()-a,l=arguments;function f(){a=Date.now(),n.apply(c,l)}i||(r&&!o&&f(),s(),void 0===r&&u>e?f():!0!==t&&(o=setTimeout(r?function(){o=void 0}:f,void 0===r?e-u:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){s(),i=!0},c}var g=Object.freeze({throttle:y,debounce:function(e,t,n){return void 0===n?y(e,t,!1):y(e,n,!1!==t)}}),v=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n=t.Globals={};function r(e){return function(t,n){return e(n,t)}}t.throttle=r(g.throttle),t.debounce=r(g.debounce),t.getMergedDefinition=function(e){return n.Vue.util.mergeOptions({},e)},t.reapply=function(e,t){for(;"function"===typeof e;)e=e.call(t);return e},t.omit=function(e,t){return Object.entries(e).filter((function(e){var n=p(e,1)[0];return!t.includes(n)})).reduce((function(e,t){var n=p(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})},t.addGqlError=function(e){e.graphQLErrors&&e.graphQLErrors.length&&(e.gqlError=e.graphQLErrors[0])},t.noop=function(){}})),b=v.Globals,w=v.throttle,_=v.debounce,k=(v.getMergedDefinition,v.reapply),E=v.omit,C=v.addGqlError,O=(v.noop,function(){function e(t,n,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r(this,e),a(this,"type",null),a(this,"vueApolloSpecialKeys",[]),this.vm=t,this.key=n,this.initialOptions=o,this.options=Object.assign({},o),this._skip=!1,this._watchers=[],this._destroyed=!1,i&&this.autostart()}return i(e,[{key:"autostart",value:function(){"function"===typeof this.options.skip?this._skipWatcher=this.vm.$watch(this.options.skip.bind(this.vm),this.skipChanged.bind(this),{immediate:!0,deep:this.options.deep}):this.options.skip?this._skip=!0:this.start()}},{key:"skipChanged",value:function(e,t){e!==t&&(this.skip=e)}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var e=this;if(this.starting=!0,"function"===typeof this.initialOptions.query){var t=this.initialOptions.query.bind(this.vm);this.options.query=t(),this._watchers.push(this.vm.$watch(t,(function(t){e.options.query=t,e.refresh()}),{deep:this.options.deep}))}if("function"===typeof this.initialOptions.document){var n=this.initialOptions.document.bind(this.vm);this.options.document=n(),this._watchers.push(this.vm.$watch(n,(function(t){e.options.document=t,e.refresh()}),{deep:this.options.deep}))}if("function"===typeof this.initialOptions.context){var r=this.initialOptions.context.bind(this.vm);this.options.context=r(),this._watchers.push(this.vm.$watch(r,(function(t){e.options.context=t,e.refresh()}),{deep:this.options.deep}))}if("function"===typeof this.options.variables){var o=this.executeApollo.bind(this);o=this.options.throttle?w(o,this.options.throttle):o,o=this.options.debounce?_(o,this.options.debounce):o,this._watchers.push(this.vm.$watch((function(){return e.options.variables.call(e.vm)}),o,{immediate:!0,deep:this.options.deep}))}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._watchers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(i){t=!0,n=i}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(e){var t=E(this.options,this.vueApolloSpecialKeys);return t.variables=e,t}},{key:"executeApollo",value:function(e){this.starting=!1}},{key:"nextResult",value:function(e){var t=e.error;t&&C(t)}},{key:"callHandlers",value:function(e){for(var t=!1,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=!0,a=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;if(l){t=!0;var f=l.apply(this.vm,r);if("undefined"!==typeof f&&!f)break}}}catch(d){a=!0,s=d}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return t}},{key:"errorHandler",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.error,this.vm.$apollo.error,this.vm.$apollo.provider.errorHandler]].concat(t))}},{key:"catchError",value:function(e){if(C(e),!this.errorHandler(e))if(e.graphQLErrors&&0!==e.graphQLErrors.length){console.error("GraphQL execution errors for ".concat(this.type," '").concat(this.key,"'"));var t=!0,n=!1,r=void 0;try{for(var o,i=e.graphQLErrors[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;console.error(a)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else if(e.networkError)console.error("Error sending the ".concat(this.type," '").concat(this.key,"'"),e.networkError);else{var s;if(console.error("[vue-apollo] An error has occured for ".concat(this.type," '").concat(this.key,"'")),Array.isArray(e))(s=console).error.apply(s,m(e));else console.error(e)}}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.stop(),this._skipWatcher&&this._skipWatcher())}},{key:"skip",get:function(){return this._skip},set:function(e){e?this.stop():this.start(),this._skip=e}}]),e}()),S=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],T=function(e){function t(e,n,o){var i,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(r(this,t),o.query)||(o={query:o});return e.$data.$apolloData&&!e.$data.$apolloData.queries[n]&&e.$set(e.$data.$apolloData.queries,n,{loading:!1}),a(f(i=d(this,u(t).call(this,e,n,o,!1))),"type","query"),a(f(i),"vueApolloSpecialKeys",S),a(f(i),"_loading",!1),e.$isServer&&(i.firstRun=new Promise((function(e,t){i._firstRunResolve=e,i._firstRunReject=t}))),i.vm.$isServer&&(i.options.fetchPolicy="network-only"),o.manual||(i.hasDataField=i.vm.$data.hasOwnProperty(n),i.hasDataField?Object.defineProperty(i.vm.$data.$apolloData.data,n,{get:function(){return i.vm.$data[n]},enumerable:!0,configurable:!0}):Object.defineProperty(i.vm.$data,n,{get:function(){return i.vm.$data.$apolloData.data[n]},enumerable:!0,configurable:!0})),s&&i.autostart(),i}return c(t,e),i(t,[{key:"stop",value:function(){h(u(t.prototype),"stop",this).call(this),this.loadingDone(),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"executeApollo",value:function(e){var n=JSON.stringify(e);if(this.sub){if(n===this.previousVariablesJson)return;this.sub.unsubscribe()}if(this.previousVariablesJson=n,this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(e)),this.startQuerySubscription(),"no-cache"!==this.options.fetchPolicy){var r=this.maySetLoading();r.loading||this.nextResult(r)}h(u(t.prototype),"executeApollo",this).call(this,e)}},{key:"startQuerySubscription",value:function(){this.sub&&!this.sub.closed||(this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}))}},{key:"maySetLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.observer.currentResult();return(e||t.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),t}},{key:"nextResult",value:function(e){h(u(t.prototype),"nextResult",this).call(this,e);var n=e.data,r=e.loading;e.error&&this.firstRunReject(),r||this.loadingDone();var o="function"===typeof this.options.result;"undefined"===typeof n||(this.options.manual?o||console.error("".concat(this.key," query must have a 'result' hook in manual mode")):"function"===typeof this.options.update?this.setData(this.options.update.call(this.vm,n)):"undefined"===typeof n[this.key]&&Object.keys(n).length?console.error("Missing ".concat(this.key," attribute on result"),n):this.setData(n[this.key])),o&&this.options.result.call(this.vm,e,this.key)}},{key:"setData",value:function(e){this.vm.$set(this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data,this.key,e)}},{key:"catchError",value:function(e){h(u(t.prototype),"catchError",this).call(this,e),this.firstRunReject(),this.loadingDone(e),this.nextResult(this.observer.currentResult()),this.resubscribeToQuery()}},{key:"resubscribeToQuery",value:function(){var e=this.observer.getLastError(),t=this.observer.getLastResult();this.observer.resetLastResults(),this.startQuerySubscription(),Object.assign(this.observer,{lastError:e,lastResult:t})}},{key:"watchLoading",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.watchLoading,this.vm.$apollo.watchLoading,this.vm.$apollo.provider.watchLoading]].concat(t,[this]))}},{key:"applyLoadingModifier",value:function(e){var t=this.loadingKey;t&&"number"===typeof this.vm[t]&&(this.vm[t]+=e),this.watchLoading(1===e,e)}},{key:"loadingDone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading&&this.applyLoadingModifier(-1),this.loading=!1,e||this.firstRunResolve()}},{key:"fetchMore",value:function(){var e,t=this;if(this.observer)return this.maySetLoading(!0),(e=this.observer).fetchMore.apply(e,arguments).then((function(e){return e.loading||t.loadingDone(),e}))}},{key:"subscribeToMore",value:function(){var e;if(this.observer)return{unsubscribe:(e=this.observer).subscribeToMore.apply(e,arguments)}}},{key:"refetch",value:function(e){var t=this;if(e&&(this.options.variables=e),this.observer){var n=this.observer.refetch(e).then((function(e){return e.loading||t.loadingDone(),e}));return this.maySetLoading(),n}}},{key:"setVariables",value:function(e,t){if(this.options.variables=e,this.observer){var n=this.observer.setVariables(e,t);return this.maySetLoading(),n}}},{key:"setOptions",value:function(e){if(Object.assign(this.options,e),this.observer){var t=this.observer.setOptions(e);return this.maySetLoading(),t}}},{key:"startPolling",value:function(){var e;if(this.observer)return(e=this.observer).startPolling.apply(e,arguments)}},{key:"stopPolling",value:function(){var e;if(this.observer)return(e=this.observer).stopPolling.apply(e,arguments)}},{key:"firstRunResolve",value:function(){this._firstRunResolve&&(this._firstRunResolve(),this._firstRunResolve=null)}},{key:"firstRunReject",value:function(e){this._firstRunReject&&(this._firstRunReject(e),this._firstRunReject=null)}},{key:"destroy",value:function(){h(u(t.prototype),"destroy",this).call(this),this.loading&&this.watchLoading(!1,-1),this.loading=!1}},{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(e){this._loading!==e&&(this._loading=e,this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]&&(this.vm.$data.$apolloData.queries[this.key].loading=e,this.vm.$data.$apolloData.loading+=e?1:-1))}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}}]),t}(O),P=function(e){function t(){var e,n;r(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a(f(n=d(this,(e=u(t)).call.apply(e,[this].concat(i)))),"type","subscription"),a(f(n),"vueApolloSpecialKeys",["variables","result","error","throttle","debounce","linkedQuery"]),n}return c(t,e),i(t,[{key:"executeApollo",value:function(e){var n=JSON.stringify(e);if(this.sub){if(n===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=n;var r=this.generateApolloOptions(e);if("function"===typeof r.updateQuery&&(r.updateQuery=r.updateQuery.bind(this.vm)),this.options.linkedQuery){if("function"===typeof this.options.result){var o=this.options.result.bind(this.vm),i=r.updateQuery&&r.updateQuery.bind(this.vm);r.updateQuery=function(){return o.apply(void 0,arguments),i&&i.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(r)}else this.observer=this.vm.$apollo.subscribe(r),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});h(u(t.prototype),"executeApollo",this).call(this,e)}},{key:"nextResult",value:function(e){h(u(t.prototype),"nextResult",this).call(this,e),"function"===typeof this.options.result&&this.options.result.call(this.vm,e,this.key)}}]),t}(O),A=function(){function e(t){r(this,e),this._apolloSubscriptions=[],this._watchers=[],this.vm=t,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return i(e,[{key:"query",value:function(e){return this.getClient(e).query(e)}},{key:"getClient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||!e.client){if("object"===n(this.client))return this.client;if(this.client){if(this.provider.clients){var t=this.provider.clients[this.client];if(!t)throw new Error("[vue-apollo] Missing client '".concat(this.client,"' in 'apolloProvider'"));return t}throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'")}return this.provider.defaultClient}var r=this.provider.clients[e.client];if(!r)throw new Error("[vue-apollo] Missing client '".concat(e.client,"' in 'apolloProvider'"));return r}},{key:"watchQuery",value:function(e){var t=this,n=this.getClient(e).watchQuery(e),r=n.subscribe.bind(n);return n.subscribe=function(e){var n=r(e);return t._apolloSubscriptions.push(n),n},n}},{key:"mutate",value:function(e){return this.getClient(e).mutate(e)}},{key:"subscribe",value:function(e){var t=this;if(!this.vm.$isServer){var n=this.getClient(e).subscribe(e),r=n.subscribe.bind(n);return n.subscribe=function(e){var n=r(e);return t._apolloSubscriptions.push(n),n},n}}},{key:"addSmartQuery",value:function(e,t){var n,r=this,o=k(t,this.vm),i=this.vm.$options.apollo,a=this.provider.defaultOptions;if(i&&i.$query&&(n=i.$query),i&&i.$query||!a||!a.$query||(n=a.$query),n)for(var c in n)"undefined"===typeof o[c]&&(o[c]=n[c]);var u=this.queries[e]=new T(this.vm,e,o,!1);if(this.vm.$isServer&&!1===o.prefetch||u.autostart(),!this.vm.$isServer){var l=o.subscribeToMore;l&&(Array.isArray(l)?l.forEach((function(t,n){r.addSmartSubscription("".concat(e).concat(n),s({},t,{linkedQuery:u}))})):this.addSmartSubscription(e,s({},l,{linkedQuery:u})))}return u}},{key:"addSmartSubscription",value:function(e,t){if(!this.vm.$isServer){t=k(t,this.vm);var n=this.subscriptions[e]=new P(this.vm,e,t,!1);return n.autostart(),n}}},{key:"defineReactiveSetter",value:function(e,t,n){var r=this;this._watchers.push(this.vm.$watch(t,(function(t){r[e]=t}),{immediate:!0,deep:n}))}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._watchers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(s){t=!0,n=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}for(var i in this.queries)this.queries[i].destroy();for(var a in this.subscriptions)this.subscriptions[a].destroy();this._apolloSubscriptions.forEach((function(e){e.unsubscribe()})),this._apolloSubscriptions=null,this.vm=null}},{key:"provider",get:function(){return this.vm.$apolloProvider}},{key:"loading",get:function(){return 0!==this.vm.$data.$apolloData.loading}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"skipAllQueries",set:function(e){for(var t in this.queries)this.queries[t].skip=e}},{key:"skipAllSubscriptions",set:function(e){for(var t in this.subscriptions)this.subscriptions[t].skip=e}},{key:"skipAll",set:function(e){this.skipAllQueries=e,this.skipAllSubscriptions=e}}]),e}(),I=function(){function e(t){if(r(this,e),!t)throw new Error("Options argument required");this.clients=t.clients||{},this.clients.defaultClient=this.defaultClient=t.defaultClient,this.defaultOptions=t.defaultOptions,this.watchLoading=t.watchLoading,this.errorHandler=t.errorHandler,this.prefetchQueries=[]}return i(e,[{key:"provide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$apolloProvider";return console.warn("<ApolloProvider>.provide() is deprecated. Use the 'apolloProvider' option instead with the provider object directly."),a({},e,this)}}]),e}(),x="function"===typeof Symbol?Symbol.for("nodejs.util.inspect.custom"):void 0;function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=10,N=2;function R(e,t){switch(j(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]);if(e){var r=function(e){var t=e[String(x)];if("function"===typeof t)return t;if("function"===typeof e.inspect)return e.inspect}(e);if(r){var o=r.call(e);if(o!==e)return"string"===typeof o?o:R(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>N)return"[Array]";for(var n=Math.min(D,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(R(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>N)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+R(e[n],t)})).join(", ")+" }"}(e,n)}return String(e)}(e,t);default:return String(e)}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,x&&(e.prototype[x]=t)}function L(e,t){if(!e)throw new Error(t)}var F,B=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||L(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||L(0,"column in locationOffset is 1-indexed and must be positive")};function U(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function q(e,t){var n=e.locationOffset.column-1,r=V(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,c=t.column+s,u=r.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(a,":").concat(c,")\n")+function(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=0,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value[0];n=Math.max(n,c.length)}}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t.map((function(e){var t,r=e[0],o=e[1];return V(n-(t=r).length)+t+o})).join("\n")}([["".concat(a-1,": "),u[o-1]],["".concat(a,": "),u[o]],["",V(c-1)+"^"],["".concat(a+1,": "),u[o+1]]])}function V(e){return Array(e+1).join(" ")}function W(e,t,n,r,o,i,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&s){var u=s[0];c=u&&u.loc&&u.loc.source}var l,f=r;!f&&s&&(f=s.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),f&&0===f.length&&(f=void 0),r&&n?l=r.map((function(e){return U(n,e)})):s&&(l=s.reduce((function(e,t){return t.loc&&e.push(U(t.loc.source,t.loc.start)),e}),[]));var d=a||i&&i.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:o||void 0,enumerable:Boolean(o)},nodes:{value:s||void 0},source:{value:c||void 0},positions:{value:f||void 0},originalError:{value:i},extensions:{value:d||void 0,enumerable:Boolean(d)}}),i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,W):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function G(e,t,n){return new W("Syntax Error: ".concat(n),void 0,e,[t])}function H(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,r=1;r<t.length;r++){var o=t[r],i=z(o);if(i<o.length&&(null===n||i<n)&&0===(n=i))break}if(n)for(var a=1;a<t.length;a++)t[a]=t[a].slice(n);for(;t.length>0&&Q(t[0]);)t.shift();for(;t.length>0&&Q(t[t.length-1]);)t.pop();return t.join("\n")}function z(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function Q(e){return z(e)===e.length}function $(e,t){var n=new Z(X.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:K,lookahead:Y}}function K(){return this.lastToken=this.token,this.token=this.lookahead()}function Y(){var e=this.token;if(e.kind!==X.EOF)do{e=e.next||(e.next=te(this,e))}while(e.kind===X.COMMENT);return e}F=B,"function"===typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(F.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}}),W.prototype=Object.create(Error.prototype,{constructor:{value:W},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var n=!0,r=!1,o=void 0;try{for(var i,a=e.nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.loc&&t.push(q(s.loc.source,U(s.loc.source,s.loc.start)))}}catch(m){r=!0,o=m}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else if(e.source&&e.locations){var c=e.source,u=!0,l=!1,f=void 0;try{for(var d,h=e.locations[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var p=d.value;t.push(q(c,p))}}catch(m){l=!0,f=m}finally{try{u||null==h.return||h.return()}finally{if(l)throw f}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}(this)}}});var X=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function J(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}function Z(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}function ee(e){return isNaN(e)?X.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function te(e,t){var n=e.source,r=n.body,o=r.length,i=function(e,t,n){var r=e.length,o=t;for(;o<r;){var i=e.charCodeAt(o);if(9===i||32===i||44===i||65279===i)++o;else if(10===i)++o,++n.line,n.lineStart=o;else{if(13!==i)break;10===e.charCodeAt(o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(r,t.end,e),a=e.line,s=1+i-e.lineStart;if(i>=o)return new Z(X.EOF,o,o,a,s,t);var c=r.charCodeAt(i);switch(c){case 33:return new Z(X.BANG,i,i+1,a,s,t);case 35:return function(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new Z(X.COMMENT,t,s,n,r,o,a.slice(t+1,s))}(n,i,a,s,t);case 36:return new Z(X.DOLLAR,i,i+1,a,s,t);case 38:return new Z(X.AMP,i,i+1,a,s,t);case 40:return new Z(X.PAREN_L,i,i+1,a,s,t);case 41:return new Z(X.PAREN_R,i,i+1,a,s,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new Z(X.SPREAD,i,i+3,a,s,t);break;case 58:return new Z(X.COLON,i,i+1,a,s,t);case 61:return new Z(X.EQUALS,i,i+1,a,s,t);case 64:return new Z(X.AT,i,i+1,a,s,t);case 91:return new Z(X.BRACKET_L,i,i+1,a,s,t);case 93:return new Z(X.BRACKET_R,i,i+1,a,s,t);case 123:return new Z(X.BRACE_L,i,i+1,a,s,t);case 124:return new Z(X.PIPE,i,i+1,a,s,t);case 125:return new Z(X.BRACE_R,i,i+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var i=e.body,a=i.length,s=t+1,c=0;for(;s!==a&&!isNaN(c=i.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new Z(X.NAME,t,s,n,r,o,i.slice(t,s))}(n,i,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,i){var a=e.body,s=n,c=t,u=!1;45===s&&(s=a.charCodeAt(++c));if(48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw G(e,c,"Invalid number, unexpected digit after 0: ".concat(ee(s),"."))}else c=ne(e,c,s),s=a.charCodeAt(c);46===s&&(u=!0,s=a.charCodeAt(++c),c=ne(e,c,s),s=a.charCodeAt(c));69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=ne(e,c,s));return new Z(u?X.FLOAT:X.INT,t,c,r,o,i,a.slice(t,c))}(n,i,c,a,s,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?function(e,t,n,r,o,i){var a=e.body,s=t+3,c=s,u=0,l="";for(;s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new Z(X.BLOCK_STRING,t,s+3,n,r,o,H(l));if(u<32&&9!==u&&10!==u&&13!==u)throw G(e,s,"Invalid character within String: ".concat(ee(u),"."));10===u?(++s,++i.line,i.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw G(e,s,"Unterminated string.")}(n,i,a,s,t,e):function(e,t,n,r,o){var i=e.body,a=t+1,s=a,c=0,u="";for(;a<i.length&&!isNaN(c=i.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return u+=i.slice(s,a),new Z(X.STRING,t,a+1,n,r,o,u);if(c<32&&9!==c)throw G(e,a,"Invalid character within String: ".concat(ee(c),"."));if(++a,92===c){switch(u+=i.slice(s,a-1),c=i.charCodeAt(a)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=(f=i.charCodeAt(a+1),d=i.charCodeAt(a+2),h=i.charCodeAt(a+3),p=i.charCodeAt(a+4),re(f)<<12|re(d)<<8|re(h)<<4|re(p));if(l<0)throw G(e,a,"Invalid character escape sequence: "+"\\u".concat(i.slice(a+1,a+5),"."));u+=String.fromCharCode(l),a+=4;break;default:throw G(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}var f,d,h,p;throw G(e,a,"Unterminated string.")}(n,i,a,s,t)}throw G(n,i,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(ee(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(ee(e),".")}(c))}function ne(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw G(e,o,"Invalid number, expected digit but got: ".concat(ee(i),"."))}function re(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}M(Z,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}));var oe=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),ie=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function ae(e){var t=He(e,X.NAME);return{kind:oe.NAME,value:t.value,loc:Ve(e,t)}}function se(e){if(Ge(e,X.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return ce(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return Pe(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===X.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"schema");var n=Ce(e,!0),r=Ge(e,X.BRACE_L)?Xe(e,X.BRACE_L,xe,X.BRACE_R):[];if(0===n.length&&0===r.length)throw Ke(e);return{kind:oe.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:Ve(e,t)}}(e);case"scalar":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"scalar");var n=ae(e),r=Ce(e,!0);if(0===r.length)throw Ke(e);return{kind:oe.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Ve(e,t)}}(e);case"type":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"type");var n=ae(e),r=je(e),o=Ce(e,!0),i=De(e);if(0===r.length&&0===o.length&&0===i.length)throw Ke(e);return{kind:oe.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:i,loc:Ve(e,t)}}(e);case"interface":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"interface");var n=ae(e),r=Ce(e,!0),o=De(e);if(0===r.length&&0===o.length)throw Ke(e);return{kind:oe.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Ve(e,t)}}(e);case"union":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"union");var n=ae(e),r=Ce(e,!0),o=Le(e);if(0===r.length&&0===o.length)throw Ke(e);return{kind:oe.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:Ve(e,t)}}(e);case"enum":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"enum");var n=ae(e),r=Ce(e,!0),o=Fe(e);if(0===r.length&&0===o.length)throw Ke(e);return{kind:oe.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:Ve(e,t)}}(e);case"input":return function(e){var t=e.token;Qe(e,"extend"),Qe(e,"input");var n=ae(e),r=Ce(e,!0),o=Ue(e);if(0===r.length&&0===o.length)throw Ke(e);return{kind:oe.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Ve(e,t)}}(e)}throw Ke(e,t)}(e)}else{if(Ge(e,X.BRACE_L))return ce(e);if(Ae(e))return Pe(e)}throw Ke(e)}function ce(e){if(Ge(e,X.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return ue(e);case"fragment":return function(e){var t=e.token;if(Qe(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:oe.FRAGMENT_DEFINITION,name:be(e),variableDefinitions:fe(e),typeCondition:(Qe(e,"on"),Te(e)),directives:Ce(e,!1),selectionSet:pe(e),loc:Ve(e,t)};return{kind:oe.FRAGMENT_DEFINITION,name:be(e),typeCondition:(Qe(e,"on"),Te(e)),directives:Ce(e,!1),selectionSet:pe(e),loc:Ve(e,t)}}(e)}else if(Ge(e,X.BRACE_L))return ue(e);throw Ke(e)}function ue(e){var t=e.token;if(Ge(e,X.BRACE_L))return{kind:oe.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:pe(e),loc:Ve(e,t)};var n,r=le(e);return Ge(e,X.NAME)&&(n=ae(e)),{kind:oe.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:fe(e),directives:Ce(e,!1),selectionSet:pe(e),loc:Ve(e,t)}}function le(e){var t=He(e,X.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Ke(e,t)}function fe(e){return Ge(e,X.PAREN_L)?Xe(e,X.PAREN_L,de,X.PAREN_R):[]}function de(e){var t=e.token;return{kind:oe.VARIABLE_DEFINITION,variable:he(e),type:(He(e,X.COLON),Se(e)),defaultValue:ze(e,X.EQUALS)?we(e,!0):void 0,directives:Ce(e,!0),loc:Ve(e,t)}}function he(e){var t=e.token;return He(e,X.DOLLAR),{kind:oe.VARIABLE,name:ae(e),loc:Ve(e,t)}}function pe(e){var t=e.token;return{kind:oe.SELECTION_SET,selections:Xe(e,X.BRACE_L,me,X.BRACE_R),loc:Ve(e,t)}}function me(e){return Ge(e,X.SPREAD)?function(e){var t=e.token;He(e,X.SPREAD);var n=$e(e,"on");if(!n&&Ge(e,X.NAME))return{kind:oe.FRAGMENT_SPREAD,name:be(e),directives:Ce(e,!1),loc:Ve(e,t)};return{kind:oe.INLINE_FRAGMENT,typeCondition:n?Te(e):void 0,directives:Ce(e,!1),selectionSet:pe(e),loc:Ve(e,t)}}(e):function(e){var t,n,r=e.token,o=ae(e);ze(e,X.COLON)?(t=o,n=ae(e)):n=o;return{kind:oe.FIELD,alias:t,name:n,arguments:ye(e,!1),directives:Ce(e,!1),selectionSet:Ge(e,X.BRACE_L)?pe(e):void 0,loc:Ve(e,r)}}(e)}function ye(e,t){var n=t?ve:ge;return Ge(e,X.PAREN_L)?Xe(e,X.PAREN_L,n,X.PAREN_R):[]}function ge(e){var t=e.token,n=ae(e);return He(e,X.COLON),{kind:oe.ARGUMENT,name:n,value:we(e,!1),loc:Ve(e,t)}}function ve(e){var t=e.token;return{kind:oe.ARGUMENT,name:ae(e),value:(He(e,X.COLON),ke(e)),loc:Ve(e,t)}}function be(e){if("on"===e.token.value)throw Ke(e);return ae(e)}function we(e,t){var n=e.token;switch(n.kind){case X.BRACKET_L:return function(e,t){var n=e.token,r=t?ke:Ee;return{kind:oe.LIST,values:Ye(e,X.BRACKET_L,r,X.BRACKET_R),loc:Ve(e,n)}}(e,t);case X.BRACE_L:return function(e,t){var n=e.token;return{kind:oe.OBJECT,fields:Ye(e,X.BRACE_L,(function(){return function(e,t){var n=e.token,r=ae(e);return He(e,X.COLON),{kind:oe.OBJECT_FIELD,name:r,value:we(e,t),loc:Ve(e,n)}}(e,t)}),X.BRACE_R),loc:Ve(e,n)}}(e,t);case X.INT:return e.advance(),{kind:oe.INT,value:n.value,loc:Ve(e,n)};case X.FLOAT:return e.advance(),{kind:oe.FLOAT,value:n.value,loc:Ve(e,n)};case X.STRING:case X.BLOCK_STRING:return _e(e);case X.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:oe.BOOLEAN,value:"true"===n.value,loc:Ve(e,n)}):"null"===n.value?(e.advance(),{kind:oe.NULL,loc:Ve(e,n)}):(e.advance(),{kind:oe.ENUM,value:n.value,loc:Ve(e,n)});case X.DOLLAR:if(!t)return he(e)}throw Ke(e)}function _e(e){var t=e.token;return e.advance(),{kind:oe.STRING,value:t.value,block:t.kind===X.BLOCK_STRING,loc:Ve(e,t)}}function ke(e){return we(e,!0)}function Ee(e){return we(e,!1)}function Ce(e,t){for(var n=[];Ge(e,X.AT);)n.push(Oe(e,t));return n}function Oe(e,t){var n=e.token;return He(e,X.AT),{kind:oe.DIRECTIVE,name:ae(e),arguments:ye(e,t),loc:Ve(e,n)}}function Se(e){var t,n=e.token;return ze(e,X.BRACKET_L)?(t=Se(e),He(e,X.BRACKET_R),t={kind:oe.LIST_TYPE,type:t,loc:Ve(e,n)}):t=Te(e),ze(e,X.BANG)?{kind:oe.NON_NULL_TYPE,type:t,loc:Ve(e,n)}:t}function Te(e){var t=e.token;return{kind:oe.NAMED_TYPE,name:ae(e),loc:Ve(e,t)}}function Pe(e){var t=Ae(e)?e.lookahead():e.token;if(t.kind===X.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Qe(e,"schema");var n=Ce(e,!0),r=Xe(e,X.BRACE_L,xe,X.BRACE_R);return{kind:oe.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Ve(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=Ie(e);Qe(e,"scalar");var r=ae(e),o=Ce(e,!0);return{kind:oe.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:Ve(e,t)}}(e);case"type":return function(e){var t=e.token,n=Ie(e);Qe(e,"type");var r=ae(e),o=je(e),i=Ce(e,!0),a=De(e);return{kind:oe.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:i,fields:a,loc:Ve(e,t)}}(e);case"interface":return function(e){var t=e.token,n=Ie(e);Qe(e,"interface");var r=ae(e),o=Ce(e,!0),i=De(e);return{kind:oe.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Ve(e,t)}}(e);case"union":return function(e){var t=e.token,n=Ie(e);Qe(e,"union");var r=ae(e),o=Ce(e,!0),i=Le(e);return{kind:oe.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:i,loc:Ve(e,t)}}(e);case"enum":return function(e){var t=e.token,n=Ie(e);Qe(e,"enum");var r=ae(e),o=Ce(e,!0),i=Fe(e);return{kind:oe.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:i,loc:Ve(e,t)}}(e);case"input":return function(e){var t=e.token,n=Ie(e);Qe(e,"input");var r=ae(e),o=Ce(e,!0),i=Ue(e);return{kind:oe.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Ve(e,t)}}(e);case"directive":return function(e){var t=e.token,n=Ie(e);Qe(e,"directive"),He(e,X.AT);var r=ae(e),o=Re(e);Qe(e,"on");var i=function(e){ze(e,X.PIPE);var t=[];do{t.push(qe(e))}while(ze(e,X.PIPE));return t}(e);return{kind:oe.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,locations:i,loc:Ve(e,t)}}(e)}throw Ke(e,t)}function Ae(e){return Ge(e,X.STRING)||Ge(e,X.BLOCK_STRING)}function Ie(e){if(Ae(e))return _e(e)}function xe(e){var t=e.token,n=le(e);He(e,X.COLON);var r=Te(e);return{kind:oe.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Ve(e,t)}}function je(e){var t=[];if($e(e,"implements")){ze(e,X.AMP);do{t.push(Te(e))}while(ze(e,X.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Ge(e,X.NAME))}return t}function De(e){return e.options.allowLegacySDLEmptyFields&&Ge(e,X.BRACE_L)&&e.lookahead().kind===X.BRACE_R?(e.advance(),e.advance(),[]):Ge(e,X.BRACE_L)?Xe(e,X.BRACE_L,Ne,X.BRACE_R):[]}function Ne(e){var t=e.token,n=Ie(e),r=ae(e),o=Re(e);He(e,X.COLON);var i=Se(e),a=Ce(e,!0);return{kind:oe.FIELD_DEFINITION,description:n,name:r,arguments:o,type:i,directives:a,loc:Ve(e,t)}}function Re(e){return Ge(e,X.PAREN_L)?Xe(e,X.PAREN_L,Me,X.PAREN_R):[]}function Me(e){var t=e.token,n=Ie(e),r=ae(e);He(e,X.COLON);var o,i=Se(e);ze(e,X.EQUALS)&&(o=ke(e));var a=Ce(e,!0);return{kind:oe.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:a,loc:Ve(e,t)}}function Le(e){var t=[];if(ze(e,X.EQUALS)){ze(e,X.PIPE);do{t.push(Te(e))}while(ze(e,X.PIPE))}return t}function Fe(e){return Ge(e,X.BRACE_L)?Xe(e,X.BRACE_L,Be,X.BRACE_R):[]}function Be(e){var t=e.token,n=Ie(e),r=ae(e),o=Ce(e,!0);return{kind:oe.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:Ve(e,t)}}function Ue(e){return Ge(e,X.BRACE_L)?Xe(e,X.BRACE_L,Me,X.BRACE_R):[]}function qe(e){var t=e.token,n=ae(e);if(ie.hasOwnProperty(n.value))return n;throw Ke(e,t)}function Ve(e,t){if(!e.options.noLocation)return new We(t,e.lastToken,e.source)}function We(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Ge(e,t){return e.token.kind===t}function He(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw G(e.source,n.start,"Expected ".concat(t,", found ").concat(J(n)))}function ze(e,t){var n=e.token;if(n.kind===t)return e.advance(),n}function Qe(e,t){var n=e.token;if(n.kind===X.NAME&&n.value===t)return e.advance(),n;throw G(e.source,n.start,'Expected "'.concat(t,'", found ').concat(J(n)))}function $e(e,t){var n=e.token;if(n.kind===X.NAME&&n.value===t)return e.advance(),n}function Ke(e,t){var n=t||e.token;return G(e.source,n.start,"Unexpected ".concat(J(n)))}function Ye(e,t,n,r){He(e,t);for(var o=[];!ze(e,r);)o.push(n(e));return o}function Xe(e,t,n,r){He(e,t);for(var o=[n(e)];!ze(e,r);)o.push(n(e));return o}M(We,(function(){return{start:this.start,end:this.end}}));var Je,Ze=((Je=Object.freeze({parse:function(e,t){var n="string"===typeof e?new B(e):e;if(!(n instanceof B))throw new TypeError("Must provide Source. Received: ".concat(R(n,[])));return function(e){var t=e.token;return{kind:oe.DOCUMENT,definitions:Xe(e,X.SOF,se,X.EOF),loc:Ve(e,t)}}($(n,t||{}))},parseValue:function(e,t){var n=$("string"===typeof e?new B(e):e,t||{});He(n,X.SOF);var r=we(n,!1);return He(n,X.EOF),r},parseType:function(e,t){var n=$("string"===typeof e?new B(e):e,t||{});He(n,X.SOF);var r=Se(n);return He(n,X.EOF),r},parseConstValue:ke,parseTypeReference:Se,parseNamedType:Te}))&&Je.default||Je).parse;function et(e){return e.replace(/[\s,]+/g," ").trim()}var tt={},nt={};function rt(e){return et(e.source.body.substring(e.start,e.end))}var ot=!0;var it=!1;function at(e){var t=et(e);if(tt[t])return tt[t];var n=Ze(e,{experimentalFragmentVariables:it});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,i,a,s=Object.keys(t);for(o in s)s.hasOwnProperty(o)&&(i=t[s[o]],"[object Object]"!==(a=Object.prototype.toString.call(i))&&"[object Array]"!==a||(t[s[o]]=e(i,!0)));return t}(n=function(e){for(var t={},n=[],r=0;r<e.definitions.length;r++){var o=e.definitions[r];if("FragmentDefinition"===o.kind){var i=o.name.value,a=rt(o.loc);nt.hasOwnProperty(i)&&!nt[i][a]?(ot&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),nt[i][a]=!0):nt.hasOwnProperty(i)||(nt[i]={},nt[i][a]=!0),t[a]||(t[a]=!0,n.push(o))}else n.push(o)}return e.definitions=n,e}(n),!1),tt[t]=n,n}function st(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"===typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return at(n)}st.default=st,st.resetCaches=function(){tt={},nt={}},st.disableFragmentWarnings=function(){ot=!1},st.enableExperimentalFragmentVariables=function(){it=!0},st.disableExperimentalFragmentVariables=function(){it=!1};var ct=st;var ut={name:"ApolloQuery",provide:function(){return{getDollarApollo:this.getDollarApollo,getApolloQuery:this.getApolloQuery}},props:{query:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},fetchPolicy:{type:String,default:void 0},pollInterval:{type:Number,default:void 0},notifyOnNetworkStatusChange:{type:Boolean,default:void 0},context:{type:Object,default:void 0},update:{type:Function,default:function(e){return e}},skip:{type:Boolean,default:!1},debounce:{type:Number,default:0},throttle:{type:Number,default:0},clientId:{type:String,default:void 0},deep:{type:Boolean,default:void 0},tag:{type:String,default:"div"},prefetch:{type:Boolean,default:!0}},data:function(){return{result:{data:null,loading:!1,networkStatus:7,error:null},times:0}},watch:{fetchPolicy:function(e){this.$apollo.queries.query.setOptions({fetchPolicy:e})},pollInterval:function(e){this.$apollo.queries.query.setOptions({pollInterval:e})},notifyOnNetworkStatusChange:function(e){this.$apollo.queries.query.setOptions({notifyOnNetworkStatusChange:e})},"$data.$apolloData.loading":function(e){this.$emit("loading",!!e)}},apollo:{$client:function(){return this.clientId},query:function(){return{query:function(){return"function"===typeof this.query?this.query(ct):this.query},variables:function(){return this.variables},fetchPolicy:this.fetchPolicy,pollInterval:this.pollInterval,debounce:this.debounce,throttle:this.throttle,notifyOnNetworkStatusChange:this.notifyOnNetworkStatusChange,context:function(){return this.context},skip:function(){return this.skip},deep:this.deep,prefetch:this.prefetch,manual:!0,result:function(e){var t=e,n=t.errors,r=t.loading,o=t.networkStatus,i=e.error;e=Object.assign({},e),n&&n.length&&((i=new Error("Apollo errors occured (".concat(n.length,")"))).graphQLErrors=n);var a={};r?Object.assign(a,this.$_previousData,e.data):i?Object.assign(a,this.$apollo.queries.query.observer.getLastResult()||{},e.data):(a=e.data,this.$_previousData=e.data);var s=function(e){return Object.keys(e).length>0}(a);this.result={data:s?this.update(a):void 0,fullData:s?a:void 0,loading:r,error:i,networkStatus:o},this.times=++this.$_times,this.$emit("result",this.result)},error:function(e){this.result.loading=!1,this.result.error=e,this.$emit("error",e)}}}},created:function(){this.$_times=0},methods:{getDollarApollo:function(){return this.$apollo},getApolloQuery:function(){return this.$apollo.queries.query}},render:function(e){var t=this.$scopedSlots.default({result:this.result,times:this.times,query:this.$apollo.queries.query,isLoading:this.$apolloData.loading,gqlError:this.result&&this.result.error&&this.result.error.gqlError});return t=Array.isArray(t)?t.concat(this.$slots.default):[t].concat(this.$slots.default),this.tag?e(this.tag,t):t[0]}},lt=0,ft={name:"ApolloSubscribeToMore",inject:["getDollarApollo","getApolloQuery"],props:{document:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},updateQuery:{type:Function,default:void 0}},watch:{document:"refresh",variables:"refresh"},created:function(){this.$_key="sub_component_".concat(lt++)},mounted:function(){this.refresh()},beforeDestroy:function(){this.destroy()},methods:{destroy:function(){this.$_sub&&this.$_sub.destroy()},refresh:function(){this.destroy();var e=this.document;"function"===typeof e&&(e=e(ct)),this.$_sub=this.getDollarApollo().addSmartSubscription(this.$_key,{document:e,variables:this.variables,updateQuery:this.updateQuery,linkedQuery:this.getApolloQuery()})}},render:function(e){return null}},dt={props:{mutation:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},optimisticResponse:{type:Object,default:void 0},update:{type:Function,default:void 0},refetchQueries:{type:Function,default:void 0},clientId:{type:String,default:void 0},tag:{type:String,default:"div"}},data:function(){return{loading:!1,error:null}},watch:{loading:function(e){this.$emit("loading",e)}},methods:{mutate:function(e){var t=this;this.loading=!0,this.error=null;var n=this.mutation;"function"===typeof n&&(n=n(ct)),this.$apollo.mutate(s({mutation:n,client:this.clientId,variables:this.variables,optimisticResponse:this.optimisticResponse,update:this.update,refetchQueries:this.refetchQueries},e)).then((function(e){t.$emit("done",e),t.loading=!1})).catch((function(e){C(e),t.error=e,t.$emit("error",e),t.loading=!1}))}},render:function(e){var t=this.$scopedSlots.default({mutate:this.mutate,loading:this.loading,error:this.error,gqlError:this.error&&this.error.gqlError});return t=Array.isArray(t)?t.concat(this.$slots.default):[t].concat(this.$slots.default),this.tag?e(this.tag,t):t[0]}};function ht(e,t){return"undefined"!==typeof e&&Object.prototype.hasOwnProperty.call(e,t)}function pt(){var e=this.$options,t=e.apolloProvider;if(t)this.$apolloProvider="function"===typeof t?t():t;else if(e.parent&&e.parent.$apolloProvider)this.$apolloProvider=e.parent.$apolloProvider;else if(e.provide){var n="function"===typeof e.provide?e.provide.call(this):e.provide;n&&n.$apolloProvider&&(this.$apolloProvider=n.$apolloProvider)}}function mt(){var e=this;this.$_apolloInitData={};var t=this.$options.apollo;if(t){var n=function(n){"$"!==n.charAt(0)&&(t[n].manual||ht(e.$options.props,n)||ht(e.$options.computed,n)||ht(e.$options.methods,n)||Object.defineProperty(e,n,{get:function(){return e.$data.$apolloData.data[n]},set:function(t){return e.$_apolloInitData[n]=t},enumerable:!0,configurable:!0}))};for(var r in t)n(r)}}function yt(){var e=this,t=this.$apolloProvider;if(!this._apolloLaunched&&t){this._apolloLaunched=!0;var n=this.$options.apollo;if(n){for(var r in this.$_apolloPromises=[],n.$init||(n.$init=!0,t.defaultOptions&&(n=this.$options.apollo=Object.assign({},t.defaultOptions,n))),gt(this.$apollo,"skipAll",n.$skipAll,n.$deep),gt(this.$apollo,"skipAllQueries",n.$skipAllQueries,n.$deep),gt(this.$apollo,"skipAllSubscriptions",n.$skipAllSubscriptions,n.$deep),gt(this.$apollo,"client",n.$client,n.$deep),gt(this.$apollo,"loadingKey",n.$loadingKey,n.$deep),gt(this.$apollo,"error",n.$error,n.$deep),gt(this.$apollo,"watchLoading",n.$watchLoading,n.$deep),Object.defineProperty(this,"$apolloData",{get:function(){return e.$data.$apolloData},enumerable:!0,configurable:!0}),n)if("$"!==r.charAt(0)){var o=n[r],i=this.$apollo.addSmartQuery(r,o);this.$isServer&&(!1===(o=k(o,this)).prefetch||!1===n.$prefetch||i.skip||this.$_apolloPromises.push(i.firstRun))}if(n.subscribe&&b.Vue.util.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),n.$subscribe)for(var a in n.$subscribe)this.$apollo.addSmartSubscription(a,n.$subscribe[a])}}}function gt(e,t,n,r){"undefined"!==typeof n&&("function"===typeof n?e.defineReactiveSetter(t,n,r):e[t]=n)}function vt(){this.$_apollo&&(this.$_apollo.destroy(),this.$_apollo=null)}function bt(e,t){e.mixin(s({},"1"===t?{init:pt}:{},"2"===t?{data:function(){return{$apolloData:{queries:{},loading:0,data:this.$_apolloInitData}}},beforeCreate:function(){pt.call(this),mt.call(this)},serverPrefetch:function(){if(this.$_apolloPromises)return Promise.all(this.$_apolloPromises)}}:{},{created:yt,destroyed:vt}))}var wt=["$subscribe"];I.install=function e(t,n){if(!e.installed){e.installed=!0,b.Vue=t;var r=t.version.substr(0,t.version.indexOf(".")),o=t.config.optionMergeStrategies.methods;t.config.optionMergeStrategies.apollo=function(e,t,n){if(!e)return t;if(!t)return e;for(var r=Object.assign({},E(e,wt),e.data),i=Object.assign({},E(t,wt),t.data),a={},s=0;s<wt.length;s++){var c=wt[s];a[c]=o(e[c],t[c])}return Object.assign(a,o(r,i))},Object.defineProperty(t.prototype,"$apollo",{get:function(){return this.$_apollo||(this.$_apollo=new A(this)),this.$_apollo}}),bt(t,r),"2"===r&&(t.component("apollo-query",ut),t.component("ApolloQuery",ut),t.component("apollo-subscribe-to-more",ft),t.component("ApolloSubscribeToMore",ft),t.component("apollo-mutation",dt),t.component("ApolloMutation",dt))}},I.version="3.0.0-beta.30";var _t=null;"undefined"!==typeof window?_t=window.Vue:"undefined"!==typeof e&&(_t=e.Vue),_t&&_t.use(I),t.a=I}).call(this,n(28))},,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(54),o=n(57),i=n(148),a=n(101),s=n(102),c=function(e,t,n){var u,l,f,d=e&c.F,h=e&c.G,p=e&c.S,m=e&c.P,y=e&c.B,g=e&c.W,v=h?o:o[t]||(o[t]={}),b=v.prototype,w=h?r:p?r[t]:(r[t]||{}).prototype;for(u in h&&(n=t),n)(l=!d&&w&&void 0!==w[u])&&s(v,u)||(f=l?w[u]:n[u],v[u]=h&&"function"!=typeof w[u]?n[u]:y&&l?i(f,r):g&&w[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((v.virtual||(v.virtual={}))[u]=f,e&c.R&&b&&!b[u]&&a(b,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(95);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(149)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(0),o="Invariant Violation",i=Object.setPrototypeOf,a=void 0===i?function(e,t){return e.__proto__=t,e}:i,s=function(e){function t(n){void 0===n&&(n=o);var r=e.call(this,"number"===typeof n?o+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=o,a(r,t.prototype),r}return Object(r.__extends)(t,e),t}(Error);function c(e,t){if(!e)throw new s(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(c||(c={}));var l={env:{}};if("object"===typeof e)l=e;else try{Function("stub","process = stub")(l)}catch(f){}}).call(this,n(46))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(0),o="Invariant Violation",i=Object.setPrototypeOf,a=void 0===i?function(e,t){return e.__proto__=t,e}:i,s=function(e){function t(n){void 0===n&&(n=o);var r=e.call(this,"number"===typeof n?o+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=o,a(r,t.prototype),r}return Object(r.__extends)(t,e),t}(Error);function c(e,t){if(!e)throw new s(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(c||(c={}));var l={env:{}};if("object"===typeof e)l=e;else try{Function("stub","process = stub")(l)}catch(f){}}).call(this,n(46))},function(e,t,n){(function(t){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,y=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==o}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var o,i,a,s,c,u,l=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=o,r=i;return o=i=void 0,l=t,s=e.apply(r,n)}function w(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=a}function _(){var e=y();if(w(e))return k(e);c=setTimeout(_,function(e){var n=t-(e-u);return d?m(n,a-(e-l)):n}(e))}function k(e){return c=void 0,h&&o?b(e):(o=i=void 0,s)}function E(){var e=y(),n=w(e);if(o=arguments,i=this,u=e,n){if(void 0===c)return function(e){return l=e,c=setTimeout(_,t),f?b(e):s}(u);if(d)return c=setTimeout(_,t),b(u)}return void 0===c&&(c=setTimeout(_,t)),s}return t=v(t)||0,g(r)&&(f=!!r.leading,a=(d="maxWait"in r)?p(v(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),E.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},E.flush=function(){return void 0===c?s:k(y())},E}}).call(this,n(28))},function(e,t,n){"use strict";var r,o=n(11),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentValue="",t.height=null,t}return i(t,e),Object.defineProperty(t.prototype,"style",{get:function(){return this.height?{height:this.height+"px"}:{}},enumerable:!0,configurable:!0}),t.prototype.mounted=function(){this.currentValue=this.value,this.autosize()},t.prototype.autosize=function(){var e=this;this.height=null,this.$nextTick((function(){e.height=e.$el.scrollHeight}))},t.prototype.updateCurrentValue=function(e){this.currentValue=e||"",this.removeNewlinesIfDisallowed()},t.prototype.onInput=function(){this.removeNewlinesIfDisallowed(),this.$emit("input",this.currentValue)},t.prototype.onEnter=function(e){this.allowNewlines||(this.$emit("enter",this.currentValue),e.preventDefault())},t.prototype.removeNewlinesIfDisallowed=function(){if(!this.allowNewlines){var e=this.currentValue.replace(/\n|\r/g,"");this.currentValue!==e&&(this.currentValue=e)}},t.prototype.focus=function(){var e=this;this.$nextTick((function(){return e.$el.focus()}))},a([Object(o.c)({default:""}),s("design:type",Object)],t.prototype,"value",void 0),a([Object(o.c)({default:""}),s("design:type",Object)],t.prototype,"placeholder",void 0),a([Object(o.c)({default:"auto"}),s("design:type",Object)],t.prototype,"dir",void 0),a([Object(o.c)({default:!1}),s("design:type",Object)],t.prototype,"allowNewlines",void 0),a([Object(o.e)("currentValue"),s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],t.prototype,"autosize",null),a([Object(o.e)("value"),s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],t.prototype,"updateCurrentValue",null),t=a([Object(o.a)({})],t)}(o.d),u=(n(296),n(1)),l=Object(u.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"multiline-input",style:e.style,attrs:{placeholder:e.placeholder,rows:"1",dir:e.dir},domProps:{value:e.currentValue},on:{input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.onInput],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:e.$emit("escape")}],focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur",t)},keyup:function(t){return e.$emit("keyup",t)}}})}),[],!1,null,"56c71057",null);t.a=l.exports},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(31),o=n(15),i=n(30);function a(){i.a.location.reload()}function s(){return i.a.location.href}function c(e,t){void 0===t&&(t={});var n=t.method,a=t.target;if(n&&"get"!==n.toLowerCase()){var s=document.createElement("form"),c=document.createElement("input");c.type="hidden",c.name="authenticity_token",c.value=Object(r.a)();var u=document.createElement("button");u.type="submit",s.action=e,s.method=n,s.appendChild(c),s.appendChild(u),document.body.appendChild(s),s.submit()}else o.a.desktopApp?i.b.navigateDesktopApp&&i.b.navigateDesktopApp(e,a):a?i.a.open(e,a):i.a.location.href=e}},function(e,t,n){"use strict";var r={props:{progress:{type:Number,default:0}},computed:{progressPercentage:function(){return"".concat(100*this.progress,"%")}}},o=n(1),i=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-determinate",style:{width:this.progressPercentage}})])}),[],!1,null,null,null);t.a=i.exports},function(e,t,n){var r=n(85),o=n(301),i=n(231),a=Object.defineProperty;t.f=n(86)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},,function(e,t,n){"use strict";var r=n(15),o=!1,i=function(){var e=window.innerHeight,t=window.scrollY;"function"===typeof document.documentElement.style.setProperty&&(document.documentElement.style.setProperty("--vh100","".concat(e,"px")),document.documentElement.style.setProperty("--top0","".concat(t,"px")))};t.a=function(){!r.a.mobile||r.a.app||o||(window.addEventListener("resize",(function(e){e.target==window&&i()})),window.addEventListener("scroll",(function(e){i()})),o=!0,i())}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o=n(33);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var i=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&(Object(o.l)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){t._state!==r.PENDING&&(t._state===r.REJECTED?t._handlers.forEach((function(e){e.onrejected&&e.onrejected(t._value)})):t._handlers.forEach((function(e){e.onfulfilled&&e.onfulfilled(t._value)})),t._handlers=[])};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.prototype.toString=function(){return"[object SyncPromise]"},e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach((function(t,a){e.resolve(t).then((function(e){i[a]=e,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){r._attachHandler({onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void o(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void o(r)}else o(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var o,i;return n.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?r(o):e(o)}))}))},e}()},,function(e,t,n){var r=n(94),o=n(167);e.exports=n(86)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},,function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FileBrowser="fileBrowser",e.LinkInput="linkInput",e.WebBrowser="webBrowser",e.PhotoBooth="photoBooth",e.VideoRecorder="videoRecorder",e.AudioRecorder="audioRecorder",e.DrawingCanvas="drawingCanvas",e.PadletBrowser="padletBrowser",e.MapBrowser="mapBrowser",e.ScreenshareRecorder="screenshareRecorder"}(r||(r={}));t.b={namespaced:!0,state:{activeContentSource:null,contentSourceMenuPosition:null},getters:{xContentPickerPanel:function(e){return!!e.activeContentSource},activeContentPickerPanel:function(e){return e.activeContentSource},xContentSourceMenu:function(e){return!!e.contentSourceMenuPosition},contentSourceMenuPosition:function(e){return e.contentSourceMenuPosition}},mutations:{SHOW_CONTENT_SOURCE_MENU:function(e,t){e.contentSourceMenuPosition=t},HIDE_CONTENT_SOURCE_MENU:function(e){e.contentSourceMenuPosition=null},PICK_CONTENT_SOURCE:function(e,t){e.activeContentSource=t},HIDE_CONTENT_PICKER_PANEL:function(e){e.activeContentSource=null}},actions:{showContentSourceMenu:function(e,t){(0,e.commit)("SHOW_CONTENT_SOURCE_MENU",t.position)},hideContentSourceMenu:function(e){(0,e.commit)("HIDE_CONTENT_SOURCE_MENU")},pickContentSource:function(e,t){var n=e.commit;n("PICK_CONTENT_SOURCE",t.source),n("HIDE_CONTENT_SOURCE_MENU")},hideContentPickerPanel:function(e){(0,e.commit)("HIDE_CONTENT_PICKER_PANEL")}}}},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",c="[object Date]",u="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",P="[object Uint32Array]",A=/\w*$/,I=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,j={};j[a]=j["[object Array]"]=j[v]=j[b]=j[s]=j[c]=j[w]=j[_]=j[k]=j[E]=j[C]=j[f]=j[d]=j[h]=j[p]=j[m]=j[y]=j[g]=j[O]=j[S]=j[T]=j[P]=!0,j["[object Error]"]=j[u]=j["[object WeakMap]"]=!1;var D="object"==typeof e&&e&&e.Object===Object&&e,N="object"==typeof self&&self&&self.Object===Object&&self,R=D||N||Function("return this")(),M=t&&!t.nodeType&&t,L=M&&"object"==typeof n&&n&&!n.nodeType&&n,F=L&&L.exports===M;function B(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function q(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,Q=Array.prototype,$=Function.prototype,K=Object.prototype,Y=R["__core-js_shared__"],X=(z=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",J=$.toString,Z=K.hasOwnProperty,ee=K.toString,te=RegExp("^"+J.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=F?R.Buffer:void 0,re=R.Symbol,oe=R.Uint8Array,ie=G(Object.getPrototypeOf,Object),ae=Object.create,se=K.propertyIsEnumerable,ce=Q.splice,ue=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=G(Object.keys,Object),de=Le(R,"DataView"),he=Le(R,"Map"),pe=Le(R,"Promise"),me=Le(R,"Set"),ye=Le(R,"WeakMap"),ge=Le(Object,"create"),ve=Ve(de),be=Ve(he),we=Ve(pe),_e=Ve(me),ke=Ve(ye),Ee=re?re.prototype:void 0,Ce=Ee?Ee.valueOf:void 0;function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){this.__data__=new Se(e)}function Ae(e,t){var n=Ge(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&He(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!Z.call(e,i)||o&&("length"==i||Ue(i,r))||n.push(i);return n}function Ie(e,t,n){var r=e[t];Z.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function xe(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function je(e,t,n,r,o,i,I){var x;if(r&&(x=i?r(e,o,i,I):r(e)),void 0!==x)return x;if(!$e(e))return e;var D=Ge(e);if(D){if(x=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,x)}else{var N=Be(e),R=N==u||N==l;if(ze(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(N==h||N==a||R&&!i){if(V(e))return i?e:{};if(x=function(e){return"function"!=typeof e.constructor||qe(e)?{}:(t=ie(e),$e(t)?ae(t):{});var t}(R?{}:e),!t)return function(e,t){return Re(e,Fe(e),t)}(e,function(e,t){return e&&Re(t,Ke(t),e)}(x,e))}else{if(!j[N])return i?e:{};x=function(e,t,n,r){var o=e.constructor;switch(t){case v:return Ne(e);case s:case c:return new o(+e);case b:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case _:case k:case E:case C:case O:case S:case T:case P:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return q(t?n(W(e),!0):W(e),B,new e.constructor)}(e,r,n);case d:case y:return new o(e);case p:return(u=new(a=e).constructor(a.source,A.exec(a))).lastIndex=a.lastIndex,u;case m:return function(e,t,n){return q(t?n(H(e),!0):H(e),U,new e.constructor)}(e,r,n);case g:return i=e,Ce?Object(Ce.call(i)):{}}var i;var a,u}(e,N,je,t)}}I||(I=new Pe);var M=I.get(e);if(M)return M;if(I.set(e,x),!D)var L=n?function(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ke,Fe)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(L||e,(function(o,i){L&&(o=e[i=o]),Ie(x,i,je(o,t,n,r,i,e,I))})),x}function De(e){return!(!$e(e)||(t=e,X&&X in t))&&(Qe(e)||V(e)?te:I).test(Ve(e));var t}function Ne(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Re(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Ie(n,a,void 0===s?e[a]:s)}return n}function Me(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=ge?ge(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===o?void 0:n}return Z.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?o:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Se.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return xe(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Oe,map:new(he||Se),string:new Oe}},Te.prototype.delete=function(e){return Me(this,e).delete(e)},Te.prototype.get=function(e){return Me(this,e).get(e)},Te.prototype.has=function(e){return Me(this,e).has(e)},Te.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Pe.prototype.clear=function(){this.__data__=new Se},Pe.prototype.delete=function(e){return this.__data__.delete(e)},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var o=n.__data__;if(!he||o.length<r-1)return o.push([e,t]),this;n=this.__data__=new Te(o)}return n.set(e,t),this};var Fe=ue?G(ue,Object):function(){return[]},Be=function(e){return ee.call(e)};function Ue(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function Ve(e){if(null!=e){try{return J.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function We(e,t){return e===t||e!==e&&t!==t}(de&&Be(new de(new ArrayBuffer(1)))!=b||he&&Be(new he)!=f||pe&&"[object Promise]"!=Be(pe.resolve())||me&&Be(new me)!=m||ye&&"[object WeakMap]"!=Be(new ye))&&(Be=function(e){var t=ee.call(e),n=t==h?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case ve:return b;case be:return f;case we:return"[object Promise]";case _e:return m;case ke:return"[object WeakMap]"}return t});var Ge=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Qe(e)}var ze=le||function(){return!1};function Qe(e){var t=$e(e)?ee.call(e):"";return t==u||t==l}function $e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ke(e){return He(e)?Ae(e):function(e){if(!qe(e))return fe(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return je(e,!0,!0)}}).call(this,n(28),n(83)(e))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=Object.prototype,o=r.toString,i=r.hasOwnProperty,a=new Map;function s(e,t){try{return function e(t,n){if(t===n)return!0;var r=o.call(t);var a=o.call(n);if(r!==a)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(c(t,n))return!0;var s=Object.keys(t),u=Object.keys(n),l=s.length;if(l!==u.length)return!1;for(var f=0;f<l;++f)if(!i.call(n,s[f]))return!1;for(f=0;f<l;++f){var d=s[f];if(!e(t[d],n[d]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!==t)return n!==n;case"[object Boolean]":case"[object Date]":return+t===+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(c(t,n))return!0;for(var h=t.entries(),p="[object Map]"===r;;){var m=h.next();if(m.done)break;var y=m.value,g=y[0],v=y[1];if(!n.has(g))return!1;if(p&&!e(v,n.get(g)))return!1}return!0}return!1}(e,t)}finally{a.clear()}}function c(e,t){var n=a.get(e);if(n){if(n.has(t))return!0}else a.set(e,n=new Set);return n.add(t),!1}},function(e,t,n){"use strict";(function(e){var n=new function(){};function r(){return n}try{var o=e["eriuqer".split("").reverse().join("")]("fibers");r=function(){return o.current||n}}catch(i){}t.get=function(){var e=r();return e._optimism_local||(e._optimism_local=Object.create(null))}}).call(this,n(83)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n(144);function i(e){var t=o.getConfiguration(),n=t.host,i=(t.token,t.token),a=i.csrfToken,s=i.oauthToken,c={};if(s)c.authorization=[r.HTTPAuthenticationScheme.bearer,s];else if(a){var u=a();c.headers={"X-CSRF-Token":u}}return r.resource("https://"+n+function(e){switch(e){case"walls":case"backgrounds":return"/"+e;default:throw new Error("Unknown resource type: "+e)}}(e),c)}var a={},s=null;function c(e){return function(){if(null===s)return!0;var e=o.getConfiguration();return e.host!==s.host||e.token!==s.token}()&&(a={},s=o.getConfiguration()),a[e]||(a[e]=i(e)),a[e]}t.destroyResources=function(){a={}},t.wall=function(){return c("walls")},t.wallBackground=function(){return c("backgrounds")}},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e,r){var o,i=n(117);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(28),n(135)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(160).Observable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(16);var o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return i(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=s("(",i(e.variableDefinitions,", "),")"),o=i(e.directives," "),a=e.selectionSet;return n||o||r||"query"!==t?i([t,i([n,r]),o,a]," "):a},VariableDefinition:function(e){return e.variable+": "+e.type+s(" = ",e.defaultValue)},SelectionSet:function(e){return a(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,a=e.selectionSet;return i([s("",t,": ")+n+s("(",i(r,", "),")"),i(o," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+s(" ",i(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return i(["...",s("on ",t),i(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.directives,o=e.selectionSet;return"fragment "+t+" on "+n+" "+s("",i(r," ")," ")+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e){var t=e.value;return JSON.stringify(t)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+i(e.values,", ")+"]"},ObjectValue:function(e){return"{"+i(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+s("(",i(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return i(["schema",i(t," "),a(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:function(e){return i(["scalar",e.name,i(e.directives," ")]," ")},ObjectTypeDefinition:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return i(["type",t,s("implements ",i(n,", ")),i(r," "),a(o)]," ")},FieldDefinition:function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+s("(",i(n,", "),")")+": "+r+s(" ",i(o," "))},InputValueDefinition:function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return i([t+": "+n,s("= ",r),i(o," ")]," ")},InterfaceTypeDefinition:function(e){var t=e.name,n=e.directives,r=e.fields;return i(["interface",t,i(n," "),a(r)]," ")},UnionTypeDefinition:function(e){var t=e.name,n=e.directives,r=e.types;return i(["union",t,i(n," "),"= "+i(r," | ")]," ")},EnumTypeDefinition:function(e){var t=e.name,n=e.directives,r=e.values;return i(["enum",t,i(n," "),a(r)]," ")},EnumValueDefinition:function(e){return i([e.name,i(e.directives," ")]," ")},InputObjectTypeDefinition:function(e){var t=e.name,n=e.directives,r=e.fields;return i(["input",t,i(n," "),a(r)]," ")},TypeExtensionDefinition:function(e){return"extend "+e.definition},DirectiveDefinition:function(e){var t=e.name,n=e.arguments,r=e.locations;return"directive @"+t+s("(",i(n,", "),")")+" on "+i(r," | ")}};function i(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function a(e){return e&&0!==e.length?((t="{\n"+i(e,"\n"))&&t.replace(/\n/g,"\n  "))+"\n}":"{}";var t}function s(e,t,n){return t?e+t+(n||""):""}},function(e,t,n){"use strict";var r=n(10),o=n(35),i=n(9),a=n(93),s=n(76),c=n(23),u={components:{AvatarImage:o.a,BaseIcon:i.a,CsrfInput:s.a,ProgressDeterminate:a.a},mixins:[r.a,c.a],props:["user"],data:function(){return{showUserDropdown:!1}},computed:{isUserRegistered:function(){return!!this.user.registered_at},showReferrals:function(){return this.isUserRegistered},displayName:function(){return this.user.name||this.user.username},profileUrl:function(){return"/".concat(this.user.username)},isPremium:function(){return this.user.paying},showQuota:function(){return!this.isPremium},quotaUsed:function(){return this.user.quota.walls_used/this.user.quota.walls_limit},quotaUsageText:function(){return this.__("%{num} of %{limit} padlets used",{num:this.user.quota.walls_used,limit:this.user.quota.walls_limit})},isNotNativeTenant:function(){return 1!==this.user.tenant_id}},methods:{cancel:function(){this.showUserDropdown=!1}}},l=(n(165),n(1)),f=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown-button"},[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Account",expression:"'Account'",arg:"title"}],staticClass:"app-bar-button",attrs:{id:"user-dropdown-launcher",role:"menuitem","aria-haspopup":"true","aria-controls":"app-bar-account-menu","aria-expanded":e.showUserDropdown},on:{click:function(t){e.showUserDropdown=!0}}},[n("avatar-image",{attrs:{user:e.user,width:"20",height:"20"}})],1),e._v(" "),e.showUserDropdown?n("div",{staticClass:"dropdown-menu"},[n("div",{staticClass:"dropdown dropdown-with-curtain user-dropdown",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[n("div",{staticClass:"dropdown-content tv",attrs:{id:"app-bar-account-menu",role:"menu","data-premium":e.isPremium}},[n("div",{staticClass:"tv-section-divider app-bar-account-summary"},[n("avatar-image",{attrs:{user:e.user,width:"40",height:"40"}}),e._v(" "),n("div",{staticClass:"strong-type"},[e._v(e._s(e.displayName))]),e._v(" "),n("div",{staticClass:"small-type caption-type"},[e._v(e._s(e.user.username))]),e._v(" "),e.showQuota?[n("div",{staticClass:"quota-text small-type"},[e._v(e._s(e.quotaUsageText))]),e._v(" "),n("progress-determinate",{staticClass:"quota-progress",attrs:{progress:e.quotaUsed}}),e._v(" "),n("div",{staticClass:"quota-actions"},[n("a",{directives:[{name:"t",rawName:"v-t"}],staticClass:"buttony-caption-type",style:{visibility:e.showReferrals?"visible":"hidden"},attrs:{role:"button",href:"/dashboard/settings/referrals","data-app-target":"blank"}},[e._v("Earn more")]),e._v(" "),n("a",{directives:[{name:"t",rawName:"v-t"}],staticClass:"buttony-type",attrs:{role:"button",href:"/premium/upgrade","data-app-target":"browser"}},[e._v("Upgrade")])])]:e._e()],2),e._v(" "),n("div",{staticClass:"tv tv-list"},[n("a",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{role:"menuitem",href:"/","data-app-target":"self"}},[n("base-icon",{attrs:{name:"home"}}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Home")])],1),e._v(" "),n("a",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{role:"menuitem",href:e.profileUrl,"data-app-target":"blank"}},[n("base-icon",{attrs:{name:"profile"}}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Profile")])],1),e._v(" "),n("a",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{role:"menuitem",href:"/dashboard/drive","data-app-target":"blank"}},[n("base-icon",{attrs:{name:"folder"}}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Drive")])],1),e._v(" "),n("a",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{role:"menuitem",href:"/dashboard/stats","data-app-target":"blank"}},[n("base-icon",{attrs:{name:"stats"}}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Stats")])],1),e._v(" "),n("a",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{role:"menuitem",href:"/dashboard/settings","data-app-target":"blank"}},[n("base-icon",{attrs:{name:"settings"}}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Settings")])],1),e._v(" "),e.isNotNativeTenant?n("a",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{role:"menuitem",href:"/org/import","data-app-target":"blank"}},[n("base-icon",{attrs:{name:"download"}}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Import")])],1):e._e()]),e._v(" "),n("div",{staticClass:"tv-section-divider"}),e._v(" "),n("div",{staticClass:"tv"},[n("form",{attrs:{role:"menuitem",method:"post",action:"/auth/logout"}},[n("csrf-input"),e._v(" "),n("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"raised-button block-button",attrs:{type:"submit"}},[e._v("Log out")])],1)])])])]):e._e()])}),[],!1,null,"58aea193",null);t.a=f.exports},function(e,t,n){"use strict";var r=n(31),o=window.jQuery;o(document).ajaxSend((function(e,t,n){"GET"!=n.type&&t.setRequestHeader("X-CSRF-Token",Object(r.a)())})),t.a=o.ajax},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(0),o=n(99),i=n(33),a=n(51),s=n(24),c=n(206),u=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){e._scopeListeners.forEach((function(t){t(e)})),e._notifyingListeners=!1})))},e.prototype._notifyEventProcessors=function(e,t,n,a){var s=this;return void 0===a&&(a=0),new o.a((function(o,c){var u=e[a];if(null===t||"function"!==typeof u)o(t);else{var l=u(r.__assign({},t),n);Object(i.l)(l)?l.then((function(t){return s._notifyEventProcessors(e,t,n,a+1).then(o)})).then(null,c):s._notifyEventProcessors(e,l,n,a+1).then(o).then(null,c)}}))},e.prototype.setUser=function(e){return this._user=Object(a.c)(e),this._notifyScopeListeners(),this},e.prototype.setTags=function(e){return this._tags=r.__assign({},this._tags,Object(a.c)(e)),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=r.__assign({},this._tags,((n={})[e]=Object(a.c)(t),n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=r.__assign({},this._extra,Object(a.c)(e)),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=r.__assign({},this._extra,((n={})[e]=Object(a.c)(t),n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=Object(a.c)(e),this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=Object(a.c)(e),this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this._transaction=e,this._notifyScopeListeners(),this},e.prototype.setContext=function(e,t){return this._context[e]=t?Object(a.c)(t):void 0,this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.startSpan=function(e){var t=new c.a;return t.setParent(e),this.setSpan(t),t},e.prototype.getSpan=function(){return this._span},e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=r.__spread(t._breadcrumbs),n._tags=r.__assign({},t._tags),n._extra=r.__assign({},t._extra),n._context=r.__assign({},t._context),n._user=t._user,n._level=t._level,n._span=t._span,n._transaction=t._transaction,n._fingerprint=t._fingerprint,n._eventProcessors=r.__spread(t._eventProcessors)),n},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=(new Date).getTime()/1e3,o=r.__assign({timestamp:n},e);return this._breadcrumbs=void 0!==t&&t>=0?r.__spread(this._breadcrumbs,[Object(a.c)(o)]).slice(-t):r.__spread(this._breadcrumbs,[Object(a.c)(o)]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=r.__assign({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=r.__assign({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=r.__assign({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=r.__assign({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._span&&(e.contexts=e.contexts||{},e.contexts.trace=this._span),this._applyFingerprint(e),e.breadcrumbs=r.__spread(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(r.__spread(l(),this._eventProcessors),e,t)},e}();function l(){var e=Object(s.f)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function f(e){l().push(e)}},function(e,t,n){"use strict";var r=n(45);n.n(r).a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),o=n(72),i=function(e,t){var n=function(e){var t=e.match(/^https:\/\/padlet.+\.storage\.googleapis\.com\/.+\?t=(.+)$/),n=(t[0],t[1]),r=parseInt(n.replace(/[^\d]/g,""));return"https://lh"+((isNaN(r)?1:r%3)+3)+".googleusercontent.com/"+n}(e);return t&&(n=[n,t].join("=")),n};t.canServe=function(e,t){return function(e){return!!e.match(/^https:\/\/padlet.+\.storage\.googleapis\.com\/.+\?t=.+$/)}(e)&&function(e){return e.width&&e.height&&(!e.gravity||"auto"===e.gravity||"center"===e.gravity)&&!e.trim&&!e.ar&&!e.effect&&!e.metadata}(t)};t.processedUrl=function(e,t){var n=function(e){var t=e.dpr?parseFloat(e.dpr.toString()):r.default,n=[];if(e.width){var i=Math.ceil(t*e.width);n.push(["w",i])}if(e.height){var a=Math.ceil(t*e.height);n.push(["h",a])}return"limit"===e.crop?n.push(["nu",""]):"scale"===e.crop?n.push(["s",""]):"fill"===e.crop||"thumb"===e.crop?"center"===e.gravity?n.push(["c",""]):n.push(["p",""]):"lfill"===e.crop&&(n.push(["nu",""]),"center"===e.gravity?n.push(["c",""]):n.push(["p",""])),o.isSupported()&&n.push(["r","w"]),n.push(["e","365"]),n.map((function(e){return e.join("")})).join("-")}(t);return i(e,n)}},function(e,t){e.exports=react-native},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),o=n(56);t.canServe=function(e,t){void 0===t&&(t={});var n=!!e.match(/^https:\/\/lh.+\.googleusercontent.com\/.+s96\-c\/photo\.jpg$/),r="thumb"==t.crop&&!t.metadata;return n&&r};t.processedUrl=function(e,t){var n=t.width,i=t.dpr?parseFloat(t.dpr.toString()):r.default,a=e;return n&&(n*=i,a=e.replace(/s96\-c\/photo.jpg/,"s"+n+"-c/photo.jpg")),o.buildProxyUrl(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128);t.canServe=function(e){return!!e.startsWith("https://images.unsplash.com")};var o=function(e){void 0===e&&(e="limit");return{fill:"crop",lfill:"min",limit:"max",scale:"scale",fit:"clip",thumb:"crop"}[e]},i=function(e){void 0===e&&(e="auto");return{north:"top",center:"center",auto:"faces,edges"}[e]};t.processedUrl=function(e,t){void 0===t&&(t={}),e||(console.info("[vivaldi-client] url is null/undefined"),e="");var n=[];if(t.ar&&n.push(["ar",t.ar.toString()]),t.format||n.push(["auto","format"]),t.effect&&t.effect.startsWith("blur")){var a=t.effect.split(":"),s=(a[0],a[1]),c=9*parseInt(s,10);n.push(["blur",c.toString()])}else if(t.blur){c=9*t.blur;n.push(["blur",c.toString()])}if(t.gravity?n.push(["crop",i(t.gravity)]):n.push(["crop",i("auto")]),(t.width||t.height)&&(n.push(["dpr",t.dpr.toString()]),n.push(["fit",o(t.crop)])),t.format&&n.push(["fm",t.format]),t.height){var u=Math.ceil(t.height);n.push(["h",u.toString()])}if(t.quality&&n.push(["q",t.quality]),("trim"===t.effect||t.trim)&&n.push(["trim","auto"]),t.width){var l=Math.ceil(t.width);n.push(["w",l.toString()])}return r.default(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73);t.default=function(e,t){var n="string"===typeof t?t:r.default(t);return e.includes("?")?[e,n].join("&"):[e,n].join("?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),o=n(72);t.processedUrl=function(e,t){void 0===t&&(t={}),e||(console.info("[vivaldi-client] url is null/undefined"),e="");var n=[];if(t.align&&n.push(["a",t.align]),t.ar&&n.push(["ar",t.ar]),(t.width||t.height)&&(n.push(["c",t.crop]),n.push(["dpr",t.dpr])),t.effect?n.push(["e",t.effect]):t.trim&&n.push(["e","trim"]),t.gravity&&n.push(["g",t.gravity]),t.height){var i=Math.ceil(t.height);n.push(["h",i])}if(t.quality&&n.push(["q",t.quality]),t.width){var a=Math.ceil(t.width);n.push(["w",a])}var s=null;t.format?s=t.format:o.isSupported()&&(s="webp");var c={transforms:n,metadata:t.metadata};return s&&(c.format=s),r.buildTransformUrl(e,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),o=n(131),i=60;t.getTransformOptions=function(e){var t=e.preset?o.default[e.preset]:{},n=Object.assign(t,e),a={};if(a.align=n.align,a.ar=n.ar,a.effect=n.effect,a.crop=n.crop||"limit",a.dpr="auto"!=n.dpr&&n.dpr?Math.ceil(parseFloat(n.dpr.toString())):Math.ceil(r.default),n.gravity||"fill"!=n.crop&&"lfill"!=n.crop?a.gravity=n.gravity:a.gravity="auto",a.format=n.format,a.metadata=n.metadata,a.trim=n.trim,a.blur=n.blur,a.quality=n.quality,n.breakpoint&&n.width){var s=!0===n.breakpoint?i:n.breakpoint;a.width=s*Math.ceil(n.width/s),n.height&&(a.height=Math.floor(n.height*a.width/n.width))}else a.width=n.width,a.height=n.height;return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={avatar:{gravity:"auto",crop:"thumb"},icon:{gravity:"auto",crop:"thumb"},background:{gravity:"auto",crop:"lfill"},obscure:{width:60,height:60,dpr:1,crop:"scale",format:"jpg",effect:"blur:1000"},peek:{ar:2,crop:"lfill",dpr:1,format:"jpg",gravity:"auto",height:600,width:1200}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,o=n(40),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.Main="main",e.Lti="ltiSettings",e.Embed="embed",e.Privacy="privacy",e.Members="members"}(r||(r={}));var a={namespaced:!0,state:{activePanel:null,isQrModalOpen:!1},getters:{isOpen:function(e){return null!==e.activePanel},isQrModalOpen:function(e){return e.isQrModalOpen},activePanel:function(e){return e.activePanel}},mutations:{HIDE_SHARE_PANEL:function(e){e.activePanel=null,e.isQrModalOpen=!1},SHOW_SHARE_PANEL:function(e,t){e.activePanel=t},OPEN_QR_MODAL:function(e){e.isQrModalOpen=!0},CLOSE_QR_MODAL:function(e){e.isQrModalOpen=!1}},actions:{showSharePanel:function(e){(0,e.commit)("SHOW_SHARE_PANEL",r.Main)},hideSharePanel:function(e){(0,e.commit)("HIDE_SHARE_PANEL")},resetSharePanel:function(e){var t=e.dispatch;(0,e.commit)("HIDE_SHARE_PANEL"),t("privacySettings/resetWallPrivacy",null,{root:!0})},confirmResetSharePanel:function(e){var t=e.dispatch;e.rootGetters["privacySettings/isDirty"]?t("confirmationDialog/openConfirmationDialog",i(i({},o.a),{afterConfirmActions:[{type:"share/hideSharePanel"}]}),{root:!0}):t("hideSharePanel")},changeActivePanel:function(e,t){(0,e.commit)("SHOW_SHARE_PANEL",t)},confirmChangePanelDiscardChanges:function(e,t){var n=e.dispatch;e.rootGetters["privacySettings/isDirty"]?n("confirmationDialog/openConfirmationDialog",i(i({},o.a),{afterConfirmActions:[{type:"share/changeActivePanel",payload:t},{type:"privacySettings/discardWallPrivacyChanges"}]}),{root:!0}):(n("changeActivePanel",t),n("privacySettings/discardWallPrivacyChanges",null,{root:!0}))},toggleSharePanel:function(e,t){var n=e.commit;e.getters.isOpen?n("HIDE_SHARE_PANEL"):n("SHOW_SHARE_PANEL",t)},openQrModal:function(e){(0,e.commit)("OPEN_QR_MODAL")},closeQrModal:function(e){(0,e.commit)("CLOSE_QR_MODAL")}}};t.b=a},function(e,t,n){var r=n(304),o=n(229);e.exports=function(e){return r(o(e))}},,function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(60),o="";window.Beacon=function(e,t,n){window.Beacon.readyQueue.push({method:e,options:t,data:n})},window.Beacon.readyQueue=[];var i={chat:"669b3e9b-71cd-48fe-a6b3-f463d1da787f"},a="https://beacon-v2.helpscout.net";function s(e,t){o!==i[t]&&function(e,t){window.Beacon("identify",e),window.Beacon("init",i[t]),o=i[t]}(e,t),window.Beacon("open")}function c(e,t){Object(r.b)(a).then((function(){s(e,t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(42),o=n(207),i=n(208),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=n.n(i)()(r.fetchLink);function u(e,t){return a(this,void 0,Promise,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,c(e)];case 1:return(n=r.sent())?[2,Object(o.getDisplayAttributes)(n,t)]:[2,null]}}))}))}},function(e,t,n){"use strict";t.a=window.ww.nativeBridge},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(20),o=n(15),i=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},a=null,s=function(e){var t,n;"string"===typeof e?(t=e,n=null):(t=JSON.stringify(e),n=e.toJSON());var o=JSON.stringify({token:t,metadata:n});return Object(r.fetchJson)("/api/device_tokens",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},credentials:"same-origin",body:o})},c=function(){if(o.a.safariPush){var e=window.safari.pushNotification.permission("web.com.padlet");if(e)return Promise.resolve(e.permission)}else if(window.Notification&&"requestPermission"in window.Notification)return window.Notification.requestPermission()||Promise.reject(new Error("Cannot request permission to web push"));return Promise.resolve("notapplicable")},u=function(){return(a?Promise.resolve(a):navigator.serviceWorker?navigator.serviceWorker.getRegistrations().then((function(e){return e.forEach((function(e){e.active===navigator.serviceWorker.controller&&(a=e)})),a||console.warn("No service worker registration found"),a})):Promise.resolve(null)).then((function(e){if(e)return function(e){return(e||a).pushManager.getSubscription()}(e).then((function(t){return t?s(t):function(e){return(e||a).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i("BFZ6K_Tw__LTwX1kglcPYycsbSzgBIN5OfQwsDLHlo6PEl-fRqpEtUnrsikmxDPqG2h2uUs96_xp4omypTPUl5o")}).then((function(e){return c(),s(e)})).catch((function(e){return console.warn("Failed to subscribe user: ",e),c()}))}(e)}));throw console.warn("No service worker registered"),new Error("No service worker registered")})).catch((function(e){throw console.warn("Could not subscribe: ",e),e}))};var l=function(e){return new Promise((function(t){var n=window.location.hostname.match(/\.dev$/)?"padlet.dev":window.location.hostname.match(/\.io$/)?"padlet.io":"padlet.com",r="https://".concat(n,"/api/safari_push");return window.safari.pushNotification.requestPermission(r,"web.com.padlet",{user_id:e.id.toString()},(function(e){t(e)}))}))},f=function(e){var t=window.safari.pushNotification.permission("web.com.padlet");return t?function e(t,n){var r=t.deviceToken,o=t.permission;return"default"===o?n?l(n).then(e):Promise.reject(new Error("User must be an object")):"denied"===o?Promise.reject(new Error("Permission denied")):"granted"===o?s(r):void 0}(t,e):Promise.reject(new Error("Safari did not return permission data"))},d=function(){return o.a.app?Promise.resolve(!1):Promise.resolve(o.a.browserPush)},h=function(e){return o.a.app?Promise.reject(new Error("mobile app no registration")):o.a.safariPush?f(e):o.a.webPush?u():Promise.reject(new Error("Device cannot be registered for web push"))}},,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),s=n(145),c="undefined"!==typeof window&&null!==window&&window.location&&window.location.host?window.location.host:"padlet.com",u={host:c,token:{}},l={token:{}},f=null,d=!1;t.configure=function(e){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,f=new Promise((function(n){return o(t,void 0,void 0,(function(){var t,o,f,h,p,m,y,g,v;return i(this,(function(i){switch(i.label){case 0:return t=u.fetchOptions||{},f={token:o={}},e&&(e.host&&(f.host=e.host),e.token&&(o=e.token)),o&&"string"===typeof o&&(o=JSON.parse(o)),f.token=o,h=f.token,p=h.oauthToken,m=h.csrfToken,p?t.authorization=[a.HTTPAuthenticationScheme.bearer,p]:m&&"function"!==typeof m&&(y=m,f.token.csrfToken=function(){return y}),(l=r(r(r({},u),f),{fetchOptions:t})).token?(g=l.host,(v=l.token).firestoreToken?[4,s.configureStore({host:g||c,token:v.firestoreToken})]:[3,2]):[3,2];case 1:i.sent(),i.label=2;case 2:return d=!0,n(l),[2]}}))}))}))]}))}))},t.getConfiguration=function(){if(!d)throw new Error('Not configured. Arvo requires a call to "configure" before it should be used.');return l},t.deferredGetConfiguration=function(){if(null==f)throw new Error("Arvo is not yet configured.");return f},t.resetConfiguration=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return l={token:{}},d=!1,f=null,[4,s.resetStoreConfiguration()];case 1:return e.sent(),[2,l]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(266));n(267),n(269);var s="undefined"!==typeof window&&window.location&&window.location.search&&!!window.location.search.match("time=1");"undefined"!==typeof window&&window.location&&window.location.search&&window.location.search.match("persistence=0");function c(e){s&&console.time(e)}function u(e){s&&console.timeEnd(e)}function l(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return a.default.apps.length||(n=function(e){return e.match(/\.padlet\.com$/)||e.match(/^padlet\.com$/)||e.match(/\.padlet\.org$/)?{projectId:"data-011419",authDomain:"data-011419.firebaseapp.com",apiKey:"AIzaSyDf6FizXTVq0BgWCcLV_exFg6_WmYRT8Qk"}:e.match(/\.padlet\.io$/)||e.match(/^padlet\.io$/)||e.match(/\.wallwisher\.org$/)?{projectId:"padlet-staging",authDomain:"padlet-staging.firebaseapp.com",apiKey:"AIzaSyDVS4t6WZpqHnbglX3YM6W3SsWldcgKx-A"}:{projectId:"development-234618",authDomain:"development-234618.firebaseapp.com",apiKey:"AIzaSyCf_Vju96XTlMSDRbBpnNnwbOQ1KY_JwAw"}}(e),a.default.initializeApp(n)),[4,a.default.auth().signInWithCustomToken(t)];case 1:return r.sent(),[2]}}))}))}var f=null;function d(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:if(null!==f)return[3,1];throw new Error("Firestore not configured");case 1:return[4,f];case 2:e.sent(),e.label=3;case 3:return[2,a.default.firestore()]}}))}))}t.configureStore=function(e){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return null===f&&(f=new Promise((function(n){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return c("FS configure"),[4,l(e.host,e.token)];case 1:return t.sent(),a.default.firestore().settings({cacheSizeBytes:a.default.firestore.CACHE_SIZE_UNLIMITED}),u("FS configure"),n(),[2]}}))}))}))),[2,f]}))}))},t.resetStoreConfiguration=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return a.default.apps.length?[4,a.default.auth().signOut()]:[3,2];case 1:e.sent(),a.default.apps[0].delete(),e.label=2;case 2:return[2]}}))}))},t.getStore=d,t.getCollection=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().collection(e)]}}))}))},t.getBy=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return[4,d()];case 1:return r=o.sent(),c(n.toString()),[4,r.collection(e).where(t,"==",n).limit(1).get()];case 2:return i=o.sent(),u(n.toString()),0==i.docs.length?[2,null]:[2,i.docs[0].data()]}}))}))}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,c=o+2<e.length,u=c?e[o+2]:0,l=i>>2,f=(3&i)<<4|s>>4,d=(15&s)<<2|u>>6,h=63&u;c||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,c=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==c)throw Error();var u=i<<2|a>>4;if(r.push(u),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var h="FirebaseError",p=function(e){function t(n,r){var o=e.call(this,r)||this;return o.code=n,o.name=h,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?y(i,r):"Error",s=this.serviceName+": "+a+" ("+o+").",c=new p(o,s),u=0,l=Object.keys(r);u<l.length;u++){var f=l[u];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=r[f])}return c},e}();function y(e,t){return e.replace(g,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=v(u(i[0])||""),n=v(u(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:o}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^c&(u^l),a=1518500249):(i=c^u^l,a=1859775393):r<60?(i=c&u|l&(c|u),a=2400959708):(i=c^u^l,a=3395469782);o=(s<<5|s>>>27)+i+f+a+n[r]&4294967295;f=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}();var _=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"===typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function k(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.CONSTANTS=o,t.Deferred=f,t.ErrorFactory=m,t.FirebaseError=p,t.Sha1=w,t.assert=i,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return c.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=E,t.getUA=d,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id},t.isElectron=function(){return d().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return d().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),o=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var i=o[r];n(i[0],i[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(28))},function(e,t){e.exports=!0},function(e,t,n){var r=n(166);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports={}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=!!document.queryCommandSupported&&document.queryCommandSupported("copy");function o(e){var t=document.createElement("textarea");t.id="ww-copy-textarea",t.value=e,t.style.cssText="\n    position: absolute;\n    top: -1000px;\n    left: -1000px;\n  ",document.body.appendChild(t),t.select();var n=document.execCommand("copy");return document.body.removeChild(t),n}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(33);function o(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(i){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t){return Object(r.i)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(24),o=Object(r.f)(),i="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){o.console.log(i+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){o.console.warn(i+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){o.console.error(i+"[Error]: "+e.join(" "))}))},e}();o.__SENTRY__=o.__SENTRY__||{};var s=o.__SENTRY__.logger||(o.__SENTRY__.logger=new a)},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s}));var r=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;function o(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}function i(){if(!o()){var e=function(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;return t&&t.bind(e)}(document.documentElement);e&&e()}}function a(){if(o()){var e=function(){var e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;return e&&e.bind(document)}();e&&e()}}function s(e){if(!e)return null;var t=function(){return e(o())};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),function(){document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t)}}},,,function(e,t,n){"use strict";t.a={data:function(){return{$_outsideEventsMixin_isTrueClick:!1,$_outsideEventsMixin_clickStartingLocation:{},$_outsideEventsMixin_outsideClickHandler:function(){},$_outsideEventsMixin_escapeHandler:function(){},$_outsideEventsMixin_enterHandler:function(){}}},mounted:function(){var e=this;this.onBeforeUnload&&window.addEventListener("beforeunload",this.onBeforeUnload),this.onOutsideClick&&(this.$_outsideEventsMixin_outsideClickHandler=function(t){e.$_outsideEventsMixin_isTrueClick&&(document.body.contains(t.target)&&!e.$el.contains(t.target)&&e.onOutsideClick(t),e.$_outsideEventsMixin_isTrueClick=!1)},setTimeout((function(){document.body.addEventListener("mousedown",(function(t){e.$_outsideEventsMixin_isTrueClick=!0,e.$_outsideEventsMixin_clickStartingLocation={pageX:t.pageX,pageY:t.pageY}})),document.body.addEventListener("mousemove",(function(t){if(e.$_outsideEventsMixin_isTrueClick&&e.$_outsideEventsMixin_clickStartingLocation.pageX&&e.$_outsideEventsMixin_clickStartingLocation.pageY){var n=t.pageX-e.$_outsideEventsMixin_clickStartingLocation.pageX,r=t.pageY-e.$_outsideEventsMixin_clickStartingLocation.pageY;(n>2||n<-2||r>2||r<-2)&&(e.$_outsideEventsMixin_isTrueClick=!1)}})),document.body.addEventListener("mouseup",(function(){e.$_outsideEventsMixin_clickStartingLocation={}})),document.body.addEventListener("click",e.$_outsideEventsMixin_outsideClickHandler)}),0)),this.onWindowScroll&&window.addEventListener("scroll",this.onWindowScroll),this.onEscape&&(this.$_outsideEventsMixin_escapeHandler=function(t){27===t.keyCode&&(e.onEscape(t),t.preventDefault())},window.addEventListener("keydown",this.$_outsideEventsMixin_escapeHandler)),this.onEnter&&(this.$_outsideEventsMixin_enterHandler=function(t){13===t.keyCode&&(e.onEnter(t),t.preventDefault())},window.addEventListener("keydown",this.$_outsideEventsMixin_enterHandler))},beforeDestroy:function(){this.onBeforeUnload&&window.removeEventListener("beforeunload",this.onBeforeUnload),this.onOutsideClick&&document.body.removeEventListener("click",this.$_outsideEventsMixin_outsideClickHandler),this.onWindowScroll&&window.removeEventListener("scroll",this.onWindowScroll),this.onEscape&&window.removeEventListener("keydown",this.$_outsideEventsMixin_escapeHandler),this.onEnter&&window.removeEventListener("keydown",this.$_outsideEventsMixin_enterHandler)},methods:{pauseOutsideClickHandler:function(){document.body.removeEventListener("click",this.$_outsideEventsMixin_outsideClickHandler)},resumeOutsideClickHandler:function(){var e=this;this.$_outsideEventsMixin_outsideClickHandler=function(t){document.body.contains(t.target)&&!e.$el.contains(t.target)&&e.onOutsideClick(t)},setTimeout((function(){document.body.addEventListener("click",e.$_outsideEventsMixin_outsideClickHandler)}),0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){return"function"===typeof Symbol},a=function(e){return i()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};i()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=s("iterator"),u=s("observable"),l=s("species");function f(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:k}function h(e){return e instanceof k}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(t){p(t)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(r){p(r)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function v(e,t,n){e._state="running";var r=e._observer;try{var o=f(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(g(e),!o)throw n;o.call(r,n);break;case"complete":g(e),o&&o.call(r)}}catch(i){p(i)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(v(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void v(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,n){o(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var r=new _(this);try{this._cleanup=n.call(void 0,r)}catch(i){r.error(i)}"initializing"===this._state&&(this._state="ready")}return r(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),_=function(){function e(t){o(this,e),this._subscription=t}return r(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),k=t.Observable=function(){function e(t){if(o(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return r(e,[{key:"subscribe",value:function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(n){r(n),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,o=!1,i=arguments[1],a=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{a=e(a,t)}catch(s){return n.error(s)}else a=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=d(this);return new o((function(t){var r=void 0,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(s){return r.error(s)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))}},{key:u,value:function(){return this}}],[{key:"from",value:function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,u);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return h(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(a("iterator")&&(r=f(t,c)))return new n((function(e){m((function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(u){o=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"===typeof this?this:e;return new o((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();i()&&Object.defineProperty(k,Symbol("extensions"),{value:{symbol:u,hostReportError:p},configurable:!0})},function(e,t,n){"use strict";function r(e){this.map=new Map,this.newest=null,this.oldest=null,this.max=e&&e.max,this.dispose=e&&e.dispose}t.Cache=r;var o=r.prototype;function i(e,t){var n=e.map.get(t);if(n&&n!==e.newest){var r=n.older,o=n.newer;o&&(o.older=r),r&&(r.newer=o),n.older=e.newest,n.older.newer=n,n.newer=null,e.newest=n,n===e.oldest&&(e.oldest=o)}return n}o.has=function(e){return this.map.has(e)},o.get=function(e){var t=i(this,e);return t&&t.value},o.set=function(e,t){var n=i(this,e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},o.clean=function(){if("number"===typeof this.max)for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},o.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),"function"===typeof this.dispose&&this.dispose(e,t.value),!0)}},function(e,t,n){"use strict";n.r(t),n.d(t,"tuple",(function(){return h})),n.d(t,"lookup",(function(){return f})),n.d(t,"lookupArray",(function(){return d}));var r="function"===typeof Symbol&&"function"===typeof Symbol.for,o=r?Symbol.for("immutable-tuple"):"@@__IMMUTABLE_TUPLE__@@",i=r?Symbol.for("immutable-tuple-root"):"@@__IMMUTABLE_TUPLE_ROOT__@@";function a(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!1,configurable:!1}),n}var s=Object.freeze||function(e){return e};function c(e){switch(typeof e){case"object":if(null===e)return!1;case"function":return!0;default:return!1}}var u=function(){this._weakMap=null,this._strongMap=null,this.data=null};u.prototype.get=function(e){var t=this._getMap(e,!1);if(t)return t.get(e)},u.prototype.set=function(e,t){return this._getMap(e,!0).set(e,t),t},u.prototype._getMap=function(e,t){return t?c(e)?this._weakMap||(this._weakMap=new WeakMap):this._strongMap||(this._strongMap=new Map):c(e)?this._weakMap:this._strongMap};var l=Array[i]||a(Array,i,new u,!1);function f(){return d(arguments)}function d(e){for(var t=l,n=e.length,r=0;r<n;++r){var o=e[r];t=t.get(o)||t.set(o,new u)}return t.data||(t.data=Object.create(null))}function h(){var e=arguments,t=f.apply(null,arguments);if(t.tuple)return t.tuple;for(var n=Object.create(h.prototype),r=arguments.length,o=0;o<r;++o)n[o]=e[o];return a(n,"length",r,!1),s(t.tuple=n)}function p(e){return!(!e||!0!==e[o])}function m(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t}a(h.prototype,o,!0,!1),h.isTuple=p,function(e){function t(t,n){var r=Object.getOwnPropertyDescriptor(Array.prototype,t);e(t,r,!!n)}t("every"),t("filter"),t("find"),t("findIndex"),t("forEach"),t("includes"),t("indexOf"),t("join"),t("lastIndexOf"),t("map"),t("reduce"),t("reduceRight"),t("slice"),t("some"),t("toLocaleString"),t("toString"),t("reverse",!0),t("sort",!0),t(r&&Symbol.iterator||"@@iterator")}((function(e,t,n){var r=t&&t.value;"function"===typeof r&&(t.value=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var o=r.apply(n?m(this):this,e);return Array.isArray(o)?h.apply(void 0,o):o},Object.defineProperty(h.prototype,e,t))}));var y=Array.prototype.concat;h.prototype.concat=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return h.apply(void 0,y.apply(m(this),e.map((function(e){return p(e)?m(e):e}))))},t.default=h},function(e,t,n){"use strict";var r=n(108).get,o=Object.create(null),i=[],a=[];function s(e,t){if(!e)throw new Error(t||"assertion failure")}function c(e,t,n){this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,u(this,e,t,n),++c.count}function u(e,t,n,r){e.fn=t,e.key=n,e.args=r,e.value=o,e.dirty=!0,e.subscribe=null,e.unsubscribe=null,e.recomputing=!1,e.reportOrphan=null}t.POOL_TARGET_SIZE=100,c.count=0,c.acquire=function(e,t,n){var r=a.pop();return r?(u(r,e,t,n),r):new c(e,t,n)},t.Entry=c;var l=c.prototype;function f(e){var t=e.reportOrphan;return"function"===typeof t&&0===e.parents.size&&!0===t(e)}function d(e){e.parents.forEach((function(t){m(t,e)}))}function h(e){e.parents.forEach((function(t){y(t,e)}))}function p(e){return e.dirty||e.dirtyChildren&&e.dirtyChildren.size}function m(e,t){if(s(e.childValues.has(t)),s(p(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=i.pop()||new Set;e.dirtyChildren.add(t),d(e)}function y(e,t){var n=e.childValues;s(n.has(t)),s(!p(t));var r=n.get(t);r===o?n.set(t,t.value):r!==t.value&&e.setDirty(),g(e,t),p(e)||h(e)}function g(e,n){var r=e.dirtyChildren;r&&(r.delete(n),0===r.size&&(i.length<t.POOL_TARGET_SIZE&&i.push(r),e.dirtyChildren=null))}function v(e){s(!e.recomputing,"already recomputing"),e.recomputing=!0;var t=w(e),n=r(),o=n.currentParentEntry;n.currentParentEntry=e;var i=!0;try{e.value=e.fn.apply(null,e.args),i=!1}finally{e.recomputing=!1,s(n.currentParentEntry===e),n.currentParentEntry=o,i||!function(e){if("function"===typeof e.subscribe)try{k(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)?e.setDirty():function(e){e.dirty=!1,p(e)||h(e)}(e)}return t.forEach(f),e.value}l.recompute=function(){if(function(e){var t=r().currentParentEntry;if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,o),p(e)?m(t,e):y(t,e),t}(this)||!f(this))return function e(t){if(t.dirty)return v(t);if(p(t)&&(t.dirtyChildren.forEach((function(n){s(t.childValues.has(n));try{e(n)}catch(r){t.setDirty()}})),t.dirty))return v(t);s(t.value!==o);return t.value}(this)},l.setDirty=function(){this.dirty||(this.dirty=!0,this.value=o,d(this),k(this))},l.dispose=function(){var e=this;w(e).forEach(f),k(e),e.parents.forEach((function(t){t.setDirty(),_(t,e)})),function(e){s(0===e.parents.size),s(0===e.childValues.size),s(null===e.dirtyChildren),a.length<t.POOL_TARGET_SIZE&&a.push(e)}(e)};var b=[];function w(e){var t=b;return e.childValues.size>0&&(t=[],e.childValues.forEach((function(n,r){_(e,r),t.push(r)}))),s(null===e.dirtyChildren),t}function _(e,t){t.parents.delete(e),e.childValues.delete(t),g(e,t)}function k(e){var t=e.unsubscribe;"function"===typeof t&&(e.unsubscribe=null,t())}},function(e,t,n){"use strict";var r=n(61);n.n(r).a},function(e,t,n){"use strict";var r=n(62);n.n(r).a},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(303),o=n(235);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(94).f,o=n(102),i=n(58)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports=n(424)},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(426),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,n){return function r(o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}if(!s.done)return i.default.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}("next")}))}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(446),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(328),o=n.n(r),i={newWindow:!0,stripPrefix:!1,stripTrailingSlash:!1,urls:{tldMatches:!1}};function a(e,t){return void 0===t&&(t={}),o.a.link(e,Object.assign({},i,t))}},function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=function(){function e(){this.currentPromise=null,this.queue=[]}return Object.defineProperty(e.prototype,"currentKey",{get:function(){return this.currentPromise&&this.currentPromise.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastQueuedKey",{get:function(){return this.queue.length<1?null:this.queue[this.queue.length-1].key},enumerable:!0,configurable:!0}),e.prototype.enqueue=function(e,t){var n=this;return new Promise((function(i,a){var s={key:e,method:function(){return r(n,void 0,Promise,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return e=r.sent(),i(e),[3,3];case 2:return n=r.sent(),a(n),[3,3];case 3:return[2]}}))}))}};n.queue.push(s),n.currentPromise||n.next()}))},e.prototype.unqueue=function(){return this.queue.pop()||null},e.prototype.clear=function(){var e=this.queue;return this.queue=[],e},e.prototype.next=function(){return r(this,void 0,Promise,(function(){return o(this,(function(e){switch(e.label){case 0:if(this.currentPromise=this.queue.shift()||null,!this.currentPromise)return[2];e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,this.currentPromise.method()];case 2:return e.sent(),[3,5];case 3:return e.sent(),this.clear(),[3,5];case 4:return this.next(),[7];case 5:return[2]}}))}))},e}();t.a=i},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(146),i=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new o.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:a,optional:!1},e),n=t.identifier,o=t.optional,i=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(i);if(!s){if(o)return null;throw Error("Service "+this.name+" is not available")}return s}catch(c){if(o)return null;throw c}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(a)}catch(d){}try{for(var o=r.__values(this.instancesDeferred.entries()),i=o.next();!i.done;i=o.next()){var s=r.__read(i.value,2),c=s[0],u=s[1],l=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService(l);u.resolve(f)}catch(d){}}}catch(h){t={error:h}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===a?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e}();var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=i,t.ComponentContainer=c,t.Provider=s},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}n.r(t),n.d(t,"LogLevel",(function(){return o})),n.d(t,"Logger",(function(){return c})),n.d(t,"setLogLevel",(function(){return u}));var o,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var a=o.INFO,s=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+a+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},c=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function u(e){i.forEach((function(t){t.logLevel=e}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return e.match(/^[_A-Za-z0-9]+$/)?e.length>=50||0===e.trim().length?[2,!1]:[2,!0]:[2,!1]}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48);t.default=function(e){return void 0===e&&(e="*"),r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,i.apiFetch("/api/backgrounds/pictures",{query:{category:e}})];case 1:if((t=n.sent()).data&&Array.isArray(t.data))return[2,{__defaults__:t.data.map((function(e){return e.attributes}))}];throw new Error("Did not get array")}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48);t.default=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,i.apiFetch("/api/backgrounds/solid_colors")];case 1:if((e=t.sent()).data&&Array.isArray(e.data))return[2,{__defaults__:e.data.map((function(e){return e.attributes}))}];throw new Error("Did not get array")}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48);t.default=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,i.apiFetch("/api/backgrounds/gradients")];case 1:if((e=t.sent()).data&&Array.isArray(e.data))return[2,{__defaults__:e.data.map((function(e){return e.attributes}))}];throw new Error("Did not get array")}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48);t.default=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,i.apiFetch("/api/backgrounds/patterns")];case 1:if((e=t.sent()).data&&Array.isArray(e.data))return[2,{__defaults__:e.data.map((function(e){return e.attributes}))}];throw new Error("Did not get array")}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.dark="dark",e.light="light",e.unknown="unknown"}(t.BeethovenLuminance||(t.BeethovenLuminance={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24),o=/^[ \t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \t]*$/,i=function(){function e(e,t,n,o){void 0===e&&(e=Object(r.l)()),void 0===t&&(t=Object(r.l)().substring(16)),this._traceId=e,this._spanId=t,this._sampled=n,this._parent=o}return e.prototype.setParent=function(e){return this._parent=e,this},e.prototype.setSampled=function(e){return this._sampled=e,this},e.fromTraceparent=function(t){var n=t.match(o);if(n){var r=void 0;"1"===n[3]?r=!0:"0"===n[3]&&(r=!1);var i=new e(n[1],n[2],r);return new e(n[1],void 0,r,i)}},e.prototype.toTraceparent=function(){var e="";return!0===this._sampled?e="-1":!1===this._sampled&&(e="-0"),this._traceId+"-"+this._spanId+e},e.prototype.toJSON=function(){return{parent:this._parent&&this._parent.toJSON()||void 0,sampled:this._sampled,span_id:this._spanId,trace_id:this._traceId}},e}()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(52)),s=n(287),c=i(n(295));t.blankImageUrl=c.default;var u={};t.getDisplayAttributes=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){return n=Object.assign({url:e.url,width:500,locale:"en",dpr:a.default},t),(r=function(e){var t=u[JSON.stringify(e)];return t||null}(n))||(r=s.buildDisplayAttributesFromLink(e,n),function(e,t){u[JSON.stringify(e)]=t}(n,r)),[2,r]}))}))}},function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")();var l,f=Array.prototype,d=Function.prototype,h=Object.prototype,p=u["__core-js_shared__"],m=(l=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",y=d.toString,g=h.hasOwnProperty,v=h.toString,b=RegExp("^"+y.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=f.splice,_=A(u,"Map"),k=A(Object,"create");function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!==n&&r!==r)return o;return-1}function T(e){return!(!x(e)||(t=e,m&&m in t))&&(function(e){var t=x(e)?v.call(e):"";return t==o||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?b:a).test(function(e){if(null!=e){try{return y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function P(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function A(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return T(n)?n:void 0}function I(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return r.cache=new(I.Cache||O),r}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}E.prototype.clear=function(){this.__data__=k?k(null):{}},E.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},E.prototype.get=function(e){var t=this.__data__;if(k){var n=t[e];return n===r?void 0:n}return g.call(t,e)?t[e]:void 0},E.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:g.call(t,e)},E.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?r:t,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(e){var t=this.__data__,n=S(t,e);return!(n<0)&&(n==t.length-1?t.pop():w.call(t,n,1),!0)},C.prototype.get=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]},C.prototype.has=function(e){return S(this.__data__,e)>-1},C.prototype.set=function(e,t){var n=this.__data__,r=S(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},O.prototype.clear=function(){this.__data__={hash:new E,map:new(_||C),string:new E}},O.prototype.delete=function(e){return P(this,e).delete(e)},O.prototype.get=function(e){return P(this,e).get(e)},O.prototype.has=function(e){return P(this,e).has(e)},O.prototype.set=function(e,t){return P(this,e).set(e,t),this},I.Cache=O,e.exports=I}).call(this,n(28))},function(e,t){var n="Expected a function";function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var o=Math.max;var i=function(e,t){return t=o(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=o(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=n[i];return c[t]=s,r(e,this,c)}}((function(e,t){return function(e,t,r){if("function"!=typeof e)throw new TypeError(n);return setTimeout((function(){e.apply(void 0,r)}),t)}(e,1,t)}));e.exports=i},,function(e,t,n){"use strict";var r=n(49),o=n.n(r),i=window.Trix,a=new RegExp("^(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})$","ig");i.config.textAttributes.sup={tagName:"sup",inheritable:!0},i.config.textAttributes.sub={tagName:"sub",inheritable:!0},i.config.textAttributes.mark={tagName:"mark",inheritable:!0},i.config.blockAttributes.math={tagName:"var",terminal:!0,text:{plaintext:!0}};var s={props:["placeholder","value","dir","toolbarId"],data:function(){return{editor:null,uniqueId:o()("rte")}},watch:{value:function(e){this.editor&&this.html()!==e&&this.editor.loadHTML(e)}},methods:{freezeSelection:function(){this.editor.activateAttribute("frozen"),this.frozenSelectionRange=this.editor.getSelectedRange()},defreezeSelection:function(){this.frozenSelectionRange&&(this.editor.setSelectedRange(this.frozenSelectionRange),this.frozenSelectionRange=null),this.editor&&this.editor.deactivateAttribute("frozen")},focus:function(){this.$refs.editor.focus()},activateAttribute:function(e,t){this.defreezeSelection(),this.editor.activateAttribute(e,t),"href"===e&&this.moveCursorToEndOfSelection()},deactivateAttribute:function(e){this.editor.deactivateAttribute(e)},moveCursorToEndOfSelection:function(){var e=this.editor.getSelectedRange();e&&e[0]!==e[1]&&this.editor.setSelectedRange(e[1])},html:function(){return this.$refs.editor.value},activeAttributes:function(){return this.editor.composition.currentAttributes},selectedText:function(){if(!this.editor)return"";if(!this.editor.getDocument)return"";var e=this.editor.getSelectedRange();return e?this.editor.getDocument().getStringAtRange(e):""},onInitialize:function(e){this.editor=e.target.editor,this.editor.loadHTML(this.value),this.$emit("initialize")},onFocus:function(){this.$emit("focus")},onBlur:function(){this.$emit("blur")},onFocusIn:function(){this.defreezeSelection()},onSelectionChange:function(){this.$emit("selectionchange",this.selectedText())},onAttributesChange:function(){this.$emit("attributeschange",this.activeAttributes())},onInput:function(){this.$emit("input",this.html())},onFileAccept:function(e){this.$emit("fileaccept",e)},onEnter:function(){this.$emit("enter")},onAttachmentAdd:function(e){e.attachment&&e.attachment.remove(),e.originalEvent&&e.originalEvent.attachment&&e.originalEvent.attachment.remove()},autolinkPastedUrl:function(e){setTimeout((function(){var t=e.clipboardData,n=null;if(t&&"function"===typeof t.getData&&(n=t.getData("Text")),n&&n.match(a)){var r=e.currentTarget,o=r.editor,i=o.getDocument().toString(),s=r.editor.getSelectedRange(),c=i.substring(0,s[0]).lastIndexOf(n);return o.recordUndoEntry("Auto Link Paste"),o.setSelectedRange([c,s[0]]),o.activateAttribute("href",n),o.setSelectedRange(s)}return!0}),0)}}},c=(n(297),n(1)),u=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rich-text-editor"},[n("input",{attrs:{id:e.uniqueId,type:"hidden"},domProps:{value:e.value}}),n("trix-editor",{ref:"editor",attrs:{toolbar:e.toolbarId,input:e.uniqueId,placeholder:e.placeholder,dir:e.dir},on:{paste:e.autolinkPastedUrl,"trix-initialize":e.onInitialize,"trix-change":e.onInput,"trix-selection-change":e.onSelectionChange,"trix-attributes-change":e.onAttributesChange,"trix-file-accept":e.onFileAccept,"trix-attachment-add":e.onAttachmentAdd,focusin:e.onFocusIn,"trix-focus":e.onFocus,"trix-blur":e.onBlur,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.onEnter(t)}}})],1)}),[],!1,null,"5deec1ff",null);t.a=u.exports},,,,,,,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function m(){}function y(){}function g(){}var v={};v[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,i)&&(v=w);var _=g.prototype=m.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,a){var s=u(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,a)}))}a(s.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=_.constructor=g,g.constructor=y,g[s]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,o){var i=new E(c(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(_),_[s]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(404)),o=a(n(415)),i="function"===typeof o.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof o.default&&"symbol"===i(r.default)?function(e){return"undefined"===typeof e?"undefined":i(e)}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":"undefined"===typeof e?"undefined":i(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(95),o=n(54).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(95);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(85),o=n(408),i=n(235),a=n(233)("IE_PROTO"),s=function(){},c=function(){var e,t=n(230)("iframe"),r=i.length;for(t.style.display="none",n(306).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(234)("keys"),o=n(169);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(57),o=n(54),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(147)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(229);e.exports=function(e){return Object(r(e))}},function(e,t,n){t.f=n(58)},function(e,t,n){var r=n(54),o=n(57),i=n(147),a=n(237),s=n(94).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(166);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(442),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r={can_read:1,can_write:2,can_edit:4,can_administer:8},o={1:"can_read",2:"can_write",4:"can_edit",8:"can_administer"};e.exports={PRIVATE:"private",PASSWORD_PROTECTED:"password_protected",PUBLIC:"public",SECRET:"secret",ORGWIDE:"organization_wide",CAN_READ:"can_read",CAN_WRITE:"can_write",CAN_EDIT:"can_edit",CAN_ADMINISTER:"can_administer",permissionToNumberLookup:function(e){return r[e]||0},numberToPermissionLookup:function(e){return o[e]||null}}},function(e,t,n){(function(e,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",a=1,s=2,c=1/0,u=9007199254740991,l="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Function]",y="[object GeneratorFunction]",g="[object Map]",v="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,P=/^\./,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[l]=D[f]=D[C]=D[d]=D[O]=D[h]=D[p]=D[m]=D[g]=D[v]=D[b]=D[w]=D[_]=D[k]=D["[object WeakMap]"]=!1;var N="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,M=N||R||Function("return this")(),L=t&&!t.nodeType&&t,F=L&&"object"==typeof n&&n&&!n.nodeType&&n,B=F&&F.exports===L&&N.process,U=function(){try{return B&&B.binding("util")}catch(e){}}(),q=U&&U.isTypedArray;function V(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function W(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function G(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function H(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function z(e){return function(t){return e(t)}}function Q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Y,X,J,Z=Array.prototype,ee=Function.prototype,te=Object.prototype,ne=M["__core-js_shared__"],re=(Y=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",oe=ee.toString,ie=te.hasOwnProperty,ae=te.toString,se=RegExp("^"+oe.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=M.Symbol,ue=M.Uint8Array,le=te.propertyIsEnumerable,fe=Z.splice,de=ce?ce.isConcatSpreadable:void 0,he=(X=Object.keys,J=Object,function(e){return X(J(e))}),pe=Math.max,me=Xe(M,"DataView"),ye=Xe(M,"Map"),ge=Xe(M,"Promise"),ve=Xe(M,"Set"),be=Xe(M,"WeakMap"),we=Xe(Object,"create"),_e=st(me),ke=st(ye),Ee=st(ge),Ce=st(ve),Oe=st(be),Se=ce?ce.prototype:void 0,Te=Se?Se.valueOf:void 0,Pe=Se?Se.toString:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function je(e){var t=-1,n=e?e.length:0;for(this.__data__=new xe;++t<n;)this.add(e[t])}function De(e){this.__data__=new Ie(e)}function Ne(e,t){var n=dt(e)||ft(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ie.call(e,i)||o&&("length"==i||et(i,r))||n.push(i);return n}function Re(e,t){for(var n=e.length;n--;)if(lt(e[n][0],t))return n;return-1}Ae.prototype.clear=function(){this.__data__=we?we(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(we){var n=t[e];return n===i?void 0:n}return ie.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return we?void 0!==t[e]:ie.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=we&&void 0===t?i:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0)&&(n==t.length-1?t.pop():fe.call(t,n,1),!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Re(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Ae,map:new(ye||Ie),string:new Ae}},xe.prototype.delete=function(e){return Ye(this,e).delete(e)},xe.prototype.get=function(e){return Ye(this,e).get(e)},xe.prototype.has=function(e){return Ye(this,e).has(e)},xe.prototype.set=function(e,t){return Ye(this,e).set(e,t),this},je.prototype.add=je.prototype.push=function(e){return this.__data__.set(e,i),this},je.prototype.has=function(e){return this.__data__.has(e)},De.prototype.clear=function(){this.__data__=new Ie},De.prototype.delete=function(e){return this.__data__.delete(e)},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var o=n.__data__;if(!ye||o.length<r-1)return o.push([e,t]),this;n=this.__data__=new xe(o)}return n.set(e,t),this};var Me,Le,Fe=(Me=function(e,t){return e&&Be(e,t,wt)},function(e,t){if(null==e)return e;if(!ht(e))return Me(e,t);for(var n=e.length,r=Le?n:-1,o=Object(e);(Le?r--:++r<n)&&!1!==t(o[r],r,o););return e});var Be=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();function Ue(e,t){for(var n=0,r=(t=nt(t,e)?[t]:Qe(t)).length;null!=e&&n<r;)e=e[at(t[n++])];return n&&n==r?e:void 0}function qe(e,t){return null!=e&&t in Object(e)}function Ve(e,t,n,r,o){return e===t||(null==e||null==t||!yt(e)&&!gt(t)?e!==e&&t!==t:function(e,t,n,r,o,i){var c=dt(e),u=dt(t),m=f,y=f;c||(m=(m=Je(e))==l?b:m);u||(y=(y=Je(t))==l?b:y);var S=m==b&&!Q(e),T=y==b&&!Q(t),P=m==y;if(P&&!S)return i||(i=new De),c||bt(e)?Ke(e,t,n,r,o,i):function(e,t,n,r,o,i,c){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!r(new ue(e),new ue(t)));case d:case h:case v:return lt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case k:return e==t+"";case g:var u=$;case _:var l=i&s;if(u||(u=K),e.size!=t.size&&!l)return!1;var f=c.get(e);if(f)return f==t;i|=a,c.set(e,t);var m=Ke(u(e),u(t),r,o,i,c);return c.delete(e),m;case E:if(Te)return Te.call(e)==Te.call(t)}return!1}(e,t,m,n,r,o,i);if(!(o&s)){var A=S&&ie.call(e,"__wrapped__"),I=T&&ie.call(t,"__wrapped__");if(A||I){var x=A?e.value():e,j=I?t.value():t;return i||(i=new De),n(x,j,r,o,i)}}if(!P)return!1;return i||(i=new De),function(e,t,n,r,o,i){var a=o&s,c=wt(e),u=c.length,l=wt(t).length;if(u!=l&&!a)return!1;var f=u;for(;f--;){var d=c[f];if(!(a?d in t:ie.call(t,d)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var p=!0;i.set(e,t),i.set(t,e);var m=a;for(;++f<u;){d=c[f];var y=e[d],g=t[d];if(r)var v=a?r(g,y,d,t,e,i):r(y,g,d,e,t,i);if(!(void 0===v?y===g||n(y,g,r,o,i):v)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i)}(e,t,Ve,n,r,o))}function We(e){return!(!yt(e)||function(e){return!!re&&re in e}(e))&&(pt(e)||Q(e)?se:x).test(st(e))}function Ge(e){return"function"==typeof e?e:null==e?_t:"object"==typeof e?dt(e)?function(e,t){if(nt(e)&&rt(t))return ot(at(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:Ue(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=nt(t,e)?[t]:Qe(t);var r,o=-1,i=t.length;for(;++o<i;){var a=at(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(i=e?e.length:0)&&mt(i)&&et(a,i)&&(dt(e)||ft(e))}(e,t,qe)}(n,e):Ve(t,r,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){var t=wt(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,rt(o)]}return t}(e);if(1==t.length&&t[0][2])return ot(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,c=!r;if(null==e)return!i;for(e=Object(e);o--;){var u=n[o];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){var l=(u=n[o])[0],f=e[l],d=u[1];if(c&&u[2]){if(void 0===f&&!(l in e))return!1}else{var h=new De;if(r)var p=r(f,d,l,e,t,h);if(!(void 0===p?Ve(d,f,r,a|s,h):p))return!1}}return!0}(n,e,t)}}(e):nt(t=e)?(n=at(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Ue(t,e)}}(t);var t,n}function He(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||te,t!==r)return he(e);var t,n,r,o=[];for(var i in Object(e))ie.call(e,i)&&"constructor"!=i&&o.push(i);return o}function ze(e,t,n){var r=-1;return t=W(t.length?t:[_t],z(Ge)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(function(e,t){var n=-1,r=ht(e)?Array(e.length):[];return Fe(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}(e,(function(e,n,o){return{criteria:W(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=$e(o[r],i[r]);if(c){if(r>=s)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Qe(e){return dt(e)?e:it(e)}function $e(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,i=vt(e),a=void 0!==t,s=null===t,c=t===t,u=vt(t);if(!s&&!u&&!i&&e>t||i&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!c)return-1}return 0}function Ke(e,t,n,r,o,i){var c=o&s,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var f=i.get(e);if(f&&i.get(t))return f==t;var d=-1,h=!0,p=o&a?new je:void 0;for(i.set(e,t),i.set(t,e);++d<u;){var m=e[d],y=t[d];if(r)var g=c?r(y,m,d,t,e,i):r(m,y,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!H(t,(function(e,t){if(!p.has(t)&&(m===e||n(m,e,r,o,i)))return p.add(t)}))){h=!1;break}}else if(m!==y&&!n(m,y,r,o,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function Ye(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return We(n)?n:void 0}var Je=function(e){return ae.call(e)};function Ze(e){return dt(e)||ft(e)||!!(de&&e&&e[de])}function et(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function tt(e,t,n){if(!yt(n))return!1;var r=typeof t;return!!("number"==r?ht(n)&&et(t,n.length):"string"==r&&t in n)&&lt(n[t],e)}function nt(e,t){if(dt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!vt(e))||(T.test(e)||!S.test(e)||null!=t&&e in Object(t))}function rt(e){return e===e&&!yt(e)}function ot(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(me&&Je(new me(new ArrayBuffer(1)))!=O||ye&&Je(new ye)!=g||ge&&"[object Promise]"!=Je(ge.resolve())||ve&&Je(new ve)!=_||be&&"[object WeakMap]"!=Je(new be))&&(Je=function(e){var t=ae.call(e),n=t==b?e.constructor:void 0,r=n?st(n):void 0;if(r)switch(r){case _e:return O;case ke:return g;case Ee:return"[object Promise]";case Ce:return _;case Oe:return"[object WeakMap]"}return t});var it=ut((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(vt(e))return Pe?Pe.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}(t);var n=[];return P.test(e)&&n.push(""),e.replace(A,(function(e,t,r,o){n.push(r?o.replace(I,"$1"):t||e)})),n}));function at(e){if("string"==typeof e||vt(e))return e;var t=e+"";return"0"==t&&1/e==-c?"-0":t}function st(e){if(null!=e){try{return oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var ct=function(e,t){return t=pe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=pe(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,V(e,this,a)}}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&tt(e,t[0],t[1])?t=[]:n>2&&tt(t[0],t[1],t[2])&&(t=[t[0]]),ze(e,function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Ze),i||(i=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):G(i,c):o||(i[i.length]=c)}return i}(t,1),[])}));function ut(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(ut.Cache||xe),n}function lt(e,t){return e===t||e!==e&&t!==t}function ft(e){return function(e){return gt(e)&&ht(e)}(e)&&ie.call(e,"callee")&&(!le.call(e,"callee")||ae.call(e)==l)}ut.Cache=xe;var dt=Array.isArray;function ht(e){return null!=e&&mt(e.length)&&!pt(e)}function pt(e){var t=yt(e)?ae.call(e):"";return t==m||t==y}function mt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function yt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function gt(e){return!!e&&"object"==typeof e}function vt(e){return"symbol"==typeof e||gt(e)&&ae.call(e)==E}var bt=q?z(q):function(e){return gt(e)&&mt(e.length)&&!!D[ae.call(e)]};function wt(e){return ht(e)?Ne(e):He(e)}function _t(e){return e}n.exports=ct}).call(this,n(28),n(83)(e))},function(e,t,n){"use strict";var r=n(9),o=n(93),i=n(246),a={components:{BaseIcon:r.a,ProgressDeterminate:o.a},mixins:[i.a]},s=(n(465),n(1)),c=Object(s.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"upload-file"},[t("div",{staticClass:"upload-info"},[t("div",{staticClass:"upload-name ellipsified-type"},[this._v(this._s(this.filename))]),this._v(" "),t("base-icon",{staticClass:"icon-button upload-cancel",attrs:{name:"close"},on:{click:this.cancelUpload}})],1),this._v(" "),t("div",{staticClass:"progress-container"},[t("progress-determinate",{attrs:{progress:this.progress}})],1)])}),[],!1,null,"d1d4e81a",null);t.a=c.exports},function(e,t,n){"use strict";var r=n(7),o=n(65),i=n(247),a="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",s=Object(o.a)("lazyLoad"),c={props:{alt:{type:String,default:""},src:{type:String,default:a},backgroundColor:String,width:Number,height:Number,postWidth:Number,postHeight:Number,loading:{type:String,default:"auto",validator:function(e){return["auto","eager","lazy"].includes(e)}}},data:function(){return{success:!1,failed:!1,isVisible:!i.a}},computed:{computedSrc:function(){return s?this.src:"lazy"!==this.loading||this.isVisible?this.src:a},computedWidth:function(){return this.postWidth||this.width},computedHeight:function(){return this.postHeight||this.height},style:function(){return{"background-color":this.success?"":this.backgroundColor,width:this.computedWidth+"px",height:this.computedHeight+"px"}}},mounted:function(){var e=this;s||"lazy"!==this.loading||this.isVisible||Object(i.b)(this.$el,(function(){e.isVisible=!0}))},methods:{triggerCustomEvent:function(e){var t=new CustomEvent("Event",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)},onLoad:function(){this.computedSrc!==a&&(this.success=!0,Object(r.a)(this.$el).trigger("beethoven-load"))},onError:function(){this.computedSrc!==a&&(this.failed=!0,Object(r.a)(this.$el).trigger("beethoven-error"))}}},u=n(1),l=Object(u.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",{class:{"beethoven-success":e.success,"beethoven-fail":!e.success&&e.failed},style:e.style,attrs:{alt:e.alt,loading:e.loading,src:e.computedSrc,width:e.computedWidth,height:e.computedHeight},on:{load:e.onLoad,error:e.onError}})}),[],!1,null,null,null);t.a=l.exports},function(e,t,n){"use strict";var r=n(4),o=n(13),i=n(22);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){if(e.name){var t=e.name,n=t.substr((Math.max(0,t.lastIndexOf("."))||1/0)+1);return""==n?n:(n=n.replace(/\?.*$/,"")).match(/[^a-zA-Z0-9]/)?"":n.toLowerCase()}if(e.type){var r=a(e.type.split(";"),2),o=r[0],i=(r[1],a(o.split("+"),2)),s=(i[0],i[1],a(o.split("/"),2)),c=(s[0],s[1]);return c?c.toLowerCase():""}},c=n(121),u=n(329),l=n.n(u);n(209);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)("Uploads","Error",e),t.fileType=e,Object(i.c)("UploadError",{context:t})},y=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,h(t).call(this))).file=e,n.options=r,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"cancel",value:function(){this.xhr1&&this.xhr1.abort(),this.xhr2&&this.xhr2.abort(),this.emit("cancel")}},{key:"perform",value:function(){var e,t=this.options.maxFileSize;t&&(t+=1048576),t&&this.file.size>t?(Object(o.a)("Uploads","Large file",this.file.type,this.file.size),this._reject({error:"FILE_TOO_LARGE_ERROR"})):(e=this.file,new Promise((function(t,n){var r=s(e);if(r.match(/gdoc|gsheet|glink|gform|gmap|gmaps|gslides|gdraw|url|htm|html|webloc|mht|mhtml/)){var o,i=new FileReader;i.onload=function(){var e=i.result;if("gdoc"===r||"gsheet"===r||"glink"===r||"gform"===r||"gmap"===r||"gmaps"===r||"gslides"===r||"gdraw"===r){var a=JSON.parse(e);t({url:a.url})}else"url"===r&&(o=e.match(/URL=(.*)/))?t({url:o[1]}):("htm"===r||"html"===r)&&e.indexOf("window.googleJavaScriptRedirect")>=0&&(o=e.match(/content="0;URL='(.*)'/))?t({url:o[1]}):"htm"!==r&&"html"!==r||!(o=e.match(/<\!\-\-\ssaved\sfrom\surl=\((?:\d+)\)(.*?)\s\-\-\>/))||"http://tiddlywiki.com"===o[1]?"webloc"===r&&(o=e.match(/<string>(.*)<\/string>/))?t({url:o[1]}):"mht"!==r&&"mhtml"!==r||!(o=e.match(/Content\-Location\:\s(.*)/))?n():t({url:o[1]}):t({url:o[1]})},i.onerror=function(){n()},i.readAsText(e)}else n()}))).then(this._resolve.bind(this),this._ajax1.bind(this))}},{key:"_progress",value:function(e,t){var n=e.loaded/e.total;this.emit("progress",n)}},{key:"_resolve",value:function(e){this.emit("done",e)}},{key:"_reject",value:function(e){this.emit("error",e)}},{key:"_ajax1",value:function(){var e=this;this.xhr1=Object(c.a)({url:"/media/upload_attributes.json",dataType:"json",type:"OPTIONS",cache:!1,data:{unique:+new Date},error:function(t,n){"abort"!=n&&(m("ajax1",{statusCode:t.status,readyState:t.readyState}),e._reject(t))},success:function(t){e._ajax2(t)}})}},{key:"_ajax2",value:function(e){var t=new Date,n=this,r=new FormData,i=function(e){var t=s(e);if(e.name){var n=e.name.split("."),r=(n.pop(),n.join("_"));return r=(r=r.replace(/[^a-zA-Z0-9_]/g,"_")).substr(0,100),t?[r,t].join("."):r}return t?"file.".concat(t):"file"}(this.file),a=this.file.name?this.file.name:i,u={};this.options.maxFileSize&&(u.max_file_size=this.options.maxFileSize+1048576,u.transcode=!0);var l=Object.assign({},e.fields,u);Object.entries(l).forEach((function(e){"key"!=e[0]&&r.append(e[0],e[1])})),r.append("key",[e.fields.key,i].join("/")),r.append("Content-Type",this.file.type),r.append("file_size",this.file.size),r.append("title",a),r.append("file",this.file,i),this.xhr2=Object(c.a)({url:e.url,crossDomain:!0,type:"POST",data:r,cache:!1,contentType:!1,processData:!1,dataType:"json",xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",(function(e){e.lengthComputable&&n._progress(e,t)})),e},error:function(e,t){"abort"!=t&&(m(n.file.type,{statusCode:e.status,userId:l.uploader_id,filename:n.file.name,filsSize:n.file.size,maxFileSize:l.max_file_size||"None",readyState:e.readyState,responseText:e.responseText,responseXml:e.responseXml}),n._reject(e))},success:function(e){var t;t=n.file.type,Object(o.a)("Uploads","Success",t),n._resolve(e)}})}}])&&f(n.prototype,r),i&&f(n,i),t}(l.a);t.a={props:{file:{required:!0},name:String,maxFileSize:{type:Number,default:26214400}},data:function(){return{error:!1,canRetryUpload:!0,progress:0}},computed:{filename:function(){return this.name||this.file.name},fileUrl:function(){if(this.file)return URL.createObjectURL(this.file)}},methods:{cancelUpload:function(){this._uploadJob&&this._uploadJob.cancel(),this.$emit("cancel",this.file)},_onDone:function(e){Object(o.a)("Uploader","Done"),this.onDone(),this.$emit("done",this.file,e.url)},onDone:function(){},_onError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("FILE_TOO_LARGE_ERROR"==e.error)this.$emit("reject",this.file,{size:!0}),Object(o.a)("Uploader","Reject");else{var t=Object(r.a)("Sorry, there was an error uploading your file.");this.error=t,this.canRetryUpload=!0,Object(o.a)("Uploader","Error"),this.$emit("error",this.file,t)}},_onProgress:function(e){this.progress=e},startUpload:function(){this.error=!1;var e=this._onDone.bind(this),t=this._onError.bind(this),n=this._onProgress.bind(this);this._uploadJob=new y(this.file,{maxFileSize:this.maxFileSize}),this._uploadJob.on("done",e),this._uploadJob.on("error",t),this._uploadJob.on("progress",n),this._uploadJob.perform()}},mounted:function(){this.startUpload()},beforeDestroy:function(){this._uploadJob&&this._uploadJob.cancel()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var r="IntersectionObserver"in window;function o(e,t){return!!r&&(new IntersectionObserver((function(n,r){n.forEach((function(n){if(n.isIntersecting){var o=n.target;r.unobserve(o),t(e)}}))})).observe(e),!0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r=window.jQuery,o=function(e){(e?r(e):document.getElementById("wish-new")).scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})},i=function(e,t){var n=e.offsetWidth,o=Math.max(t.left-(n-t.width)/2,0),i=Math.max(t.top-200,0);r(e).animate({scrollLeft:o,scrollTop:i})},a=function(e,t){var n=e.offsetWidth,o=Math.max(t.offsetLeft-(n-t.offsetLeft)/2,0);r(e).animate({scrollLeft:o})}},function(e,t,n){(function(t){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,y=function(){return d.Date.now()};function g(e,t,r){var o,i,a,s,c,u,l=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function g(t){var n=o,r=i;return o=i=void 0,l=t,s=e.apply(r,n)}function w(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=a}function _(){var e=y();if(w(e))return k(e);c=setTimeout(_,function(e){var n=t-(e-u);return d?m(n,a-(e-l)):n}(e))}function k(e){return c=void 0,h&&o?g(e):(o=i=void 0,s)}function E(){var e=y(),n=w(e);if(o=arguments,i=this,u=e,n){if(void 0===c)return function(e){return l=e,c=setTimeout(_,t),f?g(e):s}(u);if(d)return c=setTimeout(_,t),g(u)}return void 0===c&&(c=setTimeout(_,t)),s}return t=b(t)||0,v(r)&&(f=!!r.leading,a=(d="maxWait"in r)?p(b(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),E.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},E.flush=function(){return void 0===c?s:k(y())},E}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==o}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return v(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),g(e,t,{leading:o,maxWait:t,trailing:i})}}).call(this,n(28))},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var r,o=n(65),i=n(92),a=n(249),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c="development",u=[],l={development:"https://ma73hwoovf.execute-api.us-east-1.amazonaws.com/dev/streams/events_dev/record",staging:"https://ma73hwoovf.execute-api.us-east-1.amazonaws.com/staging/streams/events_staging/record",production:"https://ma73hwoovf.execute-api.us-east-1.amazonaws.com/prod/streams/events_prod/record"};function f(){return l[c]}function d(){return"undefined"!==typeof window&&window.performance?Math.round(window.performance.now()/1e3):-1}function h(){if(navigator.sendBeacon&&u.length>0){var e=u.map((function(e){return JSON.stringify(e)})).join("\n");navigator.sendBeacon(f(),e)}u=[]}var p=n.n(a)()(h,1e3,{trailing:!0,leading:!1});function m(e,t){var n;void 0===t&&(t={}),n={name:e,props:t,user:{id:r.id.toString(),tenantId:r.tenant_id.toString(),paying:!!r.paying,role:r.role||"member",lang:r.lang,createdAt:r.created_at,wallsUsed:r.quota.walls_used,isRegistered:!!r.registered_at},context:{userAgent:o.d,screen:o.c,url:Object(i.a)()},timestamp:(new Date).getTime()},u.push(n),p()}var y="button,a,[role=button],[data-pepin-trigger=click]";function g(e){var t=e.target.closest(y);if(t){var n=t.dataset.pepinId||t.id,r=function(e){var t={};return Object.keys(e).forEach((function(n){if(n.startsWith("pepin")&&"pepinId"!==n&&"pepinTrigger"!==n){var r=n.slice(5),o=r.substr(0,1).toLowerCase()+r.substr(1);t[o]=e[n]}})),t}(t.dataset);if(n){var o={x:e.pageX,y:e.pageY},i=d();m("click",s({target:n,coordinates:o,elapsedTime:i},r))}}}function v(){document.addEventListener("click",g)}function b(e){r=e.user,c=e.environment,window.addEventListener("beforeunload",h)}},function(e,t,n){"use strict";var r,o=n(13),i=n(32),a=n(17),s=n(11),c=n(29),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};function d(e){Object(o.a)("Posts","add","Paste "+e)}function h(e){if(Object(i.b)(e))return d("Link"),{attachment:e};var t=Object(a.m)(e);return t?(d("Hash"),t):(d("Text"),{body:e})}function p(e){return d("File"),{file:e}}function m(e){if(!e)return!1;var t=e,n=t.tagName&&t.tagName.toUpperCase();return["TEXTAREA","INPUT","TRIX-EDITOR"].includes(n)||"true"===t.contentEditable||t.isContentEditable||!document.documentElement.contains(t)||function(){for(var e=document.getElementsByTagName("trix-editor"),n=0;n<e.length;n++){if(e[n].contains(t))return!0}return!1}()}var y=Object(c.d)("post"),g=!1,v=null,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.processPasteToPostEvent=function(e){var t=e;if(t.target&&t.target.tagName&&t.clipboardData&&t.clipboardData.items&&!function(e){return m(e.target)||m(e.originalTarget)||m(e.explicitOriginalTarget)}(t))for(var n=0;n<t.clipboardData.items.length;n++){var r=t.clipboardData.items[n],o=r.type,i=null;if(o.includes("image")){var a=r.getAsFile();a&&(i=p(a))}else if("text/plain"===o){var s=t.clipboardData.getData("text");s&&(i=h(s))}i&&(v?v(i):this.createPost({attributes:i}))}},t.prototype.enablePasteToPost=function(e){void 0===e&&(e=null),g||(v=e,window.addEventListener("paste",this.processPasteToPostEvent.bind(this)),g=!0)},t.prototype.disablePasteToPost=function(){g&&(v=null,window.removeEventListener("paste",this.processPasteToPostEvent.bind(this)),g=!1)},l([y.Action,f("design:type",Object)],t.prototype,"createPost",void 0),t=l([s.a],t)}(s.d);t.a=b},function(e,t,n){"use strict";var r=n(2),o=n(32),i=n(13),a=n(7);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={data:function(){return{dropToPostSubscribed:!1,$_dropToPostMixin_callback:null}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)("post",["createPost"]),{$_dropToPostMixin_processDrop:function(e){e.preventDefault();var t=document.getElementById("wish-list"),n=0,r=0;t?(n=Math.max(e.originalEvent.pageX-t.getBoundingClientRect().left,0),r=Math.max(e.originalEvent.pageY-t.getBoundingClientRect().top,0)):(n=Math.max(e.originalEvent.pageX,0),r=Math.max(e.originalEvent.pageY,0));var i=0;if(e.originalEvent.dataTransfer){var a=e.originalEvent.dataTransfer.files;if(a&&a.length>0)for(var s=0;s<a.length;s++){var c=a[s];this.$_dropToPostMixin_processFileDrop(c,r+i,n+i),i+=8}else{var u=e.originalEvent.dataTransfer.getData("text/uri-list");if(u)this.$_dropToPostMixin_processLinkDrop(u,r,n);else{var l=e.originalEvent.dataTransfer.getData("text/plain");l&&(Object(o.b)(l)?this.$_dropToPostMixin_processLinkDrop(l,r,n):this.$_dropToPostMixin_processTextDrop(l,r,n))}}}return!1},$_dropToPostMixin_processFileDrop:function(e,t,n){this.$_dropToPostMixin_track("File");var r={attributes:{file:e,top:t,left:n}};this.$_dropToPostMixin_callback?this.$_dropToPostMixin_callback(r):this.createPost(r)},$_dropToPostMixin_processLinkDrop:function(e,t,n){this.$_dropToPostMixin_track("Link");var r={attributes:{attachment:e,top:t,left:n}};this.$_dropToPostMixin_callback?this.$_dropToPostMixin_callback(r):this.createPost(r)},$_dropToPostMixin_processTextDrop:function(e,t,n){this.$_dropToPostMixin_track("Text");var r={attributes:{body:e,top:t,left:n}};this.$_dropToPostMixin_callback?this.$_dropToPostMixin_callback(r):this.createPost(r)},$_dropToPostMixin_track:function(e){Object(i.a)("Posts","add","".concat(e," drop"))},enableDropToPost:function(e,t){var n=this,r=Object(a.a)(e||"#wall-container");this.dropToPostSubscribed||(this.$_dropToPostMixin_callback=t,r.on("dragover.droptopost",(function(e){return r.addClass("is-dragover"),!1})),r.on("dragleave.droptopost dragend.droptopost",(function(e){return r.removeClass("is-dragover"),!1})),r.on("drop.droptopost",(function(e){r.removeClass("is-dragover"),n.$_dropToPostMixin_processDrop(e)})),this.dropToPostSubscribed=!0)},disableDropToPost:function(e){var t=Object(a.a)(e||"#wall-container");this.$_dropToPostMixin_callback=null,this.dropToPostSubscribed&&(t.off(".droptopost"),this.dropToPostSubscribed=!1)}})}},function(e,t,n){"use strict";var r=n(2),o=n(138),i=n(27),a=n(35),s=n(10),c=n(53);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={components:{AvatarImage:a.a,RelativeTime:c.a},mixins:[s.a],props:["post","user"],computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)(["tenant"]),{},Object(r.c)(["isBackchannel"]),{author:function(){return this.post.author||this.user},authorName:function(){return this.isRegistered?this.author.name||this.author.username:this.__("Anonymous")},authorProfileUrl:function(){return"/".concat(this.author.username)},isRegistered:function(){return this.author.registered||!!this.author.registered_at},updatedAt:function(){return this.post.content_updated_at||this.post.created_at},createdAtDateString:function(){var e=new Date(this.post.created_at),t={};return t=(new Date).toDateString()===e.toDateString()?{hour:"numeric",minute:"numeric",hour12:!1}:{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i.a,t).format(e)}})},d=(n(461),n(1)),h=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-post-author"},[e.isRegistered?n("a",{attrs:{href:e.authorProfileUrl,target:"_blank","data-bridged-link":"profile"}},[n("avatar-image",{attrs:{user:e.author,width:"16",height:"16"}}),e._v(" "),n("span",{staticClass:"post-author-name"},[e._v(e._s(e.authorName))])],1):n("span",{staticClass:"author-info"},[n("avatar-image",{attrs:{user:null,width:"16",height:"16"}}),n("span",{staticClass:"post-author-name"},[e._v(e._s(e.authorName))])],1),e._v(" "),!e.isBackchannel&&e.updatedAt?n("relative-time",{staticClass:"post-author-time",attrs:{datetime:e.updatedAt,"data-autorefresh":""}}):e._e(),e._v(" "),e.isBackchannel?n("div",{staticClass:"post-author-time"},[e._v("\n    "+e._s(e.createdAtDateString)+"\n  ")]):e._e()],1)}),[],!1,null,"7fcfdfba",null).exports,p=n(60),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},g="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.js",v="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.css";var b=n(193),w=n(7);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={props:["post","isEditableByCurrentUser"],computed:k({},Object(r.c)(["isBackchannel"]),{headline:function(){return this.post.headline},subject:function(){return this.post.subject},rawBody:function(){return this.post.body},body:function(){return this.autoLink(this.rawBody)}}),updated:function(){var e=this;this.$nextTick((function(){e.performPostUpdateActions()}))},mounted:function(){var e=this;this.$nextTick((function(){e.performPostUpdateActions()}))},methods:{startEditing:function(){this.isEditableByCurrentUser&&!this.isBackchannel&&this.$emit("edit")},autoLink:function(e){return Object(b.a)(e,{replaceFn:function(e){var t=e.buildTag();return t.setAttr("rel","noopener nofollow"),t.setAttr("data-bridged-link","external"),t}})},performPostUpdateActions:function(){Object(w.a)("var",this.$el).each((function(e,t){t.children[0]&&"katex"===t.children[0].className||function(e){m(this,void 0,Promise,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,Promise.all([Object(p.b)(g),Object(p.a)(v)])];case 1:return t.sent(),katex.render(e.innerText,e,{displayMode:!1}),[2]}}))}))}(t)}));Object(w.a)("a[href^=h]",this.$el).attr(k({target:"_blank",rel:"noopener nofollow"},{"data-bridged-link":"external"}))}}},O=(n(462),Object(d.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"with-subject":!!e.subject,"with-body":!!e.body},on:{dblclick:e.startEditing}},[e.subject?n("div",{staticClass:"subject",attrs:{dir:"auto"}},[e._v(e._s(e.subject))]):e._e(),e._v(" "),e.body?n("div",{ref:"body",staticClass:"body",attrs:{dir:"auto"},domProps:{innerHTML:e._s(e.body)}}):e._e()])}),[],!1,null,null,null).exports),S=n(9);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={components:{BaseIcon:S.a},mixins:[s.a],props:["post","colorScheme","attachmentLuminance","isEditableByCurrentUser","isBeingEdited","xAuthor"],computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)(["isTouchable"]),{theme:function(){return!(this.xAuthor||this.post.subject||this.post.body)?this.attachmentLuminance:this.colorScheme},showIconList:function(){return!this.isTouchable||this.isBeingEdited}}),methods:{editPost:function(){this.$emit("edit")},deletePost:function(){this.$emit("delete")},toggleDropdown:function(){this.$emit("dropdown")}}},I=(n(463),Object(d.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-post-actions",attrs:{"data-theme":e.theme}},[e.showIconList?n("div",{staticClass:"actions-icon-list"},[e.isEditableByCurrentUser?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Edit post",expression:"'Edit post'",arg:"title"}],staticClass:"icon-button-inverse actions-edit",on:{click:e.editPost}},[n("base-icon",{attrs:{name:"edit"}})],1):e._e(),e._v(" "),e.isEditableByCurrentUser?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Delete post",expression:"'Delete post'",arg:"title"}],staticClass:"icon-button-inverse actions-delete",on:{click:e.deletePost}},[n("base-icon",{attrs:{name:"delete"}})],1):e._e(),e._v(" "),n("button",{directives:[{name:"t",rawName:"v-t:title",value:"More actions",expression:"'More actions'",arg:"title"}],staticClass:"icon-button-inverse actions-more",on:{click:e.toggleDropdown}},[e.isEditableByCurrentUser?n("base-icon",{attrs:{name:"more_horiz"}}):e._e(),e._v(" "),e.isEditableByCurrentUser?e._e():n("base-icon",{attrs:{name:"more_vert"}})],1)]):n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Post actions",expression:"'Post actions'",arg:"title"}],staticClass:"actions-dropdown icon-button",on:{click:e.toggleDropdown}},[n("base-icon",{attrs:{name:"more_vert"}})],1)])}),[],!1,null,"06488811",null).exports),x=n(320),j=n(244),D=n(13),N=n(104);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={components:{BaseIcon:S.a,SurfaceBeethovenPreview:x.a,UploadFile:j.a},mixins:[s.a],props:["post","isBeingEdited"],data:function(){return{width:this.getWidth(),Source:N.a}},computed:M({},Object(r.e)(["windowWidth","isOldApp","isMobile"]),{},Object(r.c)(["format","xTallAttachmentPickerBox","uploadLimit"]),{},Object(r.c)("attachment",["fileUploadingToPickerBox"]),{postWidth:function(){return this.post.width},url:function(){return this.post.attachment},showMenu:function(){return this.isBeingEdited&&!this.url},showDeprecatedMenu:function(){return this.isOldApp},contentSourceCount:function(){return this.width?Math.floor(this.width/40):5},showRemoveIcon:function(){return this.isBeingEdited&&this.url},showRegularAttachmentPickerBar:function(){return this.showMenu&&!this.showDeprecatedMenu&&!this.xTallAttachmentPickerBox},showTallAttachmentPickerBox:function(){return this.showMenu&&!this.showDeprecatedMenu&&this.xTallAttachmentPickerBox}}),watch:{postWidth:function(){this.width=this.getWidth()},url:function(){var e=this;this.$nextTick((function(){e.width=e.getWidth()}))},isBeingEdited:function(){this.width=this.getWidth()},windowWidth:function(){this.width=this.getWidth()}},mounted:function(){this.width=this.getWidth()},methods:M({},Object(r.b)("contentPicker",["showContentSourceMenu","pickContentSource"]),{},Object(r.b)("post",["removePostAttachment","changePostAttachment","saveContent"]),{},Object(r.b)("attachment",["completeUploadingFileToPickerBox"]),{onUploadError:function(){this.completeUploadingFileToPickerBox()},onUploadCancel:function(){this.completeUploadingFileToPickerBox()},onUploadDone:function(e,t){this.saveContent({content:{link:t}}),this.completeUploadingFileToPickerBox()},onUploadReject:function(){this.completeUploadingFileToPickerBox()},getWidth:function(){if(this.isBeingEdited)return Math.ceil(Object(w.a)(this.$parent.$el).width()||Object(w.a)(".wish-sizer").width());var e=Math.ceil(Object(w.a)(".wish-sizer").width());switch(this.format){case"stream":return this.windowWidth<=480?e:540;case"grid":return Math.ceil(e);case"shelf":case"matrix":return e;case"chat":return this.windowWidth<=320?e:320;case"table":return 300;case"map":case"timeline":return 254;default:return Math.ceil(this.post.width)||1920}},openDeprecatedPicker:function(){var e=this;o.a.postMessage({message_type:"show_content_picker",title:this.__("Add attachment"),file_type:"all",action:{message_type:"receive_content"}},(function(){Object(w.a)(document).off("pick:done"),Object(w.a)(document).on("pick:done",(function(t,n){e.changePostAttachment({postCid:e.post.cid,attributes:{attachment:n}}),Object(w.a)(document).off("pick:done")})),window.location.href=window.location.protocol+"//"+window.location.host+"/beethoven/attach"})),o.a.addMessageHandler("receive_content",(function(t){null!=t.url?e.changePostAttachment({postCid:e.post.cid,attributes:{attachment:t.url}}):console.error("Invalid parameters for receive content.")}))},getContent:function(e){Object(D.a)("Content Menu","Selected Source","Wish ".concat(e)),this.pickContentSource({source:e})},getContentIfSupported:function(e){this.isMobile||this.getContent(e)},chooseContentSource:function(e){var t={left:e.clientX,top:e.clientY};this.showContentSourceMenu({position:t})},removeAttachment:function(){this.removePostAttachment({postCid:this.post.cid})}})},B=(n(466),Object(d.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["surface-post-attachment",{"post-attachment-on-top":e.showTallAttachmentPickerBox}],attrs:{"data-view-mode":e.isBeingEdited?"edit":"show"}},[e.showTallAttachmentPickerBox&&!e.fileUploadingToPickerBox?n("div",{directives:[{name:"t",rawName:"v-t"}],key:"picker-notice",staticClass:"pick-content-text"},[e._v("\n    Drag a file or choose from below\n  ")]):e._e(),e._v(" "),e.showMenu&&e.showDeprecatedMenu?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Add attachment",expression:"'Add attachment'",arg:"title"}],staticClass:"pick-attachment",on:{click:function(t){return t.stopPropagation(),e.openDeprecatedPicker(t)}}}):e._e(),e._v(" "),e.showRegularAttachmentPickerBar?n("div",{staticClass:"pick-content"},[e.contentSourceCount>1?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Upload",expression:"'Upload'",arg:"title"}],staticClass:"icon-button",attrs:{"data-pepin-id":"wish-upload"},on:{click:function(t){return e.getContentIfSupported(e.Source.FileBrowser)}}},[n("label",{attrs:{for:"content-hidden-file-input"}},[n("base-icon",{attrs:{name:"upload"}})],1)]):e._e(),e._v(" "),e.contentSourceCount>2?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Link",expression:"'Link'",arg:"title"}],staticClass:"icon-button",attrs:{"data-pepin-id":"wish-link"},on:{click:function(t){return e.getContent(e.Source.LinkInput)}}},[n("base-icon",{attrs:{name:"link"}})],1):e._e(),e._v(" "),e.contentSourceCount>3?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Google",expression:"'Google'",arg:"title"}],staticClass:"icon-button",attrs:{"data-pepin-id":"wish-search"},on:{click:function(t){return e.getContent(e.Source.WebBrowser)}}},[n("base-icon",{attrs:{name:"search_web"}})],1):e._e(),e._v(" "),e.contentSourceCount>4?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Snap",expression:"'Snap'",arg:"title"}],staticClass:"icon-button",attrs:{"data-pepin-id":"wish-snap"},on:{click:function(t){return e.getContentIfSupported(e.Source.PhotoBooth)}}},[n("label",{attrs:{for:"content-hidden-image-input"}},[n("base-icon",{attrs:{name:"camera"}})],1)]):e._e(),e._v(" "),e.contentSourceCount>1?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"More",expression:"'More'",arg:"title"}],staticClass:"icon-button",attrs:{"data-pepin-id":"wish-more"},on:{click:e.chooseContentSource}},[n("base-icon",{attrs:{name:"more_horiz"}})],1):e._e(),e._v(" "),e.contentSourceCount<=1?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Add attachment",expression:"'Add attachment'",arg:"title"}],staticClass:"icon-button",on:{click:e.chooseContentSource}},[n("base-icon",{attrs:{name:"attachment"}})],1):e._e()]):e.showTallAttachmentPickerBox?n("div",{staticClass:"pick-content pick-content-map"},[e.fileUploadingToPickerBox&&e.isBeingEdited?n("upload-file",{attrs:{file:e.fileUploadingToPickerBox,"max-file-size":e.uploadLimit},on:{error:e.onUploadError,cancel:e.onUploadCancel,done:e.onUploadDone,reject:e.onUploadReject}}):[e.contentSourceCount>1?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Upload",expression:"'Upload'",arg:"title"}],staticClass:"icon-button",on:{click:function(t){return e.getContentIfSupported(e.Source.FileBrowser)}}},[n("label",{attrs:{for:"content-hidden-file-input"}},[n("base-icon",{attrs:{name:"upload"}})],1)]):e._e(),e._v(" "),e.contentSourceCount>2?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Link",expression:"'Link'",arg:"title"}],staticClass:"icon-button",on:{click:function(t){return e.getContent(e.Source.LinkInput)}}},[n("base-icon",{attrs:{name:"link"}})],1):e._e(),e._v(" "),e.contentSourceCount>3?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Google",expression:"'Google'",arg:"title"}],staticClass:"icon-button",on:{click:function(t){return e.getContent(e.Source.WebBrowser)}}},[n("base-icon",{attrs:{name:"search_web"}})],1):e._e(),e._v(" "),e.contentSourceCount>4?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Snap",expression:"'Snap'",arg:"title"}],staticClass:"icon-button",on:{click:function(t){return e.getContentIfSupported(e.Source.PhotoBooth)}}},[n("label",{attrs:{for:"content-hidden-image-input"}},[n("base-icon",{attrs:{name:"camera"}})],1)]):e._e(),e._v(" "),e.contentSourceCount>1?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"More",expression:"'More'",arg:"title"}],staticClass:"icon-button",on:{click:e.chooseContentSource}},[n("base-icon",{attrs:{name:"more_horiz"}})],1):e._e(),e._v(" "),e.contentSourceCount<=1?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Add attachment",expression:"'Add attachment'",arg:"title"}],staticClass:"icon-button",on:{click:e.chooseContentSource}},[n("base-icon",{attrs:{name:"attachment"}})],1):e._e()]],2):e._e(),e._v(" "),e.url?n("surface-beethoven-preview",{attrs:{post:e.post,url:e.url,width:e.width}}):e._e(),e._v(" "),e.showRemoveIcon?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Remove attachment",expression:"'Remove attachment'",arg:"title"}],staticClass:"attachment-controls remove-attachment",on:{click:function(t){return t.stopPropagation(),e.removeAttachment(t)}}},[n("base-icon",{attrs:{name:"close"}})],1):e._e()],1)}),[],!1,null,"a5a44668",null).exports),U={mixins:[s.a],props:["post","canIModerate","isBeingEdited"],methods:{deletePost:function(){this.$emit("delete")},approve:function(){this.$emit("approve")}}},q=(n(467),Object(d.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-post-moderation"},[e.canIModerate?e._e():n("div",{staticClass:"post-moderation-message"},[e.isBeingEdited?n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Requires approval")]):n("div",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Awaiting approval")])]),e._v(" "),e.canIModerate?n("div",{staticClass:"post-moderation-actions button-list"},[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Delete",expression:"'Delete'",arg:"title"},{name:"t",rawName:"v-t"}],staticClass:"button flat-button-inverse action-delete",on:{click:e.deletePost}},[e._v("\n      Delete\n    ")]),e._v(" "),n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Approve",expression:"'Approve'",arg:"title"},{name:"t",rawName:"v-t"}],staticClass:"button flat-button action-approve",on:{click:e.approve}},[e._v("Approve")])]):e._e()])}),[],!1,null,"2267c7b0",null).exports),V=n(11),W=n(29);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={components:{BaseIcon:S.a},mixins:[s.a],props:["isReactable","userId","reactionIds","reactions"],computed:{myReaction:function(){var e=this;return this.reactionIds.filter((function(t){return e.reactions[t].user_id===e.userId}))[0]},canReact:function(){return this.isReactable},count:function(){return this.reactionIds.length}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)("snackbars",["setSnackbar"]),{showReactionOffNotice:function(){var e=this.__("Reactions have been disabled by the admin.");this.setSnackbar({message:e})},publishReaction:function(e){this.$emit("create",e)},removeReaction:function(){this.$emit("delete")},like:function(){this.canReact?this.publishReaction(1):this.showReactionOffNotice()}})},Q=Object(d.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reaction-like reaction-container"},[e.myReaction?n("div",{staticClass:"reaction-show"},[n("base-icon",{staticClass:"highlighted-icon",attrs:{name:"favorite",size:"small",role:"button"},on:{click:e.removeReaction}}),e._v(" "),n("span",{staticClass:"small-type caption-type"},[e._v(e._s(e.count))])],1):n("div",{staticClass:"reaction-show"},[n("base-icon",{staticClass:"caption-type",attrs:{name:0==e.count?"favorite_border":"favorite",size:"small",role:"button"},on:{click:e.like}}),e._v(" "),n("span",{staticClass:"small-type caption-type"},[e._v(e._s(e.count))])],1)])}),[],!1,null,null,null).exports;function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={components:{BaseIcon:S.a},mixins:[s.a],props:["isReactable","userId","reactionIds","reactions"],computed:{myReaction:function(){var e=this;return this.reactionIds.filter((function(t){return e.reactions[t].user_id===e.userId}))[0]},canReact:function(){return this.isReactable},upvoteCount:function(){var e=this;return this.reactionIds.filter((function(t){return 1===e.reactions[t].value})).length},downvoteCount:function(){var e=this;return this.reactionIds.filter((function(t){return-1===e.reactions[t].value})).length},haveIUpvoted:function(){return this.myReaction&&1===this.reactions[this.myReaction].value},haveIDownvoted:function(){return this.myReaction&&-1===this.reactions[this.myReaction].value}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)("snackbars",["setSnackbar"]),{publishReaction:function(e){this.$emit("create",e)},removeReaction:function(){this.$emit("delete")},showReactionOffNotice:function(){var e=this.__("Reactions have been disabled by the admin.");this.setSnackbar({message:e})},like:function(){this.canReact?this.publishReaction(1):this.showReactionOffNotice()},upvote:function(){this.canReact?this.publishReaction(1):this.showReactionOffNotice()},downvote:function(){this.canReact?this.publishReaction(-1):this.showReactionOffNotice()},unvote:function(){this.removeReaction()}})},X=(n(468),Object(d.a)(Y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reaction-like reaction-container"},[n("div",{staticClass:"reaction-show"},[e.haveIUpvoted?e._e():n("base-icon",{staticClass:"caption-type",attrs:{name:"thumb_up",size:"small",role:"button"},on:{click:e.upvote}}),e._v(" "),e.haveIUpvoted?n("base-icon",{staticClass:"highlighted-icon",attrs:{name:"thumb_up",size:"small",role:"button"},on:{click:e.unvote}}):e._e(),e._v(" "),n("span",{staticClass:"small-type caption-type vote-count"},[e._v(e._s(e.upvoteCount))]),e._v(" "),e.haveIDownvoted?e._e():n("base-icon",{staticClass:"caption-type",attrs:{name:"thumb_down",size:"small",role:"button"},on:{click:e.downvote}}),e._v(" "),e.haveIDownvoted?n("base-icon",{staticClass:"highlighted-icon",attrs:{name:"thumb_down",size:"small",role:"button"},on:{click:e.unvote}}):e._e(),e._v(" "),n("span",{staticClass:"small-type caption-type vote-count"},[e._v(e._s(e.downvoteCount))])],1)])}),[],!1,null,"86316b46",null).exports);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={components:{BaseIcon:S.a},mixins:[s.a],props:["isReactable","userId","reactionIds","reactions"],computed:{myReaction:function(){var e=this;return this.reactionIds.filter((function(t){return e.reactions[t].user_id===e.userId}))[0]},myRating:function(){return this.myReaction?this.reactions[this.myReaction].value:0},canReact:function(){return this.isReactable},count:function(){return this.reactionIds.length},title:function(){if(0===this.count)return this.__("Be the first one to rate this post");var e="".concat(this.__("Avg rating"),": ").concat(this.avgRating);return this.myRating&&(e+=" \u2022 ".concat(this.__("Your rating"),": ").concat(this.myRating)),e},sumRating:function(){var e=this;return this.reactionIds.reduce((function(t,n){return t+e.reactions[n].value}),0)},avgRating:function(){return 0===this.count?null:(this.sumRating/this.count).toFixed(1)},halfStar:function(){if(0===this.count)return!1;var e=this.avgRating-Math.floor(this.avgRating);return e<=.75&&e>.25},fullStarRange:function(){if(0===this.count)return[];var e=parseFloat(this.avgRating)+.25;return[1,2,3,4,5].filter((function(t){return t<e}))}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)("snackbars",["setSnackbar"]),{showReactionOffNotice:function(){var e=this.__("Reactions have been disabled by the admin.");this.setSnackbar({message:e})},startReacting:function(){this.canReact?this.$emit("edit"):this.showReactionOffNotice()}})},te=Object(d.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"reaction-star":!0,"reaction-container":!0,"reaction-empty":0==e.count}},[n("div",{class:{"reaction-show":!0,"reaction-editable":e.canReact},attrs:{title:e.title},on:{click:e.startReacting}},[n("div",{staticClass:"reaction-stars"},[0==e.count?n("base-icon",{staticClass:"caption-type",attrs:{name:"star_border",size:"small"}}):e._e(),e._v(" "),e._l(e.fullStarRange,(function(t){return n("base-icon",{key:t,class:{"highlighted-icon":e.myReaction,"caption-type":!e.myReaction},attrs:{name:"star",size:"small"}})})),e._v(" "),e.halfStar?n("base-icon",{class:{"highlighted-icon":e.myReaction,"caption-type":!e.myReaction},attrs:{name:"half_star",size:"small"}}):e._e()],2),e._v(" "),e.count>0?n("span",{key:"count",staticClass:"reaction-star-count small-type caption-type"},[e._v(e._s(e.count))]):e._e(),e._v(" "),e.canReact&&!e.myReaction?n("span",{directives:[{name:"t",rawName:"v-t"}],key:"starButton",staticClass:"small-buttony-caption-type strong-type reaction-action",attrs:{role:"button"}},[e._v("Rate")]):e._e()])])}),[],!1,null,null,null).exports;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie,ae={components:{BaseIcon:S.a},mixins:[s.a],props:["userId","isReactable","reactionIds","reactions","maxGrade"],computed:re({},Object(r.e)(["isPhone"]),{myReaction:function(){var e=this;return this.reactionIds.filter((function(t){return e.reactions[t].user_id===e.userId}))[0]},myRating:function(){return this.myReaction?this.reactions[this.myReaction].value:0},canReact:function(){return this.isReactable},count:function(){return this.reactionIds.length},title:function(){if(0===this.count)return this.__("Be the first one to grade this post");var e="".concat(this.__("Avg score"),": ").concat(this.avgRating);return this.myRating&&(e+=" \u2022 ".concat(this.__("Your score"),": ").concat(this.myRating)),e},$_sumRating:function(){var e=this;return this.reactionIds.reduce((function(t,n){return t+e.reactions[n].value}),0)},avgRating:function(){return 0===this.count?null:Math.ceil(this.$_sumRating/this.count)}}),methods:re({},Object(r.b)("snackbars",["setSnackbar"]),{showReactionOffNotice:function(){var e=this.__("Reactions have been disabled by the admin.");this.setSnackbar({message:e})},startReacting:function(){this.canReact?this.$emit("edit"):this.showReactionOffNotice()}})},se=Object(d.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"reaction-grade":!0,"reaction-container":!0,"reaction-empty":0==e.count}},[n("div",{class:{"reaction-show":!0,"reaction-editable":e.canReact},attrs:{title:e.title},on:{click:e.startReacting}},[n("base-icon",{class:{"caption-type":!e.myReaction,"highlighted-icon":e.myReaction},attrs:{name:"tick",size:"small"}}),e._v(" "),e.avgRating?n("span",{key:"average",staticClass:"reaction-grade-value small-type"},[e._v(e._s(e.avgRating+"/"+e.maxGrade))]):e._e(),e._v(" "),e.count>0?n("span",{key:"count",staticClass:"reaction-grade-count small-type caption-type"},[e._v(e._s(e.count))]):e._e(),e._v(" "),e.canReact&&!e.myReaction?n("span",{directives:[{name:"t",rawName:"v-t"}],key:"gradeButton",staticClass:"small-buttony-caption-type strong-type reaction-action",attrs:{role:"button"}},[e._v("Grade")]):e._e()],1)])}),[],!1,null,null,null).exports,ce=(ie=function(e,t){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ue=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},le=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},fe=Object(W.d)("reaction"),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),Object.defineProperty(t.prototype,"reactionType",{get:function(){return this.reactionData.type},enumerable:!0,configurable:!0}),t.prototype.create=function(e){this.createReaction({postId:this.post.id,value:e})},t.prototype.deleteExisting=function(){this.deleteReaction({postId:this.post.id})},t.prototype.edit=function(){if(this.isMobile)this.startEditingReaction({postId:this.post.id,left:null,top:null});else{var e=this.$el.getBoundingClientRect(),t=e.left,n=e.bottom;this.startEditingReaction({postId:this.post.id,dropdownLeft:t+4,dropdownTop:n-8})}},t.prototype.stopEditing=function(){this.stopEditingReaction()},ue([Object(V.c)(),le("design:type",Object)],t.prototype,"post",void 0),ue([Object(V.c)(),le("design:type",Object)],t.prototype,"isReacting",void 0),ue([Object(V.c)(),le("design:type",Object)],t.prototype,"isReactable",void 0),ue([Object(V.c)(),le("design:type",Object)],t.prototype,"userId",void 0),ue([Object(V.c)(),le("design:type",Object)],t.prototype,"reactionData",void 0),ue([Object(V.c)(),le("design:type",Object)],t.prototype,"reactionIds",void 0),ue([Object(V.c)(),le("design:type",Object)],t.prototype,"reactions",void 0),ue([W.c,le("design:type",Object)],t.prototype,"isMobile",void 0),ue([fe.Getter,le("design:type",Object)],t.prototype,"maxGrade",void 0),ue([fe.Action,le("design:type",Object)],t.prototype,"createReaction",void 0),ue([fe.Action,le("design:type",Object)],t.prototype,"deleteReaction",void 0),ue([fe.Action,le("design:type",Object)],t.prototype,"startEditingReaction",void 0),ue([fe.Action,le("design:type",Object)],t.prototype,"stopEditingReaction",void 0),t=ue([Object(V.a)({components:{SurfacePostReactionLike:Q,SurfacePostReactionVote:X,SurfacePostReactionStar:te,SurfacePostReactionGrade:se},mixins:[s.a]})],t)}(V.d),he=(n(469),Object(d.a)(de,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-post-reaction"},["like"==e.reactionType?n("surface-post-reaction-like",{attrs:{"user-id":e.userId,"reaction-ids":e.reactionIds,reactions:e.reactions,"is-reactable":e.isReactable},on:{create:e.create,delete:e.deleteExisting}}):e._e(),e._v(" "),"vote"==e.reactionType?n("surface-post-reaction-vote",{attrs:{"user-id":e.userId,"reaction-ids":e.reactionIds,reactions:e.reactions,"is-reactable":e.isReactable},on:{create:e.create,delete:e.deleteExisting}}):e._e(),e._v(" "),"star"==e.reactionType?n("surface-post-reaction-star",{attrs:{"user-id":e.userId,"reaction-ids":e.reactionIds,reactions:e.reactions,"is-reactable":e.isReactable},on:{edit:e.edit}}):e._e(),e._v(" "),"grade"==e.reactionType?n("surface-post-reaction-grade",{attrs:{"user-id":e.userId,"reaction-ids":e.reactionIds,reactions:e.reactions,"is-reactable":e.isReactable,"max-grade":e.maxGrade},on:{edit:e.edit}}):e._e()],1)}),[],!1,null,null,null).exports),pe=n(8),me=n(68),ye=n(159),ge=n(91);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we={components:{BaseIcon:S.a,AvatarImage:a.a,MultilineInput:ge.a,RelativeTime:c.a},mixins:[s.a,ye.a],props:["id","comment","author","isBeingEdited"],computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)(["user"]),{},Object(r.c)(["canIModerate"]),{body:function(){return this.comment.body},hyperlinkedBody:function(){return this.body},showActions:function(){return(this.user.id===this.comment.user.id||this.canIModerate)&&!this.isBeingEdited}}),updated:function(){this.isBeingEdited&&this.$refs.editCommentInput.focus()},methods:{authorName:function(e){return e.name||e.username||this.__("Anonymous")},toggleDropdown:function(){this.$emit("show-comment-action-menu")},onEscape:function(){this.isBeingEdited&&this.$emit("stop-editing")},onOutsideClick:function(){this.isBeingEdited&&this.$emit("stop-editing")},submitEdit:function(){var e=this.$refs.editCommentInput.$el.value;(e||""===e.trim())&&this.$emit("edit",{id:this.id,body:e})}}},_e=(n(470),Object(d.a)(we,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-post-comment",attrs:{id:"comment-"+e.id}},[n("div",{staticClass:"avatar"},[e.author.username?e._e():n("avatar-image",{attrs:{user:e.author,width:"16",height:"16"}}),e._v(" "),e.author.username?n("a",{attrs:{target:"_blank",href:"/"+e.author.username}},[n("avatar-image",{attrs:{user:e.author,width:"16",height:"16"}})],1):e._e()],1),e._v(" "),n("div",{staticClass:"comment-main"},[n("div",{staticClass:"comment-author small-type"},[e.author.username?e._e():n("span",{staticClass:"comment-author-name"},[e._v(e._s(e.authorName(e.author)))]),e._v(" "),e.author.username?n("a",{staticClass:"comment-author-name",attrs:{href:"/"+e.author.username,target:"_blank"}},[e._v(e._s(e.authorName(e.author)))]):e._e(),e._v(" "),n("relative-time",{staticClass:"caption-type comment-author-time",attrs:{datetime:e.comment.created_at||Date.now(),dateformat:"short"}})],1),e._v(" "),e.isBeingEdited?e._e():n("div",{staticClass:"comment-body",attrs:{dir:"auto"},domProps:{innerHTML:e._s(e.hyperlinkedBody)}}),e._v(" "),e.isBeingEdited?n("div",[n("div",{staticClass:"textarea-wrapper"},[n("multiline-input",{ref:"editCommentInput",staticClass:"add-comment-input",attrs:{dir:"auto",value:e.body,"data-value":e.body,autofocus:""},on:{enter:e.submitEdit}})],1),e._v(" "),n("div",{staticClass:"button-list"},[n("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"button small-button text-button",on:{click:function(t){return e.$emit("stop-editing")}}},[e._v("Cancel")]),e._v(" "),n("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"button small-button text-button",attrs:{type:"submit"},on:{click:e.submitEdit}},[e._v("Update")])])]):e._e()]),e._v(" "),e.showActions?n("div",{staticClass:"comment-actions"},[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Comment actions",expression:"'Comment actions'",arg:"title"}],staticClass:"icon-button",on:{click:e.toggleDropdown}},[n("base-icon",{attrs:{size:"small",name:"more_vert"}})],1)]):e._e()])}),[],!1,null,null,null).exports),ke=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ce=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Oe=Object(W.d)("comment"),Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.blankCommentValue="",t.isAddCommentFocused=!1,t}var n,r,o;return ke(t,e),Object.defineProperty(t.prototype,"commentsList",{get:function(){var e=this;return this.commentIds.map((function(t){return e.comments[t]}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newCommentBody",{get:function(){return this.newCommentBodyForPostCid(this.post.cid)},enumerable:!0,configurable:!0}),t.prototype.showCommentActionMenu=function(e){this.$emit("show-comment-action-menu",e)},t.prototype.stopEditingComment=function(){this.$emit("stop-editing")},t.prototype.editComment=function(e){this.$emit("edit",e)},t.prototype.publishComment=function(){var e=this;this.newCommentBody&&(this.$emit("create",{postId:this.post.id,body:this.newCommentBody}),this.updateNewCommentBody({postCid:this.post.cid,body:""}),setTimeout((function(){Object(w.a)(e.$refs.addCommentInput).focus()}))),this.blankCommentValue=""},t.prototype.submit=function(){this.publishComment()},t.prototype.onAddCommentFocus=function(){this.isAddCommentFocused=!0,this.addCommentInputFocused({postId:this.post.id})},t.prototype.onAddCommentBlur=function(){this.isAddCommentFocused=!1,this.addCommentInputBlurred({postId:this.post.id})},t.prototype.onAddCommentInput=function(e){this.updateNewCommentBody({postCid:this.post.cid,body:e})},t.prototype.onAddCommentSubmitClicked=function(){this.publishComment()},Ee([Object(V.c)({default:null}),Ce("design:type","function"===typeof(n="undefined"!==typeof me.Post&&me.Post)?n:Object)],t.prototype,"post",void 0),Ee([Object(V.c)({default:null}),Ce("design:type","function"===typeof(r="undefined"!==typeof me.User&&me.User)?r:Object)],t.prototype,"user",void 0),Ee([Object(V.c)({default:null}),Ce("design:type",Array)],t.prototype,"commentIds",void 0),Ee([Object(V.c)({default:null}),Ce("design:type",Object)],t.prototype,"comments",void 0),Ee([Object(V.c)({default:!1}),Ce("design:type",Boolean)],t.prototype,"isCommentable",void 0),Ee([Object(V.c)({default:null}),Ce("design:type","function"===typeof(o="undefined"!==typeof me.CommentId&&me.CommentId)?o:Object)],t.prototype,"commentBeingEditedId",void 0),Ee([Oe.Getter,Ce("design:type",Object)],t.prototype,"newCommentBodyForPostCid",void 0),Ee([Oe.Action,Ce("design:type",Object)],t.prototype,"addCommentInputFocused",void 0),Ee([Oe.Action,Ce("design:type",Object)],t.prototype,"addCommentInputBlurred",void 0),Ee([Oe.Action,Ce("design:type",Object)],t.prototype,"updateNewCommentBody",void 0),t=Ee([Object(V.a)({components:{AvatarImage:a.a,BaseIcon:S.a,SurfacePostComment:_e,MultilineInput:ge.a},mixins:[s.a]})],t)}(pe.a),Te=(n(471),Object(d.a)(Se,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-post-comments"},[e.commentsList.length>0?n("div",{staticClass:"comments-list tv-list"},[n("div",{staticClass:"tv-cell caption-type small-type comments-summary"},[e._v("\n      "+e._s(e.n__("%{num} comment","%{num} comments",e.commentsList.length,{num:e.commentsList.length}))+"\n    ")]),e._v(" "),e._l(e.commentsList,(function(t){return n("surface-post-comment",{key:t.id,attrs:{id:t.id,"is-being-edited":e.commentBeingEditedId===t.id,comment:t,author:t.user},on:{"show-comment-action-menu":function(n){return e.$emit("show-comment-action-menu",{commentId:t.id})},"stop-editing":function(t){return e.$emit("stop-editing")},edit:function(t){return e.$emit("edit",t)}}})}))],2):e._e(),e._v(" "),e.isCommentable?n("div",{staticClass:"add-comment"},[n("div",{staticClass:"avatar"},[n("avatar-image",{attrs:{user:e.user,width:"16",height:"16",alt:e.__("Your avatar")}})],1),e._v(" "),n("div",{staticClass:"textarea-wrapper"},[n("multiline-input",{ref:"addCommentInput",staticClass:"add-comment-input",attrs:{value:e.newCommentBody,dir:"auto",placeholder:e.__("Add comment"),title:e.__("Add comment"),"data-value":e.blankCommentValue},on:{focus:e.onAddCommentFocus,blur:e.onAddCommentBlur,input:e.onAddCommentInput,enter:e.submit}})],1),e._v(" "),e.isAddCommentFocused?n("button",{staticClass:"icon-button",attrs:{type:"submit"},on:{mousedown:e.onAddCommentSubmitClicked}},[n("base-icon",{attrs:{size:"small",name:"forward_button"}})],1):e._e()]):e._e()])}),[],!1,null,"4889fc9a",null).exports),Pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ie=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pe(t,e),Object.defineProperty(t.prototype,"commentsListLength",{get:function(){return this.commentIds.length},enumerable:!0,configurable:!0}),t.prototype.showCommentsPanel=function(){this.$emit("show-comments-panel")},Ae([Object(V.c)(),Ie("design:type",Array)],t.prototype,"commentIds",void 0),t=Ae([Object(V.a)({components:{BaseIcon:S.a}})],t)}(pe.a),je=(n(472),Object(d.a)(xe,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"surface-post-comments"},[t("div",{staticClass:"comments-container",attrs:{role:"button"},on:{click:this.showCommentsPanel}},[t("div",{staticClass:"comments-show"},[t("base-icon",{staticClass:"caption-type",attrs:{name:"comment",size:"small"}}),this._v(" "),t("span",{staticClass:"small-type caption-type"},[this._v(this._s(this.commentsListLength))])],1)])])}),[],!1,null,"5564196a",null).exports),De=n(32);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={components:{SurfacePostAuthor:h,SurfacePostWords:O,SurfacePostAttachment:B,SurfacePostActions:I,SurfacePostModeration:q,SurfacePostReaction:he,SurfacePostComments:Te,SurfacePostCommentsIcon:je},mixins:[s.a],props:{index:{type:Number,default:null},post:{type:Object,default:function(){return{}}},edit:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},fitHeightToContainer:{type:Boolean,default:!1},verticallyCenterContent:{type:Boolean,default:!1}},computed:Re({},Object(r.e)({user:"user",isMobile:"isMobile"}),{},Object(r.e)("reaction",{wallReactions:"reactionEntities",postIdBeingReactedTo:"postIdBeingReactedTo"}),{},Object(r.e)("comment",{commentBeingEditedId:"commentBeingEditedId",wallComments:"commentEntities"}),{},Object(r.e)("postConnection",["postToConnectFromId"]),{},Object(r.c)(["xAuthor","reactionData","isCommentable","isReactable","isTimeline","canIModerate","canIWrite","xPostCommentsInPanel","colorScheme"]),{},Object(r.c)("reaction",{wallReactionIdsByPost:"reactionIdsByPost"}),{},Object(r.c)("comment",{wallCommentIdsByPost:"commentIdsByPost"}),{},Object(r.c)("attachment",["linkDisplayAttributesForUrl"]),{isPublished:function(){return this.post.published},subject:function(){return this.post.subject},body:function(){return this.post.body},headline:function(){return this.post.headline},isBeingReacted:function(){return this.postIdBeingReactedTo===this.post.id},hasAttachment:function(){var e=this.post.attachment;return!!e&&Object(De.b)(e)},xWords:function(){return this.subject||this.body},xAttachment:function(){return this.hasAttachment},xComments:function(){return this.isPublished&&(this.isCommentable||this.postCommentIds.length>0)},xModeration:function(){return!this.isPublished},xReactions:function(){return this.isReactable||this.postReactionIds.length>0},xConnect:function(){return!!this.postToConnectFromId&&this.postToConnectFromId!==this.post.id&&!this.areConnected(this.post.id,this.postToConnectFromId)},isWishContentScrollable:function(){return this.isTimeline},postCommentIds:function(){return this.wallCommentIdsByPost[this.post.id]||[]},postReactionIds:function(){return this.wallReactionIdsByPost[this.post.id]||[]},attachmentLuminance:function(){if(!this.post.attachment)return null;var e=this.linkDisplayAttributesForUrl(this.post.attachment);return e&&e.image_luminance||null},wasWrittenByCurrentUser:function(){return!!this.user.id&&this.post.author_id===this.user.id},isEditableByCurrentUser:function(){return this.canIModerate||this.wasWrittenByCurrentUser&&this.canIWrite},rootClasses:function(){return{"wish-frame":!0,"full-height":this.fitHeightToContainer}}}),methods:Re({},Object(r.b)(["showCommentsPanel"]),{},Object(r.b)("post",["startEditingPost","approvePost","deletePost"]),{},Object(r.b)("postAction",["showPostActionMenu"]),{},Object(r.b)("comment",["createComment","editComment","stopEditingComment","startEditingComment","showCommentActionMenu"]),{areConnected:function(e,t){return this.connections.filter((function(n){return n.from_wish_id===e&&n.to_wish_id===t||n.from_wish_id===t&&n.to_wish_id===e})).length>0},confirmDelete:function(){this.post.id&&(this.post.body||this.post.subject||this.post.attachment)&&!confirm(this.__("Are you sure you want to delete this post? This cannot be undone!"))||this.deletePost({postCid:this.post.cid})},tryShowActions:function(e){this.isMobile||this.xConnect||Object(w.a)(e.target).is("a,textarea,input,select,option")||e.shiftKey||(e.preventDefault(),this.showPostActionMenu({postCid:this.post.cid}))}})},Fe=(n(473),Object(d.a)(Le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.rootClasses},[n("div",{class:["real-wish",{"vertically-centered":e.verticallyCenterContent}],on:{contextmenu:e.tryShowActions}},[n("h3",{staticClass:"accessibility oob",attrs:{tabindex:"0"}},[e._v(e._s(e.headline))]),e._v(" "),e.xAuthor?n("surface-post-author",{staticClass:"author",attrs:{post:e.post,user:e.user}}):e._e(),e._v(" "),e.isWishContentScrollable?n("div",{staticClass:"wish-content"},[e.xWords?n("section",{class:["words",{"vertically-centered":e.verticallyCenterContent}]},[n("surface-post-words",{attrs:{post:e.post,"is-editable-by-current-user":e.isEditableByCurrentUser},on:{edit:function(t){return e.startEditingPost({postCid:e.post.cid})}}})],1):e._e(),e._v(" "),e.xAttachment?n("surface-post-attachment",{attrs:{post:e.post,"is-being-edited":!1}}):e._e()],1):[e.xWords?n("section",{class:["words",{"vertically-centered":e.verticallyCenterContent}]},[n("surface-post-words",{attrs:{post:e.post,"is-editable-by-current-user":e.isEditableByCurrentUser},on:{edit:function(t){return e.startEditingPost({postCid:e.post.cid})}}})],1):e._e(),e._v(" "),e.xAttachment?n("surface-post-attachment",{attrs:{post:e.post,"is-being-edited":!1}}):e._e()],e._v(" "),e.xModeration?n("surface-post-moderation",{attrs:{post:e.post,"can-i-moderate":e.canIModerate,"is-being-edited":!1},on:{approve:function(t){return e.approvePost({postCid:e.post.cid})},delete:e.confirmDelete}}):e._e(),e._v(" "),e.xComments||e.xReactions?n("section",{staticClass:"stalker-bar"},[e.xReactions?n("surface-post-reaction",{attrs:{post:e.post,"is-reacting":e.isBeingReacted,"is-reactable":e.isReactable,"user-id":e.user.id,"reaction-data":e.reactionData,"reaction-ids":e.postReactionIds,reactions:e.wallReactions}}):e._e(),e._v(" "),e.xComments&&!e.xPostCommentsInPanel?n("surface-post-comments",{attrs:{"comment-being-edited-id":e.commentBeingEditedId,post:e.post,user:e.user,"comment-ids":e.postCommentIds,comments:e.wallComments,"is-commentable":e.isCommentable},on:{create:function(t){return e.createComment(t)},"show-comment-action-menu":function(t){return e.showCommentActionMenu(t)},"stop-editing":e.stopEditingComment,edit:function(t){return e.editComment(t)}}}):e._e(),e._v(" "),!e.xReactions&&e.xPostCommentsInPanel?n("div"):e._e(),e._v(" "),e.xComments&&e.xPostCommentsInPanel?n("surface-post-comments-icon",{attrs:{"comment-ids":e.postCommentIds},on:{"show-comments-panel":function(t){return e.showCommentsPanel({postId:e.post.id})}}}):e._e()],1):e._e()],2),e._v(" "),n("surface-post-actions",{attrs:{"x-author":e.xAuthor,post:e.post,"attachment-luminance":e.attachmentLuminance,"color-scheme":e.colorScheme,"is-editable-by-current-user":e.isEditableByCurrentUser,"is-being-edited":!1},on:{delete:e.confirmDelete,edit:function(t){return e.startEditingPost({postCid:e.post.cid})},dropdown:function(t){return e.showPostActionMenu({postCid:e.post.cid})}}})],1)}),[],!1,null,"59ec35b0",null).exports),Be=n(25),Ue=n.n(Be),qe=n(211),Ve=n(15),We={beforeMount:function(){var e=this.floatingToolbar?"toolbar-floating":"toolbar-fixed",t=document.body;this.toolbarElement=Object(w.a)('<trix-toolbar class="'.concat(e,'" id="').concat(this.toolbarId,'"></trix-toolbar>')).appendTo(t)},mounted:function(){var e=this,t=this.toolbarElement;this.editorElement=this.$refs.editor.$refs.editor;var n=t.find("input");t.on("click",(function(e){e.stopPropagation()})),setTimeout((function(){e.addCustomButtonsToToolbar(),Object(w.a)('<button class="trix-back-button icon-button immaterial-icons" title="Back to formatting menu">arrow_back</button>').prependTo(t.find(".trix-dialog__link-fields")).on("click",(function(){var e,n;e=t.find("[data-trix-action=link]")[0],n=new CustomEvent("mousedown",{bubbles:!0,cancelable:!0}),e.dispatchEvent(n)}))}),0),n.on("focus",(function(){var t,n,r,o,i=e.editorElement.editor;e.toolbarInputFocused=!0,e.value||(n=i.getDocument().toString(),t=i.getSelectedRange(),r=n.substring(t[0],t[1]),Object(De.b)(r)?e.value=r:(o="http://"+r,Object(De.b)(o)&&(e.value=o)))})),n.on("blur",(function(){e.toolbarInputFocused=!1})),n.on("invalid",(function(n){var r,o;0===(o=e.value||n.target.value).indexOf("http://")||0===o.indexOf("https://")?alert(e.invalidUrlMessage):(r="http://"+o,Object(De.b)(r)?(e.value=r,n.target.value=r,t.find("input[data-method=setAttribute]").click()):alert(e.invalidUrlMessage))}))},methods:{repositionTrixToolbar:function(){var e=this.$refs.editor.editor;if(e){var t=e.getSelectedRange();if(t[0]!==t[1]){var n=e.getClientRectAtPosition(t[0]),r=e.getClientRectAtPosition(t[1])||n,o=n.top,i=Math.min(n.left,r.left),a=r.top,s=Math.max(n.left,r.left),c=Object(w.a)(this.$parent.$el),u={preventDefault:!0,pageX:o!==a?c.offset().left+c.width()/2:(i+s)/2,pageY:Math.max(o-10,0)};Ve.a.android?this.toolbarElement.show().position({my:"center bottom",at:"center bottom",of:Object(w.a)(document),collision:"fit flip"}):this.toolbarElement.show().position({my:"center bottom",at:"center top",of:u,collision:"fit flip"})}else this.toolbarElement.hide()}else this.toolbarElement.hide()},showTrixToolbar:function(){this.toolbarElement.show()},hideTrixToolbar:function(){this.toolbarElement.hide()},addCustomButtonsToToolbar:function(){var e=this.toolbarElement[0],t='<button type="button" class="trix-button trix-button--icon trix-button--icon-mark" data-trix-attribute="mark" title="Highlight">Highlight</button>';t+='<button type="button" class="trix-button trix-button--icon trix-button--icon-sup" data-trix-attribute="sup" title="Superscript">Superscript</button>',t+='<button type="button" class="trix-button trix-button--icon trix-button--icon-sub" data-trix-attribute="sub" title="Subscript">Subscript</button>',e.querySelector(".trix-button-group--text-tools").insertAdjacentHTML("beforeend",t),t='<button type="button" class="trix-button trix-button--icon trix-button--icon-math" data-trix-attribute="math" title="Math">Math</button>',e.querySelector('button[data-trix-attribute="code"]').insertAdjacentHTML("afterend",t),e.classList.add("is-customized")}}},Ge=n(49),He=n.n(Ge),ze=n(17);function Qe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye,Xe,Je={components:{MultilineInput:ge.a,RichTextEditor:qe.a},mixins:[s.a,We],props:{post:{type:Object,required:!0}},data:function(){return{toolbarComponent:null,editorComponent:null,toolbarInputFocused:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)(["isMobile","isApp"]),{},Object(r.e)("map",["map"]),{},Object(r.c)("post",["postConfiguration"]),{toolbarId:function(){return He()("trixtoolbar")},subject:function(){return this.post.subject},body:function(){return this.post.body},floatingToolbar:function(){return!this.isMobile},fixedToolbar:function(){return this.isMobile&&!this.isApp},xSubjectInput:function(){if(this.subject)return!0;switch(this.postConfiguration){case ze.a.BodyOrAttachment:case ze.a.BodyAndOrAttachment:return!1;case ze.a.All:default:return!0}}}),watch:{toolbarInputFocused:function(e){e&&this.fixedToolbar&&this.showTrixToolbar()}},mounted:(Ye=Ue.a.mark((function e(){var t,r,o=this;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$nextTick((function(){return o.focus()})),!this.map){e.next=7;break}return e.next=4,Promise.all([n.e(2),n.e(7)]).then(n.bind(null,594));case 4:t=e.sent,r=t.MapEventsManager,this.endBoundsChangedListener=r.addListener(this.map,"idle",(function(){setTimeout((function(){o.focus()}),100)}));case 7:case"end":return e.stop()}}),e,this)})),Xe=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=Ye.apply(e,t);function i(e){Qe(o,n,r,i,a,"next",e)}function a(e){Qe(o,n,r,i,a,"throw",e)}i(void 0)}))},function(){return Xe.apply(this,arguments)}),updated:function(){var e=Object(w.a)(".body",this.$el).css("lineHeight");Object(w.a)(this.$refs.editor.$refs.editor).css("min-height",e)},beforeDestroy:function(){this.hideTrixToolbar(),this.endBoundsChangedListener&&this.endBoundsChangedListener.remove()},methods:{focus:function(){!this.post.id&&this.xSubjectInput?this.$refs.subject.focus():this.$refs.editor.focus()},onSubjectChange:function(e){this.$emit("text-change",{subject:e})},onSubjectFocus:function(e){this.floatingToolbar||this.hideTrixToolbar()},onSubjectEnterKeydown:function(e){var t=this;this.$nextTick((function(){Object(w.a)(e.currentTarget).blur(),Object(w.a)(t.$refs.editor).focus()}))},onBodyChange:function(e){var t=e.replace(/<span style="background-color: highlight;">(.*?)<\/span>/g,"$1");this.$emit("text-change",{body:t})},onBodyFocus:function(){this.fixedToolbar&&this.showTrixToolbar()},onBodyBlur:function(){this.fixedToolbar&&!this.toolbarInputFocused&&this.hideTrixToolbar()},onBodySelectionChange:function(){this.repositionTrixToolbar()},onBodyFileAccept:function(e){e.preventDefault()}}};function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt={components:{SurfacePostAuthor:h,SurfacePostWordsEdit:Object(d.a)(Je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.xSubjectInput?n("multiline-input",{ref:"subject",staticClass:"subject",attrs:{value:e.subject,placeholder:e.__("Title"),dir:"auto"},on:{input:e.onSubjectChange,enter:e.onSubjectEnterKeydown,focus:e.onSubjectFocus}}):e._e(),e._v(" "),n("rich-text-editor",{ref:"editor",staticClass:"body",attrs:{"toolbar-id":e.toolbarId,value:e.body,placeholder:e.__("Write something ..."),dir:"auto"},on:{input:e.onBodyChange,focus:e.onBodyFocus,blur:e.onBodyBlur,selectionchange:e.onBodySelectionChange,fileaccept:e.onBodyFileAccept}})],1)}),[],!1,null,null,null).exports,SurfacePostAttachment:B,SurfacePostComments:Te,SurfacePostActions:I,SurfacePostModeration:q},mixins:[s.a,ye.a],props:{index:{type:Number,default:null},post:{type:Object,default:function(){return{}}},edit:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},fitHeightToContainer:{type:Boolean,default:!1},verticallyCenterContent:{type:Boolean,default:!1}},computed:et({isPublished:function(){return this.post.published},subject:function(){return this.post.subject},body:function(){return this.post.body},sectionId:function(){return this.post.wall_section_id},headline:function(){return this.post.headline}},Object(r.e)({user:"user"}),{},Object(r.e)("comment",{commentBeingEditedId:"commentBeingEditedId",wallComments:"commentEntities"}),{},Object(r.c)("comment",{wallCommentIdsByPost:"commentIdsByPost"}),{},Object(r.c)("attachment",["linkDisplayAttributesForUrl"]),{},Object(r.c)("post",["postConfiguration"]),{},Object(r.c)(["xAuthor","isBackchannel","isTimeline","isCommentable","isReactable","canIModerate","canIWrite","format","xPostCommentsInPanel","colorScheme"]),{showInEditMode:function(){return!this.isBackchannel},hasWords:function(){return!(!this.body&&!this.subject)},hasAttachment:function(){var e=this.post.attachment;return!!e&&Object(De.b)(e)},postCommentIds:function(){return this.wallCommentIdsByPost[this.post.id]||[]},xAttachment:function(){return!!this.hasAttachment||(this.postConfiguration===ze.a.BodyOrAttachment?!this.hasWords:this.showInEditMode)},xWords:function(){if(this.hasWords)return!0;switch(this.postConfiguration){case ze.a.BodyOrAttachment:return!this.hasAttachment;case ze.a.All:case ze.a.BodyAndOrAttachment:default:return!0}},xReactions:function(){return this.isReactable},xComments:function(){return this.isPublished&&(this.isCommentable||this.postCommentIds.length>0)},xModeration:function(){return!this.isPublished},isWishContentScrollable:function(){return this.isTimeline},attachmentLuminance:function(){if(!this.post.attachment)return null;var e=this.linkDisplayAttributesForUrl(this.post.attachment);return e&&e.image_luminance||null},wasWrittenByCurrentUser:function(){return!!this.user.id&&this.post.author_id===this.user.id},isEditableByCurrentUser:function(){return this.canIModerate||this.wasWrittenByCurrentUser&&this.canIWrite},rootClasses:function(){return{"wish-frame":!0,"full-height":this.fitHeightToContainer}}}),methods:et({},Object(r.b)("post",["changePostText","stopEditingPost","deletePost","approvePost"]),{onOutsideClick:function(){this.stopEditingPost()},onEscape:function(){this.stopEditingPost()},confirmDelete:function(){this.post.id&&(this.post.body||this.post.subject||this.post.attachment)&&!confirm(this.__("Are you sure you want to delete this post? This cannot be undone!"))||(this.deletePost({post:this.post}),this.stopEditingPost())}})},rt=(n(474),Object(d.a)(nt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.rootClasses},[n("div",{class:["real-wish",{"vertically-centered":e.verticallyCenterContent}]},[n("h3",{staticClass:"accessibility oob",attrs:{tabindex:"0"}},[e._v(e._s(e.headline))]),e._v(" "),e.xAuthor?n("surface-post-author",{staticClass:"author",attrs:{post:e.post,user:e.user}}):e._e(),e._v(" "),e.isWishContentScrollable?n("div",{staticClass:"wish-content"},[e.xWords?n("section",{class:["words",{"vertically-centered":e.verticallyCenterContent}]},[n("surface-post-words-edit",{attrs:{post:e.post},on:{"text-change":function(t){return e.changePostText({postCid:e.post.cid,attributes:t})}}})],1):e._e(),e._v(" "),e.xAttachment?n("surface-post-attachment",{attrs:{post:e.post,"is-being-edited":!0}}):e._e()],1):[e.xWords?n("section",{class:["words",{"vertically-centered":e.verticallyCenterContent}]},[n("surface-post-words-edit",{attrs:{post:e.post},on:{"text-change":function(t){return e.changePostText({postCid:e.post.cid,attributes:t})}}})],1):e._e(),e._v(" "),e.xAttachment?n("surface-post-attachment",{attrs:{post:e.post,"is-being-edited":!0}}):e._e()],e._v(" "),e.xModeration?n("surface-post-moderation",{attrs:{post:e.post,"can-i-moderate":e.canIModerate,"is-being-edited":!0},on:{approve:function(t){return e.approvePost({postCid:e.post.cid})},delete:e.confirmDelete}}):e._e(),e._v(" "),e.xComments||e.xReactions?n("section",{staticClass:"stalker-bar"},[e.xComments&&!e.xPostCommentsInPanel?n("surface-post-comments",{attrs:{post:e.post,user:e.user,"comment-ids":e.postCommentIds,comments:e.wallComments,"is-commentable":e.isCommentable}}):e._e()],1):e._e()],2),e._v(" "),n("surface-post-actions",{attrs:{"x-author":e.xAuthor,post:e.post,"attachment-luminance":e.attachmentLuminance,"color-scheme":e.colorScheme,"is-editable-by-current-user":e.isEditableByCurrentUser,"is-being-edited":!0},on:{delete:e.confirmDelete}})],1)}),[],!1,null,"42bae183",null).exports),ot=n(36),it={beforeDestroy:function(){this.destroyDraggable()},methods:{initializeDraggable:function(e){var t=this;this.$_draggableMixin_onMovedPostHandler=e,this.$nextTick((function(){t.$_draggableMixin_makeDraggable()}))},destroyDraggable:function(){this.$_draggableMixin_destroyDraggable(),this.$_draggableMixin_onMovedPostHandler=null},$_draggableMixin_savePosition:function(e){this.$_draggableMixin_onMovedPostHandler({postCid:this.post.cid,position:e})},$_draggableMixin_makeDraggable:function(){var e=this,t=Object(w.a)(this.$el);t.draggable({containment:[0,0],cancel:"[contenteditable], .ui-resizable-handle, object, embed, input, textarea, button, select, option",cursor:"move",snap:".surface-post",snapTolerance:4,start:function(n,r){var o;t.addClass("noclick is-moving"),o=e.$el.parentElement.getBoundingClientRect(),t.draggable("option","containment",[o.left,o.top]),t.draggable("instance")._setContainment()},drag:function(t,n){ot.jsPlumb&&ot.jsPlumb.revalidate(e.$el)},stop:function(n,r){setTimeout((function(){t.removeClass("noclick is-moving")}),100),e.$_draggableMixin_savePosition(r.position)}})},$_draggableMixin_destroyDraggable:function(){if(this.$el){var e=Object(w.a)(this.$el).off(".draggable").draggable("instance");e&&e.destroy()}}}},at={data:function(){return{$_resizableMixin_savePostSizeHandler:null,$_resizableMixin_previewAspectRatio:null}},beforeDestroy:function(){this.destroyResizable()},methods:{initializeResizable:function(e,t){var n=this;this.$_resizableMixin_savePostSizeHandler=t,this.$nextTick((function(){e?n.$_resizableMixin_makeResizable():n.$_resizableMixin_makeResizableTouch()}))},destroyResizable:function(){this.$_resizableMixin_destroyResizable()},$_resizableMixin_resizeAttachment:function(e){var t=this.$_resizableMixin_getAttachmentAspectRatio(),n={width:e,height:Math.floor(e/t)};Object(w.a)(".beethoven-preview-image",this.$el).attr(n).css(n),Object(w.a)(".beethoven-inline-embed iframe",this.$el).attr(n).css(n)},$_resizableMixin_saveSize:function(e){this.$_resizableMixin_savePostSizeHandler({postCid:this.post.cid,size:e})},$_resizableMixin_getAttachmentAspectRatio:function(){return Object(w.a)("[data-aspect-ratio]",this.$el).data("aspect-ratio")},$_resizableMixin_makeResizable:function(){var e=this,t=Object(w.a)(this.$el),n=Object(w.a)(this.$el);t.hasClass("ui-resizable")&&t.resizable(!1),t.resizable({minWidth:48,handles:"e,se",resize:function(r,o){var i=n.width(),a=o.size.width;i!==a&&n.width(a),e.$_resizableMixin_resizeAttachment(a),t.removeClass("auto-width"),t.css("height","auto"),o.size.width<100?t.addClass("wish-small"):t.removeClass("wish-small"),ot.jsPlumb&&ot.jsPlumb.revalidate(e.$el)},start:function(e,t){n.addClass("in-transit")},stop:function(t,r){var o;n.removeClass("in-transit"),(o={}).width=r.size.width,e.$_resizableMixin_saveSize(o)},zIndex:1003})},$_resizableMixin_makeResizableTouch:function(){var e=this,t={x:0,y:0},n=0,r=0,o={},i=Object(w.a)(this.$el);i.on("transformstart.resize",o,(function(r){e.$_resizableMixin_previewAspectRatio=Object(w.a)("[data-aspect-ratio]",i).data("aspect-ratio"),t.x=(r.originalEvent.touches[0].clientX+r.originalEvent.touches[1].clientX)/2,t.y=(r.originalEvent.touches[0].clientY+r.originalEvent.touches[1].clientY)/2,n=i.width(),i.addClass("in-transit")})),i.on("transform.resize",o,(function(t){r=Math.max(n*t.scale,48),i.css("width",r),e.$_resizableMixin_resizeAttachment(r)})),i.on("transformend.resize",o,(function(t){e.$_resizableMixin_saveSize({width:r}),i.removeClass("in-transit")}))},$_resizableMixin_destroyResizable:function(){if(this.$el){var e=Object(w.a)(this.$el).off(".resize").resizable("instance");e&&e.destroy()}}}};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt={components:{SurfacePostBeingShowed:Fe,SurfacePostBeingEdited:rt},mixins:[s.a,it,at],props:{index:Number,post:{type:Object,default:function(){return{}}},edit:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},putAttachmentOnTop:{type:Boolean,default:!1},fitHeightToContainer:{type:Boolean,default:!1},verticallyCenterContent:{type:Boolean,default:!1}},computed:ct({},Object(r.e)(["user","isMousable","canPostMessage"]),{},Object(r.c)("post",["postBeingEditedCid"]),{},Object(r.c)("postAction",["postUnderActionCid","postBeingTransferredCid","postBeingCopiedCid"]),{},Object(r.e)("reaction",["postIdBeingReactedTo"]),{},Object(r.e)("postConnection",["postToConnectFromId"]),{},Object(r.c)("postConnection",["connections"]),{},Object(r.c)(["canIModerate","canIWrite","format","isBackchannel","xAuthor"]),{},Object(r.e)("map",["postWithLocationBeingEditedCid"]),{isBeingEdited:function(){return this.postBeingEditedCid&&this.postBeingEditedCid===this.post.cid&&this.edit},isBeingActedUpon:function(){return this.postBeingTransferredCid===this.post.cid||this.postBeingCopiedCid===this.post.cid||this.postToConnectFromId===this.post.id||this.postWithLocationBeingEditedCid===this.post.cid},isBeingReacted:function(){return this.postIdBeingReactedTo===this.post.id},isAppActingOnPost:function(){return this.isApp&&this.canPostMessage&&!!this.postUnderActionCid&&this.post.id===this.postUnderActionCid},wasWrittenByCurrentUser:function(){return!!this.user.id&&this.post.author_id==this.user.id},isEditableByCurrentUser:function(){return this.canIModerate||this.wasWrittenByCurrentUser&&this.canIWrite},hasAttachment:function(){var e=this.post.attachment;return!!e&&Object(De.b)(e)},xConnect:function(){return!!this.postToConnectFromId&&this.postToConnectFromId!==this.post.id&&!this.areConnected(this.post.id,this.postToConnectFromId)},styles:function(){var e={};if("free"===this.format){this.isBeingEdited||this.isBeingActedUpon||this.isAppActingOnPost||this.isBeingReacted?e["z-index"]=12e3:e["z-index"]=1e4-this.index;var t=this.post.width||200;e.width=t+"px";var n=null!==this.post.top?this.post.top:16*this.index,r=null!==this.post.left?this.post.left:16*this.index;e.top=n+"px",e.left=r+"px"}return e},classes:function(){return{"surface-post":!0,wish:!0,"is-animated":this.isBeingActedUpon||this.isBeingEdited&&this.isBackchannel,pulsate:this.isBeingActedUpon||this.isAppActingOnPost||this.isBeingEdited&&this.isBackchannel&&this.postBeingEditedCid,"wish-editable":this.isEditableByCurrentUser,"wish-mine":this.wasWrittenByCurrentUser,"with-attachment":this.hasAttachment,"with-author":this.xAuthor,"attachment-on-top":this.putAttachmentOnTop,"full-height":this.fitHeightToContainer}}}),watch:{isEditableByCurrentUser:function(e){"free"===this.format&&e?this.initializeResizable(this.isMousable,this.resizedPost):this.destroyResizable()}},mounted:function(){"free"===this.format&&this.isEditableByCurrentUser?(this.initializeResizable(this.isMousable,this.resizedPost),this.initializeDraggable(this.movedPost)):(this.destroyResizable(),this.destroyDraggable()),this.isLast&&this.$emit("last-post-mounted")},methods:ct({},Object(r.b)("post",["movedPost","resizedPost"]),{},Object(r.b)("postConnection",["completeConnection"]),{areConnected:function(e,t){return this.connections.filter((function(n){return n.from_wish_id===e&&n.to_wish_id===t||n.from_wish_id===t&&n.to_wish_id===e})).length>0},selectToConnect:function(){var e=this.$refs.connectorLabelInput.value;null!=this.postToConnectFromId&&this.completeConnection({postToConnectToId:this.post.id,label:e})}})},ft=(n(475),n(476),Object(d.a)(lt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.styles,attrs:{id:"wish-"+(e.post.id||"new"),"data-view-mode":!e.isBackchannel&&e.isBeingEdited?"edit":"show","data-post-cid":e.post.cid,"data-rank":e.post.sort_index,"data-index":e.index+1,"data-section-id":e.post.wall_section_id,"data-color":e.post.color}},[n(!e.isBackchannel&&e.isBeingEdited?"surface-post-being-edited":"surface-post-being-showed",e._b({tag:"div"},"div",e.$props,!1)),e._v(" "),e.xConnect?n("div",{staticClass:"wish-selection"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.selectToConnect(t)}}},[n("input",{directives:[{name:"t",rawName:"v-t:placeholder",value:"Label (optional)",expression:"'Label (optional)'",arg:"placeholder"}],ref:"connectorLabelInput",attrs:{maxlength:"50"}}),e._v(" "),n("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"raised-button",attrs:{type:"submit"}},[e._v("Connect")])])]):e._e()],1)}),[],!1,null,"fbeba000",null));t.a=ft.exports},function(e,t,n){"use strict";var r=n(2),o=n(14),i=n(120),a=n(9),s=n(35),c=n(23),u=n(20);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={components:{AvatarImage:s.a},directives:{t:o.a},mixins:[c.a],data:function(){return{registeredContributors:[],anonymousContributors:[]}},computed:f({},Object(r.c)(["wallId","builder"]),{totalContributors:function(){return this.registeredContributors.length+this.anonymousContributors.length}}),mounted:function(){var e=this;Object(u.fetchJson)("/walls/".concat(this.wallId,"/contributors")).then((function(t){var n=t.filter((function(e){return!!e.username}));e.registeredContributors=n.sort((function(t){return e.builder.id===t.id?"":t.short_name})),e.anonymousContributors=t.filter((function(e){return!e.username}))}))},methods:f({},Object(r.b)({cancel:"hideContributorsList"}))},p=n(1),m=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal standard-scheme",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[n("div",{staticClass:"modal-container"},[n("header",[n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Contributors")]),e._v(" "),e.totalContributors>0?n("span",[e._v(" ("+e._s(e.totalContributors)+") ")]):e._e()]),e._v(" "),n("div",{staticClass:"list modal-list two-line-dense-list"},[e._l(e.registeredContributors,(function(t){return n("a",{key:t.id,staticClass:"list-item is-actionable",attrs:{href:"/"+t.username,target:"_blank"}},[n("div",{staticClass:"list-item-primary"},[n("avatar-image",{attrs:{user:t,width:36,height:36}}),e._v(" "),n("div",[n("div",[e._v(e._s(t.name||t.username))]),e._v(" "),n("div",{staticClass:"caption-type"},[e._v(e._s(t.username))])])],1)])})),e._v(" "),e.anonymousContributors.length>0?n("div",{staticClass:"list-item"},[n("div",{staticClass:"list-item-primary"},[n("avatar-image",{attrs:{width:36,height:36}}),e._v(" "),n("div",[n("div",{directives:[{name:"t",rawName:"v-t"}],staticClass:"muted-type"},[e._v("Anonymous contributors")]),e._v(" "),n("div",{staticClass:"muted-type"},[e._v(e._s(e.anonymousContributors.length))])])],1)]):e._e()],2)])])}),[],!1,null,null,null).exports,y=n(53),g=n(4),v=n(327),b=n.n(v),w=n(13);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={components:{AvatarImage:s.a,RelativeTime:y.a,SurfaceContributors:m},directives:{t:o.a},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.c)(["builder","wallUpdatedAt"]),{},Object(r.e)(["xContributorsList"]),{},Object(r.c)("post",["postsArray"]),{builderName:function(){return this.builder.name||this.builder.username},builderProfileUrl:function(){return"/"+this.builder.username},isBuilderRegistered:function(){return this.builder.registered},contributorCount:function(){var e=this,t=this.postsArray.map((function(e){return e.author_id})).filter((function(t){return t!==e.builder.id}));return b()(t).length},contributorText:function(){return Object(g.b)("%{num} contributor","%{num} contributors",this.contributorCount,{num:this.contributorCount})}}),methods:{showContributorsList:function(){Object(w.a)("Surface","Title Clicked","Contributor List"),this.$store.dispatch("showContributorsList")},trackProfileClick:function(){Object(w.a)("Surface","Title Clicked","Builder Profile")}}},C=Object(p.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"surface-builder"},[e.isBuilderRegistered?n("a",{staticClass:"builder-id caption-type",attrs:{href:e.builderProfileUrl,target:"_blank"},on:{click:e.trackProfileClick}},[n("avatar-image",{staticClass:"builder-avatar",attrs:{user:e.builder,width:16,height:16}}),e._v(" "),n("span",{staticClass:"builder-name"},[e._v(e._s(e.builderName))])],1):n("div",{staticClass:"builder-id caption-type"},[n("avatar-image",{staticClass:"builder-avatar",attrs:{width:16,height:16}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}],staticClass:"builder-name caption-type"},[e._v("Anonymous")])],1),e._v(" "),e.contributorCount>0?n("div",{staticClass:"builder-contributors",attrs:{title:e.contributorText},on:{click:e.showContributorsList}},[e._v("\n    \xa0+\xa0"),n("span",{staticClass:"builder-contributors-count caption-type"},[e._v("\n      "+e._s(e.contributorCount)+"\n    ")])]):e._e(),e._v(" "),n("div",{staticClass:"builder-separator"},[e._v("\u25cf")]),e._v(" "),n("relative-time",{staticClass:"builder-time caption-type",attrs:{datetime:e.wallUpdatedAt}}),e._v(" "),e.xContributorsList?n("surface-contributors"):e._e()],1)}),[],!1,null,null,null).exports;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={components:{BaseIcon:a.a},directives:{t:o.a},computed:S({},Object(r.e)(["wall","isLikedByCurrentUser"]),{},Object(r.c)(["links","isRemakeable"]),{showUrl:function(){return this.links.show},remakeUrl:function(){return this.showUrl+"#remake"},shareUrl:function(){return this.showUrl+"#share"},isLiked:function(){return this.isLikedByCurrentUser}}),methods:S({},Object(r.b)(["likeWall","unlikeWall"]))},A=Object(p.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-bar-menu"},[e.isLiked?n("li",[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Unlike",expression:"'Unlike'",arg:"title"}],staticClass:"app-bar-button",on:{click:e.unlikeWall}},[n("base-icon",{staticClass:"highlighted-type",attrs:{name:"favorite"}})],1)]):n("li",[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Like",expression:"'Like'",arg:"title"}],staticClass:"app-bar-button",on:{click:e.likeWall}},[n("base-icon",{attrs:{name:"favorite_border"}})],1)]),e._v(" "),e.isRemakeable?n("li",[n("a",{staticClass:"app-bar-button app-bar-icon-text-button",attrs:{role:"button",target:"_blank",href:e.remakeUrl}},[n("base-icon",{attrs:{name:"remake"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}],staticClass:"responsive-no-phone-only"},[e._v("Remake")])],1)]):e._e(),e._v(" "),n("li",[n("a",{staticClass:"app-bar-button app-bar-icon-text-button",attrs:{role:"button",target:"_blank",href:e.shareUrl}},[n("base-icon",{attrs:{name:"share_arrow"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}],staticClass:"responsive-no-phone-only"},[e._v("Share")])],1)]),e._v(" "),n("li",[n("a",{directives:[{name:"t",rawName:"v-t:title",value:"Open in new",expression:"'Open in new'",arg:"title"}],staticClass:"app-bar-button",attrs:{role:"button",target:"_blank",href:e.showUrl}},[n("base-icon",{attrs:{name:"open_in_new"}})],1)])])}),[],!1,null,null,null).exports,I=n(156),x=(n(136),n(132));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={components:{BaseIcon:a.a,SurfaceBuilder:C,SurfaceEmbedActions:A,AppBarAccount:i.a},directives:{t:o.a},computed:D({},Object(r.e)(["isEmbedded","user","panel","isReadOnly","isFullscreen","xToolMenu","isLikedByCurrentUser"]),{},Object(r.c)(["canIAdminister","canIRemake","links","canICreateWall"]),{userRegistered:function(){return!!this.user.registered_at},canModify:function(){return this.canIAdminister},canClone:function(){return this.canIAdminister},canRemake:function(){return this.canIAdminister||this.canIRemake},canInvite:function(){return this.canIAdminister},isLiked:function(){return this.isLikedByCurrentUser},canGoFullscreen:function(){return I.d},printLink:function(){return this.links.print},showMenuActions:function(){return!this.isReadOnly}}),methods:D({},Object(r.b)(["showInfo","likeWall","unlikeWall","enterFullscreen","exitFullscreen","toggleToolMenu","showRemakePanel","showConvertLayoutPanel","showDeleteDialog","showClearAllDialog","hideToolMenu","showWallQuotaExceeded"]),{},Object(r.b)("share",["toggleSharePanel"]),{},Object(r.b)("settings",["toggleSettingsPanel"]),{like:function(){Object(w.a)("Surface","Nav Clicked","Like"),this.likeWall()},unlike:function(){Object(w.a)("Surface","Nav Clicked","Unlike"),this.unlikeWall()},goToInvite:function(){this.toggleSharePanel(x.a.Members)},goToShare:function(){return this.goToExport()},goToExport:function(){this.toggleSharePanel(x.a.Main)},print:function(){Object(w.a)("Surface","Nav Clicked","Print"),window.open(this.printLink)},enterFullscreenTracked:function(){Object(w.a)("Surface","Nav Clicked","Fullscreen"),this.enterFullscreen()},toggleSettingsPanelTracked:function(){Object(w.a)("Surface","Nav Clicked","Settings"),this.toggleSettingsPanel()},toggleSharePanelTracked:function(){Object(w.a)("Surface","Nav Clicked","Share"),this.toggleSharePanel(x.a.Main)},showRemakePanelTracked:function(){Object(w.a)("Surface","Nav Clicked","Remake"),this.canICreateWall?this.showRemakePanel():this.showWallQuotaExceeded()},toggleToolMenuTracked:function(){Object(w.a)("Surface","Nav Clicked","More"),this.toggleToolMenu()},showConvertLayoutPanelTracked:function(){Object(w.a)("Surface","Nav Clicked","Change Layout"),this.showConvertLayoutPanel()},showDeleteDialogTracked:function(){Object(w.a)("Surface","Nav Clicked","Delete"),this.showDeleteDialog()},showClearAllDialogTracked:function(){Object(w.a)("Surface","Nav Clicked","Clear"),this.showClearAllDialog()},showInfoTracked:function(){Object(w.a)("Surface","Nav Clicked","Info"),this.showInfo()}})},M=Object(p.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isEmbedded?n("div",{staticClass:"app-bar-nav"},[n("surface-builder"),e._v(" "),n("surface-embed-actions")],1):n("div",{staticClass:"app-bar-nav surface-nav"},[n("a",{directives:[{name:"t",rawName:"v-t:title",value:"Take me home",expression:"'Take me home'",arg:"title"}],staticClass:"logo",attrs:{href:"/?ref=logo",target:"_top",role:"button"}},[n("div",{staticClass:"logo-image"})]),e._v(" "),e.showMenuActions?n("menu",{staticClass:"app-bar-menu"},[e.userRegistered?e._e():n("li",{staticClass:"globalnav-signup"},[n("a",{directives:[{name:"t",rawName:"v-t"}],staticClass:"app-bar-button",attrs:{role:"button",href:"/auth/signup"}},[e._v("Sign up")])]),e._v(" "),e.userRegistered?e._e():n("li",{staticClass:"globalnav-login"},[n("a",{directives:[{name:"t",rawName:"v-t"}],staticClass:"app-bar-button",attrs:{role:"button",href:"/auth/login"}},[e._v("Log in")])]),e._v(" "),e.userRegistered?n("li",[e.isLiked?n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Unlike",expression:"'Unlike'",arg:"title"}],staticClass:"app-bar-button",on:{click:e.unlike}},[n("base-icon",{staticClass:"highlighted-type",attrs:{name:"favorite"}})],1):n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Like",expression:"'Like'",arg:"title"}],staticClass:"app-bar-button",on:{click:e.like}},[n("base-icon",{attrs:{name:"favorite_border"}})],1)]):e._e(),e._v(" "),e.canRemake?n("li",[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Remake",expression:"'Remake'",arg:"title"}],staticClass:"app-bar-button app-bar-icon-text-button",on:{click:e.showRemakePanelTracked}},[n("base-icon",{attrs:{name:"remake"}}),n("span",{directives:[{name:"t",rawName:"v-t"}],staticClass:"responsive-no-phone-only"},[e._v("Remake")])],1)]):e._e(),e._v(" "),n("li",[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Share",expression:"'Share'",arg:"title"}],staticClass:"app-bar-button app-bar-icon-text-button",on:{click:e.toggleSharePanelTracked}},[n("base-icon",{attrs:{name:"share_arrow"}}),n("span",{directives:[{name:"t",rawName:"v-t"}],staticClass:"responsive-no-phone-only"},[e._v("Share")])],1)]),e._v(" "),e.canModify?n("li",[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Modify",expression:"'Modify'",arg:"title"}],staticClass:"app-bar-button",on:{click:e.toggleSettingsPanelTracked}},[n("base-icon",{attrs:{name:"settings"}})],1)]):e._e(),e._v(" "),e.userRegistered?e._e():n("li",{staticClass:"globalnav-help"},[n("a",{directives:[{name:"t",rawName:"v-t:title",value:"Get help",expression:"'Get help'",arg:"title"}],staticClass:"app-bar-button",attrs:{role:"button",href:"http://jn.padlet.com",target:"_blank"}},[n("base-icon",{attrs:{name:"help_outline"}})],1)]),e._v(" "),n("li",{staticClass:"globalnav-more"},[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"More",expression:"'More'",arg:"title"}],staticClass:"app-bar-button",attrs:{id:"globalnav-more-menu-button","aria-haspopup":"true","aria-expanded":e.xToolMenu,"aria-owns":"globalnav-more-menu","aria-controls":"globalnav-more-menu"},on:{click:e.toggleToolMenuTracked}},[n("base-icon",{attrs:{name:"more_horiz"}})],1),e._v(" "),e.xToolMenu?n("menu",{staticClass:"dropdown dropdown-with-curtain",attrs:{id:"globalnav-more-menu",role:"group","aria-labelledby":"globalnav-more-menu-button"},on:{click:e.hideToolMenu}},[n("div",{staticClass:"dropdown-content action-list"},[e.userRegistered?e._e():n("a",{directives:[{name:"t",rawName:"v-t:title",value:"Sign up",expression:"'Sign up'",arg:"title"}],staticClass:"list-item",attrs:{href:"/auth/signup",tabindex:"0"}},[n("base-icon",{attrs:{name:"sign_up"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Sign up")])],1),e._v(" "),e.userRegistered?e._e():n("a",{directives:[{name:"t",rawName:"v-t:title",value:"Log in",expression:"'Log in'",arg:"title"}],staticClass:"list-item",attrs:{href:"/auth/login",tabindex:"0"}},[n("base-icon",{attrs:{name:"fingerprint"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Log in")])],1),e._v(" "),e.userRegistered?e._e():n("div",{staticClass:"divider"}),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t:title",value:"About this padlet",expression:"'About this padlet'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.showInfoTracked}},[n("base-icon",{attrs:{name:"info_outline"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Info")])],1),e._v(" "),n("a",{directives:[{name:"t",rawName:"v-t:title",value:"Get help",expression:"'Get help'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",href:"http://jn.padlet.com",target:"_blank",tabindex:"0"}},[n("base-icon",{attrs:{name:"help_outline"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Help")])],1),e._v(" "),e.isLiked?e._e():n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Like",expression:"'Like'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.like}},[n("base-icon",{attrs:{name:"favorite_border"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Like")])],1),e._v(" "),e.isLiked?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Unlike",expression:"'Unlike'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.unlike}},[n("base-icon",{staticClass:"highlighted-type",attrs:{name:"favorite"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Unlike")])],1):e._e(),e._v(" "),e.canRemake?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Remake",expression:"'Remake'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.showRemakePanelTracked}},[n("base-icon",{attrs:{name:"remake"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Remake")])],1):e._e(),e._v(" "),e.canGoFullscreen&&!e.isFullscreen?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Enter full screen",expression:"'Enter full screen'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.enterFullscreenTracked}},[n("base-icon",{attrs:{name:"fullscreen"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Enter full screen")])],1):e._e(),e._v(" "),e.canGoFullscreen&&e.isFullscreen?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Exit full screen",expression:"'Exit full screen'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.exitFullscreen}},[n("base-icon",{attrs:{name:"fullscreen"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Exit full screen")])],1):e._e(),e._v(" "),e.canModify||e.canClone?n("div",{staticClass:"divider"}):e._e(),e._v(" "),e.canInvite?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Invite people",expression:"'Invite people'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.goToInvite}},[n("base-icon",{attrs:{name:"group_add"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Invite people")])],1):e._e(),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Share or embed",expression:"'Share or embed'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.goToShare}},[n("base-icon",{attrs:{name:"share"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Share or embed")])],1),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Export",expression:"'Export'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.goToExport}},[n("base-icon",{attrs:{name:"export"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Export")])],1),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Print",expression:"'Print'",arg:"title"}],staticClass:"list-item",attrs:{role:"button",tabindex:"0"},on:{click:e.print}},[n("base-icon",{attrs:{name:"print"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Print")])],1),e._v(" "),e.canModify||e.canClone?n("div",{staticClass:"divider"}):e._e(),e._v(" "),e.canModify?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Modify",expression:"'Modify'",arg:"title"}],staticClass:"list-item",attrs:{role:"button"},on:{click:e.toggleSettingsPanelTracked}},[n("base-icon",{attrs:{name:"settings"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Modify")])],1):e._e(),e._v(" "),e.canModify?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Change format",expression:"'Change format'",arg:"title"}],staticClass:"list-item",attrs:{role:"button"},on:{click:e.showConvertLayoutPanelTracked}},[n("base-icon",{attrs:{name:"change_format"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Change format")])],1):e._e(),e._v(" "),e.canModify?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Clear all posts",expression:"'Clear all posts'",arg:"title"}],staticClass:"list-item",attrs:{role:"button"},on:{click:e.showClearAllDialogTracked}},[n("base-icon",{attrs:{name:"erase"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Clear all posts")])],1):e._e(),e._v(" "),e.canModify?n("div",{directives:[{name:"t",rawName:"v-t:title",value:"Delete",expression:"'Delete'",arg:"title"}],staticClass:"list-item",attrs:{role:"button"},on:{click:e.showDeleteDialogTracked}},[n("base-icon",{attrs:{name:"delete"}}),e._v(" "),n("span",{directives:[{name:"t",rawName:"v-t"}]},[e._v("Delete")])],1):e._e()])]):e._e()]),e._v(" "),e.userRegistered?n("li",{staticClass:"globalnav-user-avatar"},[n("app-bar-account",{attrs:{user:e.user}})],1):e._e()]):e._e()])}),[],!1,null,null,null).exports,L=n(64),F=n(193);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={components:{SurfaceBuilder:C,ProcessedImage:L.a},directives:{t:o.a},watch:{title:function(){this.$emit("title-changed")},description:function(){this.$emit("description-changed")}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.c)(["portrait","title","description","canIAdminister"]),{xBuilder:function(){return!this.$store.state.isEmbedded},hyperlinkedDescription:function(){return Object(F.a)(this.description)}}),methods:{tryModify:function(){this.canIAdminister&&this.$store.dispatch("settings/showSettingsPanel")}}};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={components:{SurfaceNav:M,SurfaceTitle:Object(p.a)(q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"has-portrait":e.portrait,"has-title":!0,"has-description":e.description,"surface-title":!0}},[n("div",{ref:"container",staticClass:"title-container",attrs:{dir:"auto"}},[e.portrait?n("processed-image",{directives:[{name:"t",rawName:"v-t:alt",value:"Icon",expression:"'Icon'",arg:"alt"}],attrs:{id:"portrait",src:e.portrait,transforms:{preset:"icon",width:64,height:64}}}):e._e(),e._v(" "),n("div",{staticClass:"title-text"},[n("h1",{staticClass:"title-heading",on:{dblclick:e.tryModify}},[e._v(e._s(e.title||"\xa0"))]),e._v(" "),e.description?n("h2",{staticClass:"title-description caption-type",domProps:{innerHTML:e._s(e.hyperlinkedDescription)},on:{dblclick:e.tryModify}}):e._e(),e._v(" "),e.xBuilder?n("surface-builder"):e._e()],1)],1)])}),[],!1,null,null,null).exports},computed:W({},Object(r.c)(["backgroundColor","backgroundLuminance","colorScheme","isBackchannel","isMap","amIRegistered"]),{xNav:function(){return!this.$store.isApp},realBackgroundColor:function(){return this.isMap?"light"===this.colorScheme?"#FFFFFF":"#000000":this.backgroundColor},realBackgroundLuminance:function(){return this.isMap?this.colorScheme:this.backgroundLuminance}}),mounted:function(){this.amIRegistered&&this.checkAndSubscribeToPushNotifications(),this.updateHeaderHeight()},methods:W({},Object(r.b)(["resizeHeader","checkAndSubscribeToPushNotifications"]),{updateHeaderHeight:function(){var e=this;this.$nextTick((function(){e.resizeHeader({height:e.$el.offsetHeight})}))}})},z=(n(460),Object(p.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["app-bar","surface-header"],style:{"background-color":e.realBackgroundColor},attrs:{id:"surface-header","data-luminance":e.realBackgroundLuminance}},[n("div",{staticClass:"rubber-band-scroll-padder",style:{"background-color":e.backgroundColor}}),e._v(" "),e.xNav?n("surface-nav"):e._e(),e._v(" "),n("surface-title",{on:{"title-changed":e.updateHeaderHeight,"description-changed":e.updateHeaderHeight}})],1)}),[],!1,null,null,null));t.a=z.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,o=n(42),i=n(22),a=n(4),s=n(105),c=n.n(s),u=n(324),l=n.n(u),f=n(325),d=n.n(f),h=n(8),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.Main="main",e.MapStyle="mapstyle",e.Wallpaper="wallpaper",e.Icon="icon",e.Address="address",e.Reactions="reactions"}(r||(r={}));var g=function(){return{activePanel:null,isSaving:!1,previewAttributes:{},saveErrorMessage:null,wallpaperPicker:null,xCustomWallpaperPicker:!1,xCustomIconPicker:!1,isWallNameAvailable:!0,isWallNameValid:!0,isReactionDataValid:!0,arePreviewAttributesValid:!0,lastAvailableWallName:null}},v={namespaced:!0,state:g,getters:{arePreviewAttributesDirty:function(e,t,n){return!l()(e.previewAttributes,n.wall)},isOpen:function(e){return null!==e.activePanel},activePanel:function(e){return e.activePanel},previewAttributes:function(e){return e.previewAttributes},isSaving:function(e){return e.isSaving},isPreviewing:function(e){return Object.keys(e.previewAttributes).length>0},saveErrorMessage:function(e){return e.saveErrorMessage},wallpaperPicker:function(e){return e.wallpaperPicker},xWallpaperPicker:function(e){return null!==e.wallpaperPicker},xCustomWallpaperPicker:function(e){return e.xCustomWallpaperPicker},xCustomIconPicker:function(e){return e.xCustomIconPicker}},mutations:{RESET_SETTINGS_STATE:function(e){Object.assign(e,{activePanel:null,isSaving:!1,previewAttributes:{},saveErrorMessage:null,wallpaperPicker:null,xCustomWallpaperPicker:!1,xCustomIconPicker:!1,isWallNameAvailable:!0,isWallNameValid:!0,isReactionDataValid:!0,arePreviewAttributesValid:!0,lastAvailableWallName:null})},START_PREVIEWING_ATTRIBUTES:function(e,t){e.previewAttributes=t},SET_ACTIVE_PANEL:function(e,t){e.activePanel=t},SHOW_WALLPAPER_PICKER:function(e,t){e.wallpaperPicker=t},HIDE_WALLPAPER_PICKER:function(e){e.wallpaperPicker=null},SHOW_CUSTOM_WALLPAPER_PICKER:function(e){e.xCustomWallpaperPicker=!0},HIDE_CUSTOM_WALLPAPER_PICKER:function(e){e.xCustomWallpaperPicker=!1},SHOW_CUSTOM_ICON_PICKER:function(e){e.xCustomIconPicker=!0},HIDE_CUSTOM_ICON_PICKER:function(e){e.xCustomIconPicker=!1},SETTINGS_SAVE:function(e){e.isSaving=!0,e.saveErrorMessage=null},SETTINGS_SAVE_SUCCESS:function(e){e.isSaving=!1},SETTINGS_SAVE_ERROR:function(e,t){e.isSaving=!1,e.saveErrorMessage=t},UPDATE_PREVIEW_ATTRIBUTES:function(e,t){e.previewAttributes=d()(c()(e.previewAttributes),t)},UPDATE_WALL_AVAILABILITY:function(e,t){var n=t.isAvailable;e.isWallNameAvailable=n},UPDATE_WALL_NAME_VALIDITY:function(e,t){var n=t.isValid;e.isWallNameValid=n},UPDATE_WALL_REACTION_DATA_VALIDITY:function(e,t){var n=t.isValid;e.isReactionDataValid=n},UPDATE_PREVIEW_ATTRIBUTES_VALIDITY:function(e,t){var n=t.arePreviewAttributesValid;e.arePreviewAttributesValid=n},UPDATE_LAST_CHECKED_NAME:function(e,t){e.lastAvailableWallName=t}},actions:{startWallAttributesPreview:function(e){var t=e.commit,n=e.rootState;t("START_PREVIEWING_ATTRIBUTES",p({},n.wall))},stopWallAttributesPreview:function(e){(0,e.commit)("RESET_SETTINGS_STATE")},hideSettingsPanel:function(e){(0,e.commit)("RESET_SETTINGS_STATE")},showSettingsPanel:function(e,t){var n=e.dispatch;void 0===t&&(t=r.Main),n("startWallAttributesPreview"),n("changeActivePanel",t)},changeActivePanel:function(e,t){(0,e.commit)("SET_ACTIVE_PANEL",t)},saveSettings:function(e){var t=e.commit,n=e.dispatch,r=e.state,s=e.getters,c=e.rootGetters;return m(this,void 0,Promise,(function(){var e;return y(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),s.isPreviewing||Object(i.c)("saveSettings is dispatched when not previewing"),t("SETTINGS_SAVE"),[4,Object(o.saveWall)(r.previewAttributes)];case 1:return e=u.sent(),n("updateWall",e,{root:!0}),n("updateAndValidatePreviewAttributes",e),t("SETTINGS_SAVE_SUCCESS"),c["onboarding/isWallOnboardingFlow"]&&n("onboarding/goOnboardingNextStage",null,{root:!0}),[3,3];case 2:return u.sent(),n("setSaveSettingError",{message:Object(a.a)("Sorry! Something went wrong. Please try saving again.")}),[3,3];case 3:return[2]}}))}))},setSaveSettingError:function(e,t){(0,e.commit)("SETTINGS_SAVE_ERROR",t.message)},toggleSettingsPanel:function(e,t){var n=e.dispatch;e.getters.isOpen?n("hideSettingsPanel"):n("showSettingsPanel",t)},updatePreviewAttributes:function(e,t){var n=e.commit;if(!e.getters.isPreviewing){var r={attributes:t};Object(i.c)("updatePreviewAttributes is dispatched when not previewing",{context:r})}n("UPDATE_PREVIEW_ATTRIBUTES",t)},updateAndValidatePreviewAttributes:function(e,t){var n=e.getters,r=e.dispatch;r("updatePreviewAttributes",t),n.arePreviewAttributesDirty&&h.a.nextTick((function(){return r("updateWallValidity")}))},showWallpaperPicker:function(e,t){(0,e.commit)("SHOW_WALLPAPER_PICKER",t)},hideWallpaperPicker:function(e){(0,e.commit)("HIDE_WALLPAPER_PICKER")},updateBackground:function(e,t){var n=e.dispatch,r=e.getters,o=e.rootState,i=t.url,a=t.fill,s=t.effect;n("updatePreviewAttributes",{background:i===o.wall.background.url?p(p({},o.wall.background),{fill:a,effect:s}):p(p({},r.previewAttributes.background),{url:i,fill:a,effect:s})})},updateBackgroundMetadata:function(e,t){(0,e.dispatch)("updatePreviewAttributes",{background:{dominant_color_as_rgb:t.dominantColourAsRgb,luminance_name:t.imageLuminance}})},pickCustomBackground:function(e,t){var n=e.dispatch;n("updateBackground",{url:t.url,fill:"cover"}),n("imagePicker/clearActiveSource",null,{root:!0})},showCustomBackgroundPicker:function(e){var t=e.dispatch,n=e.commit,r=e.rootGetters;n("SHOW_CUSTOM_WALLPAPER_PICKER"),t("imagePicker/showImagePickerSources",{onPickAction:"settings/pickCustomBackground",initialSearchQuery:r.title,disallowGifSearch:!0},{root:!0})},hideCustomBackgroundPicker:function(e){var t=e.dispatch;(0,e.commit)("HIDE_CUSTOM_WALLPAPER_PICKER"),t("imagePicker/hideImagePickerSources",null,{root:!0})},pickCustomIconAndGoBack:function(e,t){var n=e.dispatch;n("updateAndValidatePreviewAttributes",{portrait:t.url||""}),n("changeActivePanel",r.Main),n("hideCustomIconPicker")},showCustomIconPicker:function(e){var t=e.dispatch,n=e.commit,r=e.rootGetters;n("SHOW_CUSTOM_ICON_PICKER"),t("imagePicker/showImagePickerSources",{onPickAction:"settings/pickCustomIconAndGoBack",initialSearchQuery:r.title},{root:!0})},hideCustomIconPicker:function(e){var t=e.dispatch;(0,e.commit)("HIDE_CUSTOM_ICON_PICKER"),t("imagePicker/hideImagePickerSources",null,{root:!0})},resetWallNameToKey:function(e){var t=e.dispatch,n=e.rootGetters;return m(this,void 0,Promise,(function(){return y(this,(function(e){switch(e.label){case 0:return t("updatePreviewAttributes",{name:n.publicKey}),[4,t("updateWallValidity")];case 1:return e.sent(),[2]}}))}))},updateWallValidity:function(e){var t=e.commit,n=e.state,r=e.rootState;return m(this,void 0,Promise,(function(){var e,i,a,s,c,u,l;return y(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),t("UPDATE_WALL_NAME_VALIDITY",{isValid:!0}),t("UPDATE_WALL_REACTION_DATA_VALIDITY",{isValid:!0}),e=!0,i=Number(r.wall.id),a=n.previewAttributes,[4,Object(o.validateWall)(p({id:i},a))];case 1:return f.sent(),(s=n.previewAttributes.name)&&s!==r.wall.name&&s!==n.lastAvailableWallName?[4,Object(o.checkWallAvailability)(s,r.wall.id)]:[3,3];case 2:c=f.sent(),t("UPDATE_WALL_AVAILABILITY",{isAvailable:c}),t("UPDATE_LAST_CHECKED_NAME",s),e=e&&c,f.label=3;case 3:return t("UPDATE_PREVIEW_ATTRIBUTES_VALIDITY",{arePreviewAttributesValid:e}),[3,5];case 4:return u=f.sent(),l=u.reasons||[],l.find((function(e){return"name"===e.field}))&&t("UPDATE_WALL_NAME_VALIDITY",{isValid:!1}),l.find((function(e){return"reaction_data"===e.field}))&&t("UPDATE_WALL_REACTION_DATA_VALIDITY",{isValid:!1}),t("UPDATE_PREVIEW_ATTRIBUTES_VALIDITY",{arePreviewAttributesValid:!1}),[3,5];case 5:return[2]}}))}))}}};t.b=v},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return v}));var r,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i={default:"FF00F5",red:"FF3D00",orange:"FF8A00",green:"7AC92B",blue:"2292E2",purple:"AB4CE5"},a={default:"212121",red:"B64C46",orange:"E39115",green:"68A05F",blue:"436BAE",purple:"724596"},s={default:"FF40D5",red:"E20C00",orange:"FF8200",green:"42AC31",blue:"1F65D9",purple:"9F01FF"},c={id:100,previewImageUrl:"",markerColor:"#ff1000",markerColors:{stroke:"fff",fill:i},connectorLineColor:"#000000",labelBackgroundColor:"#000000",labelTextColor:"#ffffff",styles:[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#f7f1df"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#d0e3b4"},{visibility:"simplified"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#c7dcab"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.stroke",stylers:[{color:"#c7dcab"},{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}]},u={100:c,101:{id:101,previewImageUrl:"",markerColor:"#000000",markerColors:{stroke:"fff",fill:o(o({},i),{default:"212121"})},connectorLineColor:"#636363",labelBackgroundColor:"#636363",labelTextColor:"#FFFFFF",styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative",stylers:[{visibility:"on"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"poi",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit",stylers:[{visibility:"on"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},102:{id:102,previewImageUrl:"",markerColor:"#ffffff",markerColors:{stroke:"212121",fill:o(o({},s),{default:"FFF"})},connectorLineColor:"#ffffff",labelBackgroundColor:"#ffffff",labelTextColor:"#000000",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"landscape",stylers:[{visibility:"on"}]},{featureType:"poi",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]},103:{id:103,previewImageUrl:"",markerColor:"#000000",markerColors:{stroke:"FFF",fill:a},connectorLineColor:"#FFFFFF",labelTextColor:"#000000",labelBackgroundColor:"#FFFFFF",styles:[{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#5d3806"},{weight:1.5}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#3e2304"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#c99e6d"},{visibility:"simplified"}]},{featureType:"landscape",elementType:"all",stylers:[{lightness:-8},{gamma:.98},{weight:2.45},{saturation:26}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:30},{saturation:30},{visibility:"on"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#3e2304"}]},{featureType:"landscape",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#d6b169"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#d7a663"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#d7a663"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#c69253"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:"#3e2304"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ca964c"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{lightness:-20}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#f2e0bf"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#c9aa6f"},{visibility:"on"}]}]},104:{id:104,previewImageUrl:"",markerColor:"#000000",markerColors:{stroke:"FFF",fill:a},connectorLineColor:"#FF6100",labelTextColor:"#FFFFFF",labelBackgroundColor:"#FF6100",styles:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]},105:{id:105,previewImageUrl:"",markerColor:"#00dfff",markerColors:{stroke:"212121",fill:s},connectorLineColor:"#FFF64A",labelTextColor:"#343358",labelBackgroundColor:"#FFF64A",styles:[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#aeaeae"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#364d6d"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"},{color:"#364d6d"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#070535"},{visibility:"on"}]},{featureType:"landscape",elementType:"labels.text.stroke",stylers:[{color:"#4b6282"}]},{featureType:"landscape",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#364d6d"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#070535"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#4b6282"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#070535"},{visibility:"on"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#4b6282"},{visibility:"on"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#146474"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{lightness:25},{color:"#146474"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#7a4b82"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#4b6282"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{color:"#146474"}]},{featureType:"transit",elementType:"geometry.stroke",stylers:[{color:"#146474"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#070535"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#4b6282"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{saturation:-30},{lightness:-35},{gamma:1},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#34335b"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#637895"},{visibility:"on"}]}]},106:{id:106,previewImageUrl:"",markerColor:"#ff9900",markerColors:{stroke:"212121",fill:s},connectorLineColor:"#FFFFFF",labelTextColor:"#343358",labelBackgroundColor:"#FFFFFF",styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"landscape",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]},107:{id:107,previewImageUrl:"",markerColor:"#ff0000",markerColors:{stroke:"000",fill:i},connectorLineColor:"#000000",labelTextColor:"#FFFFFF",labelBackgroundColor:"#000000",styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#ff0000"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffec02"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"landscape",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#ffec02"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#000000"},{visibility:"on"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#07e126"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ff89cc"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#ff8300"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#ffe900"}]},{featureType:"transit.station.bus",elementType:"geometry",stylers:[{color:"#ff8300"}]},{featureType:"transit.station.rail",elementType:"geometry",stylers:[{color:"#ff8300"}]},{featureType:"transit.station.rail",elementType:"geometry.fill",stylers:[{color:"#ff0000"}]},{featureType:"transit.station.rail",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit.station.rail",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"transit.station.rail",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#408cf5"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#004c8d"}]}]},108:{id:108,previewImageUrl:"",markerColor:"#f09035",markerColors:{stroke:"212121",fill:s},connectorLineColor:"#FFF64A",labelTextColor:"#000000",labelBackgroundColor:"#FFF64A",styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#d4ffc7"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#297110"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#508d30"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{visibility:"off"},{color:"#378f19"}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#508d30"},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#297110"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#75572e"}]},{featureType:"road.highway.controlled_access",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#7ea85c"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#7ea85c"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#3b3bea"}]}]},109:{id:109,previewImageUrl:"",markerColor:"#FF1000",markerColors:{stroke:"212121",fill:s},connectorLineColor:"#FFF64A",labelTextColor:"#000000",labelBackgroundColor:"#FFF64A",mapTypeId:"satellite",styles:c.styles},110:{id:110,previewImageUrl:"",markerColor:"#FF1000",markerColors:{stroke:"212121",fill:o(o({},s),{default:"FFF"})},mapTypeId:"watercolor",connectorLineColor:"#000000",labelTextColor:"#FFFFFF",labelBackgroundColor:"#000000",styles:c.styles}};!function(e){e.light="light",e.dark="dark"}(r||(r={}));var l={100:r.light,101:r.light,102:r.dark,103:r.light,104:r.light,105:r.dark,106:r.dark,107:r.light,108:r.light,109:r.light,110:r.light},f=[100,101,102,103,104,105,106,107,108,109,110];function d(e){var t=Number(e);return f.includes(t)?t:f[0]}function h(e){return u[d(e)]}function p(e){return h(e).styles||[]}function m(e){return h(e).mapTypeId||"roadmap"}function y(e){return l[d(e)]}function g(e){return h(e).markerColors}function v(e){var t=h(e);return{connectorLineColor:t.connectorLineColor||"#000",labelBackgroundColor:t.labelBackgroundColor||"#000",labelTextColor:t.labelTextColor||"#FFF"}}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.WebBrowser=0]="WebBrowser",e[e.FileBrowser=1]="FileBrowser",e[e.LinkInput=2]="LinkInput",e[e.PhotoBooth=3]="PhotoBooth",e[e.DrawingCanvas=4]="DrawingCanvas"}(r||(r={}));var o={namespaced:!0,state:{xImagePicker:!1,activeSource:null,initialSearchQuery:void 0,disallowGifSearch:!1,onPickAction:void 0,pendingFile:null},getters:{xImagePickerSources:function(e){return e.xImagePicker},activeSource:function(e){return e.activeSource},pendingFile:function(e){return e.pendingFile},initialSearchQuery:function(e){return e.initialSearchQuery},disallowGifSearch:function(e){return e.disallowGifSearch}},mutations:{SHOW_IMAGE_PICKER_SOURCES:function(e,t){var n=t.onPickAction,r=t.initialSearchQuery,o=t.disallowGifSearch;e.xImagePicker=!0,e.onPickAction=n,e.initialSearchQuery=r,e.disallowGifSearch=!!o},CHANGE_ACTIVE_SOURCE:function(e,t){e.activeSource=t},CLEAR_ACTIVE_SOURCE:function(e){e.activeSource=null},HIDE_IMAGE_PICKER_SOURCES:function(e){Object.assign(e,{xImagePicker:!1,activeSource:null,initialSearchQuery:void 0,disallowGifSearch:!1,onPickAction:void 0,pendingFile:null})},START_UPLOAD:function(e,t){e.pendingFile=t},STOP_UPLOAD:function(e){e.pendingFile=null}},actions:{showImagePickerSources:function(e,t){(0,e.commit)("SHOW_IMAGE_PICKER_SOURCES",t)},changeActiveSource:function(e,t){(0,e.commit)("CHANGE_ACTIVE_SOURCE",t)},clearActiveSource:function(e){(0,e.commit)("CLEAR_ACTIVE_SOURCE")},pickImageUrl:function(e,t){e.commit;var n=e.dispatch,r=e.state;r.onPickAction&&n(r.onPickAction,{url:t},{root:!0})},hideImagePickerSources:function(e){(0,e.commit)("HIDE_IMAGE_PICKER_SOURCES")},startUpload:function(e,t){(0,e.commit)("START_UPLOAD",t)},stopUpload:function(e){(0,e.commit)("STOP_UPLOAD")}}};t.b=o},,,,,,function(e,t,n){"use strict";var r,o=(r=n(12))&&"object"===typeof r&&"default"in r?r.default:r;o.registerVersion("firebase","7.7.0","app"),e.exports=o},function(e,t,n){"use strict";n.r(t);n(268)},function(e,t,n){"use strict";(function(e){var t=n(12),r=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},o="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,t){if(t){var r=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];a in r||(r[a]={}),r=r[a]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.La(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t((function(e,t){o=e,i=t}));return this.La(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.La=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=a(e),i=o.next();!i.done;i=o.next())r(i.value).La(t,n)}))},t.all=function(e){var n=a(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).La(i(a.length-1),t),o=n.next()}while(!o.done)}))},t}));var s=s||{},c=this||self;function u(e){return"string"==typeof e}function l(e){return"boolean"==typeof e}var f=/^[\w+/_-]+[=]{0,2}$/,d=null;function h(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function m(e){return null===e}function y(e){return"array"==p(e)}function g(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==p(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function E(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:E).apply(null,arguments)}function O(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.gd=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function P(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function A(e){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function I(e,t){for(var n="",r=(e=e.split("%s")).length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");A.call(this,n+e[r])}function x(e,t){throw new I("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function D(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function N(){this.b=this.a=null}T(A,Error),A.prototype.name="CustomError",T(I,A),I.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var R=new j((function(){return new L}),(function(e){e.reset()}));function M(){var e=Ge,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function L(){this.next=this.b=this.a=null}function F(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||c).Element&&r.Location){var o=r;break e}}catch(a){}o=null}if(o&&"undefined"!=typeof o[t]&&(!e||!(e instanceof o[t])&&(e instanceof o.Location||e instanceof o.Element))){if(b(e))try{var i=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){i="<object could not be stringified>"}else i=void 0===e?"undefined":null===e?"null":typeof e;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,i)}}N.prototype.add=function(e,t){var n=R.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},L.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(u(e))return u(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},U=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=u(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};var q=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o=u(e)?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},V=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=u(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1};function W(e,t){return 0<=B(e,t)}function G(e,t){var n;return(n=0<=(t=B(e,t)))&&Array.prototype.splice.call(e,t,1),n}function H(e,t){!function(e,t){for(var n=u(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function z(e){return Array.prototype.concat.apply([],arguments)}function Q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function K(e){for(var t in e)return!1;return!0}function Y(e){var t,n={};for(t in e)n[t]=e[t];return n}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<X.length;i++)n=X[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Z(e,t){this.a=e===ne&&t||"",this.b=te}function ee(e){return e instanceof Z&&e.constructor===Z&&e.b===te?e.a:(x("expected object of type Const, got '"+e+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var te={},ne={},re=new Z(ne,"");function oe(){this.a="",this.b=ue}function ie(e){return e instanceof oe&&e.constructor===oe&&e.b===ue?e.a:(x("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function ae(e,t){var n=ee(e);if(!ce.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return le(e=n.replace(se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof Z?ee(e):encodeURIComponent(String(e))})))}oe.prototype.qa=!0,oe.prototype.pa=function(){return this.a.toString()},oe.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,ce=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ue={};function le(e){var t=new oe;return t.a=e,t}var fe=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},de=/&/g,he=/</g,pe=/>/g,me=/"/g,ye=/'/g,ge=/\x00/g,ve=/[\x00&<>"']/;function be(e,t){return-1!=e.indexOf(t)}function we(e,t){return e<t?-1:e>t?1:0}function _e(){this.a="",this.b=Se}function ke(e){return e instanceof _e&&e.constructor===_e&&e.b===Se?e.a:(x("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}_e.prototype.qa=!0,_e.prototype.pa=function(){return this.a.toString()},_e.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ee=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ce(e){return e instanceof _e?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Ee.test(e)||(e="about:invalid#zClosurez"),Te(e))}var Oe,Se={};function Te(e){var t=new _e;return t.a=e,t}Te("about:blank");e:{var Pe=c.navigator;if(Pe){var Ae=Pe.userAgent;if(Ae){Oe=Ae;break e}}Oe=""}function Ie(e){return be(Oe,e)}function xe(){this.a="",this.b=De}function je(e){return e instanceof xe&&e.constructor===xe&&e.b===De?e.a:(x("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}xe.prototype.qa=!0,xe.prototype.pa=function(){return this.a.toString()},xe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var De={};function Ne(e){var t=new xe;return t.a=e,t}Ne("<!DOCTYPE html>");var Re,Me,Le=Ne("");function Fe(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function Be(e){return ve.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(de,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(pe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(me,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ye,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ge,"&#0;"))),e}function Ue(e){c.setTimeout((function(){throw e}),0)}function qe(){var e=c.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Ie("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=le(ee(re));F(e,"HTMLIFrameElement"),e.src=ie(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(je(Le)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=C((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!Ie("Trident")&&!Ie("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){c.setTimeout(e,0)}}function Ve(e,t){Me||function(){if(c.Promise&&c.Promise.resolve){var e=c.Promise.resolve(void 0);Me=function(){e.then(He)}}else Me=function(){var e=He;!v(c.setImmediate)||c.Window&&c.Window.prototype&&!Ie("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Re||(Re=qe()),Re(e)):c.setImmediate(e)}}(),We||(Me(),We=!0),Ge.add(e,t)}Ne("<br>");var We=!1,Ge=new N;function He(){for(var e;e=M();){try{e.a.call(e.b)}catch(t){Ue(t)}D(R,e)}We=!1}function ze(e,t){if(this.a=Qe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){it(n,$e,e)}),(function(e){if(!(e instanceof dt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}it(n,Ke,e)}))}catch(r){it(this,Ke,r)}}var Qe=0,$e=2,Ke=3;function Ye(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ye.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xe=new j((function(){return new Ye}),(function(e){e.reset()}));function Je(e,t,n){var r=Xe.get();return r.g=e,r.b=t,r.f=n,r}function Ze(e){if(e instanceof ze)return e;var t=new ze(h);return it(t,$e,e),t}function et(e){return new ze((function(t,n){n(e)}))}function tt(e,t,n){at(e,t,n,null)||Ve(O(t,e))}function nt(e){return new ze((function(t){var n=e.length,r=[];if(n)for(var o=function(e,o,i){n--,r[e]=o?{Gb:!0,value:i}:{Gb:!1,reason:i},0==n&&t(r)},i=0;i<e.length;i++)tt(e[i],O(o,i,!0),O(o,i,!1));else t(r)}))}function rt(e,t){e.b||e.a!=$e&&e.a!=Ke||st(e),e.f?e.f.next=t:e.b=t,e.f=t}function ot(e,t,n,r){var o=Je(null,null,null);return o.a=new ze((function(e,i){o.g=t?function(n){try{var o=t.call(r,n);e(o)}catch(a){i(a)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof dt?i(t):e(o)}catch(a){i(a)}}:i})),o.a.c=e,rt(e,o),o.a}function it(e,t,n){e.a==Qe&&(e===n&&(t=Ke,n=new TypeError("Promise cannot resolve to itself")),e.a=1,at(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,st(e),t!=Ke||n instanceof dt||function(e,t){e.g=!0,Ve((function(){e.g&&ft.call(null,t)}))}(e,n)))}function at(e,t,n,r){if(e instanceof ze)return rt(e,Je(t||h,n||null,r)),!0;if(P(e))return e.then(t,n,r),!0;if(b(e))try{var o=e.then;if(v(o))return function(e,t,n,r,o){function i(e){a||(a=!0,r.call(o,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(o,e))}),i)}catch(s){i(s)}}(e,o,t,n,r),!0}catch(i){return n.call(r,i),!0}return!1}function st(e){e.h||(e.h=!0,Ve(e.Zb,e))}function ct(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function ut(e,t,n,r){if(n==Ke&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,lt(t,n,r);else try{t.c?t.g.call(t.f):lt(t,n,r)}catch(o){ft.call(null,o)}D(Xe,t)}function lt(e,t,n){t==$e?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ze.prototype.then=function(e,t,n){return ot(this,v(e)?e:null,v(t)?t:null,n)},ze.prototype.$goog_Thenable=!0,(t=ze.prototype).ka=function(e,t){return(e=Je(e,e,t)).c=!0,rt(this,e),this},t.s=function(e,t){return ot(this,null,e,t)},t.cancel=function(e){this.a==Qe&&Ve((function(){!function e(t,n){if(t.a==Qe)if(t.c){var r=t.c;if(r.b){for(var o=0,i=null,a=null,s=r.b;s&&(s.c||(o++,s.a==t&&(i=s),!(i&&1<o)));s=s.next)i||(a=s);i&&(r.a==Qe&&1==o?e(r,n):(a?((o=a).next==r.f&&(r.f=o),o.next=o.next.next):ct(r),ut(r,i,Ke,n)))}t.c=null}else it(t,Ke,n)}(this,new dt(e))}),this)},t.Oc=function(e){this.a=Qe,it(this,$e,e)},t.Pc=function(e){this.a=Qe,it(this,Ke,e)},t.Zb=function(){for(var e;e=ct(this);)ut(this,e,this.a,this.i);this.h=!1};var ft=Ue;function dt(e){A.call(this,e)}function ht(){0!=pt&&(mt[this[w]||(this[w]=++_)]=this),this.va=this.va,this.la=this.la}T(dt,A),dt.prototype.name="cancel";var pt=0,mt={};function yt(e){if(!e.va&&(e.va=!0,e.za(),0!=pt)){var t=e[w]||(e[w]=++_);if(0!=pt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete mt[t]}}function gt(e){return gt[" "](e),e}ht.prototype.va=!1,ht.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},gt[" "]=h;var vt,bt,wt=Ie("Opera"),_t=Ie("Trident")||Ie("MSIE"),kt=Ie("Edge"),Et=kt||_t,Ct=Ie("Gecko")&&!(be(Oe.toLowerCase(),"webkit")&&!Ie("Edge"))&&!(Ie("Trident")||Ie("MSIE"))&&!Ie("Edge"),Ot=be(Oe.toLowerCase(),"webkit")&&!Ie("Edge");function St(){var e=c.document;return e?e.documentMode:void 0}e:{var Tt="",Pt=(bt=Oe,Ct?/rv:([^\);]+)(\)|;)/.exec(bt):kt?/Edge\/([\d\.]+)/.exec(bt):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bt):Ot?/WebKit\/(\S+)/.exec(bt):wt?/(?:Version)[ \/]?(\S+)/.exec(bt):void 0);if(Pt&&(Tt=Pt?Pt[1]:""),_t){var At=St();if(null!=At&&At>parseFloat(Tt)){vt=String(At);break e}}vt=Tt}var It,xt={};function jt(e){return function(e,t){var n=xt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=fe(String(vt)).split("."),r=fe(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=we(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||we(0==a[2].length,0==s[2].length)||we(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}It=c.document&&_t?St():void 0;var Dt=Object.freeze||function(e){return e},Nt=!_t||9<=Number(It),Rt=_t&&!jt("9"),Mt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",h,t),c.removeEventListener("test",h,t)}catch(n){}return e}();function Lt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Ft(e,t){if(Lt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ct){e:{try{gt(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=u(e.pointerType)?e.pointerType:Bt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Lt.prototype.preventDefault=function(){this.Mb=!1},T(Ft,Lt);var Bt=Dt({2:"touch",3:"pen",4:"mouse"});Ft.prototype.preventDefault=function(){Ft.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Rt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Ft.prototype.f=function(){return this.a};var Ut="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Vt(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Pa=o,this.key=++qt,this.ta=this.Ka=!1}function Wt(e){e.ta=!0,e.listener=null,e.proxy=null,e.src=null,e.Pa=null}function Gt(e){this.src=e,this.a={},this.b=0}function Ht(e,t){var n=t.type;n in e.a&&G(e.a[n],t)&&(Wt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function zt(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.ta&&i.listener==t&&i.capture==!!n&&i.Pa==r)return o}return-1}Gt.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=zt(e,t,r,o);return-1<a?(t=e[a],n||(t.Ka=!1)):((t=new Vt(t,this.src,i,!!r,o)).Ka=n,e.push(t)),t};var Qt="closure_lm_"+(1e6*Math.random()|0),$t={};function Kt(e,t,n,r,o){if(r&&r.once)Xt(e,t,n,r,o);else if(y(t))for(var i=0;i<t.length;i++)Kt(e,t[i],n,r,o);else n=sn(n),e&&e[Ut]?un(e,t,n,b(r)?!!r.capture:!!r,o):Yt(e,t,n,!1,r,o)}function Yt(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=b(o)?!!o.capture:!!o,s=on(e);if(s||(e[Qt]=s=new Gt(e)),!(n=s.add(t,n,r,a,i)).proxy){if(r=function(){var e=rn,t=Nt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mt||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(en(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function Xt(e,t,n,r,o){if(y(t))for(var i=0;i<t.length;i++)Xt(e,t[i],n,r,o);else n=sn(n),e&&e[Ut]?ln(e,t,n,b(r)?!!r.capture:!!r,o):Yt(e,t,n,!0,r,o)}function Jt(e,t,n,r,o){if(y(t))for(var i=0;i<t.length;i++)Jt(e,t[i],n,r,o);else r=b(r)?!!r.capture:!!r,n=sn(n),e&&e[Ut]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=zt(i=e.a[t],n,r,o))&&(Wt(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.a[t],e.b--)))):e&&(e=on(e))&&(t=e.a[t.toString()],e=-1,t&&(e=zt(t,n,r,o)),(n=-1<e?t[e]:null)&&Zt(n))}function Zt(e){if("number"!=typeof e&&e&&!e.ta){var t=e.src;if(t&&t[Ut])Ht(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(en(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=on(t))?(Ht(n,e),0==n.b&&(n.src=null,t[Qt]=null)):Wt(e)}}}function en(e){return e in $t?$t[e]:$t[e]="on"+e}function tn(e,t,n,r){var o=!0;if((e=on(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==n&&!i.ta&&(i=nn(i,r),o=o&&!1!==i)}return o}function nn(e,t){var n=e.listener,r=e.Pa||e.src;return e.Ka&&Zt(e),n.call(r,t)}function rn(e,t){if(e.ta)return!0;if(!Nt){if(!t)e:{t=["window","event"];for(var n=c,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Ft(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var i=tn(r[o],e,!0,t);n=n&&i}for(o=0;o<r.length;o++)t.b=r[o],i=tn(r[o],e,!1,t),n=n&&i}return n}return nn(e,new Ft(t,this))}function on(e){return(e=e[Qt])instanceof Gt?e:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(e){return v(e)?e:(e[an]||(e[an]=function(t){return e.handleEvent(t)}),e[an])}function cn(){ht.call(this),this.u=new Gt(this),this.Sb=this,this.Xa=null}function un(e,t,n,r,o){e.u.add(String(t),n,!1,r,o)}function ln(e,t,n,r,o){e.u.add(String(t),n,!0,r,o)}function fn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.ta&&a.capture==n){var s=a.listener,c=a.Pa||a.src;a.Ka&&Ht(e.u,a),o=!1!==s.call(c,r)&&o}}return o&&0!=r.Mb}function dn(e,t,n){if(v(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function hn(e){var t=null;return new ze((function(n,r){-1==(t=dn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw c.clearTimeout(t),e}))}function pn(e){if(e.U&&"function"==typeof e.U)return e.U();if(u(e))return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function mn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(g(e)||u(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function yn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];vn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)vn(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(cn,ht),cn.prototype[Ut]=!0,cn.prototype.addEventListener=function(e,t,n,r){Kt(this,e,t,n,r)},cn.prototype.removeEventListener=function(e,t,n,r){Jt(this,e,t,n,r)},cn.prototype.dispatchEvent=function(e){var t,n=this.Xa;if(n)for(t=[];n;n=n.Xa)t.push(n);n=this.Sb;var r=e.type||e;if(u(e))e=new Lt(e,n);else if(e instanceof Lt)e.target=e.target||n;else{var o=e;J(e=new Lt(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.b=t[i];o=fn(a,r,!0,e)&&o}if(o=fn(a=e.b=n,r,!0,e)&&o,o=fn(a,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=fn(a=e.b=t[i],r,!1,e)&&o;return o},cn.prototype.za=function(){if(cn.qb.za.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,Wt(n[r]);delete t.a[e],t.b--}}this.Xa=null},(t=yn.prototype).U=function(){gn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.X=function(){return gn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return vn(this.b,e)?this.b[e]:t},t.set=function(e,t){vn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var bn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof wn?(this.h=void 0!==t?t:e.h,_n(this,e.f),this.i=e.i,this.b=e.b,kn(this,e.l),this.c=e.c,En(this,Vn(e.a)),this.g=e.g):e&&(n=String(e).match(bn))?(this.h=!!t,_n(this,n[1]||"",!0),this.i=Pn(n[2]||""),this.b=Pn(n[3]||"",!0),kn(this,n[4]),this.c=Pn(n[5]||"",!0),En(this,n[6]||"",!0),this.g=Pn(n[7]||"")):(this.h=!!t,this.a=new Mn(null,this.h))}function _n(e,t,n){e.f=n?Pn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function kn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function En(e,t,n){t instanceof Mn?(e.a=t,function(e,t){t&&!e.f&&(Ln(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bn(this,t),qn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=An(t,Nn)),e.a=new Mn(t,e.h))}function Cn(e,t,n){e.a.set(t,n)}function On(e,t){return e.a.get(t)}function Sn(e){return e instanceof wn?new wn(e):new wn(e,void 0)}function Tn(e,t){var n=new wn(null,void 0);return _n(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Pn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function An(e,t,n){return u(e)?(e=encodeURI(e).replace(t,In),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function In(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(An(t,xn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(An(t,xn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(An(n,"/"==n.charAt(0)?Dn:jn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",An(n,Rn)),e.join("")},wn.prototype.resolve=function(e){var t=new wn(this),n=!!e.f;n?_n(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)kn(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var o=t.c.lastIndexOf("/");-1!=o&&(r=t.c.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(be(o,"./")||be(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?t.c=r:n=""!==e.a.toString(),n?En(t,Vn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var xn=/[#\/\?@]/g,jn=/[#\?:]/g,Dn=/[#\?]/g,Nn=/[#\?@]/g,Rn=/#/g;function Mn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ln(e){e.a||(e.a=new yn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Fn(e){var t=mn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Mn(null,void 0);e=pn(e);for(var r=0;r<t.length;r++){var o=t[r],i=e[r];y(i)?qn(n,o,i):n.add(o,i)}return n}function Bn(e,t){Ln(e),t=Wn(e,t),vn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,vn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&gn(e)))}function Un(e,t){return Ln(e),t=Wn(e,t),vn(e.a.b,t)}function qn(e,t,n){Bn(e,t),0<n.length&&(e.c=null,e.a.set(Wn(e,t),Q(n)),e.b+=n.length)}function Vn(e){var t=new Mn;return t.c=e.c,e.a&&(t.a=new yn(e.a),t.b=e.b),t}function Wn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(t=Mn.prototype).add=function(e,t){Ln(this),this.c=null,e=Wn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){Ln(this),this.a.forEach((function(n,r){U(n,(function(n){e.call(t,n,r,this)}),this)}),this)},t.X=function(){Ln(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},t.U=function(e){Ln(this);var t=[];if(u(e))Un(this,e)&&(t=z(t,this.a.get(Wn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},t.set=function(e,t){return Ln(this),this.c=null,Un(this,e=Wn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.U(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.c=e.join("&")};var Gn=!_t||9<=Number(It);function Hn(e){var t=document;return u(e)?t.getElementById(e):e}function zn(e,t){$(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Qn.hasOwnProperty(n)?e.setAttribute(Qn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var Qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function $n(e,t,n){var r=arguments,o=document,i=String(r[0]),a=r[1];if(!Gn&&a&&(a.name||a.type)){if(i=["<",i],a.name&&i.push(' name="',Be(a.name),'"'),a.type){i.push(' type="',Be(a.type),'"');var s={};J(s,a),delete s.type,a=s}i.push(">"),i=i.join("")}return i=o.createElement(i),a&&(u(a)?i.className=a:y(a)?i.className=a.join(" "):zn(i,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(u(n)?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var i=n[o];!g(i)||b(i)&&0<i.nodeType?r(i):U(Kn(i)?Q(i):i,r)}}(o,i,r),i}function Kn(e){if(e&&"number"==typeof e.length){if(b(e))return"function"==typeof e.item||"string"==typeof e.item;if(v(e))return"function"==typeof e.item}return!1}function Yn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(y(n)){var o=n;n=o.length,r.push("[");for(var i="",a=0;a<n;a++)r.push(i),e(t,o[a],r),i=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,o)&&("function"!=typeof(a=n[o])&&(r.push(i),er(o,r),r.push(":"),e(t,a,r),i=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":er(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Xn,e,t),t.join("")}function Xn(){}var Jn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Zn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function er(e,t){t.push('"',e.replace(Zn,(function(e){var t=Jn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Jn[e]=t),t})),'"')}function tr(){var e=wr();return _t&&!!It&&11==It||/Edge\/\d+/.test(e)}function nr(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function rr(e,t){t=t||c.window;var n="about:blank";e&&(n=ke(Ce(e)).toString()),t.location.href=n}function or(e){return!!((e=(e||wr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ir(e){e=e||c.window;try{e.close()}catch(t){}}function ar(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=wr().toLowerCase(),r&&(t.target=r,be(n,"crios/")&&(t.target="_blank")),gr(wr())==mr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof _e?n:Ce("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,o=[],e)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(e[a]?1:0))}var a=o.join(",");if((Ie("iPhone")&&!Ie("iPod")&&!Ie("iPad")||Ie("iPad")||Ie("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(F(a=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof _e||t instanceof _e||(t="object"==typeof t&&t.qa?t.pa():String(t),Ee.test(t)||(t="about:invalid#zClosurez"),t=Te(t)),a.href=ke(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=ke(t).toString(),a&&(Et&&be(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Ne('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Be(e)+'">'),a.document.write(je(e)),a.document.close())):(a=r.open(ke(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^[^@]+@[^@]+$/;function ur(){var e=null;return new ze((function(t){"complete"==c.document.readyState?t():(e=function(){t()},Xt(window,"load",e))})).s((function(t){throw Jt(window,"load",e),t}))}function lr(e){return e=e||wr(),!("file:"!==Or()&&"ionic:"!==Or()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){var e=c.window;try{return!(!e||e==e.top)}catch(t){return!1}}function dr(){return"undefined"!==typeof c.WorkerGlobalScope&&"function"===typeof c.importScripts}function hr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":dr()?"Worker":"Browser"}function pr(){var e=hr();return"ReactNative"===e||"Node"===e}var mr="Firefox",yr="Chrome";function gr(e){var t=e.toLowerCase();return be(t,"opera/")||be(t,"opr/")||be(t,"opios/")?"Opera":be(t,"iemobile")?"IEMobile":be(t,"msie")||be(t,"trident/")?"IE":be(t,"edge/")?"Edge":be(t,"firefox/")?mr:be(t,"silk/")?"Silk":be(t,"blackberry")?"Blackberry":be(t,"webos")?"Webos":!be(t,"safari/")||be(t,"chrome/")||be(t,"crios/")||be(t,"android")?!be(t,"chrome/")&&!be(t,"crios/")||be(t,"edge/")?be(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":yr:"Safari"}var vr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function br(e,t){t=t||[];var n,r=[],o={};for(n in vr)o[vr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof o[t[n]]&&(delete o[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=hr())?r=gr(o=wr()):"Worker"===r&&(r=gr(o=wr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function wr(){return c.navigator&&c.navigator.userAgent||""}function _r(e,t){e=e.split("."),t=t||c;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function kr(){try{var e=c.localStorage,t=Ir();if(e)return e.setItem(t,"1"),e.removeItem(t),!tr()||!!c.indexedDB}catch(n){return dr()&&!!c.indexedDB}return!1}function Er(){return(Cr()||"chrome-extension:"===Or()||lr())&&!pr()&&kr()&&!dr()}function Cr(){return"http:"===Or()||"https:"===Or()}function Or(){return c.location&&c.location.protocol||null}function Sr(e){return!or(e=e||wr())&&gr(e)!=mr}function Tr(e){return"undefined"===typeof e?null:Yn(e)}function Pr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ar(e){if(null!==e)return JSON.parse(e)}function Ir(e){return e||Math.floor(1e9*Math.random()).toString()}function xr(e){return"Safari"!=gr(e=e||wr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var e=c.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Dr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=wr(),t=hr(),this.b=or(e)||"ReactNative"===t}function Nr(){var e=c.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Rr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Mr(){return!(!_r("fireauth.oauthhelper",c)&&!_r("fireauth.iframe",c))}Dr.prototype.get=function(){var e=c.navigator;return!e||"boolean"!==typeof e.onLine||!Cr()&&"chrome-extension:"!==Or()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Fr={};function Br(e){Fr[e]||(Fr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Ur={};Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==Ur.abcd}catch(bt){Lr=!1}function qr(e,t,n){Lr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Vr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&qr(e,n,t[n])}function Wr(e){var t={};return Vr(t,e),t}function Gr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)qr(t,n,Gr(e[n]));return t}function Hr(e){var t={},n=e[Qr],r=e[$r];if(!(e=e[Kr])||e!=zr&&!n)throw Error("Invalid provider user info!");t[Xr]=r||null,t[Yr]=n||null,qr(this,Zr,e),qr(this,Jr,Gr(t))}var zr="EMAIL_SIGNIN",Qr="email",$r="newEmail",Kr="requestType",Yr="email",Xr="fromEmail",Jr="data",Zr="operation";function eo(e,t){this.code=no+e,this.message=t||ro[e]||""}function to(e){var t=e&&e.code;return t?new eo(t.substring(no.length),e.message):null}T(eo,Error),eo.prototype.A=function(){return{code:this.code,message:this.message}},eo.prototype.toJSON=function(){return this.A()};var no="auth/",ro={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function oo(e){var t=On(e=Sn(e),io)||null,n=On(e,ao)||null,r=On(e,uo)||null;if(r=r&&fo[r]||null,!t||!n||!r)throw new eo("argument-error",io+", "+ao+"and "+uo+" are required in a valid action code URL.");Vr(this,{apiKey:t,operation:r,code:n,continueUrl:On(e,so)||null,languageCode:On(e,co)||null,tenantId:On(e,lo)||null})}var io="apiKey",ao="oobCode",so="continueUrl",co="languageCode",uo="mode",lo="tenantId",fo={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:zr,verifyEmail:"VERIFY_EMAIL"};function ho(e){try{return new oo(e)}catch(t){return null}}function po(e){var t=e[bo];if("undefined"===typeof t)throw new eo("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new eo("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[mo];if(n&&"object"===typeof n){t=n[ko];var r=n[wo];if(n=n[_o],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new eo("argument-error",wo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new eo("argument-error",_o+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new eo("argument-error",ko+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new eo("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new eo("argument-error",mo+" property must be a non null object when specified.");if(this.f=null,(t=e[vo])&&"object"===typeof t){if("string"===typeof(t=t[Eo])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new eo("argument-error",Eo+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new eo("argument-error",vo+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[go])&&"boolean"!==typeof t)throw new eo("argument-error",go+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[yo])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new eo("argument-error",yo+" property must be a non empty string when specified.");this.i=e||null}var mo="android",yo="dynamicLinkDomain",go="handleCodeInApp",vo="iOS",bo="url",wo="installApp",_o="minimumVersion",ko="packageName",Eo="bundleId";function Co(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Oo=null,So=null;function To(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=So[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Oo){Oo={},So={};for(var e=0;65>e;e++)Oo[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),So[Oo[e]]=e,62<=e&&(So["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Po(e){this.f=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ao(e){return(e=Io(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Po(e):null}function Io(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(To(e))}catch(r){}return null}Po.prototype.R=function(){return this.c},Po.prototype.g=function(){return this.b};var xo,jo={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Do(e){for(var t in jo)if(jo[t].id===e)return{firebaseEndpoint:(e=jo[t]).cb,secureTokenEndpoint:e.ib};return null}xo=Do("__EID__")?"__EID__":void 0;var No="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ro=["client_id","response_type","scope","redirect_uri","state"],Mo={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Ro},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Ro},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Ro},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:No},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Lo(e){for(var t in Mo)if(Mo[t].Fa==e)return Mo[t];return null}function Fo(e){var t={};t["facebook.com"]=Wo,t["google.com"]=Ho,t["github.com"]=Go,t["twitter.com"]=zo;var n=e&&e[Uo];try{if(n)return t[n]?new t[n](e):new Vo(e);if("undefined"!==typeof e[Bo])return new qo(e)}catch(r){}return null}var Bo="idToken",Uo="providerId";function qo(e){var t=e[Uo];if(!t&&e[Bo]){var n=Ao(e[Bo]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),qr(this,"providerId",t),qr(this,"isNewUser",n)}function Vo(e){qo.call(this,e),qr(this,"profile",Gr((e=Ar(e.rawUserInfo||"{}"))||{}))}function Wo(e){if(Vo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Go(e){if(Vo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function Ho(e){if(Vo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function zo(e){if(Vo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",e.screenName||null)}function Qo(e){var t=Sn(e),n=On(t,"link"),r=On(Sn(n),"link");return t=On(t,"deep_link_id"),On(Sn(t),"link")||t||r||n||e}function $o(){}function Ko(e,t){return e.then((function(e){if(e[Ma]){var n=Ao(e[Ma]);if(!n||t!=n.f)throw new eo("user-mismatch");return e}throw new eo("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==no+"user-not-found"?new eo("user-mismatch"):e}))}function Yo(e,t){if(!t)throw new eo("internal-error","failed to construct a credential");this.a=t,qr(this,"providerId",e),qr(this,"signInMethod",e)}function Xo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Jo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Yo(e.providerId,e.pendingToken)}catch(t){}return null}function Zo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&qr(this,"idToken",t.idToken),t.accessToken&&qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new eo("internal-error","failed to construct a credential");qr(this,"accessToken",t.oauthToken),qr(this,"secret",t.oauthTokenSecret)}qr(this,"providerId",e),qr(this,"signInMethod",n)}function ei(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Fn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ti(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Zo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function ni(e,t){this.Fc=t||[],Vr(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Lo(e)||{}).Ea||null,this.bb=null}function ri(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new eo("argument-error",'SAML provider IDs must be prefixed with "saml."');ni.call(this,e,[])}function oi(e){ni.call(this,e,Ro),this.a=[]}function ii(){oi.call(this,"facebook.com")}function ai(e){if(!e)throw new eo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new ii).credential({accessToken:t})}function si(){oi.call(this,"github.com")}function ci(e){if(!e)throw new eo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new si).credential({accessToken:t})}function ui(){oi.call(this,"google.com"),this.ya("profile")}function li(e,t){var n=e;return b(e)&&(n=e.idToken,t=e.accessToken),(new ui).credential({idToken:n,accessToken:t})}function fi(){ni.call(this,"twitter.com",No)}function di(e,t){var n=e;if(b(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new eo("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Zo("twitter.com",n,"twitter.com")}function hi(e,t,n){this.a=e,this.c=t,qr(this,"providerId","password"),qr(this,"signInMethod",n===mi.EMAIL_LINK_SIGN_IN_METHOD?mi.EMAIL_LINK_SIGN_IN_METHOD:mi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function pi(e){return e&&e.email&&e.password?new hi(e.email,e.password,e.signInMethod):null}function mi(){Vr(this,{providerId:"password",isOAuthProvider:!1})}function yi(e,t){if(!(t=gi(t)))throw new eo("argument-error","Invalid email link!");return new hi(e,t.code,mi.EMAIL_LINK_SIGN_IN_METHOD)}function gi(e){return(e=ho(e=Qo(e)))&&e.operation===zr?e:null}function vi(e){if(!(e.Va&&e.Ua||e.Ha&&e.ba))throw new eo("internal-error");this.a=e,qr(this,"providerId","phone"),qr(this,"signInMethod","phone")}function bi(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new vi(t)}return null}function wi(e){return e.a.Ha&&e.a.ba?{temporaryProof:e.a.Ha,phoneNumber:e.a.ba}:{sessionInfo:e.a.Va,code:e.a.Ua}}function _i(e){try{this.a=e||r.a.auth()}catch(t){throw new eo("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vr(this,{providerId:"phone",isOAuthProvider:!1})}function ki(e,t){if(!e)throw new eo("missing-verification-id");if(!t)throw new eo("missing-verification-code");return new vi({Va:e,Ua:t})}function Ei(e){if(e.temporaryProof&&e.phoneNumber)return new vi({Ha:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,o=e&&e.nonce,i=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return li(i,n);case"facebook.com":return ai(n);case"github.com":return ci(n);case"twitter.com":return di(n,r);default:return n||r||i||a?a?0==t.indexOf("saml.")?new Yo(t,a):new Zo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new oi(t).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(s){return null}}function Ci(e){if(!e.isOAuthProvider)throw new eo("invalid-oauth-provider")}function Oi(e,t,n,r,o,i,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=i||null,this.h=a||null,this.a=o||null,!this.g&&!this.a)throw new eo("invalid-auth-event");if(this.g&&this.a)throw new eo("invalid-auth-event");if(this.g&&!this.f)throw new eo("invalid-auth-event")}function Si(e){return(e=e||{}).type?new Oi(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&to(e.error),e.postBody,e.tenantId):null}function Ti(){this.b=null,this.a=[]}T(Vo,qo),T(Wo,Vo),T(Go,Vo),T(Ho,Vo),T(zo,Vo),Yo.prototype.na=function(e){return es(e,Xo(this))},Yo.prototype.b=function(e,t){var n=Xo(this);return n.idToken=t,ts(e,n)},Yo.prototype.f=function(e,t){return Ko(ns(e,Xo(this)),t)},Yo.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Zo.prototype.na=function(e){return es(e,ei(this))},Zo.prototype.b=function(e,t){var n=ei(this);return n.idToken=t,ts(e,n)},Zo.prototype.f=function(e,t){return Ko(ns(e,ei(this)),t)},Zo.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ni.prototype.Ga=function(e){return this.zb=Y(e),this},T(ri,ni),T(oi,ni),oi.prototype.ya=function(e){return W(this.a,e)||this.a.push(e),this},oi.prototype.Hb=function(){return Q(this.a)},oi.prototype.credential=function(e,t){var n;if(!(n=b(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new eo("argument-error","credential failed: must provide the ID token and/or the access token.");return new Zo(this.providerId,n,this.providerId)},T(ii,oi),qr(ii,"PROVIDER_ID","facebook.com"),qr(ii,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(si,oi),qr(si,"PROVIDER_ID","github.com"),qr(si,"GITHUB_SIGN_IN_METHOD","github.com"),T(ui,oi),qr(ui,"PROVIDER_ID","google.com"),qr(ui,"GOOGLE_SIGN_IN_METHOD","google.com"),T(fi,ni),qr(fi,"PROVIDER_ID","twitter.com"),qr(fi,"TWITTER_SIGN_IN_METHOD","twitter.com"),hi.prototype.na=function(e){return this.signInMethod==mi.EMAIL_LINK_SIGN_IN_METHOD?xs(e,ls,{email:this.a,oobCode:this.c}):xs(e,Ts,{email:this.a,password:this.c})},hi.prototype.b=function(e,t){return this.signInMethod==mi.EMAIL_LINK_SIGN_IN_METHOD?xs(e,fs,{idToken:t,email:this.a,oobCode:this.c}):xs(e,_s,{idToken:t,email:this.a,password:this.c})},hi.prototype.f=function(e,t){return Ko(this.na(e),t)},hi.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Vr(mi,{PROVIDER_ID:"password"}),Vr(mi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vr(mi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),vi.prototype.na=function(e){return e.Wa(wi(this))},vi.prototype.b=function(e,t){var n=wi(this);return n.idToken=t,xs(e,As,n)},vi.prototype.f=function(e,t){var n=wi(this);return n.operation="REAUTH",Ko(e=xs(e,Is,n),t)},vi.prototype.A=function(){var e={providerId:"phone"};return this.a.Va&&(e.verificationId=this.a.Va),this.a.Ua&&(e.verificationCode=this.a.Ua),this.a.Ha&&(e.temporaryProof=this.a.Ha),this.a.ba&&(e.phoneNumber=this.a.ba),e},_i.prototype.Wa=function(e,t){var n=this.a.b;return Ze(t.verify()).then((function(r){if(!u(r))throw new eo("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return xs(e,bs,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new eo("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Vr(_i,{PROVIDER_ID:"phone"}),Vr(_i,{PHONE_SIGN_IN_METHOD:"phone"}),Oi.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Oi.prototype.R=function(){return this.h},Oi.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Pi,Ai=null;function Ii(e){var t="unauthorized-domain",n=void 0,r=Sn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",eo.call(this,t,n)}function xi(e,t,n){eo.call(this,e,n),(e=t||{}).Ab&&qr(this,"email",e.Ab),e.ba&&qr(this,"phoneNumber",e.ba),e.credential&&qr(this,"credential",e.credential),e.Qb&&qr(this,"tenantId",e.Qb)}function ji(e){if(e.code){var t=e.code||"";0==t.indexOf(no)&&(t=t.substring(no.length));var n={credential:Ei(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new eo(t,e.message||void 0);return new xi(t,n,e.message)}return null}function Di(){}function Ni(e){return e.c||(e.c=e.b())}function Ri(){}function Mi(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Li(){}function Fi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Bi(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Ui(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Ii,eo),T(xi,eo),xi.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&J(e,t),e},xi.prototype.toJSON=function(){return this.A()},Di.prototype.c=null,T(Ri,Di),Ri.prototype.a=function(){var e=Mi(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ri.prototype.b=function(){var e={};return Mi(this)&&(e[0]=!0,e[1]=!0),e},Pi=new Ri,T(Li,Di),Li.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Fi;throw Error("Unsupported browser")},Li.prototype.b=function(){return{}},(t=Fi.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Bi(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Bi(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Bi(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ui.prototype.a=null;function qi(e){this.f=e,this.b=this.c=this.a=null}function Vi(e,t){this.name=e,this.value=t}Ui.prototype.reset=function(e,t,n,r,o){"number"==typeof o||0,r||S(),delete this.a},Vi.prototype.toString=function(){return this.name};var Wi=new Vi("SEVERE",1e3),Gi=new Vi("WARNING",900),Hi=new Vi("CONFIG",700),zi=new Vi("FINE",500);qi.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(x("Root logger has no level set."),null)}(this).value)for(v(t)&&(t=t()),e=new Ui(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Qi={},$i=null;function Ki(e){var t;if($i||($i=new qi(""),Qi[""]=$i,$i.c=Hi),!(t=Qi[e])){t=new qi(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ki(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Qi[e]=t}return t}function Yi(e,t){e&&e.log(zi,t,void 0)}function Xi(e){this.f=e}function Ji(e){cn.call(this),this.o=e,this.readyState=Zi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ki("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Xi,Di),Xi.prototype.a=function(){return new Ji(this.f)},Xi.prototype.b=function(e){return function(){return e}}({}),T(Ji,cn);var Zi=0;function ea(e){e.c.read().then(e.ec.bind(e)).catch(e.Oa.bind(e))}function ta(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,na(e)}function na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ra(e){cn.call(this),this.headers=new yn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=oa,this.v=this.P=!1}(t=Ji.prototype).open=function(e,t){if(this.readyState!=Zi)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,na(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Oa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ta(this,!1)),this.readyState=Zi},t.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):"undefined"!==typeof c.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ea(this)):e.text().then(this.ic.bind(this),this.Oa.bind(this)))))},t.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ta(this,!0):na(this),3==this.readyState&&ea(this)}},t.ic=function(e){this.a&&(this.response=this.responseText=e,ta(this,!0))},t.hc=function(e){this.a&&(this.response=e,ta(this,!0))},t.Oa=function(e){var t=this.h;t&&t.log(Gi,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ta(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Gi,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Gi,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},T(ra,cn);var oa="";ra.prototype.b=Ki("goog.net.XhrIo");var ia=/^https?$/i,aa=["POST","PUT"];function sa(e,t,n,r,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():Pi.a(),e.w=e.B?Ni(e.B):Ni(Pi),e.a.onreadystatechange=C(e.Lb,e);try{Yi(e.b,ya(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(a){return Yi(e.b,ya(e,"Error opening Xhr: "+a.message)),void ua(e,a)}t=r||"";var i=new yn(e.headers);o&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||u(e))U(e,t,void 0);else for(var n=mn(e),r=pn(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}(o,(function(e,t){i.set(t,e)})),o=function(e){e:{for(var t=ca,n=e.length,r=u(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:u(e)?e.charAt(t):e[t]}(i.X()),r=c.FormData&&t instanceof c.FormData,!W(aa,n)||o||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{ha(e),0<e.g&&(e.v=function(e){return _t&&jt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Yi(e.b,ya(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=C(e.Ia,e)):e.o=dn(e.Ia,e.g,e)),Yi(e.b,ya(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){Yi(e.b,ya(e,"Send error: "+a.message)),ua(e,a)}}function ca(e){return"content-type"==e.toLowerCase()}function ua(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,la(e),da(e)}function la(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function fa(e){if(e.c&&"undefined"!=typeof s)if(e.w[1]&&4==pa(e)&&2==ma(e))Yi(e.b,ya(e,"Local request error detected and ignored"));else if(e.i&&4==pa(e))dn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==pa(e)){Yi(e.b,ya(e,"Request complete")),e.c=!1;try{var t,n=ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.l).match(bn)[1]||null;if(!i&&c.self&&c.self.location){var a=c.self.location.protocol;i=a.substr(0,a.length-1)}o=!ia.test(i?i.toLowerCase():"")}t=o}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<pa(e)?e.a.statusText:""}catch(l){Yi(e.b,"Can not get status: "+l.message),u=""}e.h=u+" ["+ma(e)+"]",la(e)}}finally{da(e)}}}function da(e,t){if(e.a){ha(e);var n=e.a,r=e.w[0]?h:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(e=e.b)&&e.log(Wi,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function ha(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(c.clearTimeout(e.o),e.o=null)}function pa(e){return e.a?e.a.readyState:0}function ma(e){try{return 2<pa(e)?e.a.status:-1}catch(t){return-1}}function ya(e,t){return t+" ["+e.O+" "+e.l+" "+ma(e)+"]"}function ga(e){var t=Pa;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function va(e,t,n){e.a=!0,e.c=n,e.f=!t,ka(e)}function ba(e){if(e.a){if(!e.u)throw new Ea(e);e.u=!1}}function wa(e,t,n,r){e.g.push([t,n,r]),e.a&&ka(e)}function _a(e){return V(e.g,(function(e){return v(e[1])}))}function ka(e){if(e.h&&e.a&&_a(e)){var t=e.h,n=Sa[t];n&&(c.clearTimeout(n.a),delete Sa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var o=e.g.shift(),i=o[0],a=o[1];if(o=o[2],i=e.f?a:i)try{var s=i.call(o||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(P(t)||"function"===typeof c.Promise&&t instanceof c.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,_a(e)||(n=!0)}}e.c=t,r&&(s=C(e.m,e,!0),r=C(e.m,e,!1),t instanceof ga?(wa(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new Oa(t),Sa[t.a]=t,e.h=t.a)}function Ea(){A.call(this)}function Ca(){A.call(this)}function Oa(e){this.a=c.setTimeout(C(this.c,this),0),this.b=e}(t=ra.prototype).Ia=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Yi(this.b,ya(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Yi(this.b,ya(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),da(this))},t.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),da(this,!0)),ra.qb.za.call(this)},t.Lb=function(){this.va||(this.J||this.i||this.f?fa(this):this.yc())},t.yc=function(){fa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case oa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Wi,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Yi(this.b,"Can not get response: "+t.message),null}},ga.prototype.cancel=function(e){if(this.a)this.c instanceof ga&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Ca(this),ba(this),va(this,!1,e))}},ga.prototype.m=function(e,t){this.i=!1,va(this,e,t)},ga.prototype.then=function(e,t,n){var r,o,i=new ze((function(e,t){r=e,o=t}));return wa(this,r,(function(e){e instanceof Ca?i.cancel():o(e)})),i.then(e,t,n)},ga.prototype.$goog_Thenable=!0,T(Ea,A),Ea.prototype.message="Deferred has already fired",Ea.prototype.name="AlreadyCalledError",T(Ca,A),Ca.prototype.message="Deferred was canceled",Ca.prototype.name="CanceledError",Oa.prototype.c=function(){throw delete Sa[this.a],this.b};var Sa={};function Ta(e){var t={},n=t.document||document,r=ie(e).toString(),o=document.createElement("SCRIPT"),i={Nb:o,Ia:void 0},a=new ga(i),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){Aa(o,!0);var e=new ja(xa,"Timeout reached for loading script "+r);ba(a),va(a,!1,e)}),u),i.Ia=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Aa(o,t.hd||!1,s),ba(a),va(a,!0,null))},o.onerror=function(){Aa(o,!0,s);var e=new ja(Ia,"Error while loading script "+r);ba(a),va(a,!1,e)},J(i=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(o,i),function(e,t){F(e,"HTMLScriptElement"),e.src=ie(t),null===d&&(d=(t=(t=c.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""),(t=d)&&e.setAttribute("nonce",t)}(o,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(o),a}function Pa(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Aa(e,!0,this.Ia)}}function Aa(e,t,n){null!=n&&c.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ia=0,xa=1;function ja(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),A.call(this,n),this.code=e}function Da(e){this.f=e}function Na(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||La,this.g=Y(e.secureTokenHeaders||Fa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Ba,this.a=Y(e.firebaseHeaders||Ua),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hr(),!(n=c.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!dr())throw new eo("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dr()?this.f=new Xi(self):pr()?this.f=new Da(n):this.f=new Li,this.b=null}T(ja,A),T(Da,Di),Da.prototype.a=function(){return new this.f},Da.prototype.b=function(){return{}};var Ra,Ma="idToken",La=new Dr(3e4,6e4),Fa={"Content-Type":"application/x-www-form-urlencoded"},Ba=new Dr(3e4,6e4),Ua={"Content-Type":"application/json"};function qa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Va(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Wa(e,t,n,r,o,i,a){(function(){var e=wr();return!((e=gr(e)!=yr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!_t||!It||9<It)})()||dr()?e=C(e.o,e):(Ra||(Ra=new ze((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{c[Ha]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){wa(e,null,t,void 0)}(Ta(ae(Ga,{onload:Ha})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=C(e.m,e)),e(t,n,r,o,i,a)}Na.prototype.R=function(){return this.b},Na.prototype.o=function(e,t,n,r,o,i){if(dr()&&("undefined"===typeof c.fetch||"undefined"===typeof c.Headers||"undefined"===typeof c.Request))throw new eo("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ra(this.f);if(i){a.g=Math.max(0,i);var s=setTimeout((function(){a.dispatchEvent("timeout")}),i)}un(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Yi(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),ln(a,"ready",(function(){s&&clearTimeout(s),yt(this)})),ln(a,"timeout",(function(){s&&clearTimeout(s),yt(this),t&&t(null)})),sa(a,e,n,r,o)};var Ga=new Z(ne,"https://apis.google.com/js/client.js?onload=%{onload}"),Ha="__fcb"+Math.floor(1e6*Math.random()).toString();function za(e){if(!u(e=e.email)||!cr.test(e))throw new eo("invalid-email")}function Qa(e){"email"in e&&za(e)}function $a(e){if(!e[Ma])throw new eo("internal-error")}function Ka(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new eo("internal-error")}else{if(!e.sessionInfo)throw new eo("missing-verification-id");if(!e.code)throw new eo("missing-verification-code")}}Na.prototype.m=function(e,t,n,r,o){var i=this;Ra.then((function(){window.gapi.client.setApiKey(i.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Na.prototype.ob=function(){return xs(this,ks,{})},Na.prototype.rb=function(e,t){return xs(this,ws,{idToken:e,email:t})},Na.prototype.sb=function(e,t){return xs(this,_s,{idToken:e,password:t})};var Ya={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Xa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new eo("internal-error")}function Ja(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Un(e=new Mn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Za(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ji(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ji(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=ji(e)):e.errorMessage&&(t=js(e.errorMessage)),t)throw t;if(!e[Ma])throw new eo("internal-error")}function es(e,t){return t.returnIdpCredential=!0,xs(e,Es,t)}function ts(e,t){return t.returnIdpCredential=!0,xs(e,Os,t)}function ns(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,xs(e,Cs,t)}function rs(e){if(!e.oobCode)throw new eo("invalid-action-code")}(t=Na.prototype).tb=function(e,t){var n={idToken:e},r=[];return $(Ya,(function(e,o){var i=t[o];null===i?r.push(e):o in t&&(n[o]=i)})),r.length&&(n.deleteAttribute=r),xs(this,ws,n)},t.kb=function(e,t){return J(e={requestType:"PASSWORD_RESET",email:e},t),xs(this,ms,e)},t.lb=function(e,t){return J(e={requestType:"EMAIL_SIGNIN",email:e},t),xs(this,hs,e)},t.jb=function(e,t){return J(e={requestType:"VERIFY_EMAIL",idToken:e},t),xs(this,ps,e)},t.Wa=function(e){return xs(this,Ps,e)},t.ab=function(e,t){return xs(this,vs,{oobCode:e,newPassword:t})},t.Ma=function(e){return xs(this,is,{oobCode:e})},t.Ya=function(e){return xs(this,os,{oobCode:e})};var os={endpoint:"setAccountInfo",D:rs,fa:"email",F:!0},is={endpoint:"resetPassword",D:rs,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new eo("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(e){if(za(e),!e.password)throw new eo("weak-password")},K:$a,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},cs={endpoint:"deleteAccount",V:["idToken"]},us={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!y(e.deleteProvider))throw new eo("internal-error")}},ls={endpoint:"emailLinkSignin",V:["email","oobCode"],D:za,K:$a,T:!0,F:!0},fs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:za,K:$a,T:!0},ds={endpoint:"getAccountInfo"},hs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new eo("internal-error");za(e)},fa:"email",F:!0},ps={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new eo("internal-error")},fa:"email",F:!0},ms={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new eo("internal-error");za(e)},fa:"email",F:!0},ys={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},gs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new eo("internal-error")}},vs={endpoint:"resetPassword",D:rs,fa:"email",F:!0},bs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:Qa,T:!0},_s={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Qa(e),!e.password)throw new eo("weak-password")},K:$a,T:!0},ks={endpoint:"signupNewUser",K:$a,T:!0,F:!0},Es={endpoint:"verifyAssertion",D:Xa,Ra:Ja,K:Za,T:!0,F:!0},Cs={endpoint:"verifyAssertion",D:Xa,Ra:Ja,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new eo("user-not-found");if(e.errorMessage)throw js(e.errorMessage);if(!e[Ma])throw new eo("internal-error")},T:!0,F:!0},Os={endpoint:"verifyAssertion",D:function(e){if(Xa(e),!e.idToken)throw new eo("internal-error")},Ra:Ja,K:Za,T:!0},Ss={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new eo("invalid-custom-token")},K:$a,T:!0,F:!0},Ts={endpoint:"verifyPassword",D:function(e){if(za(e),!e.password)throw new eo("wrong-password")},K:$a,T:!0,F:!0},Ps={endpoint:"verifyPhoneNumber",D:Ka,K:$a,F:!0},As={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new eo("internal-error");Ka(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ji(e);$a(e)}},Is={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ka,K:$a,F:!0};function xs(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.V))return et(new eo("internal-error"));var r,o=t.Kb||"POST";return Ze(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,o,i){var a=Sn(e.h+t);Cn(a,"key",e.c),i&&Cn(a,"cb",S().toString());var s="GET"==n;if(s)for(var c in r)r.hasOwnProperty(c)&&Cn(a,c,r[c]);return new ze((function(t,i){Wa(e,a.toString(),(function(e){e?e.error?i(Ds(e,o||{})):t(e):i(new eo("network-request-failed"))}),n,s?void 0:Yn(Pr(r)),e.a,e.i.get())}))}(e,t.endpoint,o,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Ra?t.Ra(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new eo("internal-error");return r[t.fa]}))}function js(e){return Ds({error:{errors:[{message:e}],code:400,message:e}})}function Ds(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new eo(r[n]):null)return n;for(var o in n=e.error&&e.error.message||"",J(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(o))return new eo(r[o],t);return!t&&e&&(t=Tr(e)),new eo("internal-error",t)}function Ns(e){this.b=e,this.a=null,this.gb=function(e){return(Fs||(Fs=new ze((function(e,t){function n(){jr(),_r("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){jr(),t(Error("Network Error"))},timeout:Ms.get()})}if(_r("gapi.iframes.Iframe"))e();else if(_r("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){_r("gapi.load")?n():t(Error("Network Error"))},Ze(Ta(r=ae(Rs,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Fs=null,e})))).then((function(){return new ze((function(t,n){_r("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function o(){clearTimeout(i),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var i=setTimeout((function(){n(Error("Network Error"))}),Ls.get());r.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Rs=new Z(ne,"https://apis.google.com/js/api.js?onload=%{onload}"),Ms=new Dr(3e4,6e4),Ls=new Dr(5e3,15e3),Fs=null;function Bs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),Cn(this.a,"apiKey",this.g),Cn(this.a,"appName",this.h),this.b=null,this.c=[]}function Us(e,t,n,r,o){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function qs(e){try{return r.a.app(e).auth().Ca()}catch(t){return[]}}function Vs(e,t,n,r,o){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=o||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ws(e){var t=nr();return function(e){return xs(e,ys,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Sn(t),r=n.f;n=n.b;for(var o=0;o<e.length;o++){var i=e[o],a=n,s=r;if(0==i.indexOf("chrome-extension://")?a=Sn(i).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:sr.test(i)?a=a==i:(i=i.split(".").join("\\."),a=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ii(nr())}))}function Gs(e){return e.l?e.l:(e.l=ur().then((function(){if(!e.o){var t=e.c,n=e.h,r=qs(e.b),o=new Bs(e.u,e.f,e.b);o.f=t,o.b=n,o.c=Q(r||[]),e.o=o.toString()}e.i=new Ns(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.gb.then((function(){e.a.register("authEvent",t,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Si(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ze(n)}return n.status="ERROR",Ze(n)}))}(e)})),e.l)}function Hs(e){return e.m||(e.v=e.c?br(e.c,qs(e.b)):null,e.m=new Na(e.f,Do(e.h),e.v)),e.m}function zs(e,t,n,r,o,i,a,s,c,u,l){return(e=new Us(e,t,n,r,o)).l=i,e.g=a,e.i=s,e.b=Y(c||null),e.f=u,e.nb(l).toString()}function Qs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new eo("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function $s(e){this.b=e,this.a={},this.f=C(this.c,this)}Bs.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):Bn(this.a.a,"v"),this.b?Cn(this.a,"eid",this.b):Bn(this.a.a,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):Bn(this.a.a,"fw"),this.a.toString()},Us.prototype.nb=function(e){return this.h=e,this},Us.prototype.toString=function(){var e=Tn(this.o,"/__/auth/handler");if(Cn(e,"apiKey",this.m),Cn(e,"appName",this.c),Cn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(c){n=null}for(var o in t.bb=n,Cn(e,"providerId",this.a.providerId),n=Pr((t=this.a).zb))n[o]=n[o].toString();o=t.Fc,n=Y(n);for(var i=0;i<o.length;i++){var a=o[i];a in n&&delete n[a]}t.eb&&t.bb&&!n[t.eb]&&(n[t.eb]=t.bb),K(n)||Cn(e,"customParameters",Tr(n))}if("function"===typeof this.a.Hb&&((t=this.a.Hb()).length&&Cn(e,"scopes",t.join(","))),this.l?Cn(e,"redirectUrl",this.l):Bn(e.a,"redirectUrl"),this.g?Cn(e,"eventId",this.g):Bn(e.a,"eventId"),this.i?Cn(e,"v",this.i):Bn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!On(e,s)&&Cn(e,s,this.b[s]);return this.h?Cn(e,"tid",this.h):Bn(e.a,"tid"),this.f?Cn(e,"eid",this.f):Bn(e.a,"eid"),(s=qs(this.c)).length&&Cn(e,"fw",s.join(",")),e.toString()},(t=Vs.prototype).Fb=function(e,t,n){var r=new eo("popup-closed-by-user"),o=new eo("web-storage-unsupported"),i=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Gs(e).then((function(){return function(e,t){return e.gb.then((function(){return new ze((function(n){e.a.send(t.type,t,n,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(i).then((function(n){n||(e&&ir(e),t(o),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new ze((function(t){return function n(){hn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return hn(n).then((function(){t(r)}))}))},t.Ob=function(){var e=wr();return!Sr(e)&&!xr(e)},t.Jb=function(){return!1},t.Db=function(e,t,n,r,o,i,a,s){if(!e)return et(new eo("popup-blocked"));if(a&&!Sr())return this.ia().s((function(t){ir(e),o(t)})),r(),Ze();this.a||(this.a=Ws(Hs(this)));var c=this;return this.a.then((function(){var t=c.ia().s((function(t){throw ir(e),o(t),t}));return r(),t})).then((function(){(Ci(n),a)||rr(zs(c.u,c.f,c.b,t,n,null,i,c.c,void 0,c.h,s),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(c.a=null),e}))},t.Eb=function(e,t,n,r){this.a||(this.a=Ws(Hs(this)));var o=this;return this.a.then((function(){Ci(t),rr(zs(o.u,o.f,o.b,e,t,nr(),n,o.c,void 0,o.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(o.a=null),e}))},t.ia=function(){var e=this;return Gs(this).then((function(){return e.i.gb})).s((function(){throw e.a=null,new eo("network-request-failed")}))},t.Rb=function(){return!0},t.Aa=function(e){this.g.push(e)},t.Na=function(e){H(this.g,(function(t){return t==e}))},(t=Qs.prototype).get=function(e){return Ze(this.a.getItem(e)).then((function(e){return e&&Ar(e)}))},t.set=function(e,t){return Ze(this.a.setItem(e,Tr(t)))},t.S=function(e){return Ze(this.a.removeItem(e))},t.$=function(){},t.ea=function(){};var Ks,Ys=[];function Xs(e,t,n){K(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Js(e){this.a=e}function Zs(e){this.c=e,this.b=!1,this.a=[]}function ec(e,t,n,r){var o,i,a,s,c=n||{},u=null;if(e.b)return et(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new ze((function(n,r){f?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),u={messageChannel:f,onMessage:i=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(u),f.port1.addEventListener("message",i),e.c.postMessage({eventType:t,eventId:o,data:c},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return tc(e,u),t})).s((function(t){throw tc(e,u),t}))}function tc(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(e.a,(function(e){return e==t}))}}function nc(){if(!ic())throw new eo("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=c.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;dr()&&self?(this.l=function(){var e=dr()?self:null;if(U(Ys,(function(n){n.b==e&&(t=n)})),!t){var t=new $s(e);Ys.push(t)}return t}(),Xs(this.l,"keyChanged",(function(t,n){return lc(e).then((function(t){return 0<t.length&&U(e.a,(function(e){e(t)})),{keyProcessed:W(t,n.key)}}))})),Xs(this.l,"ping",(function(){return Ze(["keyChanged"])}))):function(){var e=c.navigator;return e&&e.serviceWorker?Ze().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Ze(null)}().then((function(t){(e.h=t)&&(e.g=new Zs(new Js(t)),ec(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function rc(e){return new ze((function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new ze((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return rc(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function oc(e){return e.m||(e.m=rc(e)),e.m}function ic(){try{return!!c.indexedDB}catch(bt){return!1}}function ac(e){return e.objectStore("firebaseLocalStorage")}function sc(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function cc(e){return new ze((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function uc(e,t){return e.g&&e.h&&function(){var e=c.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ec(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Ze()}function lc(e){return oc(e).then((function(e){var t=ac(sc(e,!1));return t.getAll?cc(t.getAll()):new ze((function(e,n){var r=[],o=t.openCursor();o.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},o.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,o=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?o.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&o.push(r):t[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in t||o.push(r);return o}(e.c,n),e.c=n}return r}))}function fc(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function dc(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ze().then((function(){if(ic()){var e=Ir(),r="__sak"+e;return Ks||(Ks=new nc),(n=Ks).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){U(t.a,(function(t){t(e)}))})),e}))}function hc(){this.a={},this.type="inMemory"}function pc(){if(!function(){var e="Node"==hr();if(!(e=mc()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new eo("internal-error","The LocalStorage compatibility library was not found.");throw new eo("web-storage-unsupported")}this.a=mc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function mc(){try{var e=c.localStorage,t=Ir();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function yc(){this.type="nullStorage"}function gc(){if(!function(){var e="Node"==hr();if(!(e=vc()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new eo("internal-error","The SessionStorage compatibility library was not found.");throw new eo("web-storage-unsupported")}this.a=vc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function vc(){try{var e=c.sessionStorage,t=Ir();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function bc(){var e={};e.Browser=kc,e.Node=Ec,e.ReactNative=Cc,e.Worker=Oc,this.a=e[hr()]}$s.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var o=[];U(r,(function(t){o.push(Ze().then((function(){return t(e.origin,e.data.data)})))})),nt(o).then((function(r){var o=[];U(r,(function(e){o.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),U(o,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:o})}))}},Js.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Zs.prototype.close=function(){for(;0<this.a.length;)tc(this,this.a[0]);this.b=!0},(t=nc.prototype).set=function(e,t){var n,r=!1,o=this;return oc(this).then((function(t){return cc((t=ac(sc(n=t,!0))).get(e))})).then((function(i){var a=ac(sc(n,!0));return i?(i.value=t,cc(a.put(i))):(o.b++,r=!0,(i={}).fbase_key=e,i.value=t,cc(a.add(i)))})).then((function(){return o.c[e]=t,uc(o,e)})).ka((function(){r&&o.b--}))},t.get=function(e){return oc(this).then((function(t){return cc(ac(sc(t,!1)).get(e))})).then((function(e){return e&&e.value}))},t.S=function(e){var t=!1,n=this;return oc(this).then((function(r){return t=!0,n.b++,cc(ac(sc(r,!0)).delete(e))})).then((function(){return delete n.c[e],uc(n,e)})).ka((function(){t&&n.b--}))},t.$=function(e){0==this.a.length&&function(e){fc(e),function t(){e.f=setTimeout((function(){e.i=lc(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},t.ea=function(e){H(this.a,(function(t){return t==e})),0==this.a.length&&fc(this)},(t=dc.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},t.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},t.S=function(e){return this.b.then((function(t){return t.S(e)}))},t.$=function(e){this.a.push(e)},t.ea=function(e){H(this.a,(function(t){return t==e}))},(t=hc.prototype).get=function(e){return Ze(this.a[e])},t.set=function(e,t){return this.a[e]=t,Ze()},t.S=function(e){return delete this.a[e],Ze()},t.$=function(){},t.ea=function(){},(t=pc.prototype).get=function(e){var t=this;return Ze().then((function(){return Ar(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var r=Tr(t);null===r?n.S(e):n.a.setItem(e,r)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(e){c.window&&Kt(c.window,"storage",e)},t.ea=function(e){c.window&&Jt(c.window,"storage",e)},(t=yc.prototype).get=function(){return Ze(null)},t.set=function(){return Ze()},t.S=function(){return Ze()},t.$=function(){},t.ea=function(){},(t=gc.prototype).get=function(e){var t=this;return Ze().then((function(){return Ar(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var r=Tr(t);null===r?n.S(e):n.a.setItem(e,r)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(){},t.ea=function(){};var wc,_c,kc={C:pc,Ta:gc},Ec={C:pc,Ta:gc},Cc={C:Qs,Ta:yc},Oc={C:pc,Ta:yc},Sc={ad:"local",NONE:"none",cd:"session"};function Tc(){var e=!(xr(wr())||!fr()),t=Sr(),n=kr();this.m=e,this.h=t,this.l=n,this.a={},wc||(wc=new bc),e=wc;try{this.g=!tr()&&Mr()||!c.indexedDB?new e.a.C:new dc(dr()?new hc:new e.a.C)}catch(r){this.g=new hc,this.h=!0}try{this.i=new e.a.Ta}catch(r){this.i=new hc}this.u=new hc,this.f=C(this.Pb,this),this.b={}}function Pc(){return _c||(_c=new Tc),_c}function Ac(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Ic(e,t){return"firebase:"+e.name+(t?":"+t:"")}function xc(e,t,n){return n=Ic(t,n),"local"==t.C&&(e.b[n]=null),Ac(e,t.C).S(n)}function jc(e){e.c&&(clearInterval(e.c),e.c=null)}function Dc(e){this.a=e,this.b=Pc()}(t=Tc.prototype).get=function(e,t){return Ac(this,e.C).get(Ic(e,t))},t.set=function(e,t,n){var r=Ic(e,n),o=this,i=Ac(this,e.C);return i.set(r,t).then((function(){return i.get(r)})).then((function(t){"local"==e.C&&(o.b[r]=t)}))},t.addListener=function(e,t,n){e=Ic(e,t),this.l&&(this.b[e]=c.localStorage.getItem(e)),K(this.a)&&(Ac(this,"local").$(this.f),this.h||(tr()||!Mr())&&c.indexedDB||!this.l||function(e){jc(e),e.c=setInterval((function(){for(var t in e.a){var n=c.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Ft({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=Ic(e,t),this.a[e]&&(H(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),K(this.a)&&(Ac(this,"local").ea(this.f),jc(this))},t.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var o=c.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.$a(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?Ac(this,"local").ea(this.f):jc(this),this.m)if(n=c.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?c.localStorage.setItem(t,r):c.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var i=this;n=function(){"undefined"===typeof e.a.a&&i.b[t]===c.localStorage.getItem(t)||(i.b[t]=c.localStorage.getItem(t),i.$a(t))},_t&&It&&10==It&&c.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else U(e,C(this.$a,this))},t.$a=function(e){this.a[e]&&U(this.a[e],(function(e){e()}))};var Nc,Rc={name:"authEvent",C:"local"};function Mc(){this.a=Pc()}function Lc(e,t){this.b=Fc,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0!==Nc||(Nc=c.Int32Array?new Int32Array(Hc):Hc),this.reset()}T(Lc,(function(){this.b=-1}));for(var Fc=64,Bc=Fc-1,Uc=[],qc=0;qc<Bc;qc++)Uc[qc]=0;var Vc=z(128,Uc);function Wc(e){for(var t=e.f,n=e.l,r=0,o=0;o<t.length;)n[r++]=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3],o=4*r;for(t=16;64>t;t++){o=0|n[t-15],r=0|n[t-2];var i=(0|n[t-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=i+a|0}r=0|e.a[0],o=0|e.a[1];var s=0|e.a[2],c=0|e.a[3],u=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(i=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;a=(i=i+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&l^~u&f)+(0|Nc[t])|0)+(0|n[t])|0)|0,i=f,f=l,l=u,u=c+a|0,c=s,s=o,o=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+o|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+c|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+i|0}function Gc(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if(u(t))for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(Wc(e),o=0);else{if(!g(t))throw Error("message must be string or array");for(;r<n;){var i=t[r++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");e.f[o++]=i,o==e.b&&(Wc(e),o=0)}}e.c=o,e.g+=n}Lc.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Q(this.h)};var Hc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zc(){Lc.call(this,8,Qc)}T(zc,Lc);var Qc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function $c(e,t,n,r,o){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=o||null,this.h=t+":"+n,this.v=new Mc,this.g=new Dc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Kc(e){return new eo("invalid-cordova-configuration",e)}function Yc(e){var t=new zc;Gc(t,e),e=[];var n=8*t.g;56>t.c?Gc(t,Vc,56-t.c):Gc(t,Vc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Wc(t),r=n=0;r<t.i;r++)for(var o=24;0<=o;o-=8)e[n++]=t.a[r]>>o&255;return function(e){return q(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Xc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Jc(e){return e.f||(e.f=e.ia().then((function(){return new ze((function(t){e.Aa((function n(r){return t(r),e.Na(n),!1})),function(e){function t(t){r=!0,o&&o.cancel(),Zc(e).then((function(r){var o=n;if(r&&t&&t.url){var i=null;-1!=(o=Qo(t.url)).indexOf("/__/auth/callback")&&(i=(i="object"===typeof(i=Ar(On(i=Sn(o),"firebaseError")||null))?to(i):null)?new Oi(r.c,r.b,null,null,i,null,r.R()):new Oi(r.c,r.b,o,r.f,null,null,r.R())),o=i||n}Xc(e,o)}))}var n=new Oi("unknown",null,null,null,new eo("no-auth-event")),r=!1,o=hn(500).then((function(){return Zc(e).then((function(){r||Xc(e,n)}))})),i=c.handleOpenURL;c.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(_r("BuildInfo.packageName",c).toLowerCase()+"://")&&t({url:e}),"function"===typeof i)try{i(e)}catch(n){console.error(n)}},Ai||(Ai=new Ti),function(e){var t=Ai;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=_r("universalLinks.subscribe",c))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Zc(e){var t=null;return function(e){return e.b.get(Rc,e.a).then((function(e){return Si(e)}))}(e.g).then((function(n){return t=n,xc((n=e.g).b,Rc,n.a)})).then((function(){return t}))}function eu(e){this.a=e,this.b=Pc()}(t=$c.prototype).ia=function(){return this.Da?this.Da:this.Da=(lr(void 0)?ur().then((function(){return new ze((function(e,t){var n=c.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof _r("universalLinks.subscribe",c))throw Kc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof _r("BuildInfo.packageName",c))throw Kc("cordova-plugin-buildinfo is not installed");if("function"!==typeof _r("cordova.plugins.browsertab.openUrl",c))throw Kc("cordova-plugin-browsertab is not installed");if("function"!==typeof _r("cordova.InAppBrowser.open",c))throw Kc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new eo("cordova-not-ready")}))},t.Fb=function(e,t){return t(new eo("operation-not-supported-in-this-environment")),Ze()},t.Db=function(){return et(new eo("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(e,t,n,r){if(this.c)return et(new eo("redirect-operation-pending"));var o=this,i=c.document,a=null,s=null,u=null,l=null;return this.c=Ze().then((function(){return Ci(t),Jc(o)})).then((function(){return function(e,t,n,r,o){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Oi(t,r,null,i,new eo("no-auth-event"),null,o),s=_r("BuildInfo.packageName",c);if("string"!==typeof s)throw new eo("invalid-cordova-configuration");var u=_r("BuildInfo.displayName",c),l={};if(wr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!wr().toLowerCase().match(/android/))return et(new eo("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),i=Yc(i),l.sessionId=i;var f=zs(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,o);return e.ia().then((function(){var t=e.h;return e.v.a.set(Rc,a.A(),t)})).then((function(){var t=_r("cordova.plugins.browsertab.isAvailable",c);if("function"!==typeof t)throw new eo("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=_r("cordova.plugins.browsertab.openUrl",c)))throw new eo("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=_r("cordova.InAppBrowser.open",c)))throw new eo("invalid-cordova-configuration");t=wr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(o,e,t,n,r)})).then((function(){return new ze((function(e,t){s=function(){var t=_r("cordova.plugins.browsertab.close",c);return e(),"function"===typeof t&&t(),o.a&&"function"===typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Aa(s),u=function(){a||(a=hn(2e3).then((function(){t(new eo("redirect-cancelled-by-user"))})))},l=function(){Nr()&&u()},i.addEventListener("resume",u,!1),wr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",l,!1)})).s((function(e){return Zc(o).then((function(){throw e}))}))})).ka((function(){u&&i.removeEventListener("resume",u,!1),l&&i.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&o.Na(s),o.c=null}))},t.Aa=function(e){this.b.push(e),Jc(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Oi("unknown",null,null,null,new eo("no-auth-event")),e(t))}))},t.Na=function(e){H(this.b,(function(t){return t==e}))};var tu={name:"pendingRedirect",C:"session"};function nu(e){return xc(e.b,tu,e.a)}function ru(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new gu,this.w=new ku,this.g=new eu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=ou(this.B,this.u,this.m,xo)}function ou(e,t,n,o){var i=r.a.SDK_VERSION||null;return lr()?new $c(e,t,n,i,o):new Vs(e,t,n,i,o)}function iu(e){e.f||(e.f=!0,e.a.Aa(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function au(e){e.a.Ob()&&iu(e).s((function(t){var n=new Oi("unknown",null,null,null,new eo("operation-not-supported-in-this-environment"));du(t)&&e.o(n)})),e.a.Jb()||vu(e.b)}function su(e,t){W(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(tu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?nu(e.g).then((function(){iu(e).s((function(t){var n=new Oi("unknown",null,null,null,new eo("operation-not-supported-in-this-environment"));du(t)&&e.o(n)}))})):au(e)})).s((function(){au(e)}))}function cu(e,t){H(e.h,(function(e){return e==t}))}ru.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=ou(this.B,this.u,this.m),this.i={}},ru.prototype.o=function(e){if(!e)throw new eo("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=S())),t=!0;break}}return vu(this.b),t};var uu=new Dr(2e3,1e4),lu=new Dr(3e4,6e4);function fu(e,t,n,r,o,i,a){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.Aa(e.l))}),(function(){e.reset()}),o,i,a)}function du(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function hu(e,t,n,r,o){var i;return function(e){return e.b.set(tu,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,o).s((function(t){if(du(t))throw new eo("operation-not-supported-in-this-environment");return i=t,nu(e.g).then((function(){throw i}))})).then((function(){return e.a.Rb()?new ze((function(){})):nu(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function pu(e,t,n,r,o){return e.a.Fb(r,(function(e){t.ja(n,null,e,o)}),uu.get())}ru.prototype.oa=function(){return this.b.oa()};var mu={};function yu(e,t,n){var r=t+":"+n;return mu[r]||(mu[r]=new ru(e,t,n)),mu[r]}function gu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function vu(e){e.g||(e.g=!0,_u(e,!1,null,null))}function bu(e){e.g&&!e.i&&_u(e,!1,null,null)}function wu(e,t){if(e.b=function(){return Ze(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function _u(e,t,n,r){t?r?function(e,t){if(e.b=function(){return et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):wu(e,n):wu(e,{user:null}),e.f=[],e.c=[]}function ku(){}function Eu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Cu(e,t){this.a=t,qr(this,"verificationId",e)}function Ou(e,t,n,r){return new _i(e).Wa(t,n).then((function(e){return new Cu(e,r)}))}function Su(e){var t=Io(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new eo("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vr(this,{token:e,expirationTime:Rr(1e3*t.exp),authTime:Rr(1e3*t.auth_time),issuedAtTime:Rr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Tu(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Pu(e){this.f=e,this.b=this.a=null,this.c=0}function Au(e,t){var n=t[Ma],r=t.refreshToken;t=Iu(t.expiresIn),e.b=n,e.c=t,e.a=r}function Iu(e){return S()+1e3*parseInt(e,10)}function xu(e,t){return function(e,t){return new ze((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Wa(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Ds(e)):e.access_token&&e.refresh_token?n(e):r(new eo("internal-error")):r(new eo("network-request-failed"))}),"POST",Fn(t).toString(),e.g,e.u.get()):r(new eo("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Iu(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function ju(e,t){this.a=e||null,this.b=t||null,Vr(this,{lastSignInTime:Rr(t||null),creationTime:Rr(e||null)})}function Du(e,t,n,r,o,i){Vr(this,{uid:e,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:t})}function Nu(e,t){for(var n in Lt.call(this,e),t)this[n]=t[n]}function Ru(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=r.a.SDK_VERSION?br(r.a.SDK_VERSION):null,this.a=new Na(this.l,Do(xo),e),this.b=new Pu(this.a),Vu(this,t[Ma]),Au(this.b,t),qr(this,"refreshToken",this.b.a),Hu(this,n||{}),cn.call(this),this.J=!1,this.o&&Er()&&(this.i=yu(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new Tu((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-S()-3e5;return 0<t?t:0}))}(this),this.W=C(this.Ja,this);var o=this;this.ga=null,this.xa=function(e){o.ua(e.g)},this.Z=null,this.P=[],this.wa=function(e){Lu(o,e.c)},this.Y=null}function Mu(e,t){e.Z&&Jt(e.Z,"languageCodeChanged",e.xa),(e.Z=t)&&Kt(t,"languageCodeChanged",e.xa)}function Lu(e,t){e.P=t,Va(e.a,r.a.SDK_VERSION?br(r.a.SDK_VERSION,e.P):null)}function Fu(e,t){e.Y&&Jt(e.Y,"frameworkChanged",e.wa),(e.Y=t)&&Kt(t,"frameworkChanged",e.wa)}function Bu(e){try{return r.a.app(e.m).auth()}catch(t){throw new eo("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Uu(e){e.B||e.w.b||(e.w.start(),Jt(e,"tokenChanged",e.W),Kt(e,"tokenChanged",e.W))}function qu(e){Jt(e,"tokenChanged",e.W),e.w.stop()}function Vu(e,t){e.ma=t,qr(e,"_lat",t)}function Wu(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return nt(t).then((function(){return e}))}function Gu(e){e.i&&!e.J&&(e.J=!0,su(e.i,e))}function Hu(e,t){Vr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ju(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function zu(){}function Qu(e){return Ze().then((function(){if(e.B)throw new eo("app-deleted")}))}function $u(e){return q(e.providerData,(function(e){return e.providerId}))}function Ku(e,t){t&&(Yu(e,t.providerId),e.providerData.push(t))}function Yu(e,t){H(e.providerData,(function(e){return e.providerId==t}))}function Xu(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&qr(e,t,n)}function Ju(e,t){e!=t&&(Vr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?qr(e,"metadata",function(e){return new ju(e.a,e.b)}(t.metadata)):qr(e,"metadata",new ju),U(t.providerData,(function(t){Ku(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),qr(e,"refreshToken",e.b.a))}function Zu(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return xs(e.a,ds,{idToken:t}).then(C(e.zc,e))}(e,t).then((function(){return n||Xu(e,"isAnonymous",!1),t}))}))}function el(e,t){t[Ma]&&e.ma!=t[Ma]&&(Au(e.b,t),e.dispatchEvent(new Nu("tokenChanged")),Vu(e,t[Ma]),Xu(e,"refreshToken",e.b.a))}function tl(e,t){return Zu(e).then((function(){if(W($u(e),t))return Wu(e).then((function(){throw new eo("provider-already-linked")}))}))}function nl(e,t,n){return Wr({user:e,credential:Ei(t),additionalUserInfo:t=Fo(t),operationType:n})}function rl(e,t){return el(e,t),e.reload().then((function(){return e}))}function ol(e,t,n,o,i){if(!Er())return et(new eo("operation-not-supported-in-this-environment"));if(e.h&&!i)return et(e.h);var a=Lo(n.providerId),s=Ir(e.uid+":::"),c=null;(!Sr()||fr())&&e.o&&n.isOAuthProvider&&(c=zs(e.o,e.l,e.m,t,n,null,s,r.a.SDK_VERSION||null,null,null,e.tenantId));var u=ar(c,a&&a.sa,a&&a.ra);return o=o().then((function(){if(al(e),!i)return e.G().then((function(){}))})).then((function(){return fu(e.i,u,t,n,s,!!c,e.tenantId)})).then((function(){return new ze((function(n,r){e.ja(t,null,new eo("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=pu(e.i,e,t,u,s)}))})).then((function(e){return u&&ir(u),e?Wr(e):null})).s((function(e){throw u&&ir(u),e})),sl(e,o,i)}function il(e,t,n,r,o){if(!Er())return et(new eo("operation-not-supported-in-this-environment"));if(e.h&&!o)return et(e.h);var i=null,a=Ir(e.uid+":::");return r=r().then((function(){if(al(e),!o)return e.G().then((function(){}))})).then((function(){return e.ca=a,Wu(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(ll,e.A(),t.a)),t})).then((function(){return hu(e.i,t,n,a,e.tenantId)})).s((function(t){if(i=t,e.da)return fl(e.da);throw i})).then((function(){if(i)throw i})),sl(e,r,o)}function al(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new eo("internal-error");throw new eo("auth-domain-config-required")}}function sl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),et(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Nu("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){G(e.I,r)})),r}function cl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Ma]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-S())/1e3;var r=new Ru(t,n,e);return e.providerData&&U(e.providerData,(function(e){e&&Ku(r,Wr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function ul(e){this.a=e,this.b=Pc()}gu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},gu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,i=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?e.a?(_u(this,!0,null,e.a),Ze()):t.Ba(n,r)?function(e,t,n){n=n.Ba(t.c,t.b);var r=t.g,o=t.f,i=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(r,o,a,i).then((function(t){_u(e,s,t,null)})).s((function(t){_u(e,s,null,t)}))}(this,e,t):et(new eo("invalid-auth-event")):(_u(this,!1,null,null),Ze())}else et(new eo("invalid-auth-event"))},gu.prototype.oa=function(){var e=this;return new ze((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new eo("timeout");e.a&&e.a.cancel(),e.a=hn(lu.get()).then((function(){e.b||(e.g=!0,_u(e,!0,null,t))}))}(e))}))},ku.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Ze()):t.Ba(n,r)?function(e,t){var n=e.b,r=e.c;t.Ba(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):et(new eo("invalid-auth-event"))}else et(new eo("invalid-auth-event"))},Cu.prototype.confirm=function(e){return e=ki(this.verificationId,e),this.a(e)},Tu.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=hn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=c.document,t=null;return Nr()||!e?Ze():new ze((function(n){t=function(){Nr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},Tu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Pu.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Pu.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?et(new eo("user-token-expired")):e||!this.b||S()>this.c-3e4?this.a?xu(this,{grant_type:"refresh_token",refresh_token:this.a}):Ze(null):Ze({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ju.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Nu,Lt),T(Ru,cn),Ru.prototype.ua=function(e){this.ga=e,qa(this.a,e)},Ru.prototype.ha=function(){return this.ga},Ru.prototype.Ca=function(){return Q(this.P)},Ru.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},qr(Ru.prototype,"providerId","firebase"),(t=Ru.prototype).reload=function(){var e=this;return sl(this,Qu(this).then((function(){return Zu(e).then((function(){return Wu(e)})).then(zu)})))},t.dc=function(e){return this.G(e).then((function(e){return new Su(e)}))},t.G=function(e){var t=this;return sl(this,Qu(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new eo("internal-error");return e.accessToken!=t.ma&&(Vu(t,e.accessToken),t.dispatchEvent(new Nu("tokenChanged"))),Xu(t,"refreshToken",e.refreshToken),e.accessToken})))},t.zc=function(e){if(!(e=e.users)||!e.length)throw new eo("internal-error");Hu(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?q(e,(function(e){return new Du(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ku(this,t[n]);Xu(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},t.Ac=function(e){return Br("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},t.hb=function(e){var t=this,n=null;return sl(this,e.f(this.a,this.uid).then((function(e){return el(t,e),n=nl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},t.rc=function(e){return Br("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},t.fb=function(e){var t=this,n=null;return sl(this,tl(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=nl(t,e,"link"),rl(t,e)})).then((function(){return n})))},t.sc=function(e,t){var n=this;return sl(this,tl(this,"phone").then((function(){return Ou(Bu(n),e,t,C(n.fb,n))})))},t.Bc=function(e,t){var n=this;return sl(this,Ze().then((function(){return Ou(Bu(n),e,t,C(n.hb,n))})),!0)},t.rb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return el(t,e),t.reload()})))},t.Sc=function(e){var t=this;return sl(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return el(t,e),t.reload()})))},t.sb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return el(t,e),t.reload()})))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Qu(this);var t=this;return sl(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return el(t,e),Xu(t,"displayName",e.displayName||null),Xu(t,"photoURL",e.photoUrl||null),U(t.providerData,(function(e){"password"===e.providerId&&(qr(e,"displayName",t.displayName),qr(e,"photoURL",t.photoURL))})),Wu(t)})).then(zu))},t.Qc=function(e){var t=this;return sl(this,Zu(this).then((function(n){return W($u(t),e)?function(e,t,n){return xs(e,us,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return U(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),U($u(t),(function(e){n[e]||Yu(t,e)})),n[_i.PROVIDER_ID]||qr(t,"phoneNumber",null),Wu(t)})):Wu(t).then((function(){throw new eo("no-such-provider")}))})))},t.delete=function(){var e=this;return sl(this,this.G().then((function(t){return xs(e.a,cs,{idToken:t})})).then((function(){e.dispatchEvent(new Nu("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Mu(e,null),Fu(e,null),e.I=[],e.B=!0,qu(e),qr(e,"refreshToken",null),e.i&&cu(e.i,e)}))},t.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},t.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?C(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?C(this.Cb,this):null},t.tc=function(e){var t=this;return ol(this,"linkViaPopup",e,(function(){return tl(t,e.providerId).then((function(){return Wu(t)}))}),!1)},t.Cc=function(e){return ol(this,"reauthViaPopup",e,(function(){return Ze()}),!0)},t.uc=function(e){var t=this;return il(this,"linkViaRedirect",e,(function(){return tl(t,e.providerId)}),!1)},t.Dc=function(e){return il(this,"reauthViaRedirect",e,(function(){return Ze()}),!0)},t.Bb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return sl(this,this.G().then((function(n){return ts(o.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return i=nl(o,e,"link"),rl(o,e)})).then((function(){return i})))},t.Cb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return sl(this,Ze().then((function(){return Ko(ns(o.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),o.uid)})).then((function(e){return i=nl(o,e,"reauthenticate"),el(o,e),o.h=null,o.reload()})).then((function(){return i})),!0)},t.jb=function(e){var t=this,n=null;return sl(this,this.G().then((function(t){return n=t,"undefined"===typeof e||K(e)?{}:Co(new po(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(e,this.metadata.A()),U(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var ll={name:"redirectUser",C:"session"};function fl(e){return xc(e.b,ll,e.a)}function dl(e){this.a=e,this.b=Pc(),this.c=null,this.f=function(e){var t=ml("local"),n=ml("session"),r=ml("none");return function(e,t,n){var r=Ic(t,n),o=Ac(e,t.C);return e.get(t,n).then((function(i){var a=null;try{a=Ar(c.localStorage.getItem(r))}catch(s){}if(a&&!i)return c.localStorage.removeItem(r),e.set(t,a,n);a&&i&&"localStorage"!=o.type&&c.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(o){return o?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(pl,e.a).then((function(e){return e?ml(e):t}))}))}))})).then((function(t){return e.c=t,hl(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ml("local"),this.a,C(this.g,this))}function hl(e,t){var n,r=[];for(n in Sc)Sc[n]!==t&&r.push(xc(e.b,ml(Sc[n]),e.a));return r.push(xc(e.b,pl,e.a)),function(e){return new ze((function(t,n){var r=e.length,o=[];if(r)for(var i=function(e,n){r--,o[e]=n,0==r&&t(o)},a=function(e){n(e)},s=0;s<e.length;s++)tt(e[s],O(i,s),a);else t(o)}))}(r)}dl.prototype.g=function(){var e=this,t=ml("local");bl(this,(function(){return Ze().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return hl(e,"local").then((function(){e.c=t}))}))}))};var pl={name:"persistence",C:"session"};function ml(e){return{name:"authUser",C:e}}function yl(e,t){return bl(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function gl(e){return bl(e,(function(){return xc(e.b,e.c,e.a)}))}function vl(e,t){return bl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),cl(e||{})}))}))}function bl(e,t){return e.f=e.f.then(t,t),e.f}function wl(e){if(this.l=!1,qr(this,"settings",new Eu),qr(this,"app",e),!Pl(this).options||!Pl(this).options.apiKey)throw new eo("invalid-api-key");e=r.a.SDK_VERSION?br(r.a.SDK_VERSION):null,this.b=new Na(Pl(this).options&&Pl(this).options.apiKey,Do(xo),e),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(C(this.pc,this)),Sl(this,null),this.h=new dl(Pl(this).options.apiKey+":"+Pl(this).name),this.w=new ul(Pl(this).options.apiKey+":"+Pl(this).name),this.Y=jl(this,function(e){var t=Pl(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ll,e.a).then((function(e){return e&&t&&(e.authDomain=t),cl(e||{})}))}(e.w,Pl(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),fl(e.w)}));return jl(e,t)}(e).then((function(){return vl(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return yl(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:gl(e.h)}))):null})).then((function(t){Sl(e,t||null)}));return jl(e,n)}(this)),this.i=jl(this,function(e){return e.Y.then((function(){return Cl(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(ml("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.wa=C(this.bc,this),this.xa=C(this.mc,this),this.Ja=C(this.nc,this),this.a=null,function(e){var t=Pl(e).options.authDomain,n=Pl(e).options.apiKey;t&&Er()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=yu(t,n,Pl(e).name),su(e.a,e),Al(e)&&Gu(Al(e)),e.B){Gu(e.B);var r=e.B;r.ua(e.ha()),Mu(r,e),Lu(r=e.B,e.I),Fu(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,cn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.ua(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function _l(e){Lt.call(this,"languageCodeChanged"),this.g=e}function kl(e){Lt.call(this,"frameworkChanged"),this.c=e}function El(e){return e.Tb||et(new eo("auth-domain-config-required"))}function Cl(e){if(!Er())return et(new eo("operation-not-supported-in-this-environment"));var t=El(e).then((function(){return e.a.oa()})).then((function(e){return e?Wr(e):null}));return jl(e,t)}function Ol(e,t){var n={};return n.apiKey=Pl(e).options.apiKey,n.authDomain=Pl(e).options.authDomain,n.appName=Pl(e).name,e.Y.then((function(){return function(e,t,n,r){var o=new Ru(e,t);return n&&(o.da=n),r&&Lu(o,r),o.reload().then((function(){return o}))}(n,t,e.w,e.Ca())})).then((function(t){return Al(e)&&t.uid==Al(e).uid?(Ju(Al(e),t),e.aa(t)):(Sl(e,t),Gu(t),e.aa(t))})).then((function(){xl(e)}))}function Sl(e,t){Al(e)&&(function(e,t){H(e.O,(function(e){return e==t}))}(Al(e),e.ub),Jt(Al(e),"tokenChanged",e.wa),Jt(Al(e),"userDeleted",e.xa),Jt(Al(e),"userInvalidated",e.Ja),qu(Al(e))),t&&(t.O.push(e.ub),Kt(t,"tokenChanged",e.wa),Kt(t,"userDeleted",e.xa),Kt(t,"userInvalidated",e.Ja),0<e.o&&Uu(t)),qr(e,"currentUser",t),t&&(t.ua(e.ha()),Mu(t,e),Lu(t,e.I),Fu(t,e))}function Tl(e,t){var n=null,r=null;return jl(e,t.then((function(t){return n=Ei(t),r=Fo(t),Ol(e,t)})).then((function(){return Wr({user:Al(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Pl(e){return e.app}function Al(e){return e.currentUser}function Il(e){return Al(e)&&Al(e)._lat||null}function xl(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Il(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](Il(e))}}function jl(e,t){return e.O.push(t),t.ka((function(){G(e.O,t)})),t}function Dl(){}function Nl(){this.a={},this.b=1e12}dl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new eo("invalid-persistence-type"),n=new eo("unsupported-persistence-type");e:{for(r in Sc)if(Sc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(hr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!kr()&&"none"!==e)throw n}}(e),bl(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,hl(n,e)})).then((function(){if(n.c=ml(e),t)return n.b.set(n.c,t,n.a)})):Ze()}))},T(wl,cn),T(_l,Lt),T(kl,Lt),(t=wl.prototype).mb=function(e){return jl(this,e=this.h.mb(e))},t.ua=function(e){this.Z===e||this.l||(this.Z=e,qa(this.b,this.Z),this.dispatchEvent(new _l(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var e=c.navigator;this.ua(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.vc=function(e){this.I.push(e),Va(this.b,r.a.SDK_VERSION?br(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new kl(this.I))},t.Ca=function(){return Q(this.I)},t.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Pl(this).options.apiKey,authDomain:Pl(this).options.authDomain,appName:Pl(this).name,currentUser:Al(this)&&Al(this).A()}},t.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},t.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?C(this.ac,this):null},t.ac=function(e,t,n,r){var o=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var i=null,a=null,s=es(o.b,e).then((function(e){return i=Ei(e),a=Fo(e),e}));return jl(this,e=o.Y.then((function(){return s})).then((function(e){return Ol(o,e)})).then((function(){return Wr({user:Al(o),credential:i,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(e){if(!Er())return et(new eo("operation-not-supported-in-this-environment"));var t=this,n=Lo(e.providerId),o=Ir(),i=null;(!Sr()||fr())&&Pl(this).options.authDomain&&e.isOAuthProvider&&(i=zs(Pl(this).options.authDomain,Pl(this).options.apiKey,Pl(this).name,"signInViaPopup",e,null,o,r.a.SDK_VERSION||null,null,null,this.R()));var a=ar(i,n&&n.sa,n&&n.ra);return jl(this,n=El(this).then((function(n){return fu(n,a,"signInViaPopup",e,o,!!i,t.R())})).then((function(){return new ze((function(e,n){t.ja("signInViaPopup",null,new eo("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=o,t.c=pu(t.a,t,"signInViaPopup",a,o)}))})).then((function(e){return a&&ir(a),e?Wr(e):null})).s((function(e){throw a&&ir(a),e})))},t.Mc=function(e){if(!Er())return et(new eo("operation-not-supported-in-this-environment"));var t=this;return jl(this,El(this).then((function(){return function(e){return bl(e,(function(){return e.b.set(pl,e.c.C,e.a)}))}(t.h)})).then((function(){return hu(t.a,"signInViaRedirect",e,void 0,t.R())})))},t.oa=function(){var e=this;return Cl(this).then((function(t){return e.a&&bu(e.a.b),t})).s((function(t){throw e.a&&bu(e.a.b),t}))},t.Rc=function(e){if(!e)return et(new eo("null-user"));if(this.P!=e.tenantId)return et(new eo("tenant-id-mismatch"));var t=this,n={};n.apiKey=Pl(this).options.apiKey,n.authDomain=Pl(this).options.authDomain,n.appName=Pl(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var o=e.b,i={};return i[Ma]=o.b,i.refreshToken=o.a,i.expiresIn=(o.c-S())/1e3,t=new Ru(t,i),n&&(t.da=n),r&&Lu(t,r),Ju(t,e),t}(e,n,t.w,t.Ca());return jl(this,this.i.then((function(){if(Pl(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Al(t)&&e.uid==Al(t).uid?(Ju(Al(t),e),t.aa(e)):(Sl(t,r),Gu(r),t.aa(r))})).then((function(){xl(t)})))},t.pb=function(){var e=this;return jl(this,this.i.then((function(){return e.a&&bu(e.a.b),Al(e)?(Sl(e,null),gl(e.h).then((function(){xl(e)}))):Ze()})))},t.Nc=function(){var e=this;return vl(this.h,Pl(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Al(e)&&t){n=Al(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ju(Al(e),t),Al(e).G();(Al(e)||t)&&(Sl(e,t),t&&(Gu(t),t.da=e.w),e.a&&su(e.a,e),xl(e))}}))},t.aa=function(e){return yl(this.h,e)},t.bc=function(){xl(this),this.aa(Al(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Al(t))}))},t.pc=function(e){var t=this;!function(e,t){e.J.push(t),jl(e,e.i.then((function(){!e.l&&W(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Il(e)))})))}(this,(function(){e.next(Al(t))}))},t.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){v(e)?e(Al(r)):v(e.next)&&e.next(Al(r))})),this.Ub(e,t,n)},t.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),v(e)?e(Al(r)):v(e.next)&&e.next(Al(r))})),this.Vb(e,t,n)},t.cc=function(e){var t=this;return jl(this,this.i.then((function(){return Al(t)?Al(t).G(e).then((function(e){return{accessToken:e}})):null})))},t.Hc=function(e){var t=this;return this.i.then((function(){return Tl(t,xs(t.b,Ss,{token:e}))})).then((function(e){var n=e.user;return Xu(n,"isAnonymous",!1),t.aa(n),e}))},t.Ic=function(e,t){var n=this;return this.i.then((function(){return Tl(n,xs(n.b,Ts,{email:e,password:t}))}))},t.Xb=function(e,t){var n=this;return this.i.then((function(){return Tl(n,xs(n.b,as,{email:e,password:t}))}))},t.Sa=function(e){var t=this;return this.i.then((function(){return Tl(t,e.na(t.b))}))},t.Gc=function(e){return Br("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(e)},t.ob=function(){var e=this;return this.i.then((function(){var t=Al(e);if(t&&t.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Tl(e,e.b.ob()).then((function(t){var n=t.user;return Xu(n,"isAnonymous",!0),e.aa(n),t}))}))},t.getUid=function(){return Al(this)&&Al(this).uid||null},t.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Al(this)&&Uu(Al(this))},t.Ec=function(e){var t=this;U(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&Al(this)&&qu(Al(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.m.push(e),jl(this,this.i.then((function(){t.l||W(t.m,e)&&e(Il(t))})))},t.removeAuthTokenListener=function(e){H(this.m,(function(t){return t==e}))},t.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(ml("local"),e.a,this.ma),this.a&&(cu(this.a,this),bu(this.a.b)),Promise.resolve()},t.$b=function(e){return jl(this,function(e,t){return xs(e,ss,{identifier:t,continueUri:Cr()?nr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},t.qc=function(e){return!!gi(e)},t.lb=function(e,t){var n=this;return jl(this,Ze().then((function(){var e=new po(t);if(!e.c)throw new eo("argument-error",go+" must be true when sending sign in link to email");return Co(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},t.Uc=function(e){return this.Ma(e).then((function(e){return e.data.email}))},t.ab=function(e,t){return jl(this,this.b.ab(e,t).then((function(){})))},t.Ma=function(e){return jl(this,this.b.Ma(e).then((function(e){return new Hr(e)})))},t.Ya=function(e){return jl(this,this.b.Ya(e).then((function(){})))},t.kb=function(e,t){var n=this;return jl(this,Ze().then((function(){return"undefined"===typeof t||K(t)?{}:Co(new po(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},t.Kc=function(e,t){return jl(this,Ou(this,e,t,C(this.Sa,this)))},t.Jc=function(e,t){var n=this;return jl(this,Ze().then((function(){var r=t||nr(),o=yi(e,r);if(!(r=gi(r)))throw new eo("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new eo("tenant-id-mismatch");return n.Sa(o)})))},Dl.prototype.render=function(){},Dl.prototype.reset=function(){},Dl.prototype.getResponse=function(){},Dl.prototype.execute=function(){};var Rl=null;function Ml(e,t){return(t=Ll(t))&&e.a[t]||null}function Ll(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Fl(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Hn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Kt(this.f,"click",this.i)}function Bl(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ul(){}Nl.prototype.render=function(e,t){return this.a[this.b.toString()]=new Fl(e,t),this.b++},Nl.prototype.reset=function(e){var t=Ml(this,e);e=Ll(e),t&&e&&(t.delete(),delete this.a[e])},Nl.prototype.getResponse=function(e){return(e=Ml(this,e))?e.getResponse():null},Nl.prototype.execute=function(e){(e=Ml(this,e))&&e.execute()},Fl.prototype.getResponse=function(){return Bl(this),this.b},Fl.prototype.execute=function(){Bl(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Fl.prototype.delete=function(){Bl(this),this.g=!0,clearTimeout(this.a),this.a=null,Jt(this.f,"click",this.i)},Ul.prototype.g=function(){return Rl||(Rl=new Nl),Ze(Rl)},Ul.prototype.c=function(){};var ql=null;function Vl(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Wl=new Z(ne,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Gl=new Dr(3e4,6e4);Vl.prototype.g=function(e){var t=this;return new ze((function(n,r){var o=setTimeout((function(){r(new eo("network-request-failed"))}),Gl.get());!c.grecaptcha||e!==t.f&&!t.b?(c[t.a]=function(){if(c.grecaptcha){t.f=e;var i=c.grecaptcha.render;c.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},clearTimeout(o),n(c.grecaptcha)}else clearTimeout(o),r(new eo("internal-error"));delete c[t.a]},Ze(Ta(ae(Wl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(o),r(new eo("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),n(c.grecaptcha))}))},Vl.prototype.c=function(){this.b--};var Hl=null;function zl(e,t,n,r,o,i,a){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(ql||(ql=new Ul),a=ql):(Hl||(Hl=new Vl),a=Hl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Kl])throw new eo("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Yl],!c.document)throw new eo("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hn(t)||!this.i&&Hn(t).hasChildNodes())throw new eo("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Na(e,i||null,o||null),this.v=r||function(){return null};var s=this;this.l=[];var u=this.a[Ql];this.a[Ql]=function(e){if(Xl(s,e),"function"===typeof u)u(e);else if("string"===typeof u){var t=_r(u,c);"function"===typeof t&&t(e)}};var l=this.a[$l];this.a[$l]=function(){if(Xl(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=_r(l,c);"function"===typeof e&&e()}}}var Ql="callback",$l="expired-callback",Kl="sitekey",Yl="size";function Xl(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Jl(e,t){return e.h.push(t),t.ka((function(){G(e.h,t)})),t}function Zl(e){if(e.B)throw new eo("internal-error","RecaptchaVerifier instance has been destroyed.")}function ef(e,t,n){var o=!1;try{this.b=n||r.a.app()}catch(s){throw new eo("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new eo("invalid-api-key");n=this.b.options.apiKey;var i=this,a=null;try{a=this.b.auth().Ca()}catch(s){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?br(r.a.SDK_VERSION,a):null,zl.call(this,n,e,t,(function(){try{var e=i.b.auth().ha()}catch(t){e=null}return e}),a,Do(xo),o)}function tf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,a=0;a<t.length;a++)if(t[a].optional)i=!0;else{if(i)throw new eo("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=t.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=t[o].optional&&void 0===n[o],!t[o].N(n[o])&&!i){if(t=t[o],0>o||o>=nf.length)throw new eo("internal-error","Argument validator received an unsupported number of arguments.");n=nf[o],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new eo("argument-error",e+" failed: "+r)}(t=zl.prototype).Da=function(){var e=this;return this.f?this.f:this.f=Jl(this,Ze().then((function(){if(Cr()&&!dr())return ur();throw new eo("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,xs(e.o,gs,{})})).then((function(t){e.a[Kl]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},t.render=function(){Zl(this);var e=this;return Jl(this,this.Da().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=Hn(t);t=$n("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},t.verify=function(){Zl(this);var e=this;return Jl(this,this.render().then((function(t){return new ze((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){H(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},t.reset=function(){Zl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Hn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},T(ef,zl);var nf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rf(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:u}}function of(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:l}}function af(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:b}}function sf(e,t){return{name:e||"",M:"a function",optional:!!t,N:v}}function cf(e,t){return{name:e||"",M:"null",optional:!!t,N:m}}function uf(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function lf(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&u(e.type)&&v(e.verify))}}}function ff(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function df(e,t){for(var n in t){var r=t[n].name;e[r]=mf(r,e[n],t[n].j)}}function hf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:O((function(e){return this[e]}),n),set:O((function(e,t,n,r){tf(e,[n],[r],!0),this[t]=r}),r,n,t[n].Za),enumerable:!0})}}function pf(e,t,n,r){e[t]=mf(t,n,r)}function mf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return tf(i,n,e),t.apply(this,e)}if(!n)return t;var o,i=function(e){return(e=e.split("."))[e.length-1]}(e);for(o in t)r[o]=t[o];for(o in t.prototype)r.prototype[o]=t.prototype[o];return r}df(wl.prototype,{Ya:{name:"applyActionCode",j:[rf("code")]},Ma:{name:"checkActionCode",j:[rf("code")]},ab:{name:"confirmPasswordReset",j:[rf("code"),rf("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[rf("email"),rf("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[rf("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[rf("emailLink")]},wc:{name:"onAuthStateChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rf("email"),ff(af("opt_actionCodeSettings",!0),cf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rf("email"),af("actionCodeSettings")]},mb:{name:"setPersistence",j:[rf("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[uf()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[uf()]},Hc:{name:"signInWithCustomToken",j:[rf("token")]},Ic:{name:"signInWithEmailAndPassword",j:[rf("email"),rf("password")]},Jc:{name:"signInWithEmailLink",j:[rf("email"),rf("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[ff({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Ru)}},cf(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[rf("code")]}}),hf(wl.prototype,{lc:{name:"languageCode",Za:ff(rf(),cf(),"languageCode")},ti:{name:"tenantId",Za:ff(rf(),cf(),"tenantId")}}),wl.Persistence=Sc,wl.Persistence.LOCAL="local",wl.Persistence.SESSION="session",wl.Persistence.NONE="none",df(Ru.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[of("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[of("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[uf()]},fb:{name:"linkWithCredential",j:[uf()]},sc:{name:"linkWithPhoneNumber",j:[rf("phoneNumber"),lf()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[uf()]},hb:{name:"reauthenticateWithCredential",j:[uf()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[ff(af("opt_actionCodeSettings",!0),cf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Qc:{name:"unlink",j:[rf("provider")]},rb:{name:"updateEmail",j:[rf("email")]},sb:{name:"updatePassword",j:[rf("password")]},Sc:{name:"updatePhoneNumber",j:[uf("phone")]},tb:{name:"updateProfile",j:[af("profile")]}}),df(Nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),df(Dl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),df(ze.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),hf(Eu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:of("appVerificationDisabledForTesting")}}),df(Cu.prototype,{confirm:{name:"confirm",j:[rf("verificationCode")]}}),pf($o,"fromJSON",(function(e){e=u(e)?JSON.parse(e):e;for(var t,n=[ti,pi,bi,Jo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ff(rf(),af(),"json")]),pf(mi,"credential",(function(e,t){return new hi(e,t)}),[rf("email"),rf("password")]),df(hi.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),df(ii.prototype,{ya:{name:"addScope",j:[rf("scope")]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(ii,"credential",ai,[ff(rf(),af(),"token")]),pf(mi,"credentialWithLink",yi,[rf("email"),rf("emailLink")]),df(si.prototype,{ya:{name:"addScope",j:[rf("scope")]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(si,"credential",ci,[ff(rf(),af(),"token")]),df(ui.prototype,{ya:{name:"addScope",j:[rf("scope")]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(ui,"credential",li,[ff(rf(),ff(af(),cf()),"idToken"),ff(rf(),cf(),"accessToken",!0)]),df(fi.prototype,{Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),pf(fi,"credential",di,[ff(rf(),af(),"token"),rf("secret",!0)]),df(oi.prototype,{ya:{name:"addScope",j:[rf("scope")]},credential:{name:"credential",j:[ff(rf(),ff(af(),cf()),"optionsOrIdToken"),ff(rf(),cf(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(Zo.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),df(Yo.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),pf(_i,"credential",ki,[rf("verificationId"),rf("verificationCode")]),df(_i.prototype,{Wa:{name:"verifyPhoneNumber",j:[rf("phoneNumber"),lf()]}}),df(vi.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),df(eo.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),df(xi.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),df(Ii.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),df(ef.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),pf(oo,"parseLink",ho,[rf("link")]),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wl,AuthCredential:$o,Error:eo};pf(e,"EmailAuthProvider",mi,[]),pf(e,"FacebookAuthProvider",ii,[]),pf(e,"GithubAuthProvider",si,[]),pf(e,"GoogleAuthProvider",ui,[]),pf(e,"TwitterAuthProvider",fi,[]),pf(e,"OAuthProvider",oi,[rf("providerId")]),pf(e,"SAMLAuthProvider",ri,[rf("providerId")]),pf(e,"PhoneAuthProvider",_i,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof wl)}}]),pf(e,"RecaptchaVerifier",ef,[ff(rf(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),af("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof r.a.app.App)}}]),pf(e,"ActionCodeURL",oo,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new wl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:C((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:C(e.cc,e),addAuthTokenListener:C(e.Wb,e),removeAuthTokenListener:C(e.Ec,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.13.4"),r.a.INTERNAL.extendNamespace({User:Ru})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(28))},function(e,t,n){"use strict";n.r(t);n(270)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=(r=n(12))&&"object"===typeof r&&"default"in r?r.default:r,a=n(0),s=n(198),c=n(146),u=n(197),l=n(271),f=i.SDK_VERSION,d=new s.Logger("@firebase/firestore");function h(){return d.logLevel===s.LogLevel.DEBUG?o.DEBUG:d.logLevel===s.LogLevel.SILENT?o.SILENT:o.ERROR}function p(e){switch(e){case o.DEBUG:d.logLevel=s.LogLevel.DEBUG;break;case o.ERROR:d.logLevel=s.LogLevel.ERROR;break;case o.SILENT:d.logLevel=s.LogLevel.SILENT;break;default:d.error("Firestore ("+f+"): Invalid value passed to `setLogLevel`")}}function m(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(d.logLevel<=s.LogLevel.DEBUG){var o=n.map(g);d.debug.apply(d,a.__spreadArrays(["Firestore ("+f+") ["+e+"]: "+t],o))}}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(d.logLevel<=s.LogLevel.ERROR){var r=t.map(g);d.error.apply(d,a.__spreadArrays(["Firestore ("+f+"): "+e],r))}}function g(e){if("string"===typeof e)return e;var t=w.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function v(e){var t="FIRESTORE ("+f+") INTERNAL ASSERTION FAILED: "+e;throw y(t),new Error(t)}function b(e,t){e||v(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(o||(o={}));var w=function(){function e(){}return e.setPlatform=function(t){e.platform&&v("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||v("Platform not set"),e.platform},e}();function _(){return w.getPlatform().emptyByteString}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(t,e),t}(Error);function C(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new E(k.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){return void 0!==e?e:t}function T(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function P(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A(e){for(var t in b(null!=e&&"object"===typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t){if(0!==t.length)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+K(t.length,"argument")+".")}function x(e,t,n){if(t.length!==n)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function j(e,t,n){if(t.length<n)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires at least "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function D(e,t,n,r){if(t.length<n||t.length>r)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+K(t.length,"argument")+".")}function N(e,t,n,r){q(e,t,$(n)+" argument",r)}function R(e,t,n,r){void 0!==r&&N(e,t,n,r)}function M(e,t,n,r){q(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&M(e,t,n,r)}function F(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){if(!(r instanceof Array))throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+W(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+i+" was: "+W(r[i]))}(e,t,n,r,o)}function B(e,t,n,r,o){void 0!==r&&function(e,t,n,r,o){for(var i=[],a=0,s=o;a<s.length;a++){var c=s[a];if(c===r)return;i.push(W(c))}var u=W(r);throw new E(k.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(e,0,n,r,o)}function U(e,t,n,r){if(!t.some((function(e){return e===r})))throw new E(k.INVALID_ARGUMENT,"Invalid value "+W(r)+" provided to function "+e+"() for its "+$(n)+" argument. Acceptable values: "+t.join(", "))}function q(e,t,n,r){if(!("object"===t?V(r):"non-empty string"===t?"string"===typeof r&&""!==r:typeof r===t)){var o=W(r);throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+o)}}function V(e){return"object"===typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function W(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"===typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"===typeof e||"boolean"===typeof e)return""+e;if("object"===typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"===typeof e?"a function":v("Unknown wrong type: "+typeof e)}function G(e,t,n){if(void 0===n)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+$(t)+" argument, but it was undefined.")}function H(e,t,n){P(t,(function(t,r){if(n.indexOf(t)<0)throw new E(k.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function z(e,t,n,r){var o=W(r);return new E(k.INVALID_ARGUMENT,"Function "+e+"() requires its "+$(n)+" argument to be a "+t+", but it was: "+o)}function Q(e,t,n){if(n<=0)throw new E(k.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+$(t)+" argument to be a positive number, but it was: "+n+".")}function $(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function K(e,t){return e+" "+t+(1===e?"":"s")}var Y=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return b(20===t.length,"Invalid auto ID: "+t),t},e}();function X(e,t){return e<t?-1:e>t?1:0}function J(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Z(e){return e+"\0"}function ee(){if("undefined"===typeof Uint8Array)throw new E(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function te(){if(!w.getPlatform().base64Available)throw new E(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ne,re=function(){function e(e){te(),this._binaryString=e}return e.fromBase64String=function(t){x("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,t),te();try{var n=w.getPlatform().atob(t);return new e(n)}catch(r){throw new E(k.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(x("Blob.fromUint8Array",arguments,1),ee(),!(t instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return x("Blob.toBase64",arguments,0),te(),w.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){x("Blob.toUint8Array",arguments,0),ee();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return X(this._binaryString,e._binaryString)},e}(),oe=C(re,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ie=function(e,t,n,r,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=o},ae="(default)",se=function(){function e(e,t){this.projectId=e,this.database=t||ae}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===ae},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return X(this.projectId,e.projectId)||X(this.database,e.database)},e}(),ce=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),ue=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&v("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&v("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,b(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return b(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new E(k.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(ue),fe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return fe.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new E(k.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;o<e.length;){var s=e[o];if("\\"===s){if(o+1===e.length)throw new E(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new E(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===s?(a=!a,o++):"."!==s||a?(r+=s,o++):(i(),o++)}if(i(),a)throw new E(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(ue),he=function(){function e(t){this.path=t,b(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===le.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return le.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new le(t.slice()))},e.fromPathString=function(t){return new e(le.fromString(t))},e.EMPTY=new e(new le([])),e}(),pe=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(ne||(ne={}));var me=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new pe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,o,i){var a=new e(t,n,Date.now()+r,o,i);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),ye=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw y("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),b(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var o=me.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(o),o},e.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){b(e===ne.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),e!==ne.All&&o.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);b(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),ge="\x01",ve="\x01",be="\x10",we="\x11";function _e(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ee(t)),t=ke(e.get(n),t);return Ee(t)}function ke(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+=ge+be;break;case ge:n+=ge+we;break;default:n+=i}}return n}function Ee(e){return e+ge+ve}function Ce(e){var t=e.length;if(b(t>=2,"Invalid path "+e),2===t)return b(e.charAt(0)===ge&&e.charAt(1)===ve,"Non-empty path "+e+" had length 2"),le.EMPTY_PATH;for(var n=t-2,r=[],o="",i=0;i<t;){var a=e.indexOf(ge,i);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case ve:var s=e.substring(i,a),c=void 0;0===o.length?c=s:(c=o+=s,o=""),r.push(c);break;case be:o+=e.substring(i,a),o+="\0";break;case we:o+=e.substring(i,a+1);break;default:v('Invalid encoded resource path: "'+e+'"')}i=a+2}return new le(r)}var Oe=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new E(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new E(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new E(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Se=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Oe(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Oe(0,0)),e}(),Te=function(){function e(e,t){this.comparator=e,this.root=t||Ae.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ae.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ae.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Pe(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Pe(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Pe(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Pe(this.root,e,this.comparator,!0)},e}(),Pe=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){b(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ae=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw v("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Ie=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw v("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw v("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw v("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw v("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw v("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new Ae(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Ae.EMPTY=new Ie;var xe=function(){function e(e){this.comparator=e,this.data=new Te(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new je(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new je(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),je=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),De=new Te(he.comparator);function Ne(){return De}function Re(){return Ne()}var Me=new Te(he.comparator);function Le(){return Me}var Fe=new Te(he.comparator);function Be(){return Fe}var Ue=new xe(he.comparator);function qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ue,r=0,o=e;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var Ve=new xe(X);function We(){return Ve}var Ge=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,b(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&b(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;b(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];if(i.key.isEqual(e)){var a=r[o];t=i.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&b(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime))}for(var o=t,i=0,a=this.mutations;i<a.length;i++){var s;(s=a[i]).key.isEqual(e)&&(t=s.applyToLocalView(t,o,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var o=t.applyToLocalView(r.key,e.get(r.key));o&&(n=n.insert(r.key,o))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),qe())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&J(this.mutations,e.mutations)&&J(this.baseMutations,e.baseMutations)},e}(),He=function(){function e(e,t,n,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return e.from=function(t,n,r,o){b(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var i=Be(),a=t.mutations,s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new e(t,n,r,o,i)},e}(),ze=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,o=0,i=!1;t.forEach((function(t){++r,t.next((function(){++o,i&&o===r&&e()}),(function(e){return n(e)}))})),i=!0,o===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},o=0,i=t;o<i.length;o++){r(i[o])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,o){r.push(t.call(n,e,o))})),this.waitFor(r)},e}(),Qe="SimpleDb",$e=function(){function t(e){this.db=e,12.2===t.getIOSVersion(c.getUA())&&y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return b(t.isAvailable(),"IndexedDB not supported in current environment."),m(Qe,"Opening database:",e),new ze((function(o,i){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;o(new t(n))},a.onblocked=function(){i(new E(k.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;"VersionError"===t.name?i(new E(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(t)},a.onupgradeneeded=function(t){m(Qe,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,a.transaction,t.oldVersion,on).next((function(){m(Qe,"Database upgrade to version "+on+" complete")}))}})).toPromise()},t.delete=function(e){return m(Qe,"Removing database:",e),Je(window.indexedDB.deleteDatabase(e)).toPromise()},t.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(t.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=c.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,o=t.getAndroidVersion(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)},t.isMockPersistence=function(){var t;return"undefined"!==typeof e&&"YES"===(null===(t=e.env)||void 0===t?void 0:t.USE_MOCK_PERSISTENCE)},t.getStore=function(e,t){return e.store(t)},t.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},t.prototype.runTransaction=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r,o,i,s,c,u;return a.__generator(this,(function(l){switch(l.label){case 0:r=e.startsWith("readonly"),o=e.endsWith("idempotent"),i=0,s=function(){var e,s,u,l;return a.__generator(this,(function(a){switch(a.label){case 0:++i,e=Ye.open(c.db,r?"readonly":"readwrite",t),a.label=1;case 1:return a.trys.push([1,3,,4]),(s=n(e).catch((function(t){return e.abort(t),ze.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return a.sent(),[2,{value:s}];case 3:return u=a.sent(),l=o&&"FirebaseError"!==u.name&&i<3,m(Qe,"Transaction failed with error: %s. Retrying: %s.",u.message,l),l?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},c=this,l.label=1;case 1:return[5,s()];case 2:return"object"===typeof(u=l.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Ke=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Je(this.dbCursor.delete())},e}(),Ye=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new pe,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=et(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(m(Qe,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return b(!!t,"Object store not part of transaction: "+e),new Xe(t)},e}(),Xe=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(m(Qe,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(m(Qe,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Je(n)},e.prototype.add=function(e){return m(Qe,"ADD",this.store.name,e,e),Je(this.store.add(e))},e.prototype.get=function(e){var t=this;return Je(this.store.get(e)).next((function(n){return void 0===n&&(n=null),m(Qe,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return m(Qe,"DELETE",this.store.name,e),Je(this.store.delete(e))},e.prototype.count=function(){return m(Qe,"COUNT",this.store.name),Je(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){m(Qe,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new ze((function(n,r){t.onerror=function(e){var t=et(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new ze((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new Ke(o),a=t(o.primaryKey,o.value,i);if(a instanceof ze){var s=a.catch((function(e){return i.done(),ze.reject(e)}));n.push(s)}i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}})).next((function(){return ze.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"===typeof e?n=e:(b(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Je(e){return new ze((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=et(e.target.error);n(t)}}))}var Ze=!1;function et(e){var t=$e.getIOSVersion(c.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ze||(Ze=!0,setTimeout((function(){throw r}),0)),r}}return e}var tt=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,o){return b(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return it(e).iterate({index:ln.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=ot(n),st(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=ot(t),st(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=at(e),a=it(e);return a.add({}).next((function(s){b("number"===typeof s,"Auto-generated key is not a number");for(var c=new Ge(s,t,n,r),u=o.serializer.toDbMutationBatch(o.userId,c),l=[],f=new xe((function(e,t){return X(e.canonicalString(),t.canonicalString())})),d=0,h=r;d<h.length;d++){var p=h[d],m=fn.key(o.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(u)),l.push(i.put(m,fn.PLACEHOLDER))}return f.forEach((function(t){l.push(o.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){o.documentKeysByBatchId[s]=c.keys()})),ze.waitFor(l).next((function(){return c}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return it(e).get(t).next((function(e){return e?(b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?ze.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return it(e).iterate({index:ln.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(b(t.batchId>=r,"Should have found mutation after "+r),i=n.serializer.fromDbMutationBatch(t)),o.done()})).next((function(){return i}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return it(e).iterate({index:ln.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return it(e).loadAll(ln.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=fn.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return at(e).iterate({range:o},(function(r,o,a){var s=r[0],c=r[1],u=r[2],l=Ce(c);if(s===n.userId&&t.path.isEqual(l))return it(e).get(u).next((function(e){if(!e)throw v("Dangling document-mutation reference found: "+r+" which points to "+u);b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+u),i.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return i}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new xe(X),o=[];return t.forEach((function(t){var i=fn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(i),s=at(e).iterate({range:a},(function(e,o,i){var a=e[0],s=e[1],c=e[2],u=Ce(s);a===n.userId&&t.path.isEqual(u)?r=r.add(c):i.done()}));o.push(s)})),ze.waitFor(o).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;b(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,o=r.length+1,i=fn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new xe(X);return at(e).iterate({range:a},(function(e,t,i){var a=e[0],c=e[1],u=e[2],l=Ce(c);a===n.userId&&r.isPrefixOf(l)?l.length===o&&(s=s.add(u)):i.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(it(e).get(t).next((function(e){if(null===e)throw v("Dangling document-mutation reference found, which points to "+t);b(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),ze.waitFor(o).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return rt(e.simpleDbTransaction,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),ze.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ze.resolve();var r=IDBKeyRange.lowerBound(fn.prefixForUser(t.userId)),o=[];return at(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var i=Ce(e[1]);o.push(i)}else r.done()})).next((function(){b(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return nt(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return st(e).get(this.userId).next((function(e){return e||new un(t.userId,-1,"")}))},e}();function nt(e,t,n){var r=fn.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return at(e).iterate({range:i,keysOnly:!0},(function(e,n,r){var i=e[0],s=e[1];e[2];i===t&&s===o&&(a=!0),r.done()})).next((function(){return a}))}function rt(e,t,n){var r=e.store(ln.store),o=e.store(fn.store),i=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));i.push(c.next((function(){b(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],l=0,f=n.mutations;l<f.length;l++){var d=f[l],h=fn.key(t,d.key.path,n.batchId);i.push(o.delete(h)),u.push(d.key)}return ze.waitFor(i).next((function(){return u}))}function ot(e){return e instanceof Uint8Array?(b($e.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function it(e){return Vn.getStore(e,ln.store)}function at(e){return Vn.getStore(e,fn.store)}function st(e){return Vn.getStore(e,un.store)}var ct,ut=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(ct||(ct={}));var lt=function(){function e(e,t){this.generatorId=e,b((e&ut)===e,"Generator ID "+e+" contains more than "+ut+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<ut,e},e.prototype.after=function(e){return this.seek(e+(1<<ut)),this.next()},e.prototype.seek=function(e){b((e&ut)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forTargetCache=function(){return new e(ct.QueryCache,2)},e.forSyncEngine=function(){return new e(ct.SyncEngine)},e}(),ft=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=lt.forTargetCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return Se.fromTimestamp(new Oe(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return pt(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.saveMetadata(e,o)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.saveTargetData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.saveTargetData(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dt(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return b(t.targetCount>0,"Removing from an empty target cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return dt(e).iterate((function(a,s){var c=r.serializer.fromDbTarget(s);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(o++,i.push(r.removeTargetData(e,c)))})).next((function(){return ze.waitFor(i)})).next((function(){return o}))},e.prototype.forEachTarget=function(e,t){var n=this;return dt(e).iterate((function(e,r){var o=n.serializer.fromDbTarget(r);t(o)}))},e.prototype.retrieveMetadata=function(e){return ht(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Vn.getStore(n,vn.store)).put(vn.key,t);var n},e.prototype.saveTargetData=function(e,t){return dt(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromTargetData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=this,r=t.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return dt(e).iterate({range:o,index:yn.queryTargetsIndexName},(function(e,r,o){var a=n.serializer.fromDbTarget(r);t.isEqual(a.target)&&(i=a,o.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=mt(e);return t.forEach((function(t){var a=_e(t.path);o.push(i.put(new gn(n,a))),o.push(r.referenceDelegate.addReference(e,t))})),ze.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=mt(e);return ze.forEach(t,(function(t){var i=_e(t.path);return ze.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=mt(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mt(e),o=qe();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Ce(e[1]),i=new he(r);o=o.add(i)})).next((function(){return o}))},e.prototype.containsKey=function(e,t){var n=_e(t.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),o=0;return mt(e).iterate({index:gn.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1];0!==r&&(o++,n.done())})).next((function(){return o>0}))},e.prototype.getTargetDataForTarget=function(e,t){var n=this;return dt(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function dt(e){return Vn.getStore(e,yn.store)}function ht(e){return $e.getStore(e,vn.store).get(vn.key).next((function(e){return b(null!==e,"Missing metadata row."),e}))}function pt(e){return ht(e).next((function(e){return e.highestListenSequenceNumber}))}function mt(e){return Vn.getStore(e,gn.store)}var yt,gt=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new xe(de.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),vt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),bt=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete",e[e.Verify=4]="Verify"}(yt||(yt={}));var wt,_t,kt=function(){function e(e,t){this.updateTime=e,this.exists=t,b(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof zt&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof zt:(b(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!==t&&void 0!==t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),Et=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&b(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof zt?e.version:Se.MIN},e}(),Ct=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.value=n,o.precondition=r,o.type=yt.Set,o}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new zt(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Et.getPostMutationVersion(e);return new zt(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(Et),Ot=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.key=t,i.data=n,i.fieldMask=r,i.precondition=o,i.type=yt.Patch,i}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new $t(this.key,t.version);var n=this.patchDocument(e);return new zt(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Et.getPostMutationVersion(e),o=this.patchDocument(e);return new zt(this.key,r,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof zt?e.data():Wt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},t}(Et),St=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=yt.Transform,r.precondition=kt.exists(!0),r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),b(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new $t(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),o=t.version,i=this.transformObject(n.data(),r);return new zt(this.key,o,{hasCommittedMutations:!0},i)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),o=this.localTransformResults(n,e,t),i=this.transformObject(r.data(),o);return new zt(this.key,r.version,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var o=r[n],i=e instanceof zt?e.field(o.field):void 0,a=o.transform.computeBaseValue(i||null);null!=a&&(t=null==t?Wt.EMPTY.set(o.field,a):t.set(o.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&J(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){return b(e instanceof zt,"Unknown MaybeDocument type "+e),b(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},t.prototype.serverTransformResults=function(e,t){var n=[];b(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var o=this.fieldTransforms[r],i=o.transform,a=null;e instanceof zt&&(a=e.field(o.field)),n.push(i.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],o=0,i=this.fieldTransforms;o<i.length;o++){var a=i[o],s=a.transform,c=null;t instanceof zt&&(c=t.field(a.field)),null===c&&n instanceof zt&&(c=n.field(a.field)),r.push(s.applyToLocalView(c,e))}return r},t.prototype.transformObject=function(e,t){b(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(Et),Tt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=yt.Delete,r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),b(null==t.transformResults,"Transform results received by DeleteMutation."),new Qt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&b(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Qt(this.key,Se.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(Et),Pt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=yt.Verify,r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){v("VerifyMutation should only be used in Transactions.")},t.prototype.applyToLocalView=function(e,t,n){v("VerifyMutation should only be used in Transactions.")},t.prototype.extractBaseValue=function(e){v("VerifyMutation should only be used in Transactions.")},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(Et);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(wt||(wt={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(_t||(_t={}));var At=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(_t.Estimate,n);case"previous":return new e(_t.Previous,n);case"none":case void 0:return new e(_t.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},e}(),It=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return b(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),X(this.typeOrder,e.typeOrder)},e}(),xt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=wt.NullValue,t.internalValue=null,t}return a.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(It),jt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.BooleanValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?X(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(It),Dt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.NumberValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(It);function Nt(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Nt(this.internalValue,e.internalValue)},t}(Dt),Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Nt(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Dt),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.StringValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?X(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(It),Ft=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.TimestampValue,n}return a.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Bt?-1:this.defaultCompareTo(e)},t}(It),Bt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=wt.TimestampValue,r}return a.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===_t.Estimate?new Ft(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===_t.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Ft?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(It),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.BlobValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(It),qt=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=wt.RefValue,r}return a.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:he.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(It),Vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.GeoPointValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(It),Wt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.ObjectValue,n}return a.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),a=X(o.key,i.key)||o.value.compareTo(i.value);if(a)return a}return X(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(b(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var o=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),o)},t.prototype.delete=function(e){if(b(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){b(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new xe(de.comparator);return this.internalValue.forEach((function(n,r){var o=new de([n]);if(r instanceof t){var i=r.fieldMask().fields;i.isEmpty()?e=e.add(o):i.forEach((function(t){e=e.add(o.child(t))}))}else e=e.add(o)})),gt.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Te(X)),t}(It),Gt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=wt.ArrayValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(e.internalValue[r]);if(o)return o}return X(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(It),Ht=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return he.comparator(e.key,t.key)},e}(),zt=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n)||this;return s.objectValue=o,s.proto=i,s.converter=a,b(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return a.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Wt.EMPTY;P(this.proto.fields||{},(function(n,r){t=t.set(new de([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){b(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),o=n.field(e);return null!==r&&null!==o?r.compareTo(o):v("Trying to compare documents on fields that don't exist")},t}(Ht),Qt=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return a.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ht),$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ht),Kt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){P(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[0],s=i[1];e(a,s)}}))},e.prototype.isEmpty=function(){return A(this.inner)},e}(),Yt=function(){function e(){this.changes=new Kt((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return b(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){b(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ze.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){b(!this.changesApplied,"Changes have already been applied.")},e}(),Xt=function(){function e(e,t){this.serializer=e,this.indexManager=t}return e.prototype.addEntry=function(e,t,n){return Zt(e).put(en(t),n)},e.prototype.removeEntry=function(e,t){var n=Zt(e),r=en(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Zt(e).get(en(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return Zt(e).get(en(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:tn(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Re();return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);r=r.insert(e,o)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=Re(),o=new Te(he.comparator);return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);i?(r=r.insert(e,i),o=o.insert(e,tn(t))):(r=r.insert(e,null),o=o.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:o}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return ze.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return Zt(e).iterate({range:r},(function(e,t,r){for(var a=he.fromSegments(e);i&&he.comparator(i,a)<0;)n(i,null),i=o.getNext();i&&i.isEqual(a)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.skip(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var o=Le(),i=t.path.length+1,a={};if(n.isEqual(Se.MIN)){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var c=t.path.toArray(),u=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([c,u],!0),a.index=pn.collectionReadTimeIndex}return Zt(e).iterate(a,(function(e,n,a){if(e.length===i){var s=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(s.key.path)?s instanceof zt&&t.matches(s)&&(o=o.insert(s.key,s)):a.done()}})).next((function(){return o}))},e.prototype.getNewDocumentChanges=function(e,t){var n=this,r=Ne(),o=this.serializer.toDbTimestampKey(t),i=Zt(e),a=IDBKeyRange.lowerBound(o,!0);return i.iterate({index:pn.readTimeIndex,range:a},(function(e,t){var i=n.serializer.fromDbRemoteDocument(t);r=r.insert(i.key,i),o=t.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(o)}}))},e.prototype.getLastDocumentChange=function(e){var t,n=this,r=Zt(e),o=Se.MIN;return r.iterate({index:pn.readTimeIndex,reverse:!0},(function(e,r,i){t=n.serializer.fromDbRemoteDocument(r),r.readTime&&(o=n.serializer.fromDbTimestampKey(r.readTime)),i.done()})).next((function(){return{changedDoc:t,readTime:o}}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Jt(e).get(mn.key).next((function(e){return b(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Jt(e).put(mn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof Qt&&t.version.isEqual(Se.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var r=e.call(this)||this;return r.documentCache=t,r.trackRemovals=n,r.documentSizes=new Kt((function(e){return e.toString()})),r}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new xe((function(e,t){return X(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(i,a){var s=t.documentSizes.get(i);if(b(void 0!==s,"Cannot modify a document that wasn't read (for "+i+")"),a){b(!t.readTime.isEqual(Se.MIN),"Cannot add a document with a read time of zero");var c=t.documentCache.serializer.toDbRemoteDocument(a,t.readTime);o=o.add(i.path.popLast());var u=tn(c);r+=u-s,n.push(t.documentCache.addEntry(e,i,c))}else if(r-=s,t.trackRemovals){var l=t.documentCache.serializer.toDbRemoteDocument(new Qt(i,Se.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,i,l))}else n.push(t.documentCache.removeEntry(e,i))})),o.forEach((function(r){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.documentCache.updateMetadata(e,r)),ze.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(Yt),e}();function Jt(e){return Vn.getStore(e,mn.store)}function Zt(e){return Vn.getStore(e,pn.store)}function en(e){return e.path.toArray()}function tn(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var nn=function(){function e(){this.collectionParentIndex=new rn}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),ze.resolve()},e.prototype.getCollectionParents=function(e,t){return ze.resolve(this.collectionParentIndex.getEntries(t))},e}(),rn=function(){function e(){this.index={}}return e.prototype.add=function(e){b(e.length%2===1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xe(le.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new xe(le.comparator)).toArray()},e}(),on=9,an=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var o=this;b(n<r&&n>=0&&r<=on,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var i=new Ye(t);n<1&&r>=1&&(function(e){e.createObjectStore(cn.store)}(e),function(e){e.createObjectStore(un.store,{keyPath:un.keyPath}),e.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0}),e.createObjectStore(fn.store)}(e),wn(e),function(e){e.createObjectStore(pn.store)}(e));var a=ze.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(gn.store),e.deleteObjectStore(yn.store),e.deleteObjectStore(vn.store)}(e),wn(e)),a=a.next((function(){return function(e){var t=e.store(vn.store),n=new vn(0,0,Se.MIN.toTimestamp(),0);return t.put(vn.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ln.store).loadAll().next((function(n){e.deleteObjectStore(ln.store),e.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0});var r=t.store(ln.store),o=n.map((function(e){return r.put(e)}));return ze.waitFor(o)}))}(e,i)}))),a=a.next((function(){!function(e){e.createObjectStore(_n.store,{keyPath:_n.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return o.removeAcknowledgedMutations(i)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(mn.store)}(e),o.addDocumentGlobal(i)}))),n<7&&r>=7&&(a=a.next((function(){return o.ensureSequenceNumbers(i)}))),n<8&&r>=8&&(a=a.next((function(){return o.createCollectionParentIndex(e,i)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(pn.store);t.createIndex(pn.readTimeIndex,pn.readTimeIndexPath,{unique:!1}),t.createIndex(pn.collectionReadTimeIndex,pn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(pn.store).iterate((function(e,n){t+=tn(n)})).next((function(){var n=new mn(t);return e.store(mn.store).put(mn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(un.store),r=e.store(ln.store);return n.loadAll().next((function(n){return ze.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(ln.userMutationsIndex,o).next((function(r){return ze.forEach(r,(function(r){b(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=t.serializer.fromDbMutationBatch(r);return rt(e,n.userId,o).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(gn.store),n=e.store(pn.store);return pt(e).next((function(e){var r=[];return n.iterate((function(n,o){var i=new le(n),a=function(e){return[0,_e(e)]}(i);r.push(t.get(a).next((function(n){return n?ze.resolve():function(n){return t.put(new gn(0,_e(n),e))}(i)})))})).next((function(){return ze.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(bn.store,{keyPath:bn.keyPath});var n=t.store(bn.store),r=new rn,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:_e(o)})}};return t.store(pn.store).iterate({keysOnly:!0},(function(e,t){var n=new le(e);return o(n.popLast())})).next((function(){return t.store(fn.store).iterate({keysOnly:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ce(n));return o(r.popLast())}))}))},e}();var sn=function(e,t){this.seconds=e,this.nanoseconds=t},cn=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var un=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),ln=function(){function e(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var fn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,_e(t)]},e.key=function(e,t,n){return[e,_e(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var dn=function(e,t){this.path=e,this.readTime=t},hn=function(e,t){this.path=e,this.version=t},pn=function(){function e(e,t,n,r,o,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),mn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var yn=function(){function e(e,t,n,r,o,i,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=a}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),gn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,b(0===e===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),vn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),bn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function wn(e){e.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.documentTargetsIndex,gn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(yn.store,{keyPath:yn.keyPath}).createIndex(yn.queryTargetsIndexName,yn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(vn.store)}var _n=function(){function e(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}return e.store="clientMetadata",e.keyPath="clientId",e}();var kn,En=[un.store,ln.store,fn.store,pn.store,yn.store,cn.store,vn.store,gn.store],Cn=a.__spreadArrays(En,[_n.store]),On=a.__spreadArrays(Cn,[mn.store]),Sn=a.__spreadArrays(On,[bn.store]),Tn=function(){function e(){this.collectionParentsCache=new rn}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(b(t.length%2===1,"Expected a collection path."),!this.collectionParentsCache.has(t)){var r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)}));var i={collectionId:r,parent:_e(o)};return Pn(e).put(i)}return ze.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Z(t),""],!1,!0);return Pn(e).loadAll(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(Ce(i.parent))}return n}))},e}();function Pn(e){return Vn.getStore(e,bn.store)}!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(kn||(kn={}));var An=function(){function e(e,t,n,r,o,i,a){void 0===o&&(o=Se.MIN),void 0===i&&(i=Se.MIN),void 0===a&&(a=_()),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.target.isEqual(e.target)},e}(),In=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=he.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Qt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=he.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new $t(t,n)}return v("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof zt){var o=e.proto?e.proto:this.remoteSerializer.toDocument(e),i=e.hasCommittedMutations;return new pn(null,null,o,i,n,r)}if(e instanceof Qt){var a=e.key.path.toArray(),s=this.toDbTimestamp(e.version);i=e.hasCommittedMutations;return new pn(null,new dn(a,s),null,i,n,r)}if(e instanceof $t){a=e.key.path.toArray();var c=this.toDbTimestamp(e.version);return new pn(new hn(a,c),null,null,!0,n,r)}return v("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new Oe(e[0],e[1]);return Se.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new sn(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Oe(e.seconds,e.nanoseconds);return Se.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),o=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new ln(e,t.batchId,t.localWriteTime.toMillis(),r,o)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),o=Oe.fromMillis(e.localWriteTimeMs);return new Ge(e.batchId,o,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(_e(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=qe(),n=0,r=e;n<r.length;n++){var o=r[n];t=t.add(new he(Ce(o)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):Se.MIN,o=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new An(t,e.targetId,kn.Listen,e.lastListenSequenceNumber,n,r,o)},e.prototype.toDbTarget=function(e){b(kn.Listen===e.purpose,"Only queries with purpose "+kn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),o=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.target):this.remoteSerializer.toQueryTarget(e.target),e.resumeToken instanceof Uint8Array?(b($e.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new yn(e.targetId,e.target.canonicalId(),r,n,e.sequenceNumber,o,t)},e}();function xn(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=X(n,o);return 0===a?X(r,i):a}var jn=function(){function e(e){this.maxElements=e,this.buffer=new xe(xn),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xn(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Dn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nn=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Rn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Nn.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ne.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(Wn)}))},e}(),Mn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return ze.resolve(ce.INVALID);var r=new jn(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Nn.COLLECTION_DISABLED?(m("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(Dn)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Dn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,i,a,s,c,u,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,c=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){(u=Date.now(),h()<=o.DEBUG)&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(c-s)+"ms\n\tRemoved "+e+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-f)+"ms");return ze.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ln=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Fn="IndexedDbPersistence",Bn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Un="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",qn=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return a.__extends(t,e),t}(Ln),Vn=function(){function e(t,n,r,o,i,a,s,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=c,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new zn(this,i),this.dbName=n+e.MAIN_DATABASE,this.serializer=new In(s),this.document=o.document,this.targetCache=new ft(this.referenceDelegate,this.serializer),this.indexManager=new Tn,this.remoteDocumentCache=new Xt(this.serializer,this.indexManager),!o.window||!o.window.localStorage)throw new E(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=o.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof qn)return $e.getStore(e.simpleDbTransaction,t);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new E(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),$e.openOrCreate(this.dbName,on,new an(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[vn.store],(function(e){return pt(e)}))})).then((function(t){e.listenSequence=new ce(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite-idempotent",Sn,(function(t){return Hn(t).put(new _n(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){return e.isPrimary&&!n?e.releasePrimaryLeaseIfHeld(t).next((function(){return!1})):!!n&&e.acquireOrExtendPrimaryLease(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return m(Fn,"Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(t)})),e.isPrimary=t}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return Gn(e).get(cn.key).next((function(e){return ze.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Hn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=e.getStore(n,_n.store);return r.loadAll().next((function(e){var n=t.filterActiveClients(e,18e5),o=e.filter((function(e){return-1===n.indexOf(e)}));return ze.forEach(o,(function(e){return r.delete(e.clientId)})).next((function(){return o}))}))}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ne.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Gn(e).get(cn.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(k.FAILED_PRECONDITION,Un);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&m(Fn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[cn.store,_n.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[_n.store],(function(t){return Hn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,$e.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),tt.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getTargetCache=function(){return b(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},e.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return b(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;m(Fn,"Starting transaction:",e);var o,i=t.endsWith("idempotent"),a=t.startsWith("readonly")?i?"readonly-idempotent":"readonly":i?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(a,Sn,(function(i){return o=new qn(i,r.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?r.verifyPrimaryLease(i).next((function(e){return!!e||r.canActAsPrimary(i)})).next((function(t){if(!t)throw y("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new E(k.FAILED_PRECONDITION,Bn);return n(o)})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Gn(e).get(cn.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new E(k.FAILED_PRECONDITION,Un)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new cn(this.clientId,this.allowTabSynchronization,Date.now());return Gn(e).put(cn.key,t)},e.isAvailable=function(){return $e.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Gn(e);return n.get(cn.key).next((function(e){return t.isLocalClient(e)?(m(Fn,"Releasing primary lease."),n.delete(cn.key)):ze.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(y("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return m(Fn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return y(Fn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){y("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Wn(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){if(!function(e){return e.code===k.FAILED_PRECONDITION&&e.message===Bn}(e))throw e;return m(Fn,"Unexpectedly lost primary lease"),[2]}))}))}function Gn(e){return e.store(cn.store)}function Hn(e){return e.store(_n.store)}var zn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Mn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Qn(e,t)},e.prototype.removeReference=function(e,t){return Qn(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Qn(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?ze.resolve(!0):function(e,t){var n=!1;return st(e).iterateSerial((function(r){return nt(e,r,t).next((function(e){return e&&(n=!0),ze.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var c=n.isPinned(e,a).next((function(t){if(!t)return i++,r.getEntry(e,a).next((function(){return r.removeEntry(a),mt(e).delete([0,_e(a.path)])}))}));o.push(c)}})).next((function(){return ze.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return i}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Qn(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=mt(e),o=ce.INVALID;return r.iterate({index:gn.documentTargetsIndex},(function(e,r){var i=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===i?(o!==ce.INVALID&&t(new he(Ce(n)),o),o=s,n=a):o=ce.INVALID})).next((function(){o!==ce.INVALID&&t(new he(Ce(n)),o)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Qn(e,t){return mt(e).put(function(e,t){return new gn(0,_e(e.path),t)}(t,e.currentSequenceNumber))}var $n=Number,Kn=$n.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Yn=$n.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Xn=$n.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function Jn(e){return null===e||void 0===e}function Zn(e){return Xn(e)&&e<=Yn&&e>=Kn}var er,tr=function(){function e(e,t,n,r,o,i,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.memoizedCanonicalId=null}return e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){e+=o[r].canonicalId(),e+=","}Jn(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e=this.path.canonicalString();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Jn(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.isDocumentQuery=function(){return he.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}();!function(e){e.First="F",e.Last="L"}(er||(er={}));var nr=function(){function e(e,t,n,r,o,i,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=er.First),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[pr]:this.memoizedOrderBy=[new hr(e),pr];else{b(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:fr.ASCENDING;this.memoizedOrderBy.push(a===fr.ASCENDING?pr:mr)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){b(null==this.getInequalityFilterField()||!(t instanceof ir)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.withLimitToFirst=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,er.First,this.startAt,this.endAt)},e.prototype.withLimitToLast=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,er.Last,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},e.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},e.prototype.isEqual=function(e){return this.toTarget().isEqual(e.toTarget())&&this.limitType===e.limitType},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(e,t);if(0!==a)return a;n=n||i.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimitToFirst=function(){return!Jn(this.limit)&&this.limitType===er.First},e.prototype.hasLimitToLast=function(){return!Jn(this.limit)&&this.limitType===er.Last},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof ir&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof ir&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===er.First)this.memoizedTarget=new tr(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t],o=r.dir===fr.DESCENDING?fr.ASCENDING:fr.DESCENDING;e.push(new hr(r.field,o))}var i=this.endAt?new dr(this.endAt.position,!this.endAt.before):null,a=this.startAt?new dr(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new tr(this.path,this.collectionGroup,e,this.filters,this.limit,i,a)}return this.memoizedTarget},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):he.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){b(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),rr=function(){},or=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),ir=function(e){function t(t,n,r){var o=e.call(this)||this;return o.field=t,o.op=n,o.value=r,o}return a.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===or.IN?(b(r instanceof Gt,"Comparing on key with IN, but filter value not an ArrayValue"),b(r.internalValue.every((function(e){return e instanceof qt})),"Comparing on key with IN, but an array value was not a RefValue"),new sr(e,r)):(b(r instanceof qt,"Comparing on key, but filter value not a RefValue"),b(n!==or.ARRAY_CONTAINS&&n!==or.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new ar(e,n,r));if(r.isEqual(xt.INSTANCE)){if(n!==or.EQUAL)throw new E(k.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Mt.NAN)){if(n!==or.EQUAL)throw new E(k.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===or.ARRAY_CONTAINS?new cr(e,r):n===or.IN?(b(r instanceof Gt,"IN filter has invalid value: "+r.toString()),new ur(e,r)):n===or.ARRAY_CONTAINS_ANY?(b(r instanceof Gt,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new lr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case or.LESS_THAN:return e<0;case or.LESS_THAN_OR_EQUAL:return e<=0;case or.EQUAL:return 0===e;case or.GREATER_THAN:return e>0;case or.GREATER_THAN_OR_EQUAL:return e>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[or.LESS_THAN,or.LESS_THAN_OR_EQUAL,or.GREATER_THAN,or.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(rr),ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=he.comparator(e.key,t.key);return this.matchesComparison(n)},t}(ir),sr=function(e){function t(t,n){var r=e.call(this,t,or.IN,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(ir),cr=function(e){function t(t,n){return e.call(this,t,or.ARRAY_CONTAINS,n)||this}return a.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Gt&&t.contains(this.value)},t}(ir),ur=function(e){function t(t,n){var r=e.call(this,t,or.IN,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(ir),lr=function(e){function t(t,n){var r=e.call(this,t,or.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Gt&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(ir),fr=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),dr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){b(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=e[r],i=this.position[r];if(o.field.isKeyField())b(i instanceof qt,"Bound has a non-key value where the key path is being used."),n=he.comparator(i.key,t.key);else{var a=t.field(o.field);b(null!==a,"Field should exist since document matched the orderBy already."),n=i.compareTo(a)}if(o.dir===fr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),hr=function(){function e(e,t){this.field=e,void 0===t&&(t=fr.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?zt.compareByKey(e,t):zt.compareByField(this.field,e,t);switch(this.dir){case fr.ASCENDING:return n;case fr.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),pr=new hr(de.keyField(),fr.ASCENDING),mr=new hr(de.keyField(),fr.DESCENDING),yr=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return b(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),t.matchesAllDocuments()?this.executeFullCollectionScan(e,t):n.isEqual(Se.MIN)?this.executeFullCollectionScan(e,t):this.localDocumentsView.getDocuments(e,r).next((function(a){var s=i.applyQuery(t,a);return(t.hasLimitToFirst()||t.hasLimitToLast())&&i.needsRefill(t.limitType,s,r,n)?i.executeFullCollectionScan(e,t):(h()<=o.DEBUG&&m("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),i.localDocumentsView.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.applyQuery=function(e,t){var n=new xe((function(t,n){return e.docComparator(t,n)}));return t.forEach((function(t,r){r instanceof zt&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.needsRefill=function(e,t,n,r){if(n.size!==t.size)return!0;var o=e===er.First?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},e.prototype.executeFullCollectionScan=function(e,t){return h()<=o.DEBUG&&m("IndexFreeQueryEngine","Using full collection scan to execute query: %s",t.toString()),this.localDocumentsView.getDocumentsMatchingQuery(e,t,Se.MIN)},e}(),gr=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,o=n;r<o.length;r++){e=o[r].applyToLocalView(t,e)}return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Re();return t.forEach((function(e,t){for(var o=0,i=n;o<i.length;o++){t=i[o].applyToLocalView(e,t)}r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var o=n.applyLocalMutationsToDocuments(e,t,r),i=Ne();return o.forEach((function(e,t){t||(t=new Qt(e,Se.forDeletedDoc())),i=i.insert(e,t)})),i}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new he(t)).next((function(e){var t=Le();return e instanceof zt&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;b(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var o=t.collectionGroup,i=Le();return this.indexManager.getCollectionParents(e,o).next((function(a){return ze.forEach(a,(function(a){var s=t.asCollectionQueryAtPath(a.child(o));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,o,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o=t,i.addMissingBaseDocuments(e,o,r).next((function(e){r=e;for(var t=0,n=o;t<n.length;t++)for(var i=n[t],a=0,s=i.mutations;a<s.length;a++){var c=s[a],u=c.key,l=r.get(u),f=c.applyToLocalView(l,l,i.localWriteTime);r=f instanceof zt?r.insert(u,f):r.remove(u)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=qe(),o=0,i=t;o<i.length;o++)for(var a=0,s=i[o].mutations;a<s.length;a++){var c=s[a];c instanceof Ot&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof zt&&(u=u.insert(e,t))})),u}))},e}(),vr=function(){function e(){this.refsByKey=new xe(br.compareByKey),this.refsByTarget=new xe(br.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new br(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new br(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=he.EMPTY,r=new br(n,e),o=new br(n,e+1),i=[];return this.refsByTarget.forEachInRange([r,o],(function(e){t.removeRef(e),i.push(e.key)})),i},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=he.EMPTY,n=new br(t,e),r=new br(t,e+1),o=qe();return this.refsByTarget.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},e.prototype.containsKey=function(e){var t=new br(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),br=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return he.comparator(e.key,t.key)||X(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return X(e.targetOrBatchId,t.targetOrBatchId)||he.comparator(e.key,t.key)},e}(),wr=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new vr,this.targetDataByTarget=new Te(X),this.targetIdByTarget=new Kt((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=Se.MIN,b(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.localDocuments=new gr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},e.prototype.handleUserChange=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return a.__generator(this,(function(i){switch(i.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var i;return o.mutationQueue.getAllMutationBatches(r).next((function(a){return i=a,t=o.persistence.getMutationQueue(e),n=new gr(o.remoteDocuments,t,o.persistence.getIndexManager()),t.getAllMutationBatches(r)})).next((function(e){for(var t=[],o=[],a=qe(),s=0,c=i;s<c.length;s++){var u=c[s];t.push(u.batchId);for(var l=0,f=u.mutations;l<f.length;l++){var d=f[l];a=a.add(d.key)}}for(var h=0,p=e;h<p.length;h++){u=p[h];o.push(u.batchId);for(var m=0,y=u.mutations;m<y.length;m++){d=y[m];a=a.add(d.key)}}return n.getDocuments(r,a).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:o}}))}))}))];case 1:return r=i.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},e.prototype.localWrite=function(e){var t,n=this,r=Oe.now(),o=e.reduce((function(e,t){return e.add(t.key)}),qe());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(i){return n.localDocuments.getDocuments(i,o).next((function(o){t=o;for(var a=[],s=0,c=e;s<c.length;s++){var u=c[s],l=u.extractBaseValue(t.get(u.key));null!=l&&a.push(new Ot(u.key,l,l.fieldMask(),kt.exists(!0)))}return n.mutationQueue.addMutationBatch(i,r,a,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):ze.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=e.batch.keys(),o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,o)})).next((function(){return o.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return b(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.targetCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=t.snapshotVersion,o=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(i){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});o=n.targetDataByTarget;var s=[];T(t.targetChanges,(function(t,a){var c=o.get(t);if(c){s.push(n.targetCache.removeMatchingKeys(i,a.removedDocuments,t).next((function(){return n.targetCache.addMatchingKeys(i,a.addedDocuments,t)})));var u=a.resumeToken;if(u.length>0){var l=c.withResumeToken(u,r).withSequenceNumber(i.currentSequenceNumber);o=o.insert(t,l),e.shouldPersistTargetData(c,l,a)&&s.push(n.targetCache.updateTargetData(i,l))}}}));var c=Ne(),u=qe();if(t.documentUpdates.forEach((function(e,t){u=u.add(e)})),s.push(a.getEntries(i,u).next((function(e){t.documentUpdates.forEach((function(o,u){var l=e.get(o);u instanceof Qt&&u.version.isEqual(Se.MIN)?(a.removeEntry(o,r),c=c.insert(o,u)):null==l||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(b(!Se.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),a.addEntry(u,r),c=c.insert(o,u)):m("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",u.version),t.resolvedLimboDocuments.has(o)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(i,o))}))}))),!r.isEqual(Se.MIN)){var l=n.targetCache.getLastRemoteSnapshotVersion(i).next((function(e){return b(r.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+e),n.targetCache.setTargetsMetadata(i,i.currentSequenceNumber,r)}));s.push(l)}return ze.waitFor(s).next((function(){return a.apply(i)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(i,c)}))})).then((function(e){return n.targetDataByTarget=o,e}))},e.shouldPersistTargetData=function(e,t,n){return b(t.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var o=r[n],i=o.targetId;if(this.localViewReferences.addReferences(o.addedKeys,i),this.localViewReferences.removeReferences(o.removedKeys,i),!o.fromCache){var a=this.targetDataByTarget.get(i);b(null!==a,"Can't set limbo-free snapshot version for unknown target: "+i);var s=a.snapshotVersion,c=a.withLastLimboFreeSnapshotVersion(s);this.targetDataByTarget=this.targetDataByTarget.insert(i,c)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return ze.forEach(e,(function(e){return ze.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateTarget=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return t.targetCache.getTargetData(n,e).next((function(o){return o?(r=o,ze.resolve(r)):t.targetCache.allocateTargetId(n).next((function(o){return r=new An(e,o,kn.Listen,n.currentSequenceNumber),t.targetCache.addTargetData(n,r).next((function(){return r}))}))}))})).then((function(n){return null===t.targetDataByTarget.get(n.targetId)&&(t.targetDataByTarget=t.targetDataByTarget.insert(n.targetId,n),t.targetIdByTarget.set(e,n.targetId)),n}))},e.prototype.getTargetData=function(e,t){var n=this.targetIdByTarget.get(t);return void 0!==n?ze.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(e,t)},e.prototype.releaseTarget=function(e,t){var n=this,r=this.targetDataByTarget.get(e);b(null!==r,"Tried to release nonexistent target: "+e);var o=t?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",o,(function(o){var i=n.localViewReferences.removeReferencesForId(e);return t?ze.resolve():ze.forEach(i,(function(e){return n.persistence.referenceDelegate.removeReference(o,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(o,r)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(e),n.targetIdByTarget.delete(r.target)}))},e.prototype.executeQuery=function(e,t){var n=this,r=Se.MIN,o=qe();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(i){return n.getTargetData(i,e.toTarget()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(i,e.targetId).next((function(e){o=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(i,e,t?r:Se.MIN,t?o:qe())})).next((function(e){return{documents:e,remoteKeys:o}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.targetCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,o=t.batch,i=o.keys(),a=ze.resolve();return i.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var i=e,a=t.docVersions.get(r);b(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&((i=o.applyToRemoteDocument(r,i,t))?n.addEntry(i,t.commitVersion):b(!e,"Mutation batch "+o+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,o)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.targetDataByTarget)}))},e.prototype.getTarget=function(e){var t=this,n=this.targetDataByTarget.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return t.targetCache.getTargetDataForTarget(n,e).next((function(e){return e?e.target:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs,r=t.readTime;return e.lastDocumentChangeReadTime=r,n}))},e.prototype.synchronizeLastDocumentChangeReadTime=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t=this;return a.__generator(this,(function(n){return this.remoteDocuments instanceof Xt?(e=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.getLastDocumentChange(t)})).then((function(e){var n=e.readTime;t.lastDocumentChangeReadTime=n}))]):[2]}))}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),_r=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new xe(br.compareByKey)}return e.prototype.checkEmpty=function(e){return ze.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");b(0===o,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[o];return b(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),this.lastStreamToken=n,ze.resolve()},e.prototype.getLastStreamToken=function(e){return ze.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,ze.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){b(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var i=new Ge(o,t,n,r);this.mutationQueue.push(i);for(var a=0,s=r;a<s.length;a++){var c=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new br(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}return ze.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return ze.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return b(null!=n,"Failed to find local mutation batch."),ze.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),o=r<0?0:r;return ze.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ze.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return ze.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new br(t,0),o=new br(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],(function(e){b(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);b(null!==r,"Batches in the index must exist in the main table"),i.push(r)})),ze.resolve(i)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new xe(X);return t.forEach((function(e){var t=new br(e,0),o=new br(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,o],(function(t){b(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),ze.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,o=n;he.isDocumentKey(o)||(o=o.child(""));var i=new br(new he(o),0),a=new xe(X);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),i),ze.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;b(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return ze.forEach(t.mutations,(function(o){var i=new br(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.removeMutationReference(e,o.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new br(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return ze.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),ze.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return b(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return b(n.batchId===e,"If found batch must match"),n},e}();var kr,Er=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Te(he.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){b(!n.isEqual(Se.MIN),"Cannot add a document with a read time of zero");var r=t.key,o=this.docs.get(r),i=o?o.size:0,a=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return ze.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Re();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),ze.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){b(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Le(),o=new he(t.path.child("")),i=this.docs.getIteratorFrom(o);i.hasNext();){var a=i.getNext(),s=a.key,c=a.value,u=c.maybeDocument,l=c.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||u instanceof zt&&t.matches(u)&&(r=r.insert(u.key,u))}return ze.resolve(r)},e.prototype.forEachDocumentKey=function(e,t){return ze.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return ze.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o?n.push(t.documentCache.addEntry(e,o,t.readTime)):t.documentCache.removeEntry(r)})),ze.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Yt),e}(),Cr=function(){function e(e){this.persistence=e,this.targets=new Kt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=Se.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new vr,this.targetCount=0,this.targetIdGenerator=lt.forTargetCache()}return e.prototype.forEachTarget=function(e,t){return this.targets.forEach((function(e,n){return t(n)})),ze.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return ze.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return ze.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,ze.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),ze.resolve()},e.prototype.saveTargetData=function(e){this.targets.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return b(!this.targets.has(t.target),"Adding a target that already exists"),this.saveTargetData(t),this.targetCount+=1,ze.resolve()},e.prototype.updateTargetData=function(e,t){return b(this.targets.has(t.target),"Updating a non-existent target"),this.saveTargetData(t),ze.resolve()},e.prototype.removeTargetData=function(e,t){return b(this.targetCount>0,"Removing a target from an empty cache"),b(this.targets.has(t.target),"Removing a non-existent target from the cache"),this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,ze.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.targets.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.targets.delete(a),i.push(r.removeMatchingKeysForTargetId(e,s.targetId)),o++)})),ze.waitFor(i).next((function(){return o}))},e.prototype.getTargetCount=function(e){return ze.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.targets.get(t)||null;return ze.resolve(n)},e.prototype.getTargetDataForTarget=function(e,t){return v("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.addReference(e,t))})),ze.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.removeReference(e,t))})),ze.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),ze.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return ze.resolve(n)},e.prototype.containsKey=function(e,t){return ze.resolve(this.references.containsKey(t))},e}(),Or=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ce(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.targetCache=new Cr(this);this.indexManager=new nn,this.remoteDocumentCache=new Er(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,r){return new e(t,(function(e){return new Pr(e,new In(n),r)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new Tr(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new _r(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.targetCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;m("MemoryPersistence","Starting transaction:",e);var o=new Sr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next((function(e){return r.referenceDelegate.onTransactionCommitted(o).next((function(){return e}))})).toPromise().then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.mutationQueuesContainKey=function(e,t){return ze.or((n=this.mutationQueues,r=[],P(n,(function(e,t){return r.push(t)})),r).map((function(n){return function(){return n.containsKey(e,t)}})));var n,r},e}(),Sr=function(e){function t(t){var n=e.call(this)||this;return n.currentSequenceNumber=t,n}return a.__extends(t,e),t}(Ln),Tr=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw v("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),ze.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),ze.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),ze.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return ze.or([function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return ze.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Pr=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Kt((function(e){return _e(e.path)})),this.garbageCollector=new Mn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return ze.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return ze.forEach(this.orphanedSequenceNumbers,(function(r,o){return n.isPinned(e,r,o).next((function(e){return e?ze.resolve():t(o)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,o=this.persistence.getRemoteDocumentCache(),i=o.newChangeBuffer();return o.forEachDocumentKey(e,(function(o){return n.isPinned(e,o,t).next((function(e){e||(r++,i.removeEntry(o))}))})).next((function(){return i.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ze.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return ze.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return ze.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return ze.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),Ar=1e3,Ir=1.5,xr=6e4,jr=function(){function e(e,t,n,r,o){void 0===n&&(n=Ar),void 0===r&&(r=Ir),void 0===o&&(o=xr),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&m("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(kr||(kr={}));var Dr,Nr,Rr=function(){function e(e,t,n,r,o,i){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=kr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new jr(e,t)}return e.prototype.isStarted=function(){return this.state===kr.Starting||this.state===kr.Open||this.state===kr.Backoff},e.prototype.isOpen=function(){return this.state===kr.Open},e.prototype.start=function(){this.state!==kr.Error?(b(this.state===kr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(kr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=kr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.isOpen()?[2,this.close(kr.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(e===kr.Error||Jn(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==kr.Error?this.backoff.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(y(t.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===k.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;b(this.state===kr.Initial,"Must be in initial state to auth"),this.state=kr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new E(k.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;b(this.state===kr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return b(t.state===kr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=kr.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;b(this.state===kr.Error,"Should only perform backoff when in Error state"),this.state=kr.Backoff,this.backoff.backoffAndRun((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){return b(this.state===kr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=kr.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return b(this.isStarted(),"Can't handle server close on non-started stream"),m("PersistentStream","close with error: "+e),this.stream=null,this.close(kr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Mr=function(e){function t(t,n,r,o,i){var a=e.call(this,t,ne.ListenStreamConnectionBackoff,ne.ListenStreamIdle,n,r,i)||this;return a.serializer=o,a}return a.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Rr),Lr=function(e){function t(t,n,r,o,i){var a=e.call(this,t,ne.WriteStreamConnectionBackoff,ne.WriteStreamIdle,n,r,i)||this;return a.serializer=o,a.handshakeComplete_=!1,a.lastStreamToken=_(),a}return a.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(b(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return b(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(Rr),Fr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new Lr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Mr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Ne();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var o=[];return e.forEach((function(e){var t=r.get(e);b(!!t,"Missing entity in write response for "+e),o.push(t)})),o}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===k.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===k.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),Br=function(){function e(e){this.datastore=e,this.readVersions=Be(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof Qt||e instanceof zt?n.recordVersion(e):v("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new Tt(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t=this;return a.__generator(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),e.forEach((function(e,n){t.mutations.push(new Pt(e,t.precondition(e)))})),[4,this.datastore.commit(this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof zt)t=e.version;else{if(!(e instanceof Qt))throw v("Document in a transaction was a "+e.constructor.name);t=Se.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new E(k.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?kt.updateTime(t):kt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Se.forDeletedDoc()))throw new E(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kt.updateTime(t)}return kt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){b(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(Dr||(Dr={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(Nr||(Nr={}));var Ur,qr=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Dr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Dr.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ne.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,b(e.state===Dr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(Dr.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===Dr.Online?(this.setAndBroadcast(Dr.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(Dr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Dr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(y(t),this.shouldWarnClientIsOffline=!1):m("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function Vr(e){switch(e){case k.OK:return v("Treated status OK as error");case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return v("Unknown status code: "+e)}}function Wr(e){if(void 0===e)return y("GRPC error has no .code"),k.UNKNOWN;switch(e){case Ur.OK:return k.OK;case Ur.CANCELLED:return k.CANCELLED;case Ur.UNKNOWN:return k.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return k.INTERNAL;case Ur.UNAVAILABLE:return k.UNAVAILABLE;case Ur.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ur.NOT_FOUND:return k.NOT_FOUND;case Ur.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ur.ABORTED:return k.ABORTED;case Ur.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ur.DATA_LOSS:return k.DATA_LOSS;default:return v("Unknown status code: "+e)}}function Gr(e){if(void 0===e)return Ur.OK;switch(e){case k.OK:return Ur.OK;case k.CANCELLED:return Ur.CANCELLED;case k.UNKNOWN:return Ur.UNKNOWN;case k.DEADLINE_EXCEEDED:return Ur.DEADLINE_EXCEEDED;case k.RESOURCE_EXHAUSTED:return Ur.RESOURCE_EXHAUSTED;case k.INTERNAL:return Ur.INTERNAL;case k.UNAVAILABLE:return Ur.UNAVAILABLE;case k.UNAUTHENTICATED:return Ur.UNAUTHENTICATED;case k.INVALID_ARGUMENT:return Ur.INVALID_ARGUMENT;case k.NOT_FOUND:return Ur.NOT_FOUND;case k.ALREADY_EXISTS:return Ur.ALREADY_EXISTS;case k.PERMISSION_DENIED:return Ur.PERMISSION_DENIED;case k.FAILED_PRECONDITION:return Ur.FAILED_PRECONDITION;case k.ABORTED:return Ur.ABORTED;case k.OUT_OF_RANGE:return Ur.OUT_OF_RANGE;case k.UNIMPLEMENTED:return Ur.UNIMPLEMENTED;case k.DATA_LOSS:return Ur.DATA_LOSS;default:return v("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(Ur||(Ur={}));var Hr,zr,Qr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||he.comparator(t.key,n.key)}:function(e,t){return he.comparator(e.key,t.key)},this.keyedMap=Le(),this.sortedSet=new Te(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Hr||(Hr={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(zr||(zr={}));var $r,Kr=function(){function e(){this.changeMap=new Te(he.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Hr.Added&&n.type===Hr.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Hr.Metadata&&n.type!==Hr.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Hr.Modified&&n.type===Hr.Modified?this.changeMap=this.changeMap.insert(t,{type:Hr.Modified,doc:e.doc}):e.type===Hr.Modified&&n.type===Hr.Added?this.changeMap=this.changeMap.insert(t,{type:Hr.Added,doc:e.doc}):e.type===Hr.Removed&&n.type===Hr.Added?this.changeMap=this.changeMap.remove(t):e.type===Hr.Removed&&n.type===Hr.Modified?this.changeMap=this.changeMap.insert(t,{type:Hr.Removed,doc:n.doc}):e.type===Hr.Added&&n.type===Hr.Removed?this.changeMap=this.changeMap.insert(t,{type:Hr.Modified,doc:e.doc}):v("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Yr=function(){function e(e,t,n,r,o,i,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,o){var i=[];return n.forEach((function(e){i.push({type:Hr.Added,doc:e})})),new e(t,n,Qr.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(this.fromCache!==e.fromCache||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!this.query.isEqual(e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Xr=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,o=((r={})[t]=Jr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Se.MIN,o,We(),Ne(),qe())},e}(),Jr=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(_(),n,qe(),qe(),qe())},e}(),Zr=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},eo=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}($r||($r={}));var to=function(e,t,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},no=function(){function e(){this.pendingResponses=0,this.documentChanges=io(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=qe(),t=qe(),n=qe();return this.documentChanges.forEach((function(r,o){switch(o){case Hr.Added:e=e.add(r);break;case Hr.Modified:t=t.add(r);break;case Hr.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+o)}})),new Jr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=io()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),ro=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Ne(),this.pendingDocumentTargetMapping=oo(),this.pendingTargetResets=new xe(X)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof zt?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Qt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var o=0,i=e.removedTargetIds;o<i.length;o++){r=i[o];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case $r.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case $r.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case $r.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),b(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case $r.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case $r.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:v("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):T(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.targetDataForActiveTarget(t);if(r){var o=r.target;if(o.isDocumentQuery())if(0===n){var i=new he(o.path);this.removeDocumentFromTarget(t,i,new Qt(i,Se.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};T(this.targetStates,(function(r,o){var i=t.targetDataForActiveTarget(r);if(i){if(o.current&&i.target.isDocumentQuery()){var a=new he(i.target.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Qt(a,e))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}}));var r=qe();this.pendingDocumentTargetMapping.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.targetDataForActiveTarget(e);return!n||n.purpose===kn.LimboResolution||(o=!1,!1)})),o&&(r=r.add(e))}));var o=new Xr(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ne(),this.pendingDocumentTargetMapping=oo(),this.pendingTargetResets=new xe(X),o},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Hr.Modified:Hr.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Hr.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new no),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new xe(X),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.targetDataForActiveTarget(e);return t||m("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.targetDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;b(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new no,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function oo(){return new Te(he.comparator)}function io(){return new Te(he.comparator)}var ao="RemoteStore",so=function(){function e(e,t,n,r,o){var i=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=o,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return a.__awaiter(i,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(m(ao,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new qr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Dr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Dr.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(m(ao,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return m(ao,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Dr.Unknown),[2]}}))}))},e.prototype.listen=function(e){O(this.listenTargets,e.targetId)||(this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e))},e.prototype.unlisten=function(e){b(O(this.listenTargets,e),"unlisten called on target no currently watched: "+e),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Dr.Unknown))},e.prototype.getTargetDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new ro(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(t){return T(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return void 0===e&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Dr.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Dr.Online),e instanceof to&&e.state===$r.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Zr?this.watchChangeAggregator.handleDocumentChange(e):e instanceof eo?this.watchChangeAggregator.handleExistenceFilter(e):(b(e instanceof to,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Se.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;b(!e.isEqual(Se.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return T(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var o=t.listenTargets[n];o&&(t.listenTargets[n]=o.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(_(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new An(n.target,e,kn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;b(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){return O(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t;return a.__generator(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(Wn)},e.prototype.onMutationResult=function(e,t){var n=this;b(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=He.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(n){return void 0===e&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]):[2]}))}))},e.prototype.handleHandshakeError=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return Vr(e.code)?(m(ao,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(Wn)]):[2]}))}))},e.prototype.handleWriteError=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){return Vr(o=e.code)&&o!==k.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var o}))}))},e.prototype.createTransaction=function(){return new Br(this.datastore)},e.prototype.restartNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Dr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(m(ao,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Dr.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),co=function(){function e(e,t){if(x("GeoPoint",arguments,2),N("GeoPoint","number",1,e),N("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new E(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new E(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return X(this._lat,e._lat)||X(this._long,e._long)},e}(),uo=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Bt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),lo=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=po(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new Gt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&J(t.elements,this.elements)},e}(),fo=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=po(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,o=this.elements;r<o.length;r++){n(o[r])}return new Gt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&J(t.elements,this.elements)},e}(),ho=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Rt&&this.operand instanceof Rt){var r=n.internalValue+this.operand.internalValue;return new Rt(r)}r=n.internalValue+this.operand.internalValue;return new Mt(r)},e.prototype.applyToRemoteDocument=function(e,t){return b(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Dt?e:new Rt(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function po(e){return e instanceof Gt?e.internalValue.slice():[]}var mo,yo,go=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),vo=((mo={})[fr.ASCENDING.name]="ASCENDING",mo[fr.DESCENDING.name]="DESCENDING",mo),bo=((yo={})[or.LESS_THAN.name]="LESS_THAN",yo[or.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",yo[or.GREATER_THAN.name]="GREATER_THAN",yo[or.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",yo[or.EQUAL.name]="EQUAL",yo[or.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",yo[or.IN.name]="IN",yo[or.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",yo),wo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(e,t){b(!Jn(e),t+" is missing")}function ko(e){return"number"===typeof e?e:"string"===typeof e?Number(e):v("can't parse "+e)}var Eo=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?k.UNKNOWN:Wr(e.code);return new E(t,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||Jn(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return Jn(t="object"===typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"===typeof e)return this.fromIso8601String(e);b(!!e,"Cannot deserialize null or undefined timestamp.");var t=ko(e.seconds||"0"),n=e.nanos||0;return new Oe(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=wo.exec(e);if(b(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e),i=Math.floor(o.getTime()/1e3);return new Oe(i,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"===typeof e?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),re.fromBase64String(e)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),re.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return b(!!e,"Trying to deserialize version that isn't set"),Se.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=le.fromString(e);return b(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return b(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),b(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new he(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?le.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new le(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new le(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return b(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof xt)return{nullValue:"NULL_VALUE"};if(e instanceof jt)return{booleanValue:e.value()};if(e instanceof Rt)return{integerValue:""+e.value()};if(e instanceof Mt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Lt?{stringValue:e.value()}:e instanceof Wt?{mapValue:this.toMapValue(e)}:e instanceof Gt?{arrayValue:this.toArrayValue(e)}:e instanceof Ft?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Vt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ut?{bytesValue:this.toBytes(e.value())}:e instanceof qt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:v("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return xt.INSTANCE;if("booleanValue"in e)return jt.of(e.booleanValue);if("integerValue"in e)return new Rt(ko(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Mt.NAN;if("Infinity"===e.doubleValue)return Mt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Mt.NEGATIVE_INFINITY}return new Mt(e.doubleValue)}if("stringValue"in e)return new Lt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){_o(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Gt(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return _o(e.timestampValue,"timestampValue"),new Ft(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){_o(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,o=e.geoPointValue.longitude||0;return new Vt(new co(r,o))}if("bytesValue"in e){_o(e.bytesValue,"bytesValue");var i=this.fromBlob(e.bytesValue);return new Ut(i)}if("referenceValue"in e){_o(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new se(a.get(1),a.get(3)),c=new he(this.extractLocalPathFromResourceName(a));return new qt(s,c)}return v("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return b(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),o=this.fromVersion(e.updateTime);return new zt(r,o,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Wt.EMPTY;return P(n,(function(e,n){r=r.set(new de([e]),t.fromValue(n))})),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;b(!!e.found,"Tried to deserialize a found document from a missing document."),_o(e.found.name,"doc.found.name"),_o(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new zt(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){b(!!e.missing,"Tried to deserialize a missing document from a found document."),b(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Qt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):v("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case $r.Added:return"ADD";case $r.Current:return"CURRENT";case $r.NoChange:return"NO_CHANGE";case $r.Removed:return"REMOVE";case $r.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof eo)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Zr){if(e.newDoc instanceof zt){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Qt){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof to){var n=void 0;return e.cause&&(n={code:Gr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){_o(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new to(r,o,i,s||null)}else if("documentChange"in e){_o(e.documentChange,"documentChange");var c=e.documentChange;_o(c.document,"documentChange.name"),_o(c.document.name,"documentChange.document.name"),_o(c.document.updateTime,"documentChange.document.updateTime");var u=this.fromName(c.document.name),l=this.fromVersion(c.document.updateTime),f=new zt(u,l,{},void 0,c.document,(function(e){return n.fromValue(e)})),d=c.targetIds||[],h=c.removedTargetIds||[];t=new Zr(d,h,f.key,f)}else if("documentDelete"in e){_o(e.documentDelete,"documentDelete");var p=e.documentDelete;_o(p.document,"documentDelete.document");u=this.fromName(p.document),l=p.readTime?this.fromVersion(p.readTime):Se.forDeletedDoc(),f=new Qt(u,l),h=p.removedTargetIds||[];t=new Zr([],h,f.key,f)}else if("documentRemove"in e){_o(e.documentRemove,"documentRemove");var m=e.documentRemove;_o(m.document,"documentRemove");u=this.fromName(m.document),h=m.removedTargetIds||[];t=new Zr([],h,u,null)}else{if(!("filter"in e))return v("Unknown change type "+JSON.stringify(e));_o(e.filter,"filter");var y=e.filter;_o(y.targetId,"filter.targetId");var g=y.count||0,b=new go(g),w=y.targetId;t=new eo(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?$r.NoChange:"ADD"===e?$r.Added:"REMOVE"===e?$r.Removed:"CURRENT"===e?$r.Current:"RESET"===e?$r.Reset:v("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Se.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Se.MIN:t.readTime?this.fromVersion(t.readTime):Se.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ct)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Tt)t={delete:this.toName(e.key)};else if(e instanceof Ot)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else if(e instanceof St)t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}};else{if(!(e instanceof Pt))return v("Unknown mutation type "+e.type);t={verify:this.toName(e.key)}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):kt.NONE;if(e.update){_o(e.update.name,"name");var r=this.fromName(e.update.name),o=this.fromFields(e.update.fields||{});if(e.updateMask){var i=this.fromDocumentMask(e.updateMask);return new Ot(r,o,i,n)}return new Ct(r,o,n)}if(e.delete){r=this.fromName(e.delete);return new Tt(r,n)}if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new St(r,a)}if(e.verify){r=this.fromName(e.verify);return new Pt(r,n)}return v("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return b(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?kt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?kt.exists(e.exists):kt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);r.isEqual(Se.MIN)&&(r=this.fromVersion(t));var o=null;return e.transformResults&&e.transformResults.length>0&&(o=e.transformResults.map((function(e){return n.fromValue(e)}))),new bt(r,o)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(b(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof uo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof fo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ho)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)b("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=uo.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new lo(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new fo(r.map((function(e){return t.fromValue(e)})))}else if("increment"in e){var o=this.fromValue(e.increment);b(o instanceof Dt,"NUMERIC_ADD transform requires a NumberValue"),n=new ho(o)}else v("Unknown transform proto: "+JSON.stringify(e));var i=de.fromServerFormat(e.fieldPath);return new vt(i,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;b(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return nr.atPath(this.fromQueryPath(n)).toTarget()},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(b(n.length%2===0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(b(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var o=this.toOrder(e.orderBy);o&&(t.structuredQuery.orderBy=o);var i=this.toInt32Value(e.limit);return null!==i&&(t.structuredQuery.limit=i),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){b(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var c=null;n.limit&&(c=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new nr(t,o,s,a,c,er.First,u,l).toTarget()},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case kn.Listen:return null;case kn.ExistenceFilterMismatch:return"existence-filter-mismatch";case kn.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.target;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof ir?t.toUnaryOrFieldFilter(e):v("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):v("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new dr(r,n)},e.prototype.toDirection=function(e){return vo[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return fr.ASCENDING;case"DESCENDING":return fr.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return bo[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return or.EQUAL;case"GREATER_THAN":return or.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return or.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return or.LESS_THAN;case"LESS_THAN_OR_EQUAL":return or.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return or.ARRAY_CONTAINS;case"IN":return or.IN;case"ARRAY_CONTAINS_ANY":return or.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return de.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new hr(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return ir.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===or.EQUAL){if(e.value.isEqual(Mt.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(xt.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return ir.create(t,or.EQUAL,Mt.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return ir.create(n,or.EQUAL,xt.INSTANCE);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return de.fromServerFormat(e)}));return gt.fromArray(t)},e}(),Co=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Oo=function(){function e(e){this.syncEngine=e,this.queries=new Kt((function(e){return e.canonicalId()})),this.onlineState=Dr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);(r||(n=!0,r=new Co,this.queries.set(t,r)),r.listeners.push(e),b(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return a.__generator(this,(function(i){return t=e.query,n=!1,(r=this.queries.get(t))&&(o=r.listeners.indexOf(e))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var o=r[n],i=o.query,a=this.queries.get(i);if(a){for(var s=0,c=a.listeners;s<c.length;s++){c[s].onViewSnapshot(o)&&(t=!0)}a.viewSnap=o}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,o=n.listeners;r<o.length;r++){o[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var o=0,i=r.listeners;o<i.length;o++){i[o].applyOnlineStateChange(e)&&(t=!0)}})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),So=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Dr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(b(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];o.type!==Hr.Metadata&&t.push(o)}e=new Yr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),i=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),i=!0),this.snap=e,i},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Dr.Offline;return this.options.waitForSyncWhenOnline&&n?(b(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Dr.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Yr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),To=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}return e.fromSnapshot=function(t,n){for(var r=qe(),o=qe(),i=0,a=n.docChanges;i<a.length;i++){var s=a[i];switch(s.type){case Hr.Added:r=r.add(s.doc.key);break;case Hr.Removed:o=o.add(s.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),Po=function(e){this.key=e},Ao=function(e){this.key=e},Io=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=qe(),this.mutatedKeys=qe(),this.documentSet=new Qr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Kr,o=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,a=o,s=!1,c=this.query.hasLimitToFirst()&&o.size===this.query.limit?o.last():null,u=this.query.hasLimitToLast()&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((function(e,t){var l=o.get(e),f=t instanceof zt?t:null;f&&(b(e.isEqual(f.key),"Mismatching keys found in document changes: "+e+" != "+f.key),f=n.query.matches(f)?f:null);var d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?d!==h&&(r.track({type:Hr.Metadata,doc:f}),p=!0):n.shouldWaitForSyncedDocument(l,f)||(r.track({type:Hr.Modified,doc:f}),p=!0,(c&&n.query.docComparator(f,c)>0||u&&n.query.docComparator(f,u)<0)&&(s=!0)):!l&&f?(r.track({type:Hr.Added,doc:f}),p=!0):l&&!f&&(r.track({type:Hr.Removed,doc:l}),p=!0,(c||u)&&(s=!0));p&&(f?(a=a.add(f),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;a.size>this.query.limit;){var l=this.query.hasLimitToFirst()?a.last():a.first();a=a.delete(l.key),i=i.delete(l.key),r.track({type:Hr.Removed,doc:l})}return b(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:i}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;b(!e.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var i=e.changeSet.getChanges();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Hr.Added:return 1;case Hr.Modified:case Hr.Metadata:return 2;case Hr.Removed:return 0;default:return v("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?zr.Synced:zr.Local,c=s!==this.syncState;return this.syncState=s,0!==i.length||c?{snapshot:new Yr(this.query,e.documentSet,o,i,e.mutatedKeys,s===zr.Local,c,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Dr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Kr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return b(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=qe(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Ao(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new Po(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=qe();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return Yr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===zr.Local)},e}();var xo=5,jo=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=xo,this.backoff=new jr(this.asyncQueue,ne.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return a.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return a.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Jn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(y){return this.deferred.reject(y),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Vr(t)}return!1},e}(),Do=function(e,t,n){this.query=e,this.targetId=t,this.view=n},No=function(e){this.key=e,this.receivedDocument=!1},Ro=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Kt((function(e){return e.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new Te(he.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new vr,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=lt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Dr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){b(null!==e,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,i;return a.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(e.toTarget())];case 2:return o=a.sent(),i=this.sharedClientState.addLocalQueryTarget(o.targetId),t=o.targetId,[4,this.initializeViewAndComputeSnapshot(e,t,"current"===i)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(o),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r,o,i,s,c,u;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return r=a.sent(),o=new Io(e,r.remoteKeys),i=o.computeDocChanges(r.documents),s=Jr.createSynthesizedTargetChangeForCurrentChange(t,n&&this.onlineState!==Dr.Offline),b(0===(c=o.applyChanges(i,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!c.snapshot,"applyChanges for new view should always return a snapshot"),u=new Do(e,t,o),this.queryViewsByQuery.set(e,u),this.queriesByTarget[t]||(this.queriesByTarget[t]=[]),this.queriesByTarget[t].push(e),[2,c.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return a.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),(n=this.queriesByTarget[t.targetId]).length>1?(this.queriesByTarget[t.targetId]=n.filter((function(t){return!t.isEqual(e)})),this.queryViewsByQuery.delete(e),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseTarget(t.targetId,!1).then((function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupTarget(t.targetId)})).catch(Wn)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(t.targetId),[4,this.localStore.releaseTarget(t.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new jo(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),P(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(b(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?b(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(b(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Wn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Nr.RemoteStore||!this.isPrimary&&t===Nr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var o=r.view.applyOnlineStateChange(e);b(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&n.push(o.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,o,i,s,c=this;return a.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],o=(o=new Te(he.comparator)).insert(r,new Qt(r,Se.forDeletedDoc())),i=qe().add(r),s=new Xr(Se.MIN,{},new xe(X),o,i),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return[4,this.localStore.releaseTarget(e,!1).then((function(){return c.removeAndCleanupTarget(e,t)})).catch(Wn)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r;return a.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=o.sent())?(m("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):v("Unknown batchState: "+t),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Wn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Wn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new E(k.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Te(X)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(b(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupTarget=function(e,t){var n=this;void 0===t&&(t=null),this.sharedClientState.removeLocalQueryTarget(e),b(this.queriesByTarget[e]&&0!==this.queriesByTarget[e].length,"There are no queries mapped to target id "+e);for(var r=0,o=this.queriesByTarget[e];r<o.length;r++){var i=o[r];this.queryViewsByQuery.delete(i),t&&this.syncEngineListener.onWatchError(i,t)}if(delete this.queriesByTarget[e],this.isPrimary){var a=this.limboDocumentRefs.referencesForId(e);this.limboDocumentRefs.removeReferencesForId(e),a.forEach((function(e){n.limboDocumentRefs.containsKey(e)||n.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o instanceof Po)this.limboDocumentRefs.addReference(o.key,e),this.trackLimboChange(o);else if(o instanceof Ao){m("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,e),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)}else v("Unknown limbo change: "+JSON.stringify(o))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){m("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=nr.atPath(t.path);this.limboResolutionsByTarget[n]=new No(t),this.remoteStore.listen(new An(r.toTarget(),n,kn.LimboResolution,ce.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,o,i=this;return a.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach((function(a,s){o.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?i.localStore.executeQuery(s.query,!1).then((function(e){var n=e.documents;return s.view.computeDocChanges(n,t)})):t})).then((function(e){var o=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===i.isPrimary,o);if(i.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){i.isPrimary&&i.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var c=To.fromSnapshot(s.targetId,a.snapshot);r.push(c)}})))})),[4,Promise.all(o)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){b(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,i,s,c,u=this;return a.__generator(this,(function(a){switch(a.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=a.sent(),r=0,o=n;r<o.length;r++)i=o[r],this.remoteStore.listen(i);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],c=Promise.resolve(),T(this.queriesByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?s.push(e):c=c.then((function(){return u.removeAndCleanupTarget(e),u.localStore.releaseTarget(e,!0)})),u.remoteStore.unlisten(e)})),[4,c]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;T(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Te(he.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,i,s,c,u,l,f,d,h,p;return a.__generator(this,(function(a){switch(a.label){case 0:t=[],n=[],r=0,o=e,a.label=1;case 1:return r<o.length?(i=o[r],s=void 0,(c=this.queriesByTarget[i])&&0!==c.length?[4,this.localStore.releaseTarget(i,!0)]:[3,8]):[3,14];case 2:return a.sent(),[4,this.localStore.allocateTarget(c[0].toTarget())];case 3:s=a.sent(),u=0,l=c,a.label=4;case 4:return u<l.length?(f=l[u],b(!!(d=this.queryViewsByQuery.get(f)),"No query view found for "+f),[4,this.synchronizeViewAndComputeSnapshot(d)]):[3,7];case 5:(h=a.sent()).snapshot&&n.push(h.snapshot),a.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return b(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(i)];case 9:return b(!!(p=a.sent()),"Target for id "+i+" not found"),[4,this.localStore.allocateTarget(p)];case 10:return s=a.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(p),i,!1)];case 11:a.sent(),a.label=12;case 12:t.push(s),a.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.synthesizeTargetToQuery=function(e){return new nr(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,er.First,e.startAt,e.endAt)},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r,o;return a.__generator(this,(function(i){switch(i.label){case 0:if(this.isPrimary)return m("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=i.sent(),o=Xr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,o)];case 3:return i.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(e,!0)];case 5:return i.sent(),this.removeAndCleanupTarget(e,n),[3,7];case 6:v("Unexpected target state: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,o,i,s,c,u,l,f,d=this;return a.__generator(this,(function(h){switch(h.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,h.label=1;case 1:return n<r.length?(f=r[n],b(!this.queriesByTarget[f],"Trying to add an already active target"),[4,this.localStore.getTarget(f)]):[3,6];case 2:return b(!!(o=h.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateTarget(o)];case 3:return i=h.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(o),i.targetId,!1)];case 4:h.sent(),this.remoteStore.listen(i),h.label=5;case 5:return n++,[3,1];case 6:s=function(e){return a.__generator(this,(function(t){switch(t.label){case 0:return c.queriesByTarget[e]?[4,c.localStore.releaseTarget(e,!1).then((function(){d.remoteStore.unlisten(e),d.removeAndCleanupTarget(e)})).catch(Wn)]:[2,"continue"];case 1:return t.sent(),[2]}}))},c=this,u=0,l=t,h.label=7;case 7:return u<l.length?(f=l[u],[5,s(f)]):[3,10];case 8:h.sent(),h.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];if(t&&t.receivedDocument)return qe().add(t.key);var n=qe(),r=this.queriesByTarget[e];if(!r)return n;for(var o=0,i=r;o<i.length;o++){var a=i[o],s=this.queryViewsByQuery.get(a);b(!!s,"No query view found for "+a),n=n.unionWith(s.view.syncedDocuments)}return n},e}(),Mo=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Lo="firestore_clients";function Fo(e,t){return b(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Lo+"_"+e+"_"+t}var Bo="firestore_mutations";function Uo(e,t,n){var r=Bo+"_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}var qo="firestore_targets";function Vo(e,t){return qo+"_"+e+"_"+t}var Wo="firestore_online_state";var Go="firestore_sequence_number";var Ho="SharedClientState",zo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,b(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var o=JSON.parse(r),i="object"===typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"===typeof o.error),a=void 0;return i&&o.error&&(i="string"===typeof o.error.message&&"string"===typeof o.error.code)&&(a=new E(o.error.code,o.error.message)),i?new e(t,n,o.state,a):(y(Ho,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Qo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,b(void 0!==n===("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),o="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),i=void 0;return o&&r.error&&(o="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(i=new E(r.error.code,r.error.message)),o?new e(t,r.state,i):(y(Ho,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$o=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),o="object"===typeof r&&r.activeTargetIds instanceof Array,i=We(),a=0;o&&a<r.activeTargetIds.length;++a)o=Zn(r.activeTargetIds[a]),i=i.add(r.activeTargetIds[a]);return o?new e(t,i):(y(Ho,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Ko=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"===typeof n&&n.onlineState in Dr&&"string"===typeof n.clientId?new e(n.clientId,Dr[n.onlineState]):(y(Ho,"Failed to parse online state: "+t),null)},e}(),Yo=function(){function e(){this.activeTargetIds=We()}return e.prototype.addQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Xo=function(){function e(t,n,r,o,i){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new E(k.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=Fo(this.persistenceKey,this.localClientId),this.sequenceNumberKey=function(e){return Go+"_"+e}(this.persistenceKey),this.activeClients[this.localClientId]=new Yo,this.clientStateKeyRe=new RegExp("^"+Lo+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Bo+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+qo+"_"+a+"_(\\d+)$"),this.onlineStateKey=function(e){return Wo+"_"+e}(this.persistenceKey),this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,c,u,l,f,d=this;return a.__generator(this,(function(a){switch(a.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(o=this.getItem(Fo(this.persistenceKey,r)))&&(i=$o.fromWebStorageEntry(r,o))&&(this.activeClients[i.clientId]=i);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(c=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(c),u=0,l=this.earlyEvents;u<l.length;u++)f=l[u],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return d.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=We();return P(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Vo(this.persistenceKey,e));if(n){var r=Qo.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Vo(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return m(Ho,"READ",e,t),t},e.prototype.setItem=function(e,t){m(Ho,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){m(Ho,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(m(Ho,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return a.__awaiter(t,void 0,void 0,(function(){var t,n,r,o,i,s;return a.__generator(this,(function(a){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(o=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(i=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(i)]}else e.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(e){var t=ce.INVALID;if(null!=e)try{var n=JSON.parse(e);b("number"===typeof n,"Found non-numeric sequence number"),t=n}catch(r){y(Ho,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ce.INVALID&&this.sequenceNumberHandler(s));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new zo(this.currentUser,e,t,n),o=Uo(this.persistenceKey,this.currentUser,e);this.setItem(o,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=Uo(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Dr[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=Vo(this.persistenceKey,e),o=new Qo(e,t,n);this.setItem(r,o.toWebStorageJSON())},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return b(null!==n,"Cannot parse client state key '"+e+"'"),$o.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);b(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return zo.fromWebStorageEntry(new Mo(o),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);b(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Qo.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Ko.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(m(Ho,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var o=this.getAllActiveQueryTargets(),i=[],s=[];return o.forEach((function(e){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){return r.has(e)||i.push(e),[2]}))}))})),r.forEach((function(e){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){return o.has(e)||s.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(i,s)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var Jo=function(){function e(){this.localState=new Yo,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Yo,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Zo=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return Nn.withCacheSize(this.cacheSizeBytes)},e}(),ei=function(){},ti=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=Y.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new pe,r=new pe,o=!1;return this.credentials.setChangeListener((function(i){o?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(i)})):(o=!0,t.initializePersistence(e,r,i).then((function(e){return t.initializeRest(i,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Zo?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof E?e.code===k.FAILED_PRECONDITION||e.code===k.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new E(k.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Vn.buildStoragePrefix(this.databaseInfo),o=new Eo(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return a.__awaiter(n,void 0,void 0,(function(){var n,i;return a.__generator(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Xo.isAvailable(this.platform))throw new E(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Xo(this.asyncQueue,this.platform,r,this.clientId,e):new Jo,[4,Vn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:o,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return i=a.sent(),this.persistence=i,[2,i.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=Or.createEagerPersistence(this.clientId),this.sharedClientState=new Jo,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return m("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return a.__awaiter(n,void 0,void 0,(function(){var n,o,i,s,c,u,l=this;return a.__generator(this,(function(f){switch(f.label){case 0:return n=new yr,this.localStore=new wr(this.persistence,n,e),[4,this.localStore.start()];case 1:return f.sent(),t&&(this.lruScheduler=new Rn(t,this.asyncQueue,this.localStore)),o=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),s=new Fr(this.asyncQueue,r,this.credentials,i),c=function(e){return l.syncEngine.applyOnlineStateChange(e,Nr.RemoteStore)},u=function(e){return l.syncEngine.applyOnlineStateChange(e,Nr.SharedClientState)},this.remoteStore=new so(this.localStore,s,this.asyncQueue,c,o),this.syncEngine=new Ro(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Oo(this.syncEngine),[4,this.sharedClientState.start()];case 2:return f.sent(),[4,this.remoteStore.start()];case 3:return f.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return a.__awaiter(l,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return f.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return a.__awaiter(l,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return f.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new pe;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var o=new So(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(o)})),o},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof zt)return e;if(e instanceof Qt)return null;throw new E(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return a.__awaiter(t,void 0,void 0,(function(){var t,n,r;return a.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=o.sent(),n=new Io(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new pe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new pe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),ni=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ri=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+K(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(N("FieldPath","string",n,e[n]),0===e[n].length)throw new E(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new de(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(de.keyField().canonicalString()),e}(),oi=new RegExp("[~\\*/\\[\\]]");var ii=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ai=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Mo.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),si=function(){function e(e){var t=this;this.tokenListener=null,this.currentUser=Mo.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),e.get().then((function(e){t.auth=e,t.tokenListener&&t.auth.addAuthTokenListener(t.tokenListener)}),(function(){})))}return e.prototype.getToken=function(){var e=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new E(k.ABORTED,"getToken aborted due to token change.");return n?(b("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new ii(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.auth&&this.auth.getUid();return b(null===e||"string"===typeof e,"Received invalid UID: "+e),new Mo(e)},e}(),ci=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Mo.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),ui=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new ci(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Mo.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function li(e){if(!e)return new ai;switch(e.type){case"gapi":var t=e.client;return b(!("object"!==typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new ui(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new E(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function fi(e){return function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=e,r=0,o=t;r<o.length;r++){var i=o[r];if(i in n&&"function"===typeof n[i])return!0}return!1}(e,["next","error","complete"])}var di,hi=function(){function e(e){this._methodName=e}return e.delete=function(){return I("FieldValue.delete",arguments),pi.instance},e.serverTimestamp=function(){return I("FieldValue.serverTimestamp",arguments),mi.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return j("FieldValue.arrayUnion",arguments,1),new yi(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return j("FieldValue.arrayRemove",arguments,1),new gi(e)},e.increment=function(e){return N("FieldValue.increment","number",1,e),x("FieldValue.increment",arguments,1),new vi(e)},e.prototype.isEqual=function(e){return this===e},e}(),pi=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return a.__extends(t,e),t.instance=new t,t}(hi),mi=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(t,e),t.instance=new t,t}(hi),yi=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return a.__extends(t,e),t}(hi),gi=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return a.__extends(t,e),t}(hi),vi=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return a.__extends(t,e),t}(hi),bi=C(hi,"Use FieldValue.<field>() instead."),wi=/^__.*__$/,_i=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Ot(e,this.data,this.fieldMask,t)):n.push(new Ct(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new St(e,this.fieldTransforms)),n},e}(),ki=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new Ot(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new St(e,this.fieldTransforms)),n},e}();function Ei(e){switch(e){case di.Set:case di.MergeSet:case di.Update:return!0;case di.Argument:case di.ArrayArgument:return!1;default:throw v("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e[e.ArrayArgument=4]="ArrayArgument"}(di||(di={}));var Ci=function(){function e(e,t,n,r,o,i){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(k.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Ei(this.dataSource)&&wi.test(e))throw this.createError('Document fields cannot begin and end with "__"')},e}(),Oi=function(e,t){this.databaseId=e,this.key=t},Si=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new Ci(di.Set,e,de.EMPTY_PATH);Pi("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new _i(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new Ci(di.MergeSet,e,de.EMPTY_PATH);Pi("Data must be an object, but it was:",r,t);var o,i,a=this.parseData(t,r);if(n){for(var s=new xe(de.comparator),c=0,u=n;c<u.length;c++){var l=u[c],f=void 0;if(l instanceof ri)f=l._internalPath;else{if("string"!==typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");f=Ii(e,l)}if(!r.contains(f))throw new E(k.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}o=gt.fromSet(s),i=r.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=gt.fromArray(r.fieldMask),i=r.fieldTransforms;return new _i(a,o,i)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new Ci(di.Update,e,de.EMPTY_PATH);Pi("Data must be an object, but it was:",r,t);var o=new xe(de.comparator),i=Wt.EMPTY;P(t,(function(t,a){var s=Ii(e,t),c=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,c))instanceof pi)o=o.add(s);else{var u=n.parseData(a,c);null!=u&&(o=o.add(s),i=i.set(s,u))}}));var a=gt.fromSet(o);return new ki(i,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var o=new Ci(di.Update,e,de.EMPTY_PATH),i=[Ai(e,t)],a=[n];if(r.length%2!==0)throw new E(k.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)i.push(Ai(e,r[s])),a.push(r[s+1]);var c=new xe(de.comparator),u=Wt.EMPTY;for(s=0;s<i.length;++s){var l=i[s],f=o.childContextForFieldPath(l),d=this.runPreConverter(a[s],f);if(d instanceof pi)c=c.add(l);else{var h=this.parseData(d,f);null!=h&&(c=c.add(l),u=u.set(l,h))}}var p=gt.fromSet(c);return new ki(u,p,o.fieldTransforms)},e.prototype.parseQueryValue=function(e,t,n){void 0===n&&(n=!1);var r=new Ci(n?di.ArrayArgument:di.Argument,e,de.EMPTY_PATH),o=this.parseData(t,r);return b(null!=o,"Parsed data should not be null."),b(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),o},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=xi(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(Ti(e=this.runPreConverter(e,t)))return Pi("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof hi)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement&&t.dataSource!==di.ArrayArgument)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Te(X);return A(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):P(e,(function(e,o){var i=n.parseData(o,t.childContextForField(e));null!=i&&(r=r.insert(e,i))})),new Wt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var a=i[o],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=xt.INSTANCE),n.push(s),r++}return new Gt(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!Ei(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof pi){if(t.dataSource!==di.MergeSet)throw t.dataSource===di.Update?(b(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof mi)t.fieldTransforms.push(new vt(t.path,uo.instance));else if(e instanceof yi){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new lo(n);t.fieldTransforms.push(new vt(t.path,r))}else if(e instanceof gi){n=this.parseArrayTransformElements(e._methodName,e._elements);var o=new fo(n);t.fieldTransforms.push(new vt(t.path,o))}else if(e instanceof vi){var i=this.parseQueryValue("FieldValue.increment",e._operand),a=new ho(i);t.fieldTransforms.push(new vt(t.path,a))}else v("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return xt.INSTANCE;if("number"===typeof e)return Zn(e)?new Rt(e):new Mt(e);if("boolean"===typeof e)return jt.of(e);if("string"===typeof e)return new Lt(e);if(e instanceof Date)return new Ft(Oe.fromDate(e));if(e instanceof Oe)return new Ft(new Oe(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof co)return new Vt(e);if(e instanceof re)return new Ut(e);if(e instanceof Oi)return new qt(e.databaseId,e.key);throw t.createError("Unsupported field value: "+W(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var o=new Ci(di.Argument,e,de.EMPTY_PATH);return n.parseData(t,o.childContextForArray(r))}))},e}();function Ti(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof Oe)&&!(e instanceof co)&&!(e instanceof re)&&!(e instanceof Oi)&&!(e instanceof hi)}function Pi(e,t,n){if(!Ti(n)||!V(n)){var r=W(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Ai(e,t){if(t instanceof ri)return t._internalPath;if("string"===typeof t)return Ii(e,t);throw new E(k.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ii(e,t){try{return function(e){if(e.search(oi)>=0)throw new E(k.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ri.bind.apply(ri,a.__spreadArrays([void 0],e.split("."))))}catch(t){throw new E(k.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=xi(r);throw new E(k.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function xi(e){return e instanceof Error?e.message:e.toString()}var ji="firestore.googleapis.com",Di=!0,Ni=!0,Ri=!1,Mi=Nn.COLLECTION_DISABLED,Li=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new E(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ji,this.ssl=Di}else M("settings","non-empty string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=S(e.ssl,Di);if(H("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials,L("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?y("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&y("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=S(e.timestampsInSnapshots,Ni),L("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Nn.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Mi&&e.cacheSizeBytes<Nn.MINIMUM_CACHE_SIZE_BYTES)throw new E(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Nn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?Ri:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Fi=function(){function e(t,n){var r=this;if(this._firebaseApp=null,this._queue=new ye,this.INTERNAL={delete:function(){return a.__awaiter(r,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"===typeof t.options){var o=t;this._firebaseApp=o,this._databaseId=e.databaseIdFromApp(o),this._persistenceKey=o.name,this._credentials=new si(n)}else{var i=t;if(!i.projectId)throw new E(k.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new se(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new ai}this._settings=new Li({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(x("Firestore.settings",arguments,1),N("Firestore.settings","object",1,e),O(e,"persistence"))throw new E(k.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Li(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new E(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=li(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new E(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&y("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=S(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Zo(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Vn.buildStoragePrefix(this.makeDatabaseInfo()),n=new pe;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return a.__awaiter(e,void 0,void 0,(function(){var e;return a.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new E(k.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Vn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),fi(e))return this.onSnapshotsInSyncInternal(e);N("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new ni({next:function(){e.next&&e.next()},error:function(e){throw v("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new ei),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new ie(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){b(!!this._settings.host,"FirestoreSettings.host is not set"),b(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new ti(w.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new Si((function(t){if(t instanceof qi){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new E(k.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Oi(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!O(t,"projectId"))throw new E(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!==typeof n)throw new E(k.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new se(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new E(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return x("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Qi(le.fromString(e),this)},e.prototype.doc=function(e){return x("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),qi.forPath(le.fromString(e),this)},e.prototype.collectionGroup=function(e){if(x("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new E(k.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Hi(new nr(le.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return x("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Bi(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Ui(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case o.DEBUG:return"debug";case o.ERROR:return"error";case o.SILENT:return"silent";default:return v("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(x("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":p(o.DEBUG);break;case"error":p(o.ERROR);break;case"silent":p(o.SILENT);break;default:throw new E(k.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Bi=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;x("Transaction.get",arguments,1);var n=Xi("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return v("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Qt)return new Wi(t._firestore,n._key,null,!1,!1,n._converter);if(r instanceof zt)return new Wi(t._firestore,n._key,r,!1,!1,n._converter);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){D("Transaction.set",arguments,2,3);var r=Xi("Transaction.set",e,this._firestore);n=$i("Transaction.set",n);var o=Zi(r._converter,t,"Transaction.set"),i=o[0],a=o[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,i,n.mergeFields):this._firestore._dataConverter.parseSetData(a,i);return this._transaction.set(r._key,s),this},e.prototype.update=function(e,t,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return"string"===typeof t||t instanceof ri?(j("Transaction.update",arguments,3),r=Xi("Transaction.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,i)):(x("Transaction.update",arguments,2),r=Xi("Transaction.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,o),this},e.prototype.delete=function(e){x("Transaction.delete",arguments,1);var t=Xi("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Ui=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Xi("WriteBatch.set",e,this._firestore);n=$i("WriteBatch.set",n);var o=Zi(r._converter,t,"WriteBatch.set"),i=o[0],a=o[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,i,n.mergeFields):this._firestore._dataConverter.parseSetData(a,i);return this._mutations=this._mutations.concat(s.toMutations(r._key,kt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof t||t instanceof ri?(j("WriteBatch.update",arguments,3),r=Xi("WriteBatch.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,i)):(x("WriteBatch.update",arguments,2),r=Xi("WriteBatch.update",e,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(o.toMutations(r._key,kt.exists(!0))),this},e.prototype.delete=function(e){x("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Xi("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Tt(t._key,kt.NONE)),this},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),qi=function(){function e(e,t,n){this._key=e,this.firestore=t,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n,r){if(t.length%2!==0)throw new E(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new he(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qi(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(x("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,e),!e)throw new E(k.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=le.fromString(e);return new Qi(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)&&this._converter===t._converter},e.prototype.set=function(e,t){D("DocumentReference.set",arguments,1,2),t=$i("DocumentReference.set",t);var n=Zi(this._converter,e,"DocumentReference.set"),r=n[0],o=n[1],i=t.merge||t.mergeFields?this.firestore._dataConverter.parseMergeData(o,r,t.mergeFields):this.firestore._dataConverter.parseSetData(o,r);return this._firestoreClient.write(i.toMutations(this._key,kt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"===typeof e||e instanceof ri?(j("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(x("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,kt.exists(!0)))},e.prototype.delete=function(){return x("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Tt(this._key,kt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!==typeof e[o]||fi(e[o])||(H("DocumentReference.onSnapshot",r=e[o],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return fi(e[o])?n=e[o]:(N("DocumentReference.onSnapshot","function",o,e[o]),R("DocumentReference.onSnapshot","function",o+1,e[o+1]),R("DocumentReference.onSnapshot","function",o+2,e[o+2]),n={next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(i,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new ni({next:function(e){if(t.next){b(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Wi(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites,n._converter))}},error:r}),i=this._firestoreClient.listen(nr.atPath(this._key.path),o,e);return function(){o.mute(),n._firestoreClient.unlisten(i)}},e.prototype.get=function(e){var t=this;return D("DocumentReference.get",arguments,0,1),Yi("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Wi(t.firestore,t._key,e,!0,e instanceof zt&&e.hasLocalMutations,t._converter))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?t(new E(k.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?t(new E(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(o)},error:t})},e.prototype.withConverter=function(t){return new e(this._key,this.firestore,t)},e}(),Vi=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Wi=function(){function e(e,t,n,r,o,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=o,this._converter=i}return e.prototype.data=function(e){if(D("DocumentSnapshot.data",arguments,0,1),e=Ki("DocumentSnapshot.data",e),this._document){if(this._converter){var t=new Gi(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(t,e)}return this.toJSObject(this._document.data(),At.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},e.prototype.get=function(e,t){if(D("DocumentSnapshot.get",arguments,1,2),t=Ki("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Ai("DocumentSnapshot.get",e));if(null!==n)return this.toJSValue(n,At.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new qi(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Vi(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))&&this._converter===t._converter},e.prototype.toJSObject=function(e,t){var n=this,r={};return e.forEach((function(e,o){r[e]=n.toJSValue(o,t)})),r},e.prototype.toJSValue=function(e,t){if(e instanceof Wt)return this.toJSObject(e,t);if(e instanceof Gt)return this.toJSArray(e,t);if(e instanceof qt){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||y("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new qi(n,this._firestore,this._converter)}return e.value(t)},e.prototype.toJSArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.toJSValue(e,t)}))},e}(),Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return b(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Wi),Hi=function(){function e(e,t,n){this._query=e,this.firestore=t,this._converter=n}return e.prototype.where=function(t,n,r){x("Query.where",arguments,3),G("Query.where",3,r);var o,i=["<","<=","==",">=",">","array-contains","in","array-contains-any"];U("Query.where",i,2,n);var a=Ai("Query.where",t),s=or.fromString(n);if(a.isKeyField()){if(s===or.ARRAY_CONTAINS||s===or.ARRAY_CONTAINS_ANY)throw new E(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===or.IN){this.validateDisjunctiveFilterElements(r,s);for(var c=[],u=0,l=r;u<l.length;u++){var f=l[u];c.push(this.parseDocumentIdValue(f))}o=new Gt(c)}else o=this.parseDocumentIdValue(r)}else s!==or.IN&&s!==or.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,s),o=this.firestore._dataConverter.parseQueryValue("Query.where",r,s===or.IN);var d=ir.create(a,s,o);return this.validateNewFilter(d),new e(this._query.addFilter(d),this.firestore,this._converter)},e.prototype.orderBy=function(t,n){var r;if(D("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=fr.ASCENDING;else{if("desc"!==n)throw new E(k.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=fr.DESCENDING}if(null!==this._query.startAt)throw new E(k.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(k.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=Ai("Query.orderBy",t),i=new hr(o,r);return this.validateNewOrderBy(i),new e(this._query.addOrderBy(i),this.firestore,this._converter)},e.prototype.limit=function(t){return x("Query.limit",arguments,1),N("Query.limit","number",1,t),Q("Query.limit",1,t),new e(this._query.withLimitToFirst(t),this.firestore,this._converter)},e.prototype.limitToLast=function(t){return x("Query.limitToLast",arguments,1),N("Query.limitToLast","number",1,t),Q("Query.limitToLast",1,t),new e(this._query.withLimitToLast(t),this.firestore,this._converter)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];j("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(o),this.firestore,this._converter)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];j("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(o),this.firestore,this._converter)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];j("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(o),this.firestore,this._converter)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];j("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(o),this.firestore,this._converter)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.withConverter=function(t){return new e(this._query,this.firestore,t)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(G(e,1,t),t instanceof Wi){if(n.length>0)throw new E(k.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var o=t;if(!o.exists)throw new E(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,o._document,r)}var i=[t].concat(n);return this.boundFromFields(e,i,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new qt(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof Bt)throw new E(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var c=a.field.canonicalString();throw new E(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}r.push(s)}}return new dr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new E(k.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<t.length;i++){var a=t[i];if(r[i].field.isKeyField()){if("string"!==typeof a)throw new E(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new E(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(le.fromString(a));if(!he.isDocumentKey(s))throw new E(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var c=new he(s);o.push(new qt(this.firestore._databaseId,c))}else{var u=this.firestore._dataConverter.parseQueryValue(e,a);o.push(u)}}return new dr(o,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];D("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!==typeof e[o]||fi(e[o])||(H("Query.onSnapshot",r=e[o],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),fi(e[o])?n=e[o]:(N("Query.onSnapshot","function",o,e[o]),R("Query.onSnapshot","function",o+1,e[o+1]),R("Query.onSnapshot","function",o+2,e[o+2]),n={next:e[o],error:e[o+1],complete:e[o+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var o=new ni({next:function(e){t.next&&t.next(new zi(n.firestore,n._query,e,n._converter))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,e);return function(){o.mute(),i.unlisten(a)}},e.prototype.validateHasExplicitOrderByForLimitToLast=function(e){if(e.hasLimitToLast()&&0===e.explicitOrderBy.length)throw new E(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return D("Query.get",arguments,0,1),Yi("Query.get",e),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new zi(t.firestore,t._query,e,t._converter))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?t(new E(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(o)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"===typeof e){if(""===e)throw new E(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new E(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(le.fromString(e));if(!he.isDocumentKey(t))throw new E(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new qt(this.firestore._databaseId,new he(t))}if(e instanceof qi){var n=e;return new qt(this.firestore._databaseId,n._key)}throw new E(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+W(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new E(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new E(k.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new E(k.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new E(k.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof ir){var t=[or.ARRAY_CONTAINS,or.ARRAY_CONTAINS_ANY],n=[or.IN,or.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,o=n.indexOf(e.op)>=0;if(e.isInequality()){var i=this._query.getInequalityFilterField();if(null!==i&&!i.isEqual(e.field))throw new E(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+i.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(o||r){var s=null;if(o&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new E(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new E(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new E(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),zi=function(){function e(e,t,n,r){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._converter=r,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Vi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;D("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Hi(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(H("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new E(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n,r){if(n.oldDocs.isEmpty()){var o,i=0;return n.docChanges.map((function(t){var a=new Gi(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),r);return b(t.type===Hr.Added,"Invalid event type for first snapshot"),b(!o||n.query.docComparator(o,t.doc)<0,"Got added events in wrong order"),o=t.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}}))}var a=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Hr.Metadata})).map((function(t){var o=new Gi(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),r),i=-1,s=-1;return t.type!==Hr.Added&&(b((i=a.indexOf(t.doc.key))>=0,"Index for document not found"),a=a.delete(t.doc.key)),t.type!==Hr.Removed&&(s=(a=a.add(t.doc)).indexOf(t.doc.key)),{type:Ji(t.type),doc:o,oldIndex:i,newIndex:s}}))}(this._firestore,t,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)&&this._converter===t._converter},e.prototype.convertToDocumentImpl=function(e){return new Gi(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key),this._converter)},e}();a.__spreadArrays(["length","forEach","map"],"undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(zi.prototype.docChanges,e,{get:function(){return function(){throw new E(k.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Qi=function(e){function t(t,n,r){var o=e.call(this,nr.atPath(t),n,r)||this;if(o._path=t,t.length%2!==1)throw new E(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return o}return a.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new qi(new he(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Y.newId()),N("CollectionReference.doc","non-empty string",1,e),""===e)throw new E(k.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=le.fromString(e);return qi.forPath(this._query.path.child(t),this.firestore,this._converter)},t.prototype.add=function(e){x("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this._path,this.firestore,e)},t}(Hi);function $i(e,t){if(void 0===t)return{merge:!1};if(H(e,t,["merge","mergeFields"]),L(e,"boolean","merge",t.merge),F(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"===typeof e||e instanceof ri})),void 0!==t.mergeFields&&void 0!==t.merge)throw new E(k.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ki(e,t){return void 0===t?{}:(H(e,t,["serverTimestamps"]),B(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Yi(e,t){R(e,"object",1,t),t&&(H(e,t,["source"]),B(e,0,"source",t.source,["default","server","cache"]))}function Xi(e,t,n){if(t instanceof qi){if(t.firestore!==n)throw new E(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw z(e,"DocumentReference",1,t)}function Ji(e){switch(e){case Hr.Added:return"added";case Hr.Modified:case Hr.Metadata:return"modified";case Hr.Removed:return"removed";default:return v("Unknown change type: "+e)}}function Zi(e,t,n){var r;return e?(r=e.toFirestore(t),n="toFirestore() in "+n):r=t,[r,n]}var ea=C(Fi,"Use firebase.firestore() instead."),ta=C(Bi,"Use firebase.firestore().runTransaction() instead."),na=C(Ui,"Use firebase.firestore().batch() instead."),ra=C(qi,"Use firebase.firestore().doc() instead."),oa=C(Wi),ia=C(Gi),aa=C(Hi),sa=C(zi),ca=C(Qi,"Use firebase.firestore().collection() instead."),ua={Firestore:ea,GeoPoint:co,Timestamp:Oe,Blob:oe,Transaction:ta,WriteBatch:na,DocumentReference:ra,DocumentSnapshot:oa,Query:aa,QueryDocumentSnapshot:ia,QuerySnapshot:sa,CollectionReference:ca,FieldPath:ri,FieldValue:bi,setLogLevel:Fi.setLogLevel,CACHE_SIZE_UNLIMITED:Mi};function la(e){e.INTERNAL.registerComponent(new u.Component("firestore",(function(e){var t=e.getProvider("app").getImmediate();return new Fi(t,e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(function(e){b(e&&"object"===typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(ua)))}var fa=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),da=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!==typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ha=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),pa="Connection",ma={BatchGetDocuments:"batchGet",Commit:"commit"},ya="gl-js/ fire/"+f,ga=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=ya},e.prototype.invokeRPC=function(e,t,n){var r=this,o=this.makeUrl(e);return new Promise((function(i,s){var c=new l.XhrIo;c.listenOnce(l.EventType.COMPLETE,(function(){try{switch(c.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var t=c.getResponseJson();m(pa,"XHR received:",JSON.stringify(t)),i(t);break;case l.ErrorCode.TIMEOUT:m(pa,'RPC "'+e+'" timed out'),s(new E(k.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=c.getStatus();if(m(pa,'RPC "'+e+'" failed with status:',n,"response text:",c.getResponseText()),n>0){var r=c.getResponseJson().error;if(r&&r.status&&r.message){var o=(a=r.status,u=a.toLowerCase().replace("_","-"),Object.values(k).indexOf(u)>=0?u:k.UNKNOWN);s(new E(o,r.message))}else s(new E(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else m(pa,'RPC "'+e+'" failed'),s(new E(k.UNAVAILABLE,"Connection failed."));break;default:v('RPC "'+e+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{m(pa,'RPC "'+e+'" completed.')}var a,u}));var u=a.__assign({},t);delete u.database;var f=JSON.stringify(u);m(pa,"XHR sending: ",o+" "+f);var d={"Content-Type":"text/plain"};r.modifyHeadersForRequest(d,n),c.send(o,"POST",f,d,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=l.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,t),c.isReactNative()||c.isElectron()||c.isIE()||c.isUWP()||c.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");m(pa,"Creating WebChannel: "+i+" "+o);var a=r.createWebChannel(i,o),s=!1,u=!1,f=new ha({sendFn:function(e){u?m(pa,"Not sending because WebChannel is closed:",e):(s||(m(pa,"Opening WebChannel transport."),a.open(),s=!0),m(pa,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),d=function(e,t){a.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(l.WebChannel.EventType.OPEN,(function(){u||m(pa,"WebChannel transport opened.")})),d(l.WebChannel.EventType.CLOSE,(function(){u||(u=!0,m(pa,"WebChannel transport closed"),f.callOnClose())})),d(l.WebChannel.EventType.ERROR,(function(e){u||(u=!0,m(pa,"WebChannel transport errored:",e),f.callOnClose(new E(k.UNAVAILABLE,"The operation could not be completed")))})),d(l.WebChannel.EventType.MESSAGE,(function(e){var t;if(!u){var n=e.data[0];b(!!n,"Got a webchannel message without data.");var r=n,o=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(o){m(pa,"WebChannel received error:",o);var i=o.status,s=function(e){var t=Ur[e];if(void 0!==t)return Wr(t)}(i),c=o.message;void 0===s&&(s=k.INTERNAL,c="Unknown error status: "+i+" with message "+o.message),u=!0,f.callOnClose(new E(s,c)),a.close()}else m(pa,"WebChannel received:",n),f.callOnMessage(n)}})),setTimeout((function(){f.callOnOpen()}),0),f},e.prototype.makeUrl=function(e){var t=ma[e];return b(void 0!==t,"Unknown REST mapping for: "+e),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+t},e}(),va=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new ga(e))},e.prototype.newConnectivityMonitor=function(){return da.isAvailable()?new da:new fa},e.prototype.newSerializer=function(e){return new Eo(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();w.setPlatform(new va);var ba="@firebase/firestore",wa="1.9.3";function _a(e){la(e),e.registerVersion(ba,wa)}_a(i),t.registerFirestore=_a}).call(this,n(46))},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ErrorCode",(function(){return ur})),n.d(t,"EventType",(function(){return lr})),n.d(t,"WebChannel",(function(){return fr})),n.d(t,"XhrIo",(function(){return dr})),n.d(t,"createWebChannelTransport",(function(){return cr}));var r,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},i=i||{},a=o;function s(e){return"string"==typeof e}function c(e){return"number"==typeof e}function u(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function l(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function d(e){return"array"==f(e)}function h(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function k(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.xb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[m]||(this[m]=++y)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},O=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=s(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function T(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function P(e){return/^[\s\xa0]*$/.test(e)}var A,I=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function x(e,t){return-1!=e.indexOf(t)}function j(e,t){return e<t?-1:e>t?1:0}e:{var D=a.navigator;if(D){var N=D.userAgent;if(N){A=N;break e}}A=""}function R(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function M(e){var t,n={};for(t in e)n[t]=e[t];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<L.length;i++)n=L[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){return B[" "](e),e}B[" "]=l;var U,q,V=x(A,"Opera"),W=x(A,"Trident")||x(A,"MSIE"),G=x(A,"Edge"),H=G||W,z=x(A,"Gecko")&&!(x(A.toLowerCase(),"webkit")&&!x(A,"Edge"))&&!(x(A,"Trident")||x(A,"MSIE"))&&!x(A,"Edge"),Q=x(A.toLowerCase(),"webkit")&&!x(A,"Edge");function $(){var e=a.document;return e?e.documentMode:void 0}e:{var K="",Y=(q=A,z?/rv:([^\);]+)(\)|;)/.exec(q):G?/Edge\/([\d\.]+)/.exec(q):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):Q?/WebKit\/(\S+)/.exec(q):V?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(K=Y?Y[1]:""),W){var X=$();if(null!=X&&X>parseFloat(K)){U=String(X);break e}}U=K}var J,Z={};function ee(e){return function(e,t){var n=Z;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=I(String(U)).split("."),r=I(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=j(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||j(0==a[2].length,0==s[2].length)||j(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var te=a.document;J=te&&W?$()||("CSS1Compat"==te.compatMode?parseInt(U,10):5):void 0;var ne=!W||9<=Number(J),re=W&&!ee("9"),oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.a=this.target=t,this.Ia=!0}function ae(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(z){e:{try{B(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:se[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ie.prototype.b=function(){this.Ia=!1},k(ae,ie);var se={2:"touch",3:"pen",4:"mouse"};ae.prototype.b=function(){ae.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ce="closure_listenable_"+(1e6*Math.random()|0),ue=0;function le(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=o,this.key=++ue,this.X=this.Z=!1}function fe(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function de(e){this.src=e,this.a={},this.b=0}function he(e,t){var n=t.type;if(n in e.a){var r,o=e.a[n],i=C(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(fe(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.X&&i.listener==t&&i.capture==!!n&&i.da==r)return o}return-1}de.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=pe(e,t,r,o);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new le(t,this.src,i,!!r,o)).Z=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ye={};function ge(e,t,n,r,o){if(r&&r.once)return function e(t,n,r,o,i){if(d(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,o,i);return null}r=Oe(r);return t&&t[ce]?t.Aa(n,r,p(o)?!!o.capture:!!o,i):ve(t,n,r,!0,o,i)}(e,t,n,r,o);if(d(t)){for(var i=0;i<t.length;i++)ge(e,t[i],n,r,o);return null}return n=Oe(n),e&&e[ce]?e.za(t,n,p(r)?!!r.capture:!!r,o):ve(e,t,n,!1,r,o)}function ve(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=p(o)?!!o.capture:!!o;if(a&&!ne)return null;var s=Ee(e);if(s||(e[me]=s=new de(e)),(n=s.add(t,n,r,a,i)).proxy)return n;if(r=function(){var e=ke,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e){if(!c(e)&&e&&!e.X){var t=e.src;if(t&&t[ce])he(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(he(n,e),0==n.b&&(n.src=null,t[me]=null)):fe(e)}}}function we(e){return e in ye?ye[e]:ye[e]="on"+e}function _e(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&be(e),n.call(r,t)}function ke(e,t){return!!e.X||(ne?_e(e,new ae(t,this)):_e(e,t=new ae(t||u("window.event"),this)))}function Ee(e){return(e=e[me])instanceof de?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(e){return"function"==f(e)?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Se(){E.call(this),this.c=new de(this),this.J=this,this.B=null}function Te(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.X&&a.capture==n){var s=a.listener,c=a.da||a.src;a.Z&&he(e.c,a),o=!1!==s.call(c,r)&&o}}return o&&0!=r.Ia}k(Se,E),Se.prototype[ce]=!0,(r=Se.prototype).addEventListener=function(e,t,n,r){ge(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,o,i){if(d(n))for(var a=0;a<n.length;a++)e(t,n[a],r,o,i);else o=p(o)?!!o.capture:!!o,r=Oe(r),t&&t[ce]?(t=t.c,(n=String(n).toString())in t.a&&(-1<(r=pe(a=t.a[n],r,o,i))&&(fe(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--)))):t&&(t=Ee(t))&&(n=t.a[n.toString()],t=-1,n&&(t=pe(n,r,o,i)),(r=-1<t?n[t]:null)&&be(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(s(e))e=new ie(e,n);else if(e instanceof ie)e.target=e.target||n;else{var o=e;F(e=new ie(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.a=t[i];o=Te(a,r,!0,e)&&o}if(o=Te(a=e.a=n,r,!0,e)&&o,o=Te(a,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=Te(a=e.a=t[i],r,!1,e)&&o;return o},r.G=function(){if(Se.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)fe(n[r]);delete t.a[e],t.b--}}this.B=null},r.za=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Pe=a.JSON.stringify;function Ae(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ie(){this.b=this.a=null}Ae.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var xe,je=new Ae((function(){return new Ne}),(function(e){e.reset()}));function De(){var e=Fe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ne(){this.next=this.b=this.a=null}function Re(e){a.setTimeout((function(){throw e}),0)}function Me(e,t){xe||function(){var e=a.Promise.resolve(void 0);xe=function(){e.then(Be)}}(),Le||(xe(),Le=!0),Fe.add(e,t)}Ie.prototype.add=function(e,t){var n=je.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ne.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ne.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,Fe=new Ie;function Be(){for(var e;e=De();){try{e.a.call(e.b)}catch(n){Re(n)}var t=je;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Le=!1}function Ue(e,t){Se.call(this),this.b=e||1,this.a=t||a,this.f=b(this.fb,this),this.g=_()}function qe(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Ve(e,t,n){if("function"==f(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function We(e,t,n){E.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.$a,this),this.a=[]}function Ge(e){e.U=Ve(e.b,e.c),e.f.apply(null,e.a)}function He(e){E.call(this),this.b=e,this.a={}}k(Ue,Se),(r=Ue.prototype).ba=!1,r.L=null,r.fb=function(){if(this.ba){var e=_()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(qe(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Ue.N.G.call(this),qe(this),delete this.a},k(We,E),(r=We.prototype).ea=!1,r.U=null,r.Ta=function(e){this.a=arguments,this.U?this.ea=!0:Ge(this)},r.G=function(){We.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,Ge(this))},k(He,E);var ze=[];function Qe(e,t,n,r){d(n)||(n&&(ze[0]=n.toString()),n=ze);for(var o=0;o<n.length;o++){var i=ge(t,n[o],r||e.handleEvent,!1,e.b||e);if(!i)break;e.a[i.key]=i}}function $e(e){R(e.a,(function(e,t){this.a.hasOwnProperty(t)&&be(e)}),e),e.a={}}function Ke(){}He.prototype.G=function(){He.N.G.call(this),$e(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new Se;function Xe(e){ie.call(this,"serverreachability",e)}function Je(e){Ye.dispatchEvent(new Xe(Ye,e))}function Ze(e){ie.call(this,"statevent",e)}function et(e){Ye.dispatchEvent(new Ze(Ye,e))}function tt(e){ie.call(this,"timingevent",e)}function nt(e,t){if("function"!=f(e))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}k(Xe,ie),k(Ze,ie),k(tt,ie);var rt={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},ot={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function it(){}function at(e){var t;return(t=e.a)||(t=e.a={}),t}function st(){}it.prototype.a=null;var ct,ut={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function lt(){ie.call(this,"d")}function ft(){ie.call(this,"c")}function dt(){}function ht(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new He(this),this.O=pt,e=H?125:void 0,this.P=new Ue(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}k(lt,ie),k(ft,ie),k(dt,it),ct=new dt;var pt=45e3,mt={},yt={};function gt(e,t,n){e.F=1,e.f=Vt(Rt(t)),e.l=n,e.H=!0,bt(e,null)}function vt(e,t,n,r){e.F=1,e.f=Vt(Rt(t)),e.l=null,e.H=n,bt(e,r)}function bt(e,t){e.v=_(),kt(e),e.D=Rt(e.f),qt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new We(b(e.Ja,e,e.a),e.J)),Qe(e.I,e.a,"readystatechange",e.cb),t=e.h?M(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Je(1)}function wt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var o=_t(e,n);if(o==yt){4==t&&(e.c=4,et(14),r=!1);break}if(o==mt){e.c=4,et(15),r=!1;break}Tt(e,o)}4==t&&0==n.length&&(e.c=1,et(16),r=!1),e.b=e.b&&r,r||(St(e),Ot(e))}function _t(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?yt:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1)+n>t.length?yt:(t=t.substr(r,n),e.A=r+n,t))}function kt(e){e.R=_()+e.O,Et(e,e.O)}function Et(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=nt(b(e.ab,e),t)}function Ct(e){e.i&&(a.clearTimeout(e.i),e.i=null)}function Ot(e){e.g.Ca()||e.m||e.g.na(e)}function St(e){Ct(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,qe(e.P),$e(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Tt(e,t){try{e.g.Fa(e,t),Je(4)}catch(n){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||s(e))O(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(h(e)||s(e)){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(s(e))return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function At(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof At)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function It(e,t){jt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&xt(e))}function xt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];jt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)jt(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ht.prototype).setTimeout=function(e){this.O=e},r.cb=function(e){e=e.target;var t=this.B;t&&3==Rn(e)?t.Ta():this.Ja(e)},r.Ja=function(e){try{if(e==this.a)e:{var t=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!H&&!this.a.aa())){this.m||4!=t||7==n||Je(8==n||0>=r?3:2),Ct(this);var o=this.a.T();this.o=o;var i=this.a.aa();if(this.b=200==o){if(this.S&&!this.s){t:{if(this.a){var a=Mn(this.a,"X-HTTP-Initial-Response");if(a&&!P(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,et(12),St(this),Ot(this);break e}this.s=!0,Tt(this,s)}this.H?(wt(this,t,i),H&&this.b&&3==t&&(Qe(this.I,this.P,"tick",this.bb),this.P.start())):Tt(this,i),4==t&&St(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,kt(this)))}else 400==o&&0<i.indexOf("Unknown SID")?(this.c=3,et(12)):(this.c=0,et(13)),St(this),Ot(this)}}}catch(c){}},r.bb=function(){if(this.a){var e=Rn(this.a),t=this.a.aa();this.A<t.length&&(Ct(this),wt(this,e,t),this.b&&4!=e&&kt(this))}},r.cancel=function(){this.m=!0,St(this)},r.ab=function(){this.i=null;var e=_();0<=e-this.R?(2!=this.F&&(Je(3),et(17)),St(this),this.c=2,Ot(this)):Et(this,this.R-e)},(r=At.prototype).C=function(){xt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return xt(this),this.a.concat()},r.get=function(e,t){return jt(this.b,e)?this.b[e]:t},r.set=function(e,t){jt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Nt?(this.h=void 0!==t?t:e.h,Mt(this,e.f),this.j=e.j,Lt(this,e.b),Ft(this,e.i),this.a=e.a,Bt(this,nn(e.c)),this.g=e.g):e&&(n=String(e).match(Dt))?(this.h=!!t,Mt(this,n[1]||"",!0),this.j=Wt(n[2]||""),Lt(this,n[3]||"",!0),Ft(this,n[4]),this.a=Wt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.g=Wt(n[7]||"")):(this.h=!!t,this.c=new Xt(null,this.h))}function Rt(e){return new Nt(e)}function Mt(e,t,n){e.f=n?Wt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Lt(e,t,n){e.b=n?Wt(t,!0):t}function Ft(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Bt(e,t,n){t instanceof Xt?(e.c=t,function(e,t){t&&!e.f&&(Jt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zt(this,t),tn(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=Gt(t,Kt)),e.c=new Xt(t,e.h))}function Ut(e,t,n){e.c.set(t,n)}function qt(e,t,n){d(n)||(n=[String(n)]),tn(e.c,t,n)}function Vt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return s(e)?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Gt(t,zt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Gt(t,zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?$t:Qt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Gt(n,Yt)),e.join("")},Nt.prototype.resolve=function(e){var t=Rt(this),n=!!e.f;n?Mt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Lt(t,e.b):n=null!=e.i;var r=e.a;if(n)Ft(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=t.a.lastIndexOf("/");-1!=o&&(r=t.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(x(o,"./")||x(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?t.a=r:n=""!==e.c.toString(),n?Bt(t,nn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var zt=/[#\/\?@]/g,Qt=/[#\?:]/g,$t=/[#\?]/g,Kt=/[#\?@]/g,Yt=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jt(e){e.a||(e.a=new At,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zt(e,t){Jt(e),t=rn(e,t),jt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,It(e.a,t))}function en(e,t){return Jt(e),t=rn(e,t),jt(e.a.b,t)}function tn(e,t,n){Zt(e,t),0<n.length&&(e.c=null,e.a.set(rn(e,t),T(n)),e.b+=n.length)}function nn(e){var t=new Xt;return t.c=e.c,e.a&&(t.a=new At(e.a),t.b=e.b),t}function rn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function on(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function an(e){var t=e.a.F.a;if(null!=t)et(4),t?(et(10),$n(e.a,e,!1)):(et(11),$n(e.a,e,!0));else{e.b=new ht(e,void 0,void 0),e.b.h=e.h,t=Zn(t=e.a,t.Y()?e.f:null,e.i),et(4),qt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ut(t,n,r),vt(e.b,t,!1,e.f)}}function sn(){this.a=this.b=null}function cn(){this.a=new At}function un(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++y)):t.charAt(0)+e}function ln(e,t){this.b=e,this.a=t}function fn(e){this.g=e||dn,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.ka&&a.ka.Da&&a.ka.Da()&&a.ka.Da().yb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new cn),this.b=null,this.c=[]}(r=Xt.prototype).add=function(e,t){Jt(this),this.c=null,e=rn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Jt(this),this.a.forEach((function(n,r){O(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){Jt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},r.C=function(e){Jt(this);var t=[];if(s(e))en(this,e)&&(t=S(t,this.a.get(rn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},r.set=function(e,t){return Jt(this),this.c=null,en(this,e=rn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.C(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),e.push(a)}}return this.c=e.join("&")},k((function(){}),(function(){})),(r=on.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Mn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Mn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(o){return(t=this.a).m=this.c,void Xn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Xn(t,2)}else 1==this.M&&(this.g?et(6):"11111"==t?(et(5),this.g=!0,(!W||10<=Number(J))&&(this.c=200,this.b.cancel(),et(11),$n(this.a,this,!0))):(et(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,an(this)):1==this.M&&(this.g?(et(11),$n(this.a,this,!0)):(et(10),$n(this.a,this,!1)));else{0==this.M?et(8):1==this.M&&et(9);var e=this.a;e.m=this.c,Xn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},cn.prototype.add=function(e){this.a.set(un(e),e)},cn.prototype.C=function(){return this.a.C()};var dn=10;function hn(e,t){!e.a&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(e.f=e.g,e.a=new cn,e.b&&(gn(e,e.b),e.b=null))}function pn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function mn(e){return e.b?1:e.a?e.a.a.c:0}function yn(e,t){return e.b?e=e.b==t:e.a?(t=un(t),e=jt(e.a.a.b,t)):e=!1,e}function gn(e,t){e.a?e.a.add(t):e.b=t}function vn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=un(t),n=jt(e.a.a.b,n)),n&&It(e.a.a,un(t)))}function bn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return O(e.a.C(),(function(e){t=t.concat(e.j)})),t}return T(e.c)}function wn(){}function _n(){this.a=new wn}function kn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var o=e;p(e)&&(o=Pe(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function En(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(i){}}fn.prototype.cancel=function(){this.c=bn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(O(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},wn.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},wn.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var Cn=a.JSON.parse;function On(e){Se.call(this),this.headers=new At,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}k(On,Se);var Sn="",Tn=/^https?$/i,Pn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function In(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,xn(e),Dn(e)}function xn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function jn(e){if(e.b&&"undefined"!=typeof i&&(!e.s[1]||4!=Rn(e)||2!=e.T()))if(e.l&&4==Rn(e))Ve(e.Ea,0,e);else if(e.dispatchEvent("readystatechange"),4==Rn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var s=String(e.A).match(Dt)[1]||null;if(!s&&a.self&&a.self.location){var c=a.self.location.protocol;s=c.substr(0,c.length-1)}o=!Tn.test(s?s.toLowerCase():"")}t=o}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var u=2<Rn(e)?e.a.statusText:""}catch(l){u=""}e.f=u+" ["+e.T()+"]",xn(e)}}finally{Dn(e)}}}function Dn(e,t){if(e.a){Nn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){}}}function Nn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function Rn(e){return e.a?e.a.readyState:0}function Mn(e,t){return e.a?e.a.getResponseHeader(t):null}function Ln(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),s(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var o=""}else o=e.substring(r+1,n);n=(e=[e.substr(0,r),o,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ut(e,t,n),e}function Fn(e){this.f=[],this.F=new sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.Ka=e&&e.zb||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new fn(e&&e.concurrentRequestLimit),this.ja=new _n,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Bn(e){if(Un(e),3==e.u){var t=e.P++,n=Rt(e.B);Ut(n,"SID",e.H),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Gn(e,n),(t=new ht(e,t,void 0)).F=2,t.f=Vt(Rt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=_(),kt(t)}Jn(e)}function Un(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(a.clearTimeout(e.l),e.l=null),Kn(e),e.b.cancel(),e.h&&(c(e.h)&&a.clearTimeout(e.h),e.h=null)}function qn(e,t){e.f.push(new ln(e.Qa++,t)),3==e.u&&Vn(e)}function Vn(e){pn(e.b)||e.h||(e.h=!0,Me(e.Ha,e),e.A=0)}function Wn(e,t){var n;n=t?t.W:e.P++;var r=Rt(e.B);Ut(r,"SID",e.H),Ut(r,"RID",n),Ut(r,"AID",e.O),Gn(e,r),e.g&&e.i&&Ln(r,e.g,e.i),n=new ht(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Hn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),gn(e.b,n),gt(n,r,t)}function Gn(e,t){e.c&&Pt({},(function(e,n){Ut(t,n,e)}))}function Hn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Sa,e.c,e):null;e:for(var o=e.f,i=-1;;){var a=["count="+n];-1==i?0<n?(i=o[0].b,a.push("ofs="+i)):i=0:a.push("ofs="+i);for(var s=!0,c=0;c<n;c++){var u=o[c].b,l=o[c].a;if(0>(u-=i))i=Math.max(0,o[c].b-100),s=!1;else try{kn(l,a,"req"+u+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function zn(e){e.a||e.l||(e.S=1,Me(e.Ga,e),e.v=0)}function Qn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=nt(b(e.Ga,e),Yn(e,e.v)),e.v++,!0)}function $n(e,t,n){var r=t.l;r&&hn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Zn(e,null,e.ha),Vn(e)}function Kn(e){null!=e.s&&(a.clearTimeout(e.s),e.s=null)}function Yn(e,t){var n=e.Na+Math.floor(Math.random()*e.Ra);return e.ma()||(n*=2),n*t}function Xn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.eb,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Mt(n,"https"),Vt(n)),function(e,t){var n=new Ke;if(a.Image){var r=new Image;r.onload=w(En,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(En,n,r,"TestLoadImage: error",!1,t),r.onabort=w(En,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(En,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else et(2);e.u=0,e.c&&e.c.ta(t),Jn(e),Un(e)}function Jn(e){e.u=0,e.m=-1,e.c&&(0==bn(e.b).length&&0==e.f.length||(e.b.c.length=0,T(e.f),e.f.length=0),e.c.sa())}function Zn(e,t,n){var r=function(e){return e instanceof Nt?Rt(e):new Nt(e,void 0)}(n);if(""!=r.b)t&&Lt(r,t+"."+r.b),Ft(r,r.i);else{var o,i=a.location;o=t?t+"."+i.hostname:i.hostname,r=function(e,t,n,r){var o=new Nt(null,void 0);return e&&Mt(o,e),t&&Lt(o,t),n&&Ft(o,n),r&&(o.a=r),o}(i.protocol,o,+i.port,n)}return e.V&&R(e.V,(function(e,t){Ut(r,t,e)})),t=e.j,n=e.I,t&&n&&Ut(r,t,n),Ut(r,"VER",e.wa),Gn(e,r),r}function er(){}function tr(){if(W&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function nr(e,t){Se.call(this),this.a=new Fn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,o=arguments[n];if(0==o.lastIndexOf("/",0))t=o;else(r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?o:"/"+o}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!P(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!P(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new ir(this)}function rr(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function or(){ft.call(this),this.status=1}function ir(e){this.a=e}(r=On.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?at(this.H):at(ct),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(i){return void In(this,i)}e=n||"";var o=new At(this.headers);r&&Pt(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=An,n=e.length,r=s(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:s(e)?e.charAt(t):e[t]}(o.K()),n=a.FormData&&e instanceof a.FormData,!(0<=C(Pn,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(e){return W&&ee(9)&&c(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=Ve(this.Ba,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(i){In(this,i)}},r.Ba=function(){"undefined"!=typeof i&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),On.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?jn(this):this.Za())},r.Za=function(){jn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cn(t)}},r.ya=function(){return this.h},r.Xa=function(){return s(this.f)?this.f:String(this.f)},(r=Fn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ht(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?F(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var o=t=0;o<this.f.length;o++){var i=this.f[o];if(void 0===(i="__data__"in i.a&&s(i=i.a.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=o;break e}if(4096===t||o===this.f.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=Hn(this,n,t),Ut(o=Rt(this.B),"RID",e),Ut(o,"CVER",22),this.o&&this.j&&Ut(o,"X-HTTP-Session-Id",this.j),Gn(this,o),this.g&&r&&Ln(o,this.g,r),gn(this.b,n),this.W?(Ut(o,"$req",t),Ut(o,"SID","null"),n.S=!0,gt(n,o,null)):gt(n,o,t),this.u=2}}else 3==this.u&&(e?Wn(this,e):0==this.f.length||pn(this.b)||Wn(this))},r.Ga=function(){this.l=null,this.a=new ht(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Rt(this.pa);Ut(e,"RID","rpc"),Ut(e,"SID",this.H),Ut(e,"CI",this.ia?"0":"1"),Ut(e,"AID",this.O),Gn(this,e),Ut(e,"TYPE","xmlhttp"),this.g&&this.i&&Ln(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),vt(this.a,e,!0,this.ga)},r.Fa=function(e,t){if(0!=this.u&&(this.a==e||yn(this.b,e)))if(this.m=e.o,!e.s&&yn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(i){n=null}if(d(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Kn(this),this.a.cancel(),this.a=null}Qn(this),et(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=nt(b(this.Ya,this),6e3));if(1>=mn(this.b)&&this.fa){try{this.fa()}catch(i){}this.fa=void 0}}else Xn(this,11)}else if((e.s||this.a==e)&&Kn(this),!P(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var o=r[3];null!=o&&(this.wa=o),null!=(r=r[5])&&c(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((o=Mn(r,"X-Client-Wire-Protocol"))&&hn(this.b,o),this.j&&(r=Mn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ut(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(vn(this.b,r),(o=this.D)&&r.setTimeout(o),r.i&&(Ct(r),kt(r)),this.a=r):zn(this),0<this.f.length&&Vn(this)}else"stop"!=r[0]&&"close"!=r[0]||Xn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Xn(this,7):Bn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Qn(this),et(19))},r.na=function(e){var t=null;if(this.a==e){Kn(this),this.a=null;var n=2}else{if(!yn(this.b,e))return;t=e.j,vn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=_()-e.v,Ye.dispatchEvent(new tt(Ye,e.l?e.l.length:0,t,this.A)),Vn(this)):zn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(mn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Oa?0:e.Pa))&&(e.h=nt(b(e.Ha,e,t),Yn(e,e.A)),e.A++,!0))}(this,e)||2==n&&Qn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Xn(this,5);break;case 4:Xn(this,10);break;case 3:Xn(this,6);break;default:Xn(this,2)}}},r.eb=function(e){et(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new On(this.Ka)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=er.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},tr.prototype.a=function(e,t){return new nr(e,t)},k(nr,Se),(r=nr.prototype).addEventListener=function(e,t,n,r){nr.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){nr.N.removeEventListener.call(this,e,t,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;et(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new on(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Ln(t,e.g,e.i)),(e=e.w).i=n,t=Zn(e.a,null,e.i),et(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,an(e)):(qt(t,"MODE","init"),!e.a.o&&e.a.j&&qt(t,"X-HTTP-Session-Id",e.a.j),e.b=new ht(e,void 0,void 0),e.b.h=e.h,vt(e.b,t,!1,null),e.M=0)},r.close=function(){Bn(this.a)},r.Wa=function(e){if(s(e)){var t={};t.__data__=e,qn(this.a,t)}else this.h?((t={}).__data__=Pe(e),qn(this.a,t)):qn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Bn(this.a),delete this.a,nr.N.G.call(this)},k(rr,lt),k(or,ft),k(ir,er),ir.prototype.va=function(){this.a.dispatchEvent("a")},ir.prototype.ua=function(e){this.a.dispatchEvent(new rr(e))},ir.prototype.ta=function(e){this.a.dispatchEvent(new or(e))},ir.prototype.sa=function(){this.a.dispatchEvent("b")};var ar=w((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),tr);tr.prototype.createWebChannel=tr.prototype.a,nr.prototype.send=nr.prototype.Wa,nr.prototype.open=nr.prototype.Va,nr.prototype.close=nr.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,ot.COMPLETE="complete",st.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Se.prototype.listen=Se.prototype.za,On.prototype.listenOnce=On.prototype.Aa,On.prototype.getLastError=On.prototype.Xa,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.T,On.prototype.getResponseJson=On.prototype.Ua,On.prototype.getResponseText=On.prototype.aa,On.prototype.send=On.prototype.ca;var sr={createWebChannelTransport:ar,ErrorCode:rt,EventType:ot,WebChannel:st,XhrIo:On},cr=sr.createWebChannelTransport,ur=sr.ErrorCode,lr=sr.EventType,fr=sr.WebChannel,dr=sr.XhrIo;t.default=sr}.call(this,n(28))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(109);t.default=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.wall().show(e)];case 1:return[2,t.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(109);t.default=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.wall().update(e)];case 1:return[2,t.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(109);t.default=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.wall().destroy(e)];case 1:return[2,t.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),a=n(20);t.default=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t={method:a.HTTPMethod.post,jsonData:{wall_id:e}},[4,i.apiFetch("/api/wall_likes",t)];case 1:return[2,n.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48),a=n(20);t.default=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t={method:a.HTTPMethod.delete,jsonData:{wall_id:e}},[4,i.apiFetch("/api/wall_likes",t)];case 1:return[2,n.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(109);t.default=function(e,t){return o(this,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return n={name:e},t&&(n=r(r({},n),{for_wall_id:t.toString()})),[4,a.wall().get("check_availability",{query:n})];case 1:return[2,o.sent().available]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(199)),s=n(279);function c(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return(t=e.name)?[4,a.default(t)]:[3,2];case 1:if(!n.sent())throw new s.FieldValidationError("name","Must be letters, numbers or underscores, with length of less than 50 characters.","Invalid name");n.label=2;case 2:if(!t)throw new s.FieldValidationError("name","Must be present","Invalid name");return[2,e]}}))}))}var u=["stream","grid","matrix","shelf","chat","free","map","table","timeline"];function l(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){if(t=e.viz,!u.includes(t))throw new s.FieldValidationError("viz","Must be one of "+u.join(", "),"Invalid viz");return[2,e]}))}))}var f=["top","bottom"];function d(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){if(t=e.new_wish_loc,!f.includes(t))throw new s.FieldValidationError("new_wish_loc","Must be one of "+f.join(", "),"Invalid new_wish_loc");return[2,e]}))}))}function h(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){if(!(t=e.background))throw new s.FieldValidationError("background","Must be present","Invalid background");if(!t.url)throw new s.FieldValidationError("background","Must have URL","Invalid background URL");return[2,e]}))}))}var p=["like","star","grade","vote"];function m(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){if(t=e.is_reactable,n=e.reaction_data,!0===t){if(!n)throw new s.FieldValidationError("reaction_data","Required if is_reactable is true","Missing reaction_data");if(!n.type)throw new s.FieldValidationError("reaction_data","Requires a type","Missing reaction_data type");if(!p.includes(n.type))throw new s.FieldValidationError("reaction_data","Requires that type exist in allowed types: "+p.join(", "),"Invalid reaction_data type");if("grade"===n.type){if(!(r=n.max_value))throw new s.FieldValidationError("reaction_data","Must have max_value for type grade","Missing max_value");if("number"!==typeof r)throw new s.FieldValidationError("reaction_data","max_value must be a number","max_value type is invalid");if(r<1||r>100)throw new s.FieldValidationError("reaction_data","max_value must be between 1 and 100 inclusive","Invalid max_value")}else if(n.max_value)throw new s.FieldValidationError("reaction_data","Only type grade can have a max_value","Unwanted max_value")}return[2,e]}))}))}function y(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){if(t=e.domain_name){if(t.match(/\.padlet\.com$/))throw new s.FieldValidationError("domain_name","Cannot use padlet.com domain","Invalid domain_name");if(t.match(/\.padlet\.org$/))throw new s.FieldValidationError("domain_name","Cannot use padlet.org domain","Invalid domain_name")}return[2,e]}))}))}t.default=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t=[l,c,y,d,h,m],n=[],[4,Promise.all(t.map((function(t){return t(e).catch((function(e){return n.push(e.reason)}))})))];case 1:if(r.sent(),n.length>0)throw new s.ValidationError("Invalid wall",n);return[2,e]}}))}))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var r=e.call(this,t)||this;return n&&(r.reasons=n),r}return o(t,e),t}(Error);t.ValidationError=i;var a=function(e){function t(t,n,r){var o=e.call(this,r)||this;return o.reason={field:t,reason:n},o}return o(t,e),t}(Error);t.FieldValidationError=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(281);t.default=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return e={},[4,i.emojiCategories()];case 1:return t=r.sent(),n=i.emojiCodes,t.forEach((function(t){var r=n[t.label].map((function(e){var t=i.emojiDetails[e];return{code:e,name:t.name,keywords:t.keywords,url:i.emojiUrl(e)}}));e[t.label]={category:t,emojis:r}})),[2,e]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(282));t.emojiCodes=a.default,t.emojiDetails=a.emojiDetails;var s=["people","nature","food","activity","travel","objects","symbols","flags"];t.emojiUrl=function(e){return"https://padlet.net/icons/png/"+e+".png"},t.emojiCategories=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,s.map((function(e){return{label:e}}))]}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={people:["1f600","1f603","1f604","1f601","1f606","1f605","1f602","1f923","263a","1f60a","1f607","1f642","1f643","1f609","1f60c","1f60d","1f618","1f970","1f617","1f619","1f61a","1f60b","1f61b","1f61d","1f61c","1f92a","1f928","1f9d0","1f913","1f60e","1f929","1f973","1f60f","1f612","1f61e","1f614","1f61f","1f615","1f641","2639","1f623","1f616","1f62b","1f629","1f622","1f62d","1f624","1f620","1f621","1f92c","1f92f","1f633","1f631","1f628","1f630","1f975","1f976","1f97a","1f625","1f613","1f917","1f914","1f92d","1f92b","1f925","1f636","1f610","1f611","1f62c","1f644","1f62f","1f626","1f627","1f62e","1f632","1f634","1f924","1f62a","1f635","1f910","1f974","1f922","1f92e","1f927","1f637","1f912","1f915","1f911","1f920","1f608","1f47f","1f479","1f47a","1f921","1f4a9","1f47b","1f480","2620","1f47d","1f47e","1f916","1f383","1f63a","1f638","1f639","1f63b","1f63c","1f63d","1f640","1f63f","1f63e","1f932","1f450","1f64c","1f44f","1f91d","1f44d","1f44e","1f44a","270a","1f91b","1f91c","1f91e","270c","1f91f","1f918","1f44c","1f448","1f449","1f446","1f447","261d","270b","1f91a","1f590","1f596","1f44b","1f919","1f4aa","1f9b5","1f9b6","270d","1f64f","1f48d","1f484","1f48b","1f444","1f445","1f442","1f443","1f463","1f441","1f440","1f9e0","1f9b4","1f9b7","1f5e3","1f464","1f465","1f476","1f467","1f9d2","1f466","1f469","1f468","1f471","1f471-2640","1f471-2642","1f469-1f9b0","1f468-1f9b0","1f469-1f9b1","1f468-1f9b1","1f469-1f9b3","1f468-1f9b3","1f469-1f9b2","1f468-1f9b2","1f9d4","1f475","1f9d3","1f474","1f472","1f473-2640","1f473-2642","1f9d5","1f46e-2640","1f46e-2642","1f477-2640","1f477-2642","1f482-2640","1f482-2642","1f575-2640","1f575-2642","1f469-2695","1f468-2695","1f469-1f33e","1f468-1f33e","1f469-1f373","1f468-1f373","1f469-1f393","1f468-1f393","1f469-1f3a4","1f468-1f3a4","1f469-1f3eb","1f468-1f3eb","1f469-1f3ed","1f468-1f3ed","1f469-1f4bb","1f468-1f4bb","1f469-1f4bc","1f468-1f4bc","1f469-1f527","1f468-1f527","1f469-1f52c","1f468-1f52c","1f469-1f3a8","1f468-1f3a8","1f469-1f692","1f468-1f692","1f469-2708","1f468-2708","1f469-1f680","1f468-1f680","1f469-2696","1f468-2696","1f470","1f935","1f478","1f934","1f936","1f385","1f9b8-2640","1f9b8-2642","1f9b9-2640","1f9b9-2642","1f9d9-2640","1f9d9-2642","1f9dd-2640","1f9dd-2642","1f9db-2640","1f9db-2642","1f9df-2640","1f9df-2642","1f9de-2640","1f9de-2642","1f9dc-2640","1f9dc-2642","1f9da-2640","1f9da-2642","1f47c","1f930","1f931","1f647-2640","1f647-2642","1f481-2640","1f481-2642","1f645-2640","1f645-2642","1f646-2640","1f646-2642","1f64b-2640","1f64b-2642","1f926-2640","1f926-2642","1f937-2640","1f937-2642","1f64e-2640","1f64e-2642","1f64d-2640","1f64d-2642","1f487-2640","1f487-2642","1f486-2640","1f486-2642","1f9d6-2640","1f9d6-2642","1f485","1f933","1f483","1f57a","1f46f-2640","1f46f-2642","1f574","1f6b6-2640","1f6b6-2642","1f3c3-2640","1f3c3-2642","1f46b","1f46d","1f46c","1f469-2764-1f468","1f469-2764-1f469","1f468-2764-1f468","1f48f","1f469-2764-1f48b-1f468","1f469-2764-1f48b-1f469","1f468-2764-1f48b-1f468","1f468-1f469-1f466","1f468-1f469-1f467","1f468-1f469-1f467-1f466","1f468-1f469-1f466-1f466","1f468-1f469-1f467-1f467","1f469-1f469-1f466","1f469-1f469-1f467","1f469-1f469-1f467-1f466","1f469-1f469-1f466-1f466","1f469-1f469-1f467-1f467","1f468-1f468-1f466","1f468-1f468-1f467","1f468-1f468-1f467-1f466","1f468-1f468-1f466-1f466","1f468-1f468-1f467-1f467","1f469-1f466","1f469-1f467","1f469-1f467-1f466","1f469-1f466-1f466","1f469-1f467-1f467","1f468-1f466","1f468-1f467","1f468-1f467-1f466","1f468-1f466-1f466","1f468-1f467-1f467","1f9e5","1f45a","1f455","1f456","1f454","1f457","1f459","1f458","1f97c","1f460","1f461","1f462","1f45e","1f45f","1f97e","1f97f","1f9e6","1f9e4","1f9e3","1f3a9","1f9e2","1f452","1f393","26d1","1f451","1f45d","1f45b","1f45c","1f4bc","1f392","1f453","1f576","1f97d","1f302","1f9b0","1f9b1","1f9b3","1f9b2"],nature:["1f436","1f431","1f42d","1f439","1f430","1f98a","1f99d","1f43b","1f43c","1f998","1f9a1","1f428","1f42f","1f981","1f42e","1f437","1f43d","1f438","1f435","1f648","1f649","1f64a","1f412","1f414","1f427","1f426","1f424","1f423","1f425","1f986","1f9a2","1f985","1f989","1f99c","1f99a","1f987","1f43a","1f417","1f434","1f984","1f41d","1f41b","1f98b","1f40c","1f41a","1f41e","1f41c","1f997","1f577","1f578","1f982","1f99f","1f9a0","1f422","1f40d","1f98e","1f996","1f995","1f419","1f991","1f990","1f980","1f99e","1f421","1f420","1f41f","1f42c","1f433","1f40b","1f988","1f40a","1f405","1f406","1f993","1f98d","1f418","1f98f","1f99b","1f42a","1f42b","1f992","1f999","1f403","1f402","1f404","1f40e","1f416","1f40f","1f411","1f410","1f98c","1f415","1f429","1f408","1f413","1f983","1f54a","1f407","1f401","1f400","1f43f","1f994","1f43e","1f409","1f432","1f335","1f384","1f332","1f333","1f334","1f331","1f33f","2618","1f340","1f38d","1f38b","1f343","1f342","1f341","1f344","1f33e","1f490","1f337","1f339","1f940","1f33a","1f338","1f33c","1f33b","1f31e","1f31d","1f31b","1f31c","1f31a","1f315","1f316","1f317","1f318","1f311","1f312","1f313","1f314","1f319","1f30e","1f30d","1f30f","1f4ab","2b50","1f31f","2728","26a1","2604","1f4a5","1f525","1f32a","1f308","2600","1f324","26c5","1f325","2601","1f326","1f327","26c8","1f329","1f328","2744","2603","26c4","1f32c","1f4a8","1f4a7","1f4a6","2614","2602","1f30a","1f32b"],food:["1f34f","1f34e","1f350","1f34a","1f34b","1f34c","1f349","1f347","1f353","1f348","1f352","1f351","1f96d","1f34d","1f965","1f95d","1f345","1f346","1f951","1f966","1f96c","1f952","1f336","1f33d","1f955","1f954","1f360","1f950","1f35e","1f956","1f968","1f96f","1f9c0","1f95a","1f373","1f95e","1f953","1f969","1f357","1f356","1f32d","1f354","1f35f","1f355","1f96a","1f959","1f32e","1f32f","1f957","1f958","1f96b","1f35d","1f35c","1f372","1f35b","1f363","1f371","1f364","1f359","1f35a","1f358","1f365","1f960","1f362","1f361","1f367","1f368","1f366","1f967","1f370","1f382","1f96e","1f9c1","1f36e","1f36d","1f36c","1f36b","1f37f","1f9c2","1f369","1f95f","1f36a","1f330","1f95c","1f36f","1f95b","1f37c","2615","1f375","1f964","1f376","1f944","1f374","1f37d","1f963","1f961","1f962"],activity:["26bd","1f3c0","1f3c8","26be","1f94e","1f3be","1f3d0","1f3c9","1f3b1","1f3d3","1f3f8","1f945","1f3d2","1f3d1","1f3cf","1f94d","26f3","1f94f","1f3f9","1f3a3","1f94a","1f94b","1f3bd","1f6f9","26f8","1f6f7","1f3bf","26f7","1f3c2","1f3cb-2640","1f3cb-2642","1f93c-2640","1f93c-2642","1f938-2640","1f938-2642","26f9-2640","26f9-2642","1f93a","1f93e-2640","1f93e-2642","1f3cc-2640","1f3cc-2642","1f3c7","1f9d8-2640","1f9d8-2642","1f3c4-2640","1f3c4-2642","1f3ca-2640","1f3ca-2642","1f93d-2640","1f93d-2642","1f6a3-2640","1f6a3-2642","1f9d7-2640","1f9d7-2642","1f6b5-2640","1f6b5-2642","1f6b4-2640","1f6b4-2642","1f3c6","1f947","1f948","1f949","1f3c5","1f396","1f3f5","1f397","1f3ab","1f39f","1f3aa","1f939-2640","1f939-2642","1f3ad","1f3a8","1f3ac","1f3a4","1f3a7","1f3bc","1f3b9","1f941","1f3b7","1f3ba","1f3b8","1f3bb","1f3b2","1f3af","1f3b3","1f3ae","1f3b0"],travel:["1f697","1f695","1f699","1f68c","1f68e","1f3ce","1f693","1f691","1f692","1f690","1f69a","1f69b","1f69c","1f6f4","1f6b2","1f6f5","1f3cd","1f6a8","1f694","1f68d","1f698","1f696","1f6a1","1f6a0","1f69f","1f683","1f68b","1f69e","1f69d","1f684","1f685","1f688","1f682","1f686","1f687","1f68a","1f689","2708","1f6eb","1f6ec","1f6e9","1f4ba","1f9f3","1f6f0","1f680","1f6f8","1f681","1f6f6","26f5","1f6a4","1f6e5","1f6f3","26f4","1f6a2","2693","26fd","1f6a7","1f6a6","1f6a5","1f68f","1f5fa","1f5ff","1f5fd","1f5fc","1f3f0","1f3ef","1f3df","1f3a1","1f3a2","1f3a0","26f2","26f1","1f3d6","1f3dd","1f3dc","1f30b","26f0","1f3d4","1f5fb","1f3d5","26fa","1f3e0","1f3e1","1f3d8","1f3da","1f3d7","1f3ed","1f3e2","1f3ec","1f3e3","1f3e4","1f3e5","1f3e6","1f3e8","1f3ea","1f3eb","1f3e9","1f492","1f3db","26ea","1f54c","1f54d","1f54b","26e9","1f6e4","1f6e3","1f5fe","1f391","1f3de","1f305","1f304","1f320","1f387","1f386","1f9e8","1f307","1f306","1f3d9","1f303","1f30c","1f309","1f301"],objects:["231a","1f4f1","1f4f2","1f4bb","2328","1f5a5","1f5a8","1f5b1","1f5b2","1f579","265f","1f9e9","1f5dc","1f4bd","1f4be","1f4bf","1f4c0","1f4fc","1f4f7","1f4f8","1f4f9","1f3a5","1f4fd","1f39e","1f4de","260e","1f4df","1f4e0","1f4fa","1f4fb","1f399","1f39a","1f39b","23f1","23f2","23f0","1f570","231b","23f3","1f4e1","1f9ed","1f50b","1f50c","1f9f2","1f4a1","1f526","1f56f","1f9ef","1f5d1","1f6e2","1f4b8","1f4b5","1f4b4","1f4b6","1f4b7","1f4b0","1f4b3","1f48e","1f9ff","1f9f1","2696","1f9f0","1f527","1f528","2692","1f6e0","26cf","1f529","2699","26d3","1f52a","1f5e1","2694","1f6e1","26b0","26b1","1f3fa","1f52e","1f4ff","1f488","2697","1f9ea","1f9eb","1f9ec","1f9ee","1f52d","1f52c","1f573","1f48a","1f489","1f321","1f6bd","1f6b0","1f6bf","1f6c1","1f6c0","1f9f9","1f9fa","1f9fb","1f9fc","1f9fd","1f9f4","1f9f5","1f9f6","1f6ce","1f511","1f5dd","1f6aa","1f6cb","1f6cf","1f6cc","1f9f8","1f5bc","1f6cd","1f6d2","1f381","1f388","1f38f","1f380","1f38a","1f389","1f38e","1f3ee","1f390","1f9e7","2709","1f4e9","1f4e8","1f4e7","1f48c","1f4e5","1f4e4","1f4e6","1f3f7","1f4ea","1f4eb","1f4ec","1f4ed","1f4ee","1f4ef","1f4dc","1f4c3","1f4c4","1f9fe","1f4d1","1f4ca","1f4c8","1f4c9","1f5d2","1f5d3","1f4c6","1f4c5","1f4c7","1f5c3","1f5f3","1f5c4","1f4cb","1f4c1","1f4c2","1f5c2","1f5de","1f4f0","1f4d3","1f4d4","1f4d2","1f4d5","1f4d7","1f4d8","1f4d9","1f4da","1f4d6","1f516","1f517","1f4ce","1f587","1f4d0","1f4cf","1f9f7","1f4cc","1f4cd","2702","1f58a","1f58b","2712","1f58c","1f58d","1f4dd","270f","1f50d","1f50e","1f50f","1f510","1f512","1f513"],symbols:["2764","1f9e1","1f49b","1f49a","1f499","1f49c","1f5a4","1f494","2763","1f495","1f49e","1f493","1f497","1f496","1f498","1f49d","1f49f","262e","271d","262a","1f549","2638","2721","1f52f","1f54e","262f","2626","1f6d0","26ce","2648","2649","264a","264b","264c","264d","264e","264f","2650","2651","2652","2653","1f194","269b","267e","1f251","2622","2623","1f4f4","1f4f3","1f236","1f21a","1f238","1f23a","1f237","2734","1f19a","1f4ae","1f250","3299","3297","1f234","1f235","1f239","1f232","1f170","1f171","1f18e","1f191","1f17e","1f198","274c","2b55","1f6d1","26d4","1f4db","1f6ab","1f4af","1f4a2","2668","1f6b7","1f6af","1f6b3","1f6b1","1f51e","1f4f5","1f6ad","2757","2755","2753","2754","203c","2049","1f505","1f506","303d","26a0","1f6b8","1f531","269c","1f530","267b","2705","1f22f","1f4b9","2747","2733","274e","1f310","1f4a0","24c2","1f300","1f4a4","1f3e7","1f6be","267f","1f17f","1f233","1f202","1f6c2","1f6c3","1f6c4","1f6c5","1f6b9","1f6ba","1f6bc","1f6bb","1f6ae","1f3a6","1f4f6","1f201","1f523","2139","1f524","1f521","1f520","1f196","1f197","1f199","1f192","1f195","1f193","0030-20e3","0031-20e3","0032-20e3","0033-20e3","0034-20e3","0035-20e3","0036-20e3","0037-20e3","0038-20e3","0039-20e3","1f51f","1f522","0023-20e3","002a-20e3","23cf","25b6","23f8","23ef","23f9","23fa","23ed","23ee","23e9","23ea","23eb","23ec","25c0","1f53c","1f53d","27a1","2b05","2b06","2b07","2197","2198","2199","2196","2195","2194","21aa","21a9","2934","2935","1f500","1f501","1f502","1f504","1f503","1f3b5","1f3b6","2795","2796","2797","2716","1f4b2","1f4b1","2122","00a9","00ae","3030","27b0","27bf","1f51a","1f519","1f51b","1f51d","1f51c","2714","2611","1f518","26aa","26ab","1f534","1f535","1f53a","1f53b","1f538","1f539","1f536","1f537","1f533","1f532","25aa","25ab","25fe","25fd","25fc","25fb","2b1b","2b1c","1f508","1f507","1f509","1f50a","1f514","1f515","1f4e3","1f4e2","1f5e8","1f441-1f5e8","1f4ac","1f4ad","1f5ef","2660","2663","2665","2666","1f0cf","1f3b4","1f004","1f550","1f551","1f552","1f553","1f554","1f555","1f556","1f557","1f558","1f559","1f55a","1f55b","1f55c","1f55d","1f55e","1f55f","1f560","1f561","1f562","1f563","1f564","1f565","1f566","1f567","0030","0031","0032","0033","0034","0035","0036","0037","0038","0039","0023","002a","2640","2642","2695"],flags:["1f3f3","1f3f4","1f3c1","1f6a9","1f3f3-1f308","1f3f4-2620","1f1e6-1f1eb","1f1e6-1f1fd","1f1e6-1f1f1","1f1e9-1f1ff","1f1e6-1f1f8","1f1e6-1f1e9","1f1e6-1f1f4","1f1e6-1f1ee","1f1e6-1f1f6","1f1e6-1f1ec","1f1e6-1f1f7","1f1e6-1f1f2","1f1e6-1f1fc","1f1e6-1f1fa","1f1e6-1f1f9","1f1e6-1f1ff","1f1e7-1f1f8","1f1e7-1f1ed","1f1e7-1f1e9","1f1e7-1f1e7","1f1e7-1f1fe","1f1e7-1f1ea","1f1e7-1f1ff","1f1e7-1f1ef","1f1e7-1f1f2","1f1e7-1f1f9","1f1e7-1f1f4","1f1e7-1f1e6","1f1e7-1f1fc","1f1e7-1f1f7","1f1ee-1f1f4","1f1fb-1f1ec","1f1e7-1f1f3","1f1e7-1f1ec","1f1e7-1f1eb","1f1e7-1f1ee","1f1f0-1f1ed","1f1e8-1f1f2","1f1e8-1f1e6","1f1ee-1f1e8","1f1e8-1f1fb","1f1e7-1f1f6","1f1f0-1f1fe","1f1e8-1f1eb","1f1f9-1f1e9","1f1e8-1f1f1","1f1e8-1f1f3","1f1e8-1f1fd","1f1e8-1f1e8","1f1e8-1f1f4","1f1f0-1f1f2","1f1e8-1f1ec","1f1e8-1f1e9","1f1e8-1f1f0","1f1e8-1f1f7","1f1e8-1f1ee","1f1ed-1f1f7","1f1e8-1f1fa","1f1e8-1f1fc","1f1e8-1f1fe","1f1e8-1f1ff","1f1e9-1f1f0","1f1e9-1f1ef","1f1e9-1f1f2","1f1e9-1f1f4","1f1ea-1f1e8","1f1ea-1f1ec","1f1f8-1f1fb","1f1ec-1f1f6","1f1ea-1f1f7","1f1ea-1f1ea","1f1ea-1f1f9","1f1ea-1f1fa","1f1eb-1f1f0","1f1eb-1f1f4","1f1eb-1f1ef","1f1eb-1f1ee","1f1eb-1f1f7","1f1ec-1f1eb","1f1f5-1f1eb","1f1f9-1f1eb","1f1ec-1f1e6","1f1ec-1f1f2","1f1ec-1f1ea","1f1e9-1f1ea","1f1ec-1f1ed","1f1ec-1f1ee","1f1ec-1f1f7","1f1ec-1f1f1","1f1ec-1f1e9","1f1ec-1f1f5","1f1ec-1f1fa","1f1ec-1f1f9","1f1ec-1f1ec","1f1ec-1f1f3","1f1ec-1f1fc","1f1ec-1f1fe","1f1ed-1f1f9","1f1ed-1f1f3","1f1ed-1f1f0","1f1ed-1f1fa","1f1ee-1f1f8","1f1ee-1f1f3","1f1ee-1f1e9","1f1ee-1f1f7","1f1ee-1f1f6","1f1ee-1f1ea","1f1ee-1f1f2","1f1ee-1f1f1","1f1ee-1f1f9","1f1ef-1f1f2","1f1ef-1f1f5","1f38c","1f1ef-1f1ea","1f1ef-1f1f4","1f1f0-1f1ff","1f1f0-1f1ea","1f1f0-1f1ee","1f1fd-1f1f0","1f1f0-1f1fc","1f1f0-1f1ec","1f1f1-1f1e6","1f1f1-1f1fb","1f1f1-1f1e7","1f1f1-1f1f8","1f1f1-1f1f7","1f1f1-1f1fe","1f1f1-1f1ee","1f1f1-1f1f9","1f1f1-1f1fa","1f1f2-1f1f4","1f1f2-1f1f0","1f1f2-1f1ec","1f1f2-1f1fc","1f1f2-1f1fe","1f1f2-1f1fb","1f1f2-1f1f1","1f1f2-1f1f9","1f1f2-1f1ed","1f1f2-1f1f6","1f1f2-1f1f7","1f1f2-1f1fa","1f1fe-1f1f9","1f1f2-1f1fd","1f1eb-1f1f2","1f1f2-1f1e9","1f1f2-1f1e8","1f1f2-1f1f3","1f1f2-1f1ea","1f1f2-1f1f8","1f1f2-1f1e6","1f1f2-1f1ff","1f1f2-1f1f2","1f1f3-1f1e6","1f1f3-1f1f7","1f1f3-1f1f5","1f1f3-1f1f1","1f1f3-1f1e8","1f1f3-1f1ff","1f1f3-1f1ee","1f1f3-1f1ea","1f1f3-1f1ec","1f1f3-1f1fa","1f1f3-1f1eb","1f1f0-1f1f5","1f1f2-1f1f5","1f1f3-1f1f4","1f1f4-1f1f2","1f1f5-1f1f0","1f1f5-1f1fc","1f1f5-1f1f8","1f1f5-1f1e6","1f1f5-1f1ec","1f1f5-1f1fe","1f1f5-1f1ea","1f1f5-1f1ed","1f1f5-1f1f3","1f1f5-1f1f1","1f1f5-1f1f9","1f1f5-1f1f7","1f1f6-1f1e6","1f1f7-1f1ea","1f1f7-1f1f4","1f1f7-1f1fa","1f1f7-1f1fc","1f1fc-1f1f8","1f1f8-1f1f2","1f1f8-1f1f9","1f1f8-1f1e6","1f1f8-1f1f3","1f1f7-1f1f8","1f1f8-1f1e8","1f1f8-1f1f1","1f1f8-1f1ec","1f1f8-1f1fd","1f1f8-1f1f0","1f1f8-1f1ee","1f1ec-1f1f8","1f1f8-1f1e7","1f1f8-1f1f4","1f1ff-1f1e6","1f1f0-1f1f7","1f1f8-1f1f8","1f1ea-1f1f8","1f1f1-1f1f0","1f1e7-1f1f1","1f1f8-1f1ed","1f1f0-1f1f3","1f1f1-1f1e8","1f1f5-1f1f2","1f1fb-1f1e8","1f1f8-1f1e9","1f1f8-1f1f7","1f1f8-1f1ff","1f1f8-1f1ea","1f1e8-1f1ed","1f1f8-1f1fe","1f1f9-1f1fc","1f1f9-1f1ef","1f1f9-1f1ff","1f1f9-1f1ed","1f1f9-1f1f1","1f1f9-1f1ec","1f1f9-1f1f0","1f1f9-1f1f4","1f1f9-1f1f9","1f1f9-1f1f3","1f1f9-1f1f7","1f1f9-1f1f2","1f1f9-1f1e8","1f1fb-1f1ee","1f1f9-1f1fb","1f1fa-1f1ec","1f1fa-1f1e6","1f1e6-1f1ea","1f1ec-1f1e7","1f3f4-e0067-e0062-e0065-e006e-e0067-e007f","1f3f4-e0067-e0062-e0073-e0063-e0074-e007f","1f3f4-e0067-e0062-e0077-e006c-e0073-e007f","1f1fa-1f1f8","1f1fa-1f1fe","1f1fa-1f1ff","1f1fb-1f1fa","1f1fb-1f1e6","1f1fb-1f1ea","1f1fb-1f1f3","1f1fc-1f1eb","1f1ea-1f1ed","1f1fe-1f1ea","1f1ff-1f1f2","1f1ff-1f1fc","1f1e6-1f1e8","1f1e7-1f1fb","1f1e8-1f1f5","1f1ea-1f1e6","1f1e9-1f1ec","1f1ed-1f1f2","1f1f2-1f1eb","1f1f8-1f1ef","1f1f9-1f1e6","1f1fa-1f1f2","1f1fa-1f1f3"]},t.emojiDetails={"1f600":{code:"1f600",category:"people",shortname:":grinning:",name:"grinning face",keywords:["face","grin"]},"1f603":{code:"1f603",category:"people",shortname:":smiley:",name:"grinning face with big eyes",keywords:["face","mouth","open","smile"]},"1f604":{code:"1f604",category:"people",shortname:":smile:",name:"grinning face with smiling eyes",keywords:["eye","face","mouth","open","smile"]},"1f601":{code:"1f601",category:"people",shortname:":grin:",name:"beaming face with smiling eyes",keywords:["eye","face","grin","smile"]},"1f606":{code:"1f606",category:"people",shortname:":laughing:",name:"grinning squinting face",keywords:["face","laugh","mouth","open","satisfied","smile"]},"1f605":{code:"1f605",category:"people",shortname:":sweat_smile:",name:"grinning face with sweat",keywords:["cold","face","open","smile","sweat"]},"1f602":{code:"1f602",category:"people",shortname:":joy:",name:"face with tears of joy",keywords:["face","joy","laugh","tear"]},"1f923":{code:"1f923",category:"people",shortname:":rofl:",name:"rolling on the floor laughing",keywords:["face","floor","laugh","rolling"]},"263a":{code:"263a",category:"people",shortname:":relaxed:",name:"smiling face",keywords:["face","outlined","relaxed","smile"]},"1f60a":{code:"1f60a",category:"people",shortname:":blush:",name:"smiling face with smiling eyes",keywords:["blush","eye","face","smile"]},"1f607":{code:"1f607",category:"people",shortname:":innocent:",name:"smiling face with halo",keywords:["angel","face","fairy tale","fantasy","halo","innocent","smile"]},"1f642":{code:"1f642",category:"people",shortname:":slight_smile:",name:"slightly smiling face",keywords:["face","smile"]},"1f643":{code:"1f643",category:"people",shortname:":upside_down:",name:"upside-down face",keywords:["face","upside-down"]},"1f609":{code:"1f609",category:"people",shortname:":wink:",name:"winking face",keywords:["face","wink"]},"1f60c":{code:"1f60c",category:"people",shortname:":relieved:",name:"relieved face",keywords:["face","relieved"]},"1f60d":{code:"1f60d",category:"people",shortname:":heart_eyes:",name:"smiling face with heart-eyes",keywords:["eye","face","love","smile"]},"1f618":{code:"1f618",category:"people",shortname:":kissing_heart:",name:"face blowing a kiss",keywords:["face","kiss"]},"1f970":{code:"1f970",category:"people",shortname:":smiling_face_with_3_hearts:",name:"smiling face with 3 hearts",keywords:[""]},"1f617":{code:"1f617",category:"people",shortname:":kissing:",name:"kissing face",keywords:["face","kiss"]},"1f619":{code:"1f619",category:"people",shortname:":kissing_smiling_eyes:",name:"kissing face with smiling eyes",keywords:["eye","face","kiss","smile"]},"1f61a":{code:"1f61a",category:"people",shortname:":kissing_closed_eyes:",name:"kissing face with closed eyes",keywords:["closed","eye","face","kiss"]},"1f60b":{code:"1f60b",category:"people",shortname:":yum:",name:"face savoring food",keywords:["delicious","face","savouring","smile","um","yum"]},"1f61b":{code:"1f61b",category:"people",shortname:":stuck_out_tongue:",name:"face with tongue",keywords:["face","tongue"]},"1f61d":{code:"1f61d",category:"people",shortname:":stuck_out_tongue_closed_eyes:",name:"squinting face with tongue",keywords:["eye","face","horrible","taste","tongue"]},"1f61c":{code:"1f61c",category:"people",shortname:":stuck_out_tongue_winking_eye:",name:"winking face with tongue",keywords:["eye","face","joke","tongue","wink"]},"1f92a":{code:"1f92a",category:"people",shortname:":zany_face:",name:"zany face",keywords:["eye","large","small"]},"1f928":{code:"1f928",category:"people",shortname:":face_with_raised_eyebrow:",name:"face with raised eyebrow",keywords:[""]},"1f9d0":{code:"1f9d0",category:"people",shortname:":face_with_monocle:",name:"face with monocle",keywords:[""]},"1f913":{code:"1f913",category:"people",shortname:":nerd:",name:"nerd face",keywords:["face","geek","nerd"]},"1f60e":{code:"1f60e",category:"people",shortname:":sunglasses:",name:"smiling face with sunglasses",keywords:["bright","cool","eye","eyewear","face","glasses","smile","sun","sunglasses"]},"1f929":{code:"1f929",category:"people",shortname:":star_struck:",name:"star-struck",keywords:[""]},"1f973":{code:"1f973",category:"people",shortname:":partying_face:",name:"partying face",keywords:[""]},"1f60f":{code:"1f60f",category:"people",shortname:":smirk:",name:"smirking face",keywords:["face","smirk"]},"1f612":{code:"1f612",category:"people",shortname:":unamused:",name:"unamused face",keywords:["face","unamused","unhappy"]},"1f61e":{code:"1f61e",category:"people",shortname:":disappointed:",name:"disappointed face",keywords:["disappointed","face"]},"1f614":{code:"1f614",category:"people",shortname:":pensive:",name:"pensive face",keywords:["dejected","face","pensive"]},"1f61f":{code:"1f61f",category:"people",shortname:":worried:",name:"worried face",keywords:["face","worried"]},"1f615":{code:"1f615",category:"people",shortname:":confused:",name:"confused face",keywords:["confused","face"]},"1f641":{code:"1f641",category:"people",shortname:":slight_frown:",name:"slightly frowning face",keywords:["face","frown"]},2639:{code:"2639",category:"people",shortname:":frowning2:",name:"frowning face",keywords:["face","frown"]},"1f623":{code:"1f623",category:"people",shortname:":persevere:",name:"persevering face",keywords:["face","persevere"]},"1f616":{code:"1f616",category:"people",shortname:":confounded:",name:"confounded face",keywords:["confounded","face"]},"1f62b":{code:"1f62b",category:"people",shortname:":tired_face:",name:"tired face",keywords:["face","tired"]},"1f629":{code:"1f629",category:"people",shortname:":weary:",name:"weary face",keywords:["face","tired","weary"]},"1f622":{code:"1f622",category:"people",shortname:":cry:",name:"crying face",keywords:["cry","face","sad","tear"]},"1f62d":{code:"1f62d",category:"people",shortname:":sob:",name:"loudly crying face",keywords:["cry","face","sad","sob","tear"]},"1f624":{code:"1f624",category:"people",shortname:":triumph:",name:"face with steam from nose",keywords:["face","triumph","won"]},"1f620":{code:"1f620",category:"people",shortname:":angry:",name:"angry face",keywords:["angry","face","mad"]},"1f621":{code:"1f621",category:"people",shortname:":rage:",name:"pouting face",keywords:["angry","face","mad","pouting","rage","red"]},"1f92c":{code:"1f92c",category:"people",shortname:":face_with_symbols_over_mouth:",name:"face with symbols on mouth",keywords:[""]},"1f92f":{code:"1f92f",category:"people",shortname:":exploding_head:",name:"exploding head",keywords:["shocked"]},"1f633":{code:"1f633",category:"people",shortname:":flushed:",name:"flushed face",keywords:["dazed","face","flushed"]},"1f631":{code:"1f631",category:"people",shortname:":scream:",name:"face screaming in fear",keywords:["face","fear","fearful","munch","scared","scream"]},"1f628":{code:"1f628",category:"people",shortname:":fearful:",name:"fearful face",keywords:["face","fear","fearful","scared"]},"1f630":{code:"1f630",category:"people",shortname:":cold_sweat:",name:"anxious face with sweat",keywords:["blue","cold","face","mouth","open","rushed","sweat"]},"1f975":{code:"1f975",category:"people",shortname:":hot_face:",name:"hot face",keywords:[""]},"1f976":{code:"1f976",category:"people",shortname:":cold_face:",name:"cold face",keywords:[""]},"1f97a":{code:"1f97a",category:"people",shortname:":pleading_face:",name:"pleading face",keywords:[""]},"1f625":{code:"1f625",category:"people",shortname:":disappointed_relieved:",name:"sad but relieved face",keywords:["disappointed","face","relieved","whew"]},"1f613":{code:"1f613",category:"people",shortname:":sweat:",name:"downcast face with sweat",keywords:["cold","face","sweat"]},"1f917":{code:"1f917",category:"people",shortname:":hugging:",name:"hugging face",keywords:["face","hug","hugging"]},"1f914":{code:"1f914",category:"people",shortname:":thinking:",name:"thinking face",keywords:["face","thinking"]},"1f92d":{code:"1f92d",category:"people",shortname:":face_with_hand_over_mouth:",name:"face with hand over mouth",keywords:[""]},"1f92b":{code:"1f92b",category:"people",shortname:":shushing_face:",name:"shushing face",keywords:["quiet","shush"]},"1f925":{code:"1f925",category:"people",shortname:":lying_face:",name:"lying face",keywords:["face","lie","pinocchio"]},"1f636":{code:"1f636",category:"people",shortname:":no_mouth:",name:"face without mouth",keywords:["face","mouth","quiet","silent"]},"1f610":{code:"1f610",category:"people",shortname:":neutral_face:",name:"neutral face",keywords:["deadpan","face","neutral"]},"1f611":{code:"1f611",category:"people",shortname:":expressionless:",name:"expressionless face",keywords:["expressionless","face","inexpressive","unexpressive"]},"1f62c":{code:"1f62c",category:"people",shortname:":grimacing:",name:"grimacing face",keywords:["face","grimace"]},"1f644":{code:"1f644",category:"people",shortname:":rolling_eyes:",name:"face with rolling eyes",keywords:["eyes","face","rolling"]},"1f62f":{code:"1f62f",category:"people",shortname:":hushed:",name:"hushed face",keywords:["face","hushed","stunned","surprised"]},"1f626":{code:"1f626",category:"people",shortname:":frowning:",name:"frowning face with open mouth",keywords:["face","frown","mouth","open"]},"1f627":{code:"1f627",category:"people",shortname:":anguished:",name:"anguished face",keywords:["anguished","face"]},"1f62e":{code:"1f62e",category:"people",shortname:":open_mouth:",name:"face with open mouth",keywords:["face","mouth","open","sympathy"]},"1f632":{code:"1f632",category:"people",shortname:":astonished:",name:"astonished face",keywords:["astonished","face","shocked","totally"]},"1f634":{code:"1f634",category:"people",shortname:":sleeping:",name:"sleeping face",keywords:["face","sleep","zzz"]},"1f924":{code:"1f924",category:"people",shortname:":drooling_face:",name:"drooling face",keywords:["drooling","face"]},"1f62a":{code:"1f62a",category:"people",shortname:":sleepy:",name:"sleepy face",keywords:["face","sleep"]},"1f635":{code:"1f635",category:"people",shortname:":dizzy_face:",name:"dizzy face",keywords:["dizzy","face"]},"1f910":{code:"1f910",category:"people",shortname:":zipper_mouth:",name:"zipper-mouth face",keywords:["face","mouth","zipper"]},"1f974":{code:"1f974",category:"people",shortname:":woozy_face:",name:"woozy face",keywords:[""]},"1f922":{code:"1f922",category:"people",shortname:":nauseated_face:",name:"nauseated face",keywords:["face","nauseated","vomit"]},"1f92e":{code:"1f92e",category:"people",shortname:":face_vomiting:",name:"face vomiting",keywords:["sick","vomit"]},"1f927":{code:"1f927",category:"people",shortname:":sneezing_face:",name:"sneezing face",keywords:["face","gesundheit","sneeze"]},"1f637":{code:"1f637",category:"people",shortname:":mask:",name:"face with medical mask",keywords:["cold","doctor","face","mask","medicine","sick"]},"1f912":{code:"1f912",category:"people",shortname:":thermometer_face:",name:"face with thermometer",keywords:["face","ill","sick","thermometer"]},"1f915":{code:"1f915",category:"people",shortname:":head_bandage:",name:"face with head-bandage",keywords:["bandage","face","hurt","injury"]},"1f911":{code:"1f911",category:"people",shortname:":money_mouth:",name:"money-mouth face",keywords:["face","money","mouth"]},"1f920":{code:"1f920",category:"people",shortname:":cowboy:",name:"cowboy hat face",keywords:["cowboy","cowgirl","face","hat"]},"1f608":{code:"1f608",category:"people",shortname:":smiling_imp:",name:"smiling face with horns",keywords:["face","fairy tale","fantasy","horns","smile"]},"1f47f":{code:"1f47f",category:"people",shortname:":imp:",name:"angry face with horns",keywords:["demon","devil","face","fairy tale","fantasy","imp"]},"1f479":{code:"1f479",category:"people",shortname:":japanese_ogre:",name:"ogre",keywords:[""]},"1f47a":{code:"1f47a",category:"people",shortname:":japanese_goblin:",name:"goblin",keywords:["creature","face","fairy tale","fantasy","monster"]},"1f921":{code:"1f921",category:"people",shortname:":clown:",name:"clown face",keywords:["clown","face"]},"1f4a9":{code:"1f4a9",category:"people",shortname:":poop:",name:"pile of poo",keywords:["comic","dung","face","monster","poo","poop"]},"1f47b":{code:"1f47b",category:"people",shortname:":ghost:",name:"ghost",keywords:["creature","face","fairy tale","fantasy","monster"]},"1f480":{code:"1f480",category:"people",shortname:":skull:",name:"skull",keywords:["death","face","fairy tale","monster"]},2620:{code:"2620",category:"people",shortname:":skull_crossbones:",name:"skull and crossbones",keywords:["crossbones","death","face","monster","skull"]},"1f47d":{code:"1f47d",category:"people",shortname:":alien:",name:"alien",keywords:["creature","extraterrestrial","face","fairy tale","fantasy","monster","ufo"]},"1f47e":{code:"1f47e",category:"people",shortname:":space_invader:",name:"alien monster",keywords:["alien","creature","extraterrestrial","face","fairy tale","fantasy","monster","ufo"]},"1f916":{code:"1f916",category:"people",shortname:":robot:",name:"robot face",keywords:["face","monster","robot"]},"1f383":{code:"1f383",category:"people",shortname:":jack_o_lantern:",name:"jack-o-lantern",keywords:["celebration","halloween","jack","lantern"]},"1f63a":{code:"1f63a",category:"people",shortname:":smiley_cat:",name:"grinning cat face",keywords:["cat","face","mouth","open","smile"]},"1f638":{code:"1f638",category:"people",shortname:":smile_cat:",name:"grinning cat face with smiling eyes",keywords:["cat","eye","face","grin","smile"]},"1f639":{code:"1f639",category:"people",shortname:":joy_cat:",name:"cat face with tears of joy",keywords:["cat","face","joy","tear"]},"1f63b":{code:"1f63b",category:"people",shortname:":heart_eyes_cat:",name:"smiling cat face with heart-eyes",keywords:["cat","eye","face","love","smile"]},"1f63c":{code:"1f63c",category:"people",shortname:":smirk_cat:",name:"cat face with wry smile",keywords:["cat","face","ironic","smile","wry"]},"1f63d":{code:"1f63d",category:"people",shortname:":kissing_cat:",name:"kissing cat face",keywords:["cat","eye","face","kiss"]},"1f640":{code:"1f640",category:"people",shortname:":scream_cat:",name:"weary cat face",keywords:["cat","face","oh","surprised","weary"]},"1f63f":{code:"1f63f",category:"people",shortname:":crying_cat_face:",name:"crying cat face",keywords:["cat","cry","face","sad","tear"]},"1f63e":{code:"1f63e",category:"people",shortname:":pouting_cat:",name:"pouting cat face",keywords:["cat","face","pouting"]},"1f932":{code:"1f932",category:"people",shortname:":palms_up_together:",name:"palms up together",keywords:[""]},"1f450":{code:"1f450",category:"people",shortname:":open_hands:",name:"open hands",keywords:["hand","open"]},"1f64c":{code:"1f64c",category:"people",shortname:":raised_hands:",name:"raising hands",keywords:["celebration","gesture","hand","hooray","raised"]},"1f44f":{code:"1f44f",category:"people",shortname:":clap:",name:"clapping hands",keywords:["clap","hand"]},"1f91d":{code:"1f91d",category:"people",shortname:":handshake:",name:"handshake",keywords:["agreement","hand","handshake","meeting","shake"]},"1f44d":{code:"1f44d",category:"people",shortname:":thumbsup:",name:"thumbs up",keywords:["+1","hand","thumb","up"]},"1f44e":{code:"1f44e",category:"people",shortname:":thumbsdown:",name:"thumbs down",keywords:["-1","down","hand","thumb"]},"1f44a":{code:"1f44a",category:"people",shortname:":punch:",name:"oncoming fist",keywords:["clenched","fist","hand","punch"]},"270a":{code:"270a",category:"people",shortname:":fist:",name:"raised fist",keywords:["clenched","fist","hand","punch"]},"1f91b":{code:"1f91b",category:"people",shortname:":left_facing_fist:",name:"left-facing fist",keywords:["fist","leftwards"]},"1f91c":{code:"1f91c",category:"people",shortname:":right_facing_fist:",name:"right-facing fist",keywords:["fist","rightwards"]},"1f91e":{code:"1f91e",category:"people",shortname:":fingers_crossed:",name:"crossed fingers",keywords:["cross","finger","hand","luck"]},"270c":{code:"270c",category:"people",shortname:":v:",name:"victory hand",keywords:["hand","v","victory"]},"1f91f":{code:"1f91f",category:"people",shortname:":love_you_gesture:",name:"love-you gesture",keywords:["ILY","hand"]},"1f918":{code:"1f918",category:"people",shortname:":metal:",name:"sign of the horns",keywords:["finger","hand","horns","rock-on"]},"1f44c":{code:"1f44c",category:"people",shortname:":ok_hand:",name:"OK hand",keywords:["OK","hand"]},"1f448":{code:"1f448",category:"people",shortname:":point_left:",name:"backhand index pointing left",keywords:["backhand","finger","hand","index","point"]},"1f449":{code:"1f449",category:"people",shortname:":point_right:",name:"backhand index pointing right",keywords:["backhand","finger","hand","index","point"]},"1f446":{code:"1f446",category:"people",shortname:":point_up_2:",name:"backhand index pointing up",keywords:["backhand","finger","hand","index","point","up"]},"1f447":{code:"1f447",category:"people",shortname:":point_down:",name:"backhand index pointing down",keywords:["backhand","down","finger","hand","index","point"]},"261d":{code:"261d",category:"people",shortname:":point_up:",name:"index pointing up",keywords:["finger","hand","index","point","up"]},"270b":{code:"270b",category:"people",shortname:":raised_hand:",name:"raised hand",keywords:["hand"]},"1f91a":{code:"1f91a",category:"people",shortname:":raised_back_of_hand:",name:"raised back of hand",keywords:["backhand","raised"]},"1f590":{code:"1f590",category:"people",shortname:":hand_splayed:",name:"hand with fingers splayed",keywords:["finger","hand","splayed"]},"1f596":{code:"1f596",category:"people",shortname:":vulcan:",name:"vulcan salute",keywords:["finger","hand","spock","vulcan"]},"1f44b":{code:"1f44b",category:"people",shortname:":wave:",name:"waving hand",keywords:["hand","wave","waving"]},"1f919":{code:"1f919",category:"people",shortname:":call_me:",name:"call me hand",keywords:["call","hand"]},"1f4aa":{code:"1f4aa",category:"people",shortname:":muscle:",name:"flexed biceps",keywords:["biceps","comic","flex","muscle"]},"1f9b5":{code:"1f9b5",category:"people",shortname:":leg:",name:"leg",keywords:[""]},"1f9b6":{code:"1f9b6",category:"people",shortname:":foot:",name:"foot",keywords:[""]},"270d":{code:"270d",category:"people",shortname:":writing_hand:",name:"writing hand",keywords:["hand","write"]},"1f64f":{code:"1f64f",category:"people",shortname:":pray:",name:"folded hands",keywords:["ask","bow","folded","gesture","hand","please","pray","thanks"]},"1f48d":{code:"1f48d",category:"people",shortname:":ring:",name:"ring",keywords:["diamond"]},"1f484":{code:"1f484",category:"people",shortname:":lipstick:",name:"lipstick",keywords:["cosmetics","makeup"]},"1f48b":{code:"1f48b",category:"people",shortname:":kiss:",name:"kiss mark",keywords:["kiss","lips"]},"1f444":{code:"1f444",category:"people",shortname:":lips:",name:"mouth",keywords:["lips"]},"1f445":{code:"1f445",category:"people",shortname:":tongue:",name:"tongue",keywords:["body"]},"1f442":{code:"1f442",category:"people",shortname:":ear:",name:"ear",keywords:["body"]},"1f443":{code:"1f443",category:"people",shortname:":nose:",name:"nose",keywords:["body"]},"1f463":{code:"1f463",category:"people",shortname:":footprints:",name:"footprints",keywords:["clothing","footprint","print"]},"1f441":{code:"1f441",category:"people",shortname:":eye:",name:"eye",keywords:["body"]},"1f440":{code:"1f440",category:"people",shortname:":eyes:",name:"eyes",keywords:["eye","face"]},"1f9e0":{code:"1f9e0",category:"people",shortname:":brain:",name:"brain",keywords:["intelligent"]},"1f9b4":{code:"1f9b4",category:"people",shortname:":bone:",name:"bone",keywords:[""]},"1f9b7":{code:"1f9b7",category:"people",shortname:":tooth:",name:"tooth",keywords:[""]},"1f5e3":{code:"1f5e3",category:"people",shortname:":speaking_head:",name:"speaking head",keywords:["face","head","silhouette","speak","speaking"]},"1f464":{code:"1f464",category:"people",shortname:":bust_in_silhouette:",name:"bust in silhouette",keywords:["bust","silhouette"]},"1f465":{code:"1f465",category:"people",shortname:":busts_in_silhouette:",name:"busts in silhouette",keywords:["bust","silhouette"]},"1f476":{code:"1f476",category:"people",shortname:":baby:",name:"baby",keywords:["baby","young"]},"1f467":{code:"1f467",category:"people",shortname:":girl:",name:"girl",keywords:["Virgo","young","zodiac"]},"1f9d2":{code:"1f9d2",category:"people",shortname:":child:",name:"child",keywords:[""]},"1f466":{code:"1f466",category:"people",shortname:":boy:",name:"boy",keywords:["boy","young"]},"1f469":{code:"1f469",category:"people",shortname:":woman:",name:"woman",keywords:["woman"]},"1f468":{code:"1f468",category:"people",shortname:":man:",name:"man",keywords:["man"]},"1f471":{code:"1f471",category:"people",shortname:":blond_haired_person:",name:"blond-haired person",keywords:["blond"]},"1f471-2640":{code:"1f471-2640",category:"people",shortname:":blond-haired_woman:",name:"blond-haired woman",keywords:["blonde","woman"]},"1f471-2642":{code:"1f471-2642",category:"people",shortname:":blond-haired_man:",name:"blond-haired man",keywords:["blond","man"]},"1f469-1f9b0":{code:"1f469-1f9b0",category:"people",shortname:":woman_red_haired:",name:"woman, red haired",keywords:[""]},"1f468-1f9b0":{code:"1f468-1f9b0",category:"people",shortname:":man_red_haired:",name:"man, red haired",keywords:[""]},"1f469-1f9b1":{code:"1f469-1f9b1",category:"people",shortname:":woman_curly_haired:",name:"woman, curly haired",keywords:[""]},"1f468-1f9b1":{code:"1f468-1f9b1",category:"people",shortname:":man_curly_haired:",name:"man, curly haired",keywords:[""]},"1f469-1f9b3":{code:"1f469-1f9b3",category:"people",shortname:":woman_white_haired:",name:"woman, white haired",keywords:[""]},"1f468-1f9b3":{code:"1f468-1f9b3",category:"people",shortname:":man_white_haired:",name:"man, white haired",keywords:[""]},"1f469-1f9b2":{code:"1f469-1f9b2",category:"people",shortname:":woman_bald:",name:"woman, bald",keywords:[""]},"1f468-1f9b2":{code:"1f468-1f9b2",category:"people",shortname:":man_bald:",name:"man, bald",keywords:[""]},"1f9d4":{code:"1f9d4",category:"people",shortname:":bearded_person:",name:"bearded person",keywords:[""]},"1f475":{code:"1f475",category:"people",shortname:":older_woman:",name:"old woman",keywords:["old","woman"]},"1f9d3":{code:"1f9d3",category:"people",shortname:":older_adult:",name:"older adult",keywords:[""]},"1f474":{code:"1f474",category:"people",shortname:":older_man:",name:"old man",keywords:["man","old"]},"1f472":{code:"1f472",category:"people",shortname:":man_with_chinese_cap:",name:"man with Chinese cap",keywords:["gua pi mao","hat","man"]},"1f473-2640":{code:"1f473-2640",category:"people",shortname:":woman_wearing_turban:",name:"woman wearing turban",keywords:["turban","woman"]},"1f473-2642":{code:"1f473-2642",category:"people",shortname:":man_wearing_turban:",name:"man wearing turban",keywords:["man","turban"]},"1f9d5":{code:"1f9d5",category:"people",shortname:":woman_with_headscarf:",name:"woman with headscarf",keywords:[""]},"1f46e-2640":{code:"1f46e-2640",category:"people",shortname:":woman_police_officer:",name:"woman police officer",keywords:["cop","officer","police","woman"]},"1f46e-2642":{code:"1f46e-2642",category:"people",shortname:":man_police_officer:",name:"man police officer",keywords:["cop","man","officer","police"]},"1f477-2640":{code:"1f477-2640",category:"people",shortname:":woman_construction_worker:",name:"woman construction worker",keywords:["construction","woman","worker"]},"1f477-2642":{code:"1f477-2642",category:"people",shortname:":man_construction_worker:",name:"man construction worker",keywords:["construction","man","worker"]},"1f482-2640":{code:"1f482-2640",category:"people",shortname:":woman_guard:",name:"woman guard",keywords:["guard","woman"]},"1f482-2642":{code:"1f482-2642",category:"people",shortname:":man_guard:",name:"man guard",keywords:["guard","man"]},"1f575-2640":{code:"1f575-2640",category:"people",shortname:":woman_detective:",name:"woman detective",keywords:["detective","sleuth","spy","woman"]},"1f575-2642":{code:"1f575-2642",category:"people",shortname:":man_detective:",name:"man detective",keywords:["detective","man","sleuth","spy"]},"1f469-2695":{code:"1f469-2695",category:"people",shortname:":woman_health_worker:",name:"woman health worker",keywords:["doctor","healthcare","nurse","therapist","woman"]},"1f468-2695":{code:"1f468-2695",category:"people",shortname:":man_health_worker:",name:"man health worker",keywords:["doctor","healthcare","man","nurse","therapist"]},"1f469-1f33e":{code:"1f469-1f33e",category:"people",shortname:":woman_farmer:",name:"woman farmer",keywords:["farmer","gardener","rancher","woman"]},"1f468-1f33e":{code:"1f468-1f33e",category:"people",shortname:":man_farmer:",name:"man farmer",keywords:["farmer","gardener","man","rancher"]},"1f469-1f373":{code:"1f469-1f373",category:"people",shortname:":woman_cook:",name:"woman cook",keywords:["chef","cook","woman"]},"1f468-1f373":{code:"1f468-1f373",category:"people",shortname:":man_cook:",name:"man cook",keywords:["chef","cook","man"]},"1f469-1f393":{code:"1f469-1f393",category:"people",shortname:":woman_student:",name:"woman student",keywords:["graduate","student","woman"]},"1f468-1f393":{code:"1f468-1f393",category:"people",shortname:":man_student:",name:"man student",keywords:["graduate","man","student"]},"1f469-1f3a4":{code:"1f469-1f3a4",category:"people",shortname:":woman_singer:",name:"woman singer",keywords:["actor","entertainer","rock","singer","star","woman"]},"1f468-1f3a4":{code:"1f468-1f3a4",category:"people",shortname:":man_singer:",name:"man singer",keywords:["actor","entertainer","man","rock","singer","star"]},"1f469-1f3eb":{code:"1f469-1f3eb",category:"people",shortname:":woman_teacher:",name:"woman teacher",keywords:["instructor","professor","teacher","woman"]},"1f468-1f3eb":{code:"1f468-1f3eb",category:"people",shortname:":man_teacher:",name:"man teacher",keywords:["instructor","man","professor","teacher"]},"1f469-1f3ed":{code:"1f469-1f3ed",category:"people",shortname:":woman_factory_worker:",name:"woman factory worker",keywords:["assembly","factory","industrial","woman","worker"]},"1f468-1f3ed":{code:"1f468-1f3ed",category:"people",shortname:":man_factory_worker:",name:"man factory worker",keywords:["assembly","factory","industrial","man","worker"]},"1f469-1f4bb":{code:"1f469-1f4bb",category:"people",shortname:":woman_technologist:",name:"woman technologist",keywords:["coder","developer","inventor","software","technologist","woman"]},"1f468-1f4bb":{code:"1f468-1f4bb",category:"people",shortname:":man_technologist:",name:"man technologist",keywords:["coder","developer","inventor","man","software","technologist"]},"1f469-1f4bc":{code:"1f469-1f4bc",category:"people",shortname:":woman_office_worker:",name:"woman office worker",keywords:["architect","business","manager","office","white-collar","woman"]},"1f468-1f4bc":{code:"1f468-1f4bc",category:"people",shortname:":man_office_worker:",name:"man office worker",keywords:["architect","business","man","manager","office","white-collar"]},"1f469-1f527":{code:"1f469-1f527",category:"people",shortname:":woman_mechanic:",name:"woman mechanic",keywords:["electrician","mechanic","plumber","tradesperson","woman"]},"1f468-1f527":{code:"1f468-1f527",category:"people",shortname:":man_mechanic:",name:"man mechanic",keywords:["electrician","man","mechanic","plumber","tradesperson"]},"1f469-1f52c":{code:"1f469-1f52c",category:"people",shortname:":woman_scientist:",name:"woman scientist",keywords:["biologist","chemist","engineer","mathematician","physicist","scientist","woman"]},"1f468-1f52c":{code:"1f468-1f52c",category:"people",shortname:":man_scientist:",name:"man scientist",keywords:["biologist","chemist","engineer","man","mathematician","physicist","scientist"]},"1f469-1f3a8":{code:"1f469-1f3a8",category:"people",shortname:":woman_artist:",name:"woman artist",keywords:["artist","palette","woman"]},"1f468-1f3a8":{code:"1f468-1f3a8",category:"people",shortname:":man_artist:",name:"man artist",keywords:["artist","man","palette"]},"1f469-1f692":{code:"1f469-1f692",category:"people",shortname:":woman_firefighter:",name:"woman firefighter",keywords:["firefighter","firetruck","woman"]},"1f468-1f692":{code:"1f468-1f692",category:"people",shortname:":man_firefighter:",name:"man firefighter",keywords:["firefighter","firetruck","man"]},"1f469-2708":{code:"1f469-2708",category:"people",shortname:":woman_pilot:",name:"woman pilot",keywords:["pilot","plane","woman"]},"1f468-2708":{code:"1f468-2708",category:"people",shortname:":man_pilot:",name:"man pilot",keywords:["man","pilot","plane"]},"1f469-1f680":{code:"1f469-1f680",category:"people",shortname:":woman_astronaut:",name:"woman astronaut",keywords:["astronaut","rocket","woman"]},"1f468-1f680":{code:"1f468-1f680",category:"people",shortname:":man_astronaut:",name:"man astronaut",keywords:["astronaut","man","rocket"]},"1f469-2696":{code:"1f469-2696",category:"people",shortname:":woman_judge:",name:"woman judge",keywords:["judge","scales","woman"]},"1f468-2696":{code:"1f468-2696",category:"people",shortname:":man_judge:",name:"man judge",keywords:["justice","man","scales"]},"1f470":{code:"1f470",category:"people",shortname:":bride_with_veil:",name:"bride with veil",keywords:["bride","veil","wedding"]},"1f935":{code:"1f935",category:"people",shortname:":man_in_tuxedo:",name:"man in tuxedo",keywords:["groom","man","tuxedo"]},"1f478":{code:"1f478",category:"people",shortname:":princess:",name:"princess",keywords:["fairy tale","fantasy"]},"1f934":{code:"1f934",category:"people",shortname:":prince:",name:"prince",keywords:["prince"]},"1f936":{code:"1f936",category:"people",shortname:":mrs_claus:",name:"Mrs. Claus",keywords:["Christmas","Mrs.","celebration","claus","mother"]},"1f385":{code:"1f385",category:"people",shortname:":santa:",name:"Santa Claus",keywords:["Christmas","celebration","claus","father","santa"]},"1f9b8-2640":{code:"1f9b8-2640",category:"people",shortname:":woman_superhero:",name:"woman superhero",keywords:[""]},"1f9b8-2642":{code:"1f9b8-2642",category:"people",shortname:":man_superhero:",name:"man superhero",keywords:[""]},"1f9b9-2640":{code:"1f9b9-2640",category:"people",shortname:":woman_supervillain:",name:"woman supervillain",keywords:[""]},"1f9b9-2642":{code:"1f9b9-2642",category:"people",shortname:":man_supervillain:",name:"man supervillain",keywords:[""]},"1f9d9-2640":{code:"1f9d9-2640",category:"people",shortname:":woman_mage:",name:"woman mage",keywords:["sorceress","witch"]},"1f9d9-2642":{code:"1f9d9-2642",category:"people",shortname:":man_mage:",name:"man mage",keywords:["sorcerer","wizard"]},"1f9dd-2640":{code:"1f9dd-2640",category:"people",shortname:":woman_elf:",name:"woman elf",keywords:["magical"]},"1f9dd-2642":{code:"1f9dd-2642",category:"people",shortname:":man_elf:",name:"man elf",keywords:["magical"]},"1f9db-2640":{code:"1f9db-2640",category:"people",shortname:":woman_vampire:",name:"woman vampire",keywords:["undead"]},"1f9db-2642":{code:"1f9db-2642",category:"people",shortname:":man_vampire:",name:"man vampire",keywords:["Dracula","undead"]},"1f9df-2640":{code:"1f9df-2640",category:"people",shortname:":woman_zombie:",name:"woman zombie",keywords:["undead","walking dead"]},"1f9df-2642":{code:"1f9df-2642",category:"people",shortname:":man_zombie:",name:"man zombie",keywords:["undead","walking dead"]},"1f9de-2640":{code:"1f9de-2640",category:"people",shortname:":woman_genie:",name:"woman genie",keywords:["djinn"]},"1f9de-2642":{code:"1f9de-2642",category:"people",shortname:":man_genie:",name:"man genie",keywords:["djinn"]},"1f9dc-2640":{code:"1f9dc-2640",category:"people",shortname:":mermaid:",name:"mermaid",keywords:["merwoman"]},"1f9dc-2642":{code:"1f9dc-2642",category:"people",shortname:":merman:",name:"merman",keywords:["Triton"]},"1f9da-2640":{code:"1f9da-2640",category:"people",shortname:":woman_fairy:",name:"woman fairy",keywords:["Titania"]},"1f9da-2642":{code:"1f9da-2642",category:"people",shortname:":man_fairy:",name:"man fairy",keywords:["Oberon","Puck"]},"1f47c":{code:"1f47c",category:"people",shortname:":angel:",name:"baby angel",keywords:["angel","baby","face","fairy tale","fantasy"]},"1f930":{code:"1f930",category:"people",shortname:":pregnant_woman:",name:"pregnant woman",keywords:["pregnant","woman"]},"1f931":{code:"1f931",category:"people",shortname:":breast_feeding:",name:"breast-feeding",keywords:["baby","breast","nursing"]},"1f647-2640":{code:"1f647-2640",category:"people",shortname:":woman_bowing:",name:"woman bowing",keywords:["apology","bowing","favor","gesture","sorry","woman"]},"1f647-2642":{code:"1f647-2642",category:"people",shortname:":man_bowing:",name:"man bowing",keywords:["apology","bowing","favor","gesture","man","sorry"]},"1f481-2640":{code:"1f481-2640",category:"people",shortname:":woman_tipping_hand:",name:"woman tipping hand",keywords:["sassy","tipping hand","woman"]},"1f481-2642":{code:"1f481-2642",category:"people",shortname:":man_tipping_hand:",name:"man tipping hand",keywords:["man","sassy","tipping hand"]},"1f645-2640":{code:"1f645-2640",category:"people",shortname:":woman_gesturing_no:",name:"woman gesturing NO",keywords:["forbidden","gesture","hand","no","prohibited","woman"]},"1f645-2642":{code:"1f645-2642",category:"people",shortname:":man_gesturing_no:",name:"man gesturing NO",keywords:["forbidden","gesture","hand","man","no","prohibited"]},"1f646-2640":{code:"1f646-2640",category:"people",shortname:":woman_gesturing_ok:",name:"woman gesturing OK",keywords:["OK","gesture","hand","woman"]},"1f646-2642":{code:"1f646-2642",category:"people",shortname:":man_gesturing_ok:",name:"man gesturing OK",keywords:["OK","gesture","hand","man"]},"1f64b-2640":{code:"1f64b-2640",category:"people",shortname:":woman_raising_hand:",name:"woman raising hand",keywords:["gesture","raising hand","woman"]},"1f64b-2642":{code:"1f64b-2642",category:"people",shortname:":man_raising_hand:",name:"man raising hand",keywords:["gesture","man","raising hand"]},"1f926-2640":{code:"1f926-2640",category:"people",shortname:":woman_facepalming:",name:"woman facepalming",keywords:["disbelief","exasperation","facepalm","woman"]},"1f926-2642":{code:"1f926-2642",category:"people",shortname:":man_facepalming:",name:"man facepalming",keywords:["disbelief","exasperation","facepalm","man"]},"1f937-2640":{code:"1f937-2640",category:"people",shortname:":woman_shrugging:",name:"woman shrugging",keywords:["doubt","ignorance","indifference","shrug","woman"]},"1f937-2642":{code:"1f937-2642",category:"people",shortname:":man_shrugging:",name:"man shrugging",keywords:["doubt","ignorance","indifference","man","shrug"]},"1f64e-2640":{code:"1f64e-2640",category:"people",shortname:":woman_pouting:",name:"woman pouting",keywords:["gesture","pouting","woman"]},"1f64e-2642":{code:"1f64e-2642",category:"people",shortname:":man_pouting:",name:"man pouting",keywords:["gesture","man","pouting"]},"1f64d-2640":{code:"1f64d-2640",category:"people",shortname:":woman_frowning:",name:"woman frowning",keywords:["frowning","gesture","woman"]},"1f64d-2642":{code:"1f64d-2642",category:"people",shortname:":man_frowning:",name:"man frowning",keywords:["frowning","gesture","man"]},"1f487-2640":{code:"1f487-2640",category:"people",shortname:":woman_getting_haircut:",name:"woman getting haircut",keywords:["haircut","woman"]},"1f487-2642":{code:"1f487-2642",category:"people",shortname:":man_getting_haircut:",name:"man getting haircut",keywords:["haircut","man"]},"1f486-2640":{code:"1f486-2640",category:"people",shortname:":woman_getting_face_massage:",name:"woman getting massage",keywords:["face","massage","woman"]},"1f486-2642":{code:"1f486-2642",category:"people",shortname:":man_getting_face_massage:",name:"man getting massage",keywords:["face","man","massage"]},"1f9d6-2640":{code:"1f9d6-2640",category:"people",shortname:":woman_in_steamy_room:",name:"woman in steamy room",keywords:["sauna","steam room"]},"1f9d6-2642":{code:"1f9d6-2642",category:"people",shortname:":man_in_steamy_room:",name:"man in steamy room",keywords:["sauna","steam room"]},"1f485":{code:"1f485",category:"people",shortname:":nail_care:",name:"nail polish",keywords:["care","cosmetics","manicure","nail","polish"]},"1f933":{code:"1f933",category:"people",shortname:":selfie:",name:"selfie",keywords:["camera","phone","selfie"]},"1f483":{code:"1f483",category:"people",shortname:":dancer:",name:"woman dancing",keywords:["dancing","woman"]},"1f57a":{code:"1f57a",category:"people",shortname:":man_dancing:",name:"man dancing",keywords:["dance","man"]},"1f46f-2640":{code:"1f46f-2640",category:"people",shortname:":women_with_bunny_ears_partying:",name:"women with bunny ears",keywords:["bunny ear","dancer","partying","women"]},"1f46f-2642":{code:"1f46f-2642",category:"people",shortname:":men_with_bunny_ears_partying:",name:"men with bunny ears",keywords:["bunny ear","dancer","men","partying"]},"1f574":{code:"1f574",category:"people",shortname:":levitate:",name:"man in suit levitating",keywords:["business","man","suit"]},"1f6b6-2640":{code:"1f6b6-2640",category:"people",shortname:":woman_walking:",name:"woman walking",keywords:["hike","walk","woman"]},"1f6b6-2642":{code:"1f6b6-2642",category:"people",shortname:":man_walking:",name:"man walking",keywords:["hike","man","walk"]},"1f3c3-2640":{code:"1f3c3-2640",category:"people",shortname:":woman_running:",name:"woman running",keywords:["marathon","racing","running","woman"]},"1f3c3-2642":{code:"1f3c3-2642",category:"people",shortname:":man_running:",name:"man running",keywords:["man","marathon","racing","running"]},"1f46b":{code:"1f46b",category:"people",shortname:":couple:",name:"man and woman holding hands",keywords:["couple","hand","hold","man","woman"]},"1f46d":{code:"1f46d",category:"people",shortname:":two_women_holding_hands:",name:"two women holding hands",keywords:["couple","hand","hold","woman"]},"1f46c":{code:"1f46c",category:"people",shortname:":two_men_holding_hands:",name:"two men holding hands",keywords:["Gemini","couple","hand","hold","man","twins","zodiac"]},"1f469-2764-1f468":{code:"1f469-2764-1f468",category:"people",shortname:":couple_with_heart_woman_man:",name:"couple with heart: woman, man",keywords:["couple","love","man","woman"]},"1f469-2764-1f469":{code:"1f469-2764-1f469",category:"people",shortname:":couple_ww:",name:"couple with heart: woman, woman",keywords:["couple","love","woman"]},"1f468-2764-1f468":{code:"1f468-2764-1f468",category:"people",shortname:":couple_mm:",name:"couple with heart: man, man",keywords:["couple","love","man"]},"1f48f":{code:"1f48f",category:"people",shortname:":couplekiss:",name:"kiss",keywords:["couple"]},"1f469-2764-1f48b-1f468":{code:"1f469-2764-1f48b-1f468",category:"people",shortname:":kiss_woman_man:",name:"kiss: woman, man",keywords:["couple","man","woman"]},"1f469-2764-1f48b-1f469":{code:"1f469-2764-1f48b-1f469",category:"people",shortname:":kiss_ww:",name:"kiss: woman, woman",keywords:["couple","woman"]},"1f468-2764-1f48b-1f468":{code:"1f468-2764-1f48b-1f468",category:"people",shortname:":kiss_mm:",name:"kiss: man, man",keywords:["couple","man"]},"1f468-1f469-1f466":{code:"1f468-1f469-1f466",category:"people",shortname:":family_man_woman_boy:",name:"family: man, woman, boy",keywords:["boy","family","man","woman"]},"1f468-1f469-1f467":{code:"1f468-1f469-1f467",category:"people",shortname:":family_mwg:",name:"family: man, woman, girl",keywords:["family","girl","man","woman"]},"1f468-1f469-1f467-1f466":{code:"1f468-1f469-1f467-1f466",category:"people",shortname:":family_mwgb:",name:"family: man, woman, girl, boy",keywords:["boy","family","girl","man","woman"]},"1f468-1f469-1f466-1f466":{code:"1f468-1f469-1f466-1f466",category:"people",shortname:":family_mwbb:",name:"family: man, woman, boy, boy",keywords:["boy","family","man","woman"]},"1f468-1f469-1f467-1f467":{code:"1f468-1f469-1f467-1f467",category:"people",shortname:":family_mwgg:",name:"family: man, woman, girl, girl",keywords:["family","girl","man","woman"]},"1f469-1f469-1f466":{code:"1f469-1f469-1f466",category:"people",shortname:":family_wwb:",name:"family: woman, woman, boy",keywords:["boy","family","woman"]},"1f469-1f469-1f467":{code:"1f469-1f469-1f467",category:"people",shortname:":family_wwg:",name:"family: woman, woman, girl",keywords:["family","girl","woman"]},"1f469-1f469-1f467-1f466":{code:"1f469-1f469-1f467-1f466",category:"people",shortname:":family_wwgb:",name:"family: woman, woman, girl, boy",keywords:["boy","family","girl","woman"]},"1f469-1f469-1f466-1f466":{code:"1f469-1f469-1f466-1f466",category:"people",shortname:":family_wwbb:",name:"family: woman, woman, boy, boy",keywords:["boy","family","woman"]},"1f469-1f469-1f467-1f467":{code:"1f469-1f469-1f467-1f467",category:"people",shortname:":family_wwgg:",name:"family: woman, woman, girl, girl",keywords:["family","girl","woman"]},"1f468-1f468-1f466":{code:"1f468-1f468-1f466",category:"people",shortname:":family_mmb:",name:"family: man, man, boy",keywords:["boy","family","man"]},"1f468-1f468-1f467":{code:"1f468-1f468-1f467",category:"people",shortname:":family_mmg:",name:"family: man, man, girl",keywords:["family","girl","man"]},"1f468-1f468-1f467-1f466":{code:"1f468-1f468-1f467-1f466",category:"people",shortname:":family_mmgb:",name:"family: man, man, girl, boy",keywords:["boy","family","girl","man"]},"1f468-1f468-1f466-1f466":{code:"1f468-1f468-1f466-1f466",category:"people",shortname:":family_mmbb:",name:"family: man, man, boy, boy",keywords:["boy","family","man"]},"1f468-1f468-1f467-1f467":{code:"1f468-1f468-1f467-1f467",category:"people",shortname:":family_mmgg:",name:"family: man, man, girl, girl",keywords:["family","girl","man"]},"1f469-1f466":{code:"1f469-1f466",category:"people",shortname:":family_woman_boy:",name:"family: woman, boy",keywords:["boy","family","woman"]},"1f469-1f467":{code:"1f469-1f467",category:"people",shortname:":family_woman_girl:",name:"family: woman, girl",keywords:["family","girl","woman"]},"1f469-1f467-1f466":{code:"1f469-1f467-1f466",category:"people",shortname:":family_woman_girl_boy:",name:"family: woman, girl, boy",keywords:["boy","family","girl","woman"]},"1f469-1f466-1f466":{code:"1f469-1f466-1f466",category:"people",shortname:":family_woman_boy_boy:",name:"family: woman, boy, boy",keywords:["boy","family","woman"]},"1f469-1f467-1f467":{code:"1f469-1f467-1f467",category:"people",shortname:":family_woman_girl_girl:",name:"family: woman, girl, girl",keywords:["family","girl","woman"]},"1f468-1f466":{code:"1f468-1f466",category:"people",shortname:":family_man_boy:",name:"family: man, boy",keywords:["boy","family","man"]},"1f468-1f467":{code:"1f468-1f467",category:"people",shortname:":family_man_girl:",name:"family: man, girl",keywords:["family","girl","man"]},"1f468-1f467-1f466":{code:"1f468-1f467-1f466",category:"people",shortname:":family_man_girl_boy:",name:"family: man, girl, boy",keywords:["boy","family","girl","man"]},"1f468-1f466-1f466":{code:"1f468-1f466-1f466",category:"people",shortname:":family_man_boy_boy:",name:"family: man, boy, boy",keywords:["boy","family","man"]},"1f468-1f467-1f467":{code:"1f468-1f467-1f467",category:"people",shortname:":family_man_girl_girl:",name:"family: man, girl, girl",keywords:["family","girl","man"]},"1f9e5":{code:"1f9e5",category:"people",shortname:":coat:",name:"coat",keywords:["jacket"]},"1f45a":{code:"1f45a",category:"people",shortname:":womans_clothes:",name:"woman\u2019s clothes",keywords:["clothing","woman"]},"1f455":{code:"1f455",category:"people",shortname:":shirt:",name:"t-shirt",keywords:["clothing","shirt","tshirt"]},"1f456":{code:"1f456",category:"people",shortname:":jeans:",name:"jeans",keywords:["clothing","pants","trousers"]},"1f454":{code:"1f454",category:"people",shortname:":necktie:",name:"necktie",keywords:["clothing"]},"1f457":{code:"1f457",category:"people",shortname:":dress:",name:"dress",keywords:["clothing"]},"1f459":{code:"1f459",category:"people",shortname:":bikini:",name:"bikini",keywords:["clothing","swim"]},"1f458":{code:"1f458",category:"people",shortname:":kimono:",name:"kimono",keywords:["clothing"]},"1f97c":{code:"1f97c",category:"people",shortname:":lab_coat:",name:"lab coat",keywords:[""]},"1f460":{code:"1f460",category:"people",shortname:":high_heel:",name:"high-heeled shoe",keywords:["clothing","heel","shoe","woman"]},"1f461":{code:"1f461",category:"people",shortname:":sandal:",name:"woman\u2019s sandal",keywords:["clothing","sandal","shoe","woman"]},"1f462":{code:"1f462",category:"people",shortname:":boot:",name:"woman\u2019s boot",keywords:["boot","clothing","shoe","woman"]},"1f45e":{code:"1f45e",category:"people",shortname:":mans_shoe:",name:"man\u2019s shoe",keywords:["clothing","man","shoe"]},"1f45f":{code:"1f45f",category:"people",shortname:":athletic_shoe:",name:"running shoe",keywords:["athletic","clothing","shoe","sneaker"]},"1f97e":{code:"1f97e",category:"people",shortname:":hiking_boot:",name:"hiking boot",keywords:[""]},"1f97f":{code:"1f97f",category:"people",shortname:":womans_flat_shoe:",name:"woman\u2019s flat shoe",keywords:[""]},"1f9e6":{code:"1f9e6",category:"people",shortname:":socks:",name:"socks",keywords:["stocking"]},"1f9e4":{code:"1f9e4",category:"people",shortname:":gloves:",name:"gloves",keywords:["hand"]},"1f9e3":{code:"1f9e3",category:"people",shortname:":scarf:",name:"scarf",keywords:["neck"]},"1f3a9":{code:"1f3a9",category:"people",shortname:":tophat:",name:"top hat",keywords:["clothing","hat","top","tophat"]},"1f9e2":{code:"1f9e2",category:"people",shortname:":billed_cap:",name:"billed cap",keywords:["baseball cap"]},"1f452":{code:"1f452",category:"people",shortname:":womans_hat:",name:"woman\u2019s hat",keywords:["clothing","hat","woman"]},"1f393":{code:"1f393",category:"people",shortname:":mortar_board:",name:"graduation cap",keywords:["cap","celebration","clothing","graduation","hat"]},"26d1":{code:"26d1",category:"people",shortname:":helmet_with_cross:",name:"rescue worker\u2019s helmet",keywords:["aid","cross","face","hat","helmet"]},"1f451":{code:"1f451",category:"people",shortname:":crown:",name:"crown",keywords:["clothing","king","queen"]},"1f45d":{code:"1f45d",category:"people",shortname:":pouch:",name:"clutch bag",keywords:["bag","clothing","pouch"]},"1f45b":{code:"1f45b",category:"people",shortname:":purse:",name:"purse",keywords:["clothing","coin"]},"1f45c":{code:"1f45c",category:"people",shortname:":handbag:",name:"handbag",keywords:["bag","clothing","purse"]},"1f4bc":{code:"1f4bc",category:"people",shortname:":briefcase:",name:"briefcase",keywords:["briefcase"]},"1f392":{code:"1f392",category:"people",shortname:":school_satchel:",name:"school backpack",keywords:["bag","satchel","school"]},"1f453":{code:"1f453",category:"people",shortname:":eyeglasses:",name:"glasses",keywords:["clothing","eye","eyeglasses","eyewear"]},"1f576":{code:"1f576",category:"people",shortname:":dark_sunglasses:",name:"sunglasses",keywords:["dark","eye","eyewear","glasses"]},"1f97d":{code:"1f97d",category:"people",shortname:":goggles:",name:"goggles",keywords:[""]},"1f302":{code:"1f302",category:"people",shortname:":closed_umbrella:",name:"closed umbrella",keywords:["clothing","rain","umbrella"]},"1f9b0":{code:"1f9b0",category:"people",shortname:":red_haired:",name:"red-haired",keywords:[""]},"1f9b1":{code:"1f9b1",category:"people",shortname:":curly_haired:",name:"curly-haired",keywords:[""]},"1f9b3":{code:"1f9b3",category:"people",shortname:":white_haired:",name:"white-haired",keywords:[""]},"1f9b2":{code:"1f9b2",category:"people",shortname:":bald:",name:"bald",keywords:[""]},"1f436":{code:"1f436",category:"nature",shortname:":dog:",name:"dog face",keywords:["dog","face","pet"]},"1f431":{code:"1f431",category:"nature",shortname:":cat:",name:"cat face",keywords:["cat","face","pet"]},"1f42d":{code:"1f42d",category:"nature",shortname:":mouse:",name:"mouse face",keywords:["face","mouse"]},"1f439":{code:"1f439",category:"nature",shortname:":hamster:",name:"hamster face",keywords:["face","hamster","pet"]},"1f430":{code:"1f430",category:"nature",shortname:":rabbit:",name:"rabbit face",keywords:["bunny","face","pet","rabbit"]},"1f98a":{code:"1f98a",category:"nature",shortname:":fox:",name:"fox face",keywords:["face","fox"]},"1f99d":{code:"1f99d",category:"nature",shortname:":raccoon:",name:"raccoon",keywords:[""]},"1f43b":{code:"1f43b",category:"nature",shortname:":bear:",name:"bear face",keywords:["bear","face"]},"1f43c":{code:"1f43c",category:"nature",shortname:":panda_face:",name:"panda face",keywords:["face","panda"]},"1f998":{code:"1f998",category:"nature",shortname:":kangaroo:",name:"kangaroo",keywords:[""]},"1f9a1":{code:"1f9a1",category:"nature",shortname:":badger:",name:"badger",keywords:[""]},"1f428":{code:"1f428",category:"nature",shortname:":koala:",name:"koala",keywords:["bear"]},"1f42f":{code:"1f42f",category:"nature",shortname:":tiger:",name:"tiger face",keywords:["face","tiger"]},"1f981":{code:"1f981",category:"nature",shortname:":lion_face:",name:"lion face",keywords:["Leo","face","lion","zodiac"]},"1f42e":{code:"1f42e",category:"nature",shortname:":cow:",name:"cow face",keywords:["cow","face"]},"1f437":{code:"1f437",category:"nature",shortname:":pig:",name:"pig face",keywords:["face","pig"]},"1f43d":{code:"1f43d",category:"nature",shortname:":pig_nose:",name:"pig nose",keywords:["face","nose","pig"]},"1f438":{code:"1f438",category:"nature",shortname:":frog:",name:"frog face",keywords:["face","frog"]},"1f435":{code:"1f435",category:"nature",shortname:":monkey_face:",name:"monkey face",keywords:["face","monkey"]},"1f648":{code:"1f648",category:"nature",shortname:":see_no_evil:",name:"see-no-evil monkey",keywords:["evil","face","forbidden","gesture","monkey","no","not","prohibited","see"]},"1f649":{code:"1f649",category:"nature",shortname:":hear_no_evil:",name:"hear-no-evil monkey",keywords:["evil","face","forbidden","gesture","hear","monkey","no","not","prohibited"]},"1f64a":{code:"1f64a",category:"nature",shortname:":speak_no_evil:",name:"speak-no-evil monkey",keywords:["evil","face","forbidden","gesture","monkey","no","not","prohibited","speak"]},"1f412":{code:"1f412",category:"nature",shortname:":monkey:",name:"monkey",keywords:["monkey"]},"1f414":{code:"1f414",category:"nature",shortname:":chicken:",name:"chicken",keywords:["bird","chicken"]},"1f427":{code:"1f427",category:"nature",shortname:":penguin:",name:"penguin",keywords:["bird","penguin"]},"1f426":{code:"1f426",category:"nature",shortname:":bird:",name:"bird",keywords:["bird"]},"1f424":{code:"1f424",category:"nature",shortname:":baby_chick:",name:"baby chick",keywords:["baby","bird","chick"]},"1f423":{code:"1f423",category:"nature",shortname:":hatching_chick:",name:"hatching chick",keywords:["baby","bird","chick","hatching"]},"1f425":{code:"1f425",category:"nature",shortname:":hatched_chick:",name:"front-facing baby chick",keywords:["baby","bird","chick"]},"1f986":{code:"1f986",category:"nature",shortname:":duck:",name:"duck",keywords:["bird","duck"]},"1f9a2":{code:"1f9a2",category:"nature",shortname:":swan:",name:"swan",keywords:[""]},"1f985":{code:"1f985",category:"nature",shortname:":eagle:",name:"eagle",keywords:["bird","eagle"]},"1f989":{code:"1f989",category:"nature",shortname:":owl:",name:"owl",keywords:["bird","owl","wise"]},"1f99c":{code:"1f99c",category:"nature",shortname:":parrot:",name:"parrot",keywords:[""]},"1f99a":{code:"1f99a",category:"nature",shortname:":peacock:",name:"peacock",keywords:[""]},"1f987":{code:"1f987",category:"nature",shortname:":bat:",name:"bat",keywords:["bat","vampire"]},"1f43a":{code:"1f43a",category:"nature",shortname:":wolf:",name:"wolf face",keywords:["face","wolf"]},"1f417":{code:"1f417",category:"nature",shortname:":boar:",name:"boar",keywords:["pig"]},"1f434":{code:"1f434",category:"nature",shortname:":horse:",name:"horse face",keywords:["face","horse"]},"1f984":{code:"1f984",category:"nature",shortname:":unicorn:",name:"unicorn face",keywords:["face","unicorn"]},"1f41d":{code:"1f41d",category:"nature",shortname:":bee:",name:"honeybee",keywords:["bee","insect"]},"1f41b":{code:"1f41b",category:"nature",shortname:":bug:",name:"bug",keywords:["insect"]},"1f98b":{code:"1f98b",category:"nature",shortname:":butterfly:",name:"butterfly",keywords:["butterfly","insect","pretty"]},"1f40c":{code:"1f40c",category:"nature",shortname:":snail:",name:"snail",keywords:["snail"]},"1f41a":{code:"1f41a",category:"nature",shortname:":shell:",name:"spiral shell",keywords:["shell","spiral"]},"1f41e":{code:"1f41e",category:"nature",shortname:":beetle:",name:"lady beetle",keywords:["beetle","insect","ladybird","ladybug"]},"1f41c":{code:"1f41c",category:"nature",shortname:":ant:",name:"ant",keywords:["insect"]},"1f997":{code:"1f997",category:"nature",shortname:":cricket:",name:"cricket",keywords:[""]},"1f577":{code:"1f577",category:"nature",shortname:":spider:",name:"spider",keywords:["insect"]},"1f578":{code:"1f578",category:"nature",shortname:":spider_web:",name:"spider web",keywords:["spider","web"]},"1f982":{code:"1f982",category:"nature",shortname:":scorpion:",name:"scorpion",keywords:["Scorpius","scorpio","zodiac"]},"1f99f":{code:"1f99f",category:"nature",shortname:":mosquito:",name:"mosquito",keywords:[""]},"1f9a0":{code:"1f9a0",category:"nature",shortname:":microbe:",name:"microbe",keywords:[""]},"1f422":{code:"1f422",category:"nature",shortname:":turtle:",name:"turtle",keywords:["terrapin","tortoise","turtle"]},"1f40d":{code:"1f40d",category:"nature",shortname:":snake:",name:"snake",keywords:["Ophiuchus","bearer","serpent","zodiac"]},"1f98e":{code:"1f98e",category:"nature",shortname:":lizard:",name:"lizard",keywords:["lizard","reptile"]},"1f996":{code:"1f996",category:"nature",shortname:":t_rex:",name:"T-Rex",keywords:["Tyrannosaurus Rex"]},"1f995":{code:"1f995",category:"nature",shortname:":sauropod:",name:"sauropod",keywords:["brachiosaurus","brontosaurus","diplodocus"]},"1f419":{code:"1f419",category:"nature",shortname:":octopus:",name:"octopus",keywords:["octopus"]},"1f991":{code:"1f991",category:"nature",shortname:":squid:",name:"squid",keywords:["food","molusc","squid"]},"1f990":{code:"1f990",category:"nature",shortname:":shrimp:",name:"shrimp",keywords:["food","shellfish","shrimp","small"]},"1f980":{code:"1f980",category:"nature",shortname:":crab:",name:"crab",keywords:["Cancer","zodiac"]},"1f99e":{code:"1f99e",category:"nature",shortname:":lobster:",name:"lobster",keywords:[""]},"1f421":{code:"1f421",category:"nature",shortname:":blowfish:",name:"blowfish",keywords:["fish"]},"1f420":{code:"1f420",category:"nature",shortname:":tropical_fish:",name:"tropical fish",keywords:["fish","tropical"]},"1f41f":{code:"1f41f",category:"nature",shortname:":fish:",name:"fish",keywords:["Pisces","zodiac"]},"1f42c":{code:"1f42c",category:"nature",shortname:":dolphin:",name:"dolphin",keywords:["flipper"]},"1f433":{code:"1f433",category:"nature",shortname:":whale:",name:"spouting whale",keywords:["face","spouting","whale"]},"1f40b":{code:"1f40b",category:"nature",shortname:":whale2:",name:"whale",keywords:["whale"]},"1f988":{code:"1f988",category:"nature",shortname:":shark:",name:"shark",keywords:["fish","shark"]},"1f40a":{code:"1f40a",category:"nature",shortname:":crocodile:",name:"crocodile",keywords:["crocodile"]},"1f405":{code:"1f405",category:"nature",shortname:":tiger2:",name:"tiger",keywords:["tiger"]},"1f406":{code:"1f406",category:"nature",shortname:":leopard:",name:"leopard",keywords:["leopard"]},"1f993":{code:"1f993",category:"nature",shortname:":zebra:",name:"zebra",keywords:["stripe"]},"1f98d":{code:"1f98d",category:"nature",shortname:":gorilla:",name:"gorilla",keywords:["gorilla"]},"1f418":{code:"1f418",category:"nature",shortname:":elephant:",name:"elephant",keywords:["elephant"]},"1f98f":{code:"1f98f",category:"nature",shortname:":rhino:",name:"rhinoceros",keywords:["rhinoceros"]},"1f99b":{code:"1f99b",category:"nature",shortname:":hippopotamus:",name:"hippopotamus",keywords:[""]},"1f42a":{code:"1f42a",category:"nature",shortname:":dromedary_camel:",name:"camel",keywords:["dromedary","hump"]},"1f42b":{code:"1f42b",category:"nature",shortname:":camel:",name:"two-hump camel",keywords:["bactrian","camel","hump"]},"1f992":{code:"1f992",category:"nature",shortname:":giraffe:",name:"giraffe",keywords:["spots"]},"1f999":{code:"1f999",category:"nature",shortname:":llama:",name:"llama",keywords:[""]},"1f403":{code:"1f403",category:"nature",shortname:":water_buffalo:",name:"water buffalo",keywords:["buffalo","water"]},"1f402":{code:"1f402",category:"nature",shortname:":ox:",name:"ox",keywords:["Taurus","bull","zodiac"]},"1f404":{code:"1f404",category:"nature",shortname:":cow2:",name:"cow",keywords:["cow"]},"1f40e":{code:"1f40e",category:"nature",shortname:":racehorse:",name:"horse",keywords:["equestrian","racehorse","racing"]},"1f416":{code:"1f416",category:"nature",shortname:":pig2:",name:"pig",keywords:["sow"]},"1f40f":{code:"1f40f",category:"nature",shortname:":ram:",name:"ram",keywords:["Aries","male","sheep","zodiac"]},"1f411":{code:"1f411",category:"nature",shortname:":sheep:",name:"ewe",keywords:["female","sheep"]},"1f410":{code:"1f410",category:"nature",shortname:":goat:",name:"goat",keywords:["Capricorn","zodiac"]},"1f98c":{code:"1f98c",category:"nature",shortname:":deer:",name:"deer",keywords:["deer"]},"1f415":{code:"1f415",category:"nature",shortname:":dog2:",name:"dog",keywords:["pet"]},"1f429":{code:"1f429",category:"nature",shortname:":poodle:",name:"poodle",keywords:["dog"]},"1f408":{code:"1f408",category:"nature",shortname:":cat2:",name:"cat",keywords:["pet"]},"1f413":{code:"1f413",category:"nature",shortname:":rooster:",name:"rooster",keywords:["bird","rooster"]},"1f983":{code:"1f983",category:"nature",shortname:":turkey:",name:"turkey",keywords:["bird","turkey"]},"1f54a":{code:"1f54a",category:"nature",shortname:":dove:",name:"dove",keywords:["bird","fly","peace"]},"1f407":{code:"1f407",category:"nature",shortname:":rabbit2:",name:"rabbit",keywords:["bunny","pet"]},"1f401":{code:"1f401",category:"nature",shortname:":mouse2:",name:"mouse",keywords:["mouse"]},"1f400":{code:"1f400",category:"nature",shortname:":rat:",name:"rat",keywords:["rat"]},"1f43f":{code:"1f43f",category:"nature",shortname:":chipmunk:",name:"chipmunk",keywords:["chipmunk"]},"1f994":{code:"1f994",category:"nature",shortname:":hedgehog:",name:"hedgehog",keywords:["spiny"]},"1f43e":{code:"1f43e",category:"nature",shortname:":feet:",name:"paw prints",keywords:["feet","paw","print"]},"1f409":{code:"1f409",category:"nature",shortname:":dragon:",name:"dragon",keywords:["fairy tale"]},"1f432":{code:"1f432",category:"nature",shortname:":dragon_face:",name:"dragon face",keywords:["dragon","face","fairy tale"]},"1f335":{code:"1f335",category:"nature",shortname:":cactus:",name:"cactus",keywords:["plant"]},"1f384":{code:"1f384",category:"nature",shortname:":christmas_tree:",name:"Christmas tree",keywords:["Christmas","celebration","tree"]},"1f332":{code:"1f332",category:"nature",shortname:":evergreen_tree:",name:"evergreen tree",keywords:["tree"]},"1f333":{code:"1f333",category:"nature",shortname:":deciduous_tree:",name:"deciduous tree",keywords:["deciduous","shedding","tree"]},"1f334":{code:"1f334",category:"nature",shortname:":palm_tree:",name:"palm tree",keywords:["palm","tree"]},"1f331":{code:"1f331",category:"nature",shortname:":seedling:",name:"seedling",keywords:["young"]},"1f33f":{code:"1f33f",category:"nature",shortname:":herb:",name:"herb",keywords:["leaf"]},2618:{code:"2618",category:"nature",shortname:":shamrock:",name:"shamrock",keywords:["plant"]},"1f340":{code:"1f340",category:"nature",shortname:":four_leaf_clover:",name:"four leaf clover",keywords:["4","clover","four","leaf"]},"1f38d":{code:"1f38d",category:"nature",shortname:":bamboo:",name:"pine decoration",keywords:["Japanese","bamboo","celebration","pine"]},"1f38b":{code:"1f38b",category:"nature",shortname:":tanabata_tree:",name:"tanabata tree",keywords:["Japanese","banner","celebration","tree"]},"1f343":{code:"1f343",category:"nature",shortname:":leaves:",name:"leaf fluttering in wind",keywords:["blow","flutter","leaf","wind"]},"1f342":{code:"1f342",category:"nature",shortname:":fallen_leaf:",name:"fallen leaf",keywords:["falling","leaf"]},"1f341":{code:"1f341",category:"nature",shortname:":maple_leaf:",name:"maple leaf",keywords:["falling","leaf","maple"]},"1f344":{code:"1f344",category:"nature",shortname:":mushroom:",name:"mushroom",keywords:["toadstool"]},"1f33e":{code:"1f33e",category:"nature",shortname:":ear_of_rice:",name:"sheaf of rice",keywords:["ear","grain","rice"]},"1f490":{code:"1f490",category:"nature",shortname:":bouquet:",name:"bouquet",keywords:["flower"]},"1f337":{code:"1f337",category:"nature",shortname:":tulip:",name:"tulip",keywords:["flower"]},"1f339":{code:"1f339",category:"nature",shortname:":rose:",name:"rose",keywords:["flower"]},"1f940":{code:"1f940",category:"nature",shortname:":wilted_rose:",name:"wilted flower",keywords:["flower","wilted"]},"1f33a":{code:"1f33a",category:"nature",shortname:":hibiscus:",name:"hibiscus",keywords:["flower"]},"1f338":{code:"1f338",category:"nature",shortname:":cherry_blossom:",name:"cherry blossom",keywords:["blossom","cherry","flower"]},"1f33c":{code:"1f33c",category:"nature",shortname:":blossom:",name:"blossom",keywords:["flower"]},"1f33b":{code:"1f33b",category:"nature",shortname:":sunflower:",name:"sunflower",keywords:["flower","sun"]},"1f31e":{code:"1f31e",category:"nature",shortname:":sun_with_face:",name:"sun with face",keywords:["bright","face","sun"]},"1f31d":{code:"1f31d",category:"nature",shortname:":full_moon_with_face:",name:"full moon face",keywords:["bright","face","full","moon"]},"1f31b":{code:"1f31b",category:"nature",shortname:":first_quarter_moon_with_face:",name:"first quarter moon face",keywords:["face","moon","quarter"]},"1f31c":{code:"1f31c",category:"nature",shortname:":last_quarter_moon_with_face:",name:"last quarter moon face",keywords:["face","moon","quarter"]},"1f31a":{code:"1f31a",category:"nature",shortname:":new_moon_with_face:",name:"new moon face",keywords:["face","moon"]},"1f315":{code:"1f315",category:"nature",shortname:":full_moon:",name:"full moon",keywords:["full","moon"]},"1f316":{code:"1f316",category:"nature",shortname:":waning_gibbous_moon:",name:"waning gibbous moon",keywords:["gibbous","moon","waning"]},"1f317":{code:"1f317",category:"nature",shortname:":last_quarter_moon:",name:"last quarter moon",keywords:["moon","quarter"]},"1f318":{code:"1f318",category:"nature",shortname:":waning_crescent_moon:",name:"waning crescent moon",keywords:["crescent","moon","waning"]},"1f311":{code:"1f311",category:"nature",shortname:":new_moon:",name:"new moon",keywords:["dark","moon"]},"1f312":{code:"1f312",category:"nature",shortname:":waxing_crescent_moon:",name:"waxing crescent moon",keywords:["crescent","moon","waxing"]},"1f313":{code:"1f313",category:"nature",shortname:":first_quarter_moon:",name:"first quarter moon",keywords:["moon","quarter"]},"1f314":{code:"1f314",category:"nature",shortname:":waxing_gibbous_moon:",name:"waxing gibbous moon",keywords:["gibbous","moon","waxing"]},"1f319":{code:"1f319",category:"nature",shortname:":crescent_moon:",name:"crescent moon",keywords:["crescent","moon"]},"1f30e":{code:"1f30e",category:"nature",shortname:":earth_americas:",name:"globe showing Americas",keywords:["Americas","earth","globe","world"]},"1f30d":{code:"1f30d",category:"nature",shortname:":earth_africa:",name:"globe showing Europe-Africa",keywords:["Africa","Europe","earth","globe","world"]},"1f30f":{code:"1f30f",category:"nature",shortname:":earth_asia:",name:"globe showing Asia-Australia",keywords:["Asia","Australia","earth","globe","world"]},"1f4ab":{code:"1f4ab",category:"nature",shortname:":dizzy:",name:"dizzy",keywords:["comic","star"]},"2b50":{code:"2b50",category:"nature",shortname:":star:",name:"star",keywords:["star"]},"1f31f":{code:"1f31f",category:"nature",shortname:":star2:",name:"glowing star",keywords:["glittery","glow","shining","sparkle","star"]},2728:{code:"2728",category:"nature",shortname:":sparkles:",name:"sparkles",keywords:["sparkle","star"]},"26a1":{code:"26a1",category:"nature",shortname:":zap:",name:"high voltage",keywords:["danger","electric","electricity","lightning","voltage","zap"]},2604:{code:"2604",category:"nature",shortname:":comet:",name:"comet",keywords:["space"]},"1f4a5":{code:"1f4a5",category:"nature",shortname:":boom:",name:"collision",keywords:["boom","comic"]},"1f525":{code:"1f525",category:"nature",shortname:":fire:",name:"fire",keywords:["flame","tool"]},"1f32a":{code:"1f32a",category:"nature",shortname:":cloud_tornado:",name:"tornado",keywords:["cloud","whirlwind"]},"1f308":{code:"1f308",category:"nature",shortname:":rainbow:",name:"rainbow",keywords:["rain"]},2600:{code:"2600",category:"nature",shortname:":sunny:",name:"sun",keywords:["bright","rays","sunny"]},"1f324":{code:"1f324",category:"nature",shortname:":white_sun_small_cloud:",name:"sun behind small cloud",keywords:["cloud","sun"]},"26c5":{code:"26c5",category:"nature",shortname:":partly_sunny:",name:"sun behind cloud",keywords:["cloud","sun"]},"1f325":{code:"1f325",category:"nature",shortname:":white_sun_cloud:",name:"sun behind large cloud",keywords:["cloud","sun"]},2601:{code:"2601",category:"nature",shortname:":cloud:",name:"cloud",keywords:["weather"]},"1f326":{code:"1f326",category:"nature",shortname:":white_sun_rain_cloud:",name:"sun behind rain cloud",keywords:["cloud","rain","sun"]},"1f327":{code:"1f327",category:"nature",shortname:":cloud_rain:",name:"cloud with rain",keywords:["cloud","rain"]},"26c8":{code:"26c8",category:"nature",shortname:":thunder_cloud_rain:",name:"cloud with lightning and rain",keywords:["cloud","rain","thunder"]},"1f329":{code:"1f329",category:"nature",shortname:":cloud_lightning:",name:"cloud with lightning",keywords:["cloud","lightning"]},"1f328":{code:"1f328",category:"nature",shortname:":cloud_snow:",name:"cloud with snow",keywords:["cloud","cold","snow"]},2744:{code:"2744",category:"nature",shortname:":snowflake:",name:"snowflake",keywords:["cold","snow"]},2603:{code:"2603",category:"nature",shortname:":snowman2:",name:"snowman",keywords:["cold","snow"]},"26c4":{code:"26c4",category:"nature",shortname:":snowman:",name:"snowman without snow",keywords:["cold","snow","snowman"]},"1f32c":{code:"1f32c",category:"nature",shortname:":wind_blowing_face:",name:"wind face",keywords:["blow","cloud","face","wind"]},"1f4a8":{code:"1f4a8",category:"nature",shortname:":dash:",name:"dashing away",keywords:["comic","dash","running"]},"1f4a7":{code:"1f4a7",category:"nature",shortname:":droplet:",name:"droplet",keywords:["cold","comic","drop","sweat"]},"1f4a6":{code:"1f4a6",category:"nature",shortname:":sweat_drops:",name:"sweat droplets",keywords:["comic","splashing","sweat"]},2614:{code:"2614",category:"nature",shortname:":umbrella:",name:"umbrella with rain drops",keywords:["clothing","drop","rain","umbrella"]},2602:{code:"2602",category:"nature",shortname:":umbrella2:",name:"umbrella",keywords:["clothing","rain"]},"1f30a":{code:"1f30a",category:"nature",shortname:":ocean:",name:"water wave",keywords:["ocean","water","wave"]},"1f32b":{code:"1f32b",category:"nature",shortname:":fog:",name:"fog",keywords:["cloud"]},"1f34f":{code:"1f34f",category:"food",shortname:":green_apple:",name:"green apple",keywords:["apple","fruit","green"]},"1f34e":{code:"1f34e",category:"food",shortname:":apple:",name:"red apple",keywords:["apple","fruit","red"]},"1f350":{code:"1f350",category:"food",shortname:":pear:",name:"pear",keywords:["fruit"]},"1f34a":{code:"1f34a",category:"food",shortname:":tangerine:",name:"tangerine",keywords:["fruit","orange"]},"1f34b":{code:"1f34b",category:"food",shortname:":lemon:",name:"lemon",keywords:["citrus","fruit"]},"1f34c":{code:"1f34c",category:"food",shortname:":banana:",name:"banana",keywords:["fruit"]},"1f349":{code:"1f349",category:"food",shortname:":watermelon:",name:"watermelon",keywords:["fruit"]},"1f347":{code:"1f347",category:"food",shortname:":grapes:",name:"grapes",keywords:["fruit","grape"]},"1f353":{code:"1f353",category:"food",shortname:":strawberry:",name:"strawberry",keywords:["berry","fruit"]},"1f348":{code:"1f348",category:"food",shortname:":melon:",name:"melon",keywords:["fruit"]},"1f352":{code:"1f352",category:"food",shortname:":cherries:",name:"cherries",keywords:["cherry","fruit"]},"1f351":{code:"1f351",category:"food",shortname:":peach:",name:"peach",keywords:["fruit"]},"1f96d":{code:"1f96d",category:"food",shortname:":mango:",name:"mango",keywords:[""]},"1f34d":{code:"1f34d",category:"food",shortname:":pineapple:",name:"pineapple",keywords:["fruit"]},"1f965":{code:"1f965",category:"food",shortname:":coconut:",name:"coconut",keywords:["palm","pi\xf1a colada"]},"1f95d":{code:"1f95d",category:"food",shortname:":kiwi:",name:"kiwi fruit",keywords:["food","fruit","kiwi"]},"1f345":{code:"1f345",category:"food",shortname:":tomato:",name:"tomato",keywords:["fruit","vegetable"]},"1f346":{code:"1f346",category:"food",shortname:":eggplant:",name:"eggplant",keywords:["aubergine","vegetable"]},"1f951":{code:"1f951",category:"food",shortname:":avocado:",name:"avocado",keywords:["avocado","food","fruit"]},"1f966":{code:"1f966",category:"food",shortname:":broccoli:",name:"broccoli",keywords:["wild cabbage"]},"1f96c":{code:"1f96c",category:"food",shortname:":leafy_green:",name:"leafy green",keywords:[""]},"1f952":{code:"1f952",category:"food",shortname:":cucumber:",name:"cucumber",keywords:["cucumber","food","pickle","vegetable"]},"1f336":{code:"1f336",category:"food",shortname:":hot_pepper:",name:"hot pepper",keywords:["hot","pepper"]},"1f33d":{code:"1f33d",category:"food",shortname:":corn:",name:"ear of corn",keywords:["corn","ear","maize","maze"]},"1f955":{code:"1f955",category:"food",shortname:":carrot:",name:"carrot",keywords:["carrot","food","vegetable"]},"1f954":{code:"1f954",category:"food",shortname:":potato:",name:"potato",keywords:["food","potato","vegetable"]},"1f360":{code:"1f360",category:"food",shortname:":sweet_potato:",name:"roasted sweet potato",keywords:["potato","roasted","sweet"]},"1f950":{code:"1f950",category:"food",shortname:":croissant:",name:"croissant",keywords:["bread","crescent roll","croissant","food","french"]},"1f35e":{code:"1f35e",category:"food",shortname:":bread:",name:"bread",keywords:["loaf"]},"1f956":{code:"1f956",category:"food",shortname:":french_bread:",name:"baguette bread",keywords:["baguette","bread","food","french"]},"1f968":{code:"1f968",category:"food",shortname:":pretzel:",name:"pretzel",keywords:[""]},"1f96f":{code:"1f96f",category:"food",shortname:":bagel:",name:"bagel",keywords:[""]},"1f9c0":{code:"1f9c0",category:"food",shortname:":cheese:",name:"cheese wedge",keywords:["cheese"]},"1f95a":{code:"1f95a",category:"food",shortname:":egg:",name:"egg",keywords:["egg","food"]},"1f373":{code:"1f373",category:"food",shortname:":cooking:",name:"cooking",keywords:["egg","frying","pan"]},"1f95e":{code:"1f95e",category:"food",shortname:":pancakes:",name:"pancakes",keywords:["cr\xeape","food","hotcake","pancake"]},"1f953":{code:"1f953",category:"food",shortname:":bacon:",name:"bacon",keywords:["bacon","food","meat"]},"1f969":{code:"1f969",category:"food",shortname:":cut_of_meat:",name:"cut of meat",keywords:["chop","lambchop","porkchop","steak"]},"1f357":{code:"1f357",category:"food",shortname:":poultry_leg:",name:"poultry leg",keywords:["bone","chicken","leg","poultry"]},"1f356":{code:"1f356",category:"food",shortname:":meat_on_bone:",name:"meat on bone",keywords:["bone","meat"]},"1f32d":{code:"1f32d",category:"food",shortname:":hotdog:",name:"hot dog",keywords:["frankfurter","hotdog","sausage"]},"1f354":{code:"1f354",category:"food",shortname:":hamburger:",name:"hamburger",keywords:["burger"]},"1f35f":{code:"1f35f",category:"food",shortname:":fries:",name:"french fries",keywords:["french","fries"]},"1f355":{code:"1f355",category:"food",shortname:":pizza:",name:"pizza",keywords:["cheese","slice"]},"1f96a":{code:"1f96a",category:"food",shortname:":sandwich:",name:"sandwich",keywords:["bread"]},"1f959":{code:"1f959",category:"food",shortname:":stuffed_flatbread:",name:"stuffed flatbread",keywords:["falafel","flatbread","food","gyro","kebab","stuffed"]},"1f32e":{code:"1f32e",category:"food",shortname:":taco:",name:"taco",keywords:["mexican"]},"1f32f":{code:"1f32f",category:"food",shortname:":burrito:",name:"burrito",keywords:["mexican","wrap"]},"1f957":{code:"1f957",category:"food",shortname:":salad:",name:"green salad",keywords:["food","green","salad"]},"1f958":{code:"1f958",category:"food",shortname:":shallow_pan_of_food:",name:"shallow pan of food",keywords:["casserole","food","paella","pan","shallow"]},"1f96b":{code:"1f96b",category:"food",shortname:":canned_food:",name:"canned food",keywords:["can"]},"1f35d":{code:"1f35d",category:"food",shortname:":spaghetti:",name:"spaghetti",keywords:["pasta"]},"1f35c":{code:"1f35c",category:"food",shortname:":ramen:",name:"steaming bowl",keywords:["bowl","noodle","ramen","steaming"]},"1f372":{code:"1f372",category:"food",shortname:":stew:",name:"pot of food",keywords:["pot","stew"]},"1f35b":{code:"1f35b",category:"food",shortname:":curry:",name:"curry rice",keywords:["curry","rice"]},"1f363":{code:"1f363",category:"food",shortname:":sushi:",name:"sushi",keywords:["sushi"]},"1f371":{code:"1f371",category:"food",shortname:":bento:",name:"bento box",keywords:["bento","box"]},"1f364":{code:"1f364",category:"food",shortname:":fried_shrimp:",name:"fried shrimp",keywords:["fried","prawn","shrimp","tempura"]},"1f359":{code:"1f359",category:"food",shortname:":rice_ball:",name:"rice ball",keywords:["Japanese","ball","rice"]},"1f35a":{code:"1f35a",category:"food",shortname:":rice:",name:"cooked rice",keywords:["cooked","rice"]},"1f358":{code:"1f358",category:"food",shortname:":rice_cracker:",name:"rice cracker",keywords:["cracker","rice"]},"1f365":{code:"1f365",category:"food",shortname:":fish_cake:",name:"fish cake with swirl",keywords:["cake","fish","pastry","swirl"]},"1f960":{code:"1f960",category:"food",shortname:":fortune_cookie:",name:"fortune cookie",keywords:["prophecy"]},"1f362":{code:"1f362",category:"food",shortname:":oden:",name:"oden",keywords:["kebab","seafood","skewer","stick"]},"1f361":{code:"1f361",category:"food",shortname:":dango:",name:"dango",keywords:["Japanese","dessert","skewer","stick","sweet"]},"1f367":{code:"1f367",category:"food",shortname:":shaved_ice:",name:"shaved ice",keywords:["dessert","ice","shaved","sweet"]},"1f368":{code:"1f368",category:"food",shortname:":ice_cream:",name:"ice cream",keywords:["cream","dessert","ice","sweet"]},"1f366":{code:"1f366",category:"food",shortname:":icecream:",name:"soft ice cream",keywords:["cream","dessert","ice","icecream","soft","sweet"]},"1f967":{code:"1f967",category:"food",shortname:":pie:",name:"pie",keywords:[""]},"1f370":{code:"1f370",category:"food",shortname:":cake:",name:"shortcake",keywords:["cake","dessert","pastry","slice","sweet"]},"1f382":{code:"1f382",category:"food",shortname:":birthday:",name:"birthday cake",keywords:["birthday","cake","celebration","dessert","pastry","sweet"]},"1f96e":{code:"1f96e",category:"food",shortname:":moon_cake:",name:"moon cake",keywords:[""]},"1f9c1":{code:"1f9c1",category:"food",shortname:":cupcake:",name:"cupcake",keywords:[""]},"1f36e":{code:"1f36e",category:"food",shortname:":custard:",name:"custard",keywords:["dessert","pudding","sweet"]},"1f36d":{code:"1f36d",category:"food",shortname:":lollipop:",name:"lollipop",keywords:["candy","dessert","sweet"]},"1f36c":{code:"1f36c",category:"food",shortname:":candy:",name:"candy",keywords:["dessert","sweet"]},"1f36b":{code:"1f36b",category:"food",shortname:":chocolate_bar:",name:"chocolate bar",keywords:["bar","chocolate","dessert","sweet"]},"1f37f":{code:"1f37f",category:"food",shortname:":popcorn:",name:"popcorn",keywords:["popcorn"]},"1f9c2":{code:"1f9c2",category:"food",shortname:":salt:",name:"salt",keywords:[""]},"1f369":{code:"1f369",category:"food",shortname:":doughnut:",name:"doughnut",keywords:["dessert","donut","sweet"]},"1f95f":{code:"1f95f",category:"food",shortname:":dumpling:",name:"dumpling",keywords:["empanada","gy\u014dza","jiaozi","pierogi","potsticker"]},"1f36a":{code:"1f36a",category:"food",shortname:":cookie:",name:"cookie",keywords:["dessert","sweet"]},"1f330":{code:"1f330",category:"food",shortname:":chestnut:",name:"chestnut",keywords:["plant"]},"1f95c":{code:"1f95c",category:"food",shortname:":peanuts:",name:"peanuts",keywords:["food","nut","peanut","vegetable"]},"1f36f":{code:"1f36f",category:"food",shortname:":honey_pot:",name:"honey pot",keywords:["honey","honeypot","pot","sweet"]},"1f95b":{code:"1f95b",category:"food",shortname:":milk:",name:"glass of milk",keywords:["drink","glass","milk"]},"1f37c":{code:"1f37c",category:"food",shortname:":baby_bottle:",name:"baby bottle",keywords:["baby","bottle","drink","milk"]},2615:{code:"2615",category:"food",shortname:":coffee:",name:"hot beverage",keywords:["beverage","coffee","drink","hot","steaming","tea"]},"1f375":{code:"1f375",category:"food",shortname:":tea:",name:"teacup without handle",keywords:["beverage","cup","drink","tea","teacup"]},"1f964":{code:"1f964",category:"food",shortname:":cup_with_straw:",name:"cup with straw",keywords:[""]},"1f376":{code:"1f376",category:"food",shortname:":sake:",name:"sake",keywords:["bar","beverage","bottle","cup","drink"]},"1f944":{code:"1f944",category:"food",shortname:":spoon:",name:"spoon",keywords:["spoon","tableware"]},"1f374":{code:"1f374",category:"food",shortname:":fork_and_knife:",name:"fork and knife",keywords:["cooking","fork","knife"]},"1f37d":{code:"1f37d",category:"food",shortname:":fork_knife_plate:",name:"fork and knife with plate",keywords:["cooking","fork","knife","plate"]},"1f963":{code:"1f963",category:"food",shortname:":bowl_with_spoon:",name:"bowl with spoon",keywords:[""]},"1f961":{code:"1f961",category:"food",shortname:":takeout_box:",name:"takeout box",keywords:["oyster pail"]},"1f962":{code:"1f962",category:"food",shortname:":chopsticks:",name:"chopsticks",keywords:[""]},"26bd":{code:"26bd",category:"activity",shortname:":soccer:",name:"soccer ball",keywords:["ball","football","soccer"]},"1f3c0":{code:"1f3c0",category:"activity",shortname:":basketball:",name:"basketball",keywords:["ball","hoop"]},"1f3c8":{code:"1f3c8",category:"activity",shortname:":football:",name:"american football",keywords:["american","ball","football"]},"26be":{code:"26be",category:"activity",shortname:":baseball:",name:"baseball",keywords:["ball"]},"1f94e":{code:"1f94e",category:"activity",shortname:":softball:",name:"softball",keywords:[""]},"1f3be":{code:"1f3be",category:"activity",shortname:":tennis:",name:"tennis",keywords:["ball","racquet"]},"1f3d0":{code:"1f3d0",category:"activity",shortname:":volleyball:",name:"volleyball",keywords:["ball","game"]},"1f3c9":{code:"1f3c9",category:"activity",shortname:":rugby_football:",name:"rugby football",keywords:["ball","football","rugby"]},"1f3b1":{code:"1f3b1",category:"activity",shortname:":8ball:",name:"pool 8 ball",keywords:["8","8 ball","ball","billiard","eight","game"]},"1f3d3":{code:"1f3d3",category:"activity",shortname:":ping_pong:",name:"ping pong",keywords:["ball","bat","game","paddle","ping pong","table tennis"]},"1f3f8":{code:"1f3f8",category:"activity",shortname:":badminton:",name:"badminton",keywords:["birdie","game","racquet","shuttlecock"]},"1f945":{code:"1f945",category:"activity",shortname:":goal:",name:"goal net",keywords:["goal","net"]},"1f3d2":{code:"1f3d2",category:"activity",shortname:":hockey:",name:"ice hockey",keywords:["game","hockey","ice","puck","stick"]},"1f3d1":{code:"1f3d1",category:"activity",shortname:":field_hockey:",name:"field hockey",keywords:["ball","field","game","hockey","stick"]},"1f3cf":{code:"1f3cf",category:"activity",shortname:":cricket_game:",name:"cricket game",keywords:["ball","bat","game"]},"1f94d":{code:"1f94d",category:"activity",shortname:":lacrosse:",name:"lacrosse",keywords:[""]},"26f3":{code:"26f3",category:"activity",shortname:":golf:",name:"flag in hole",keywords:["golf","hole"]},"1f94f":{code:"1f94f",category:"activity",shortname:":flying_disc:",name:"flying disc",keywords:[""]},"1f3f9":{code:"1f3f9",category:"activity",shortname:":bow_and_arrow:",name:"bow and arrow",keywords:["Sagittarius","archer","archery","arrow","bow","tool","weapon","zodiac"]},"1f3a3":{code:"1f3a3",category:"activity",shortname:":fishing_pole_and_fish:",name:"fishing pole",keywords:["fish","pole"]},"1f94a":{code:"1f94a",category:"activity",shortname:":boxing_glove:",name:"boxing glove",keywords:["boxing","glove"]},"1f94b":{code:"1f94b",category:"activity",shortname:":martial_arts_uniform:",name:"martial arts uniform",keywords:["judo","karate","martial arts","taekwondo","uniform"]},"1f3bd":{code:"1f3bd",category:"activity",shortname:":running_shirt_with_sash:",name:"running shirt",keywords:["athletics","running","sash","shirt"]},"1f6f9":{code:"1f6f9",category:"activity",shortname:":skateboard:",name:"skateboard",keywords:[""]},"26f8":{code:"26f8",category:"activity",shortname:":ice_skate:",name:"ice skate",keywords:["ice","skate"]},"1f6f7":{code:"1f6f7",category:"activity",shortname:":sled:",name:"sled",keywords:[""]},"1f3bf":{code:"1f3bf",category:"activity",shortname:":ski:",name:"skis",keywords:["ski","snow"]},"26f7":{code:"26f7",category:"activity",shortname:":skier:",name:"skier",keywords:["ski","snow"]},"1f3c2":{code:"1f3c2",category:"activity",shortname:":snowboarder:",name:"snowboarder",keywords:["ski","snow","snowboard"]},"1f3cb-2640":{code:"1f3cb-2640",category:"activity",shortname:":woman_lifting_weights:",name:"woman lifting weights",keywords:["weight lifter","woman"]},"1f3cb-2642":{code:"1f3cb-2642",category:"activity",shortname:":man_lifting_weights:",name:"man lifting weights",keywords:["man","weight lifter"]},"1f93c-2640":{code:"1f93c-2640",category:"activity",shortname:":women_wrestling:",name:"women wrestling",keywords:["women","wrestle"]},"1f93c-2642":{code:"1f93c-2642",category:"activity",shortname:":men_wrestling:",name:"men wrestling",keywords:["men","wrestle"]},"1f938-2640":{code:"1f938-2640",category:"activity",shortname:":woman_cartwheeling:",name:"woman cartwheeling",keywords:["cartwheel","gymnastics","woman"]},"1f938-2642":{code:"1f938-2642",category:"activity",shortname:":man_cartwheeling:",name:"man cartwheeling",keywords:["cartwheel","gymnastics","man"]},"26f9-2640":{code:"26f9-2640",category:"activity",shortname:":woman_bouncing_ball:",name:"woman bouncing ball",keywords:["ball","woman"]},"26f9-2642":{code:"26f9-2642",category:"activity",shortname:":man_bouncing_ball:",name:"man bouncing ball",keywords:["ball","man"]},"1f93a":{code:"1f93a",category:"activity",shortname:":person_fencing:",name:"person fencing",keywords:["fencer","fencing","sword"]},"1f93e-2640":{code:"1f93e-2640",category:"activity",shortname:":woman_playing_handball:",name:"woman playing handball",keywords:["handball","woman"]},"1f93e-2642":{code:"1f93e-2642",category:"activity",shortname:":man_playing_handball:",name:"man playing handball",keywords:["handball","man"]},"1f3cc-2640":{code:"1f3cc-2640",category:"activity",shortname:":woman_golfing:",name:"woman golfing",keywords:["golf","woman"]},"1f3cc-2642":{code:"1f3cc-2642",category:"activity",shortname:":man_golfing:",name:"man golfing",keywords:["golf","man"]},"1f3c7":{code:"1f3c7",category:"activity",shortname:":horse_racing:",name:"horse racing",keywords:["horse","jockey","racehorse","racing"]},"1f9d8-2640":{code:"1f9d8-2640",category:"activity",shortname:":woman_in_lotus_position:",name:"woman in lotus position",keywords:["meditation","yoga"]},"1f9d8-2642":{code:"1f9d8-2642",category:"activity",shortname:":man_in_lotus_position:",name:"man in lotus position",keywords:["meditation","yoga"]},"1f3c4-2640":{code:"1f3c4-2640",category:"activity",shortname:":woman_surfing:",name:"woman surfing",keywords:["surfing","woman"]},"1f3c4-2642":{code:"1f3c4-2642",category:"activity",shortname:":man_surfing:",name:"man surfing",keywords:["man","surfing"]},"1f3ca-2640":{code:"1f3ca-2640",category:"activity",shortname:":woman_swimming:",name:"woman swimming",keywords:["swim","woman"]},"1f3ca-2642":{code:"1f3ca-2642",category:"activity",shortname:":man_swimming:",name:"man swimming",keywords:["man","swim"]},"1f93d-2640":{code:"1f93d-2640",category:"activity",shortname:":woman_playing_water_polo:",name:"woman playing water polo",keywords:["water polo","woman"]},"1f93d-2642":{code:"1f93d-2642",category:"activity",shortname:":man_playing_water_polo:",name:"man playing water polo",keywords:["man","water polo"]},"1f6a3-2640":{code:"1f6a3-2640",category:"activity",shortname:":woman_rowing_boat:",name:"woman rowing boat",keywords:["boat","rowboat","woman"]},"1f6a3-2642":{code:"1f6a3-2642",category:"activity",shortname:":man_rowing_boat:",name:"man rowing boat",keywords:["boat","man","rowboat"]},"1f9d7-2640":{code:"1f9d7-2640",category:"activity",shortname:":woman_climbing:",name:"woman climbing",keywords:["climber"]},"1f9d7-2642":{code:"1f9d7-2642",category:"activity",shortname:":man_climbing:",name:"man climbing",keywords:["climber"]},"1f6b5-2640":{code:"1f6b5-2640",category:"activity",shortname:":woman_mountain_biking:",name:"woman mountain biking",keywords:["bicycle","bike","biking","cyclist","mountain","woman"]},"1f6b5-2642":{code:"1f6b5-2642",category:"activity",shortname:":man_mountain_biking:",name:"man mountain biking",keywords:["bicycle","bike","cyclist","man","mountain"]},"1f6b4-2640":{code:"1f6b4-2640",category:"activity",shortname:":woman_biking:",name:"woman biking",keywords:["bicycle","biking","cyclist","woman"]},"1f6b4-2642":{code:"1f6b4-2642",category:"activity",shortname:":man_biking:",name:"man biking",keywords:["bicycle","biking","cyclist","man"]},"1f3c6":{code:"1f3c6",category:"activity",shortname:":trophy:",name:"trophy",keywords:["prize"]},"1f947":{code:"1f947",category:"activity",shortname:":first_place:",name:"1st place medal",keywords:["first","gold","medal"]},"1f948":{code:"1f948",category:"activity",shortname:":second_place:",name:"2nd place medal",keywords:["medal","second","silver"]},"1f949":{code:"1f949",category:"activity",shortname:":third_place:",name:"3rd place medal",keywords:["bronze","medal","third"]},"1f3c5":{code:"1f3c5",category:"activity",shortname:":medal:",name:"sports medal",keywords:["medal"]},"1f396":{code:"1f396",category:"activity",shortname:":military_medal:",name:"military medal",keywords:["celebration","medal","military"]},"1f3f5":{code:"1f3f5",category:"activity",shortname:":rosette:",name:"rosette",keywords:["plant"]},"1f397":{code:"1f397",category:"activity",shortname:":reminder_ribbon:",name:"reminder ribbon",keywords:["celebration","reminder","ribbon"]},"1f3ab":{code:"1f3ab",category:"activity",shortname:":ticket:",name:"ticket",keywords:["admission"]},"1f39f":{code:"1f39f",category:"activity",shortname:":tickets:",name:"admission tickets",keywords:["admission","ticket"]},"1f3aa":{code:"1f3aa",category:"activity",shortname:":circus_tent:",name:"circus tent",keywords:["circus","tent"]},"1f939-2640":{code:"1f939-2640",category:"activity",shortname:":woman_juggling:",name:"woman juggling",keywords:["juggling","multitask","woman"]},"1f939-2642":{code:"1f939-2642",category:"activity",shortname:":man_juggling:",name:"man juggling",keywords:["juggling","man","multitask"]},"1f3ad":{code:"1f3ad",category:"activity",shortname:":performing_arts:",name:"performing arts",keywords:["art","mask","performing","theater","theatre"]},"1f3a8":{code:"1f3a8",category:"activity",shortname:":art:",name:"artist palette",keywords:["art","museum","painting","palette"]},"1f3ac":{code:"1f3ac",category:"activity",shortname:":clapper:",name:"clapper board",keywords:["clapper","movie"]},"1f3a4":{code:"1f3a4",category:"activity",shortname:":microphone:",name:"microphone",keywords:["karaoke","mic"]},"1f3a7":{code:"1f3a7",category:"activity",shortname:":headphones:",name:"headphone",keywords:["earbud"]},"1f3bc":{code:"1f3bc",category:"activity",shortname:":musical_score:",name:"musical score",keywords:["music","score"]},"1f3b9":{code:"1f3b9",category:"activity",shortname:":musical_keyboard:",name:"musical keyboard",keywords:["instrument","keyboard","music","piano"]},"1f941":{code:"1f941",category:"activity",shortname:":drum:",name:"drum",keywords:["drum","drumsticks","music"]},"1f3b7":{code:"1f3b7",category:"activity",shortname:":saxophone:",name:"saxophone",keywords:["instrument","music","sax"]},"1f3ba":{code:"1f3ba",category:"activity",shortname:":trumpet:",name:"trumpet",keywords:["instrument","music"]},"1f3b8":{code:"1f3b8",category:"activity",shortname:":guitar:",name:"guitar",keywords:["instrument","music"]},"1f3bb":{code:"1f3bb",category:"activity",shortname:":violin:",name:"violin",keywords:["instrument","music"]},"1f3b2":{code:"1f3b2",category:"activity",shortname:":game_die:",name:"game die",keywords:["dice","die","game"]},"1f3af":{code:"1f3af",category:"activity",shortname:":dart:",name:"direct hit",keywords:["bull","bullseye","dart","eye","game","hit","target"]},"1f3b3":{code:"1f3b3",category:"activity",shortname:":bowling:",name:"bowling",keywords:["ball","game"]},"1f3ae":{code:"1f3ae",category:"activity",shortname:":video_game:",name:"video game",keywords:["controller","game"]},"1f3b0":{code:"1f3b0",category:"activity",shortname:":slot_machine:",name:"slot machine",keywords:["game","slot"]},"1f697":{code:"1f697",category:"travel",shortname:":red_car:",name:"automobile",keywords:["car"]},"1f695":{code:"1f695",category:"travel",shortname:":taxi:",name:"taxi",keywords:["vehicle"]},"1f699":{code:"1f699",category:"travel",shortname:":blue_car:",name:"sport utility vehicle",keywords:["recreational","sport utility"]},"1f68c":{code:"1f68c",category:"travel",shortname:":bus:",name:"bus",keywords:["vehicle"]},"1f68e":{code:"1f68e",category:"travel",shortname:":trolleybus:",name:"trolleybus",keywords:["bus","tram","trolley"]},"1f3ce":{code:"1f3ce",category:"travel",shortname:":race_car:",name:"racing car",keywords:["car","racing"]},"1f693":{code:"1f693",category:"travel",shortname:":police_car:",name:"police car",keywords:["car","patrol","police"]},"1f691":{code:"1f691",category:"travel",shortname:":ambulance:",name:"ambulance",keywords:["vehicle"]},"1f692":{code:"1f692",category:"travel",shortname:":fire_engine:",name:"fire engine",keywords:["engine","fire","truck"]},"1f690":{code:"1f690",category:"travel",shortname:":minibus:",name:"minibus",keywords:["bus"]},"1f69a":{code:"1f69a",category:"travel",shortname:":truck:",name:"delivery truck",keywords:["delivery","truck"]},"1f69b":{code:"1f69b",category:"travel",shortname:":articulated_lorry:",name:"articulated lorry",keywords:["lorry","semi","truck"]},"1f69c":{code:"1f69c",category:"travel",shortname:":tractor:",name:"tractor",keywords:["vehicle"]},"1f6f4":{code:"1f6f4",category:"travel",shortname:":scooter:",name:"kick scooter",keywords:["kick","scooter"]},"1f6b2":{code:"1f6b2",category:"travel",shortname:":bike:",name:"bicycle",keywords:["bike"]},"1f6f5":{code:"1f6f5",category:"travel",shortname:":motor_scooter:",name:"motor scooter",keywords:["motor","scooter"]},"1f3cd":{code:"1f3cd",category:"travel",shortname:":motorcycle:",name:"motorcycle",keywords:["racing"]},"1f6a8":{code:"1f6a8",category:"travel",shortname:":rotating_light:",name:"police car light",keywords:["beacon","car","light","police","revolving"]},"1f694":{code:"1f694",category:"travel",shortname:":oncoming_police_car:",name:"oncoming police car",keywords:["car","oncoming","police"]},"1f68d":{code:"1f68d",category:"travel",shortname:":oncoming_bus:",name:"oncoming bus",keywords:["bus","oncoming"]},"1f698":{code:"1f698",category:"travel",shortname:":oncoming_automobile:",name:"oncoming automobile",keywords:["automobile","car","oncoming"]},"1f696":{code:"1f696",category:"travel",shortname:":oncoming_taxi:",name:"oncoming taxi",keywords:["oncoming","taxi"]},"1f6a1":{code:"1f6a1",category:"travel",shortname:":aerial_tramway:",name:"aerial tramway",keywords:["aerial","cable","car","gondola","tramway"]},"1f6a0":{code:"1f6a0",category:"travel",shortname:":mountain_cableway:",name:"mountain cableway",keywords:["cable","gondola","mountain"]},"1f69f":{code:"1f69f",category:"travel",shortname:":suspension_railway:",name:"suspension railway",keywords:["railway","suspension"]},"1f683":{code:"1f683",category:"travel",shortname:":railway_car:",name:"railway car",keywords:["car","electric","railway","train","tram","trolleybus"]},"1f68b":{code:"1f68b",category:"travel",shortname:":train:",name:"tram car",keywords:["car","tram","trolleybus"]},"1f69e":{code:"1f69e",category:"travel",shortname:":mountain_railway:",name:"mountain railway",keywords:["car","mountain","railway"]},"1f69d":{code:"1f69d",category:"travel",shortname:":monorail:",name:"monorail",keywords:["vehicle"]},"1f684":{code:"1f684",category:"travel",shortname:":bullettrain_side:",name:"high-speed train",keywords:["railway","shinkansen","speed","train"]},"1f685":{code:"1f685",category:"travel",shortname:":bullettrain_front:",name:"bullet train",keywords:["bullet","railway","shinkansen","speed","train"]},"1f688":{code:"1f688",category:"travel",shortname:":light_rail:",name:"light rail",keywords:["railway"]},"1f682":{code:"1f682",category:"travel",shortname:":steam_locomotive:",name:"locomotive",keywords:["engine","railway","steam","train"]},"1f686":{code:"1f686",category:"travel",shortname:":train2:",name:"train",keywords:["railway"]},"1f687":{code:"1f687",category:"travel",shortname:":metro:",name:"metro",keywords:["subway"]},"1f68a":{code:"1f68a",category:"travel",shortname:":tram:",name:"tram",keywords:["trolleybus"]},"1f689":{code:"1f689",category:"travel",shortname:":station:",name:"station",keywords:["railway","train"]},2708:{code:"2708",category:"travel",shortname:":airplane:",name:"airplane",keywords:["aeroplane","airplane"]},"1f6eb":{code:"1f6eb",category:"travel",shortname:":airplane_departure:",name:"airplane departure",keywords:["aeroplane","airplane","check-in","departure","departures"]},"1f6ec":{code:"1f6ec",category:"travel",shortname:":airplane_arriving:",name:"airplane arrival",keywords:["aeroplane","airplane","arrivals","arriving","landing"]},"1f6e9":{code:"1f6e9",category:"travel",shortname:":airplane_small:",name:"small airplane",keywords:["aeroplane","airplane"]},"1f4ba":{code:"1f4ba",category:"travel",shortname:":seat:",name:"seat",keywords:["chair"]},"1f9f3":{code:"1f9f3",category:"travel",shortname:":luggage:",name:"luggage",keywords:[""]},"1f6f0":{code:"1f6f0",category:"travel",shortname:":satellite_orbital:",name:"satellite",keywords:["space"]},"1f680":{code:"1f680",category:"travel",shortname:":rocket:",name:"rocket",keywords:["space"]},"1f6f8":{code:"1f6f8",category:"travel",shortname:":flying_saucer:",name:"flying saucer",keywords:["UFO"]},"1f681":{code:"1f681",category:"travel",shortname:":helicopter:",name:"helicopter",keywords:["vehicle"]},"1f6f6":{code:"1f6f6",category:"travel",shortname:":canoe:",name:"canoe",keywords:["boat","canoe"]},"26f5":{code:"26f5",category:"travel",shortname:":sailboat:",name:"sailboat",keywords:["boat","resort","sea","yacht"]},"1f6a4":{code:"1f6a4",category:"travel",shortname:":speedboat:",name:"speedboat",keywords:["boat"]},"1f6e5":{code:"1f6e5",category:"travel",shortname:":motorboat:",name:"motor boat",keywords:["boat","motorboat"]},"1f6f3":{code:"1f6f3",category:"travel",shortname:":cruise_ship:",name:"passenger ship",keywords:["passenger","ship"]},"26f4":{code:"26f4",category:"travel",shortname:":ferry:",name:"ferry",keywords:["boat","passenger"]},"1f6a2":{code:"1f6a2",category:"travel",shortname:":ship:",name:"ship",keywords:["boat","passenger"]},2693:{code:"2693",category:"travel",shortname:":anchor:",name:"anchor",keywords:["ship","tool"]},"26fd":{code:"26fd",category:"travel",shortname:":fuelpump:",name:"fuel pump",keywords:["fuel","fuelpump","gas","pump","station"]},"1f6a7":{code:"1f6a7",category:"travel",shortname:":construction:",name:"construction",keywords:["barrier"]},"1f6a6":{code:"1f6a6",category:"travel",shortname:":vertical_traffic_light:",name:"vertical traffic light",keywords:["light","signal","traffic"]},"1f6a5":{code:"1f6a5",category:"travel",shortname:":traffic_light:",name:"horizontal traffic light",keywords:["light","signal","traffic"]},"1f68f":{code:"1f68f",category:"travel",shortname:":busstop:",name:"bus stop",keywords:["bus","busstop","stop"]},"1f5fa":{code:"1f5fa",category:"travel",shortname:":map:",name:"world map",keywords:["map","world"]},"1f5ff":{code:"1f5ff",category:"travel",shortname:":moyai:",name:"moai",keywords:["face","moyai","statue"]},"1f5fd":{code:"1f5fd",category:"travel",shortname:":statue_of_liberty:",name:"Statue of Liberty",keywords:["liberty","statue"]},"1f5fc":{code:"1f5fc",category:"travel",shortname:":tokyo_tower:",name:"Tokyo tower",keywords:["Tokyo","tower"]},"1f3f0":{code:"1f3f0",category:"travel",shortname:":european_castle:",name:"castle",keywords:["European"]},"1f3ef":{code:"1f3ef",category:"travel",shortname:":japanese_castle:",name:"Japanese castle",keywords:["Japanese","castle"]},"1f3df":{code:"1f3df",category:"travel",shortname:":stadium:",name:"stadium",keywords:["stadium"]},"1f3a1":{code:"1f3a1",category:"travel",shortname:":ferris_wheel:",name:"ferris wheel",keywords:["amusement park","ferris","wheel"]},"1f3a2":{code:"1f3a2",category:"travel",shortname:":roller_coaster:",name:"roller coaster",keywords:["amusement park","coaster","roller"]},"1f3a0":{code:"1f3a0",category:"travel",shortname:":carousel_horse:",name:"carousel horse",keywords:["carousel","horse"]},"26f2":{code:"26f2",category:"travel",shortname:":fountain:",name:"fountain",keywords:["fountain"]},"26f1":{code:"26f1",category:"travel",shortname:":beach_umbrella:",name:"umbrella on ground",keywords:["rain","sun","umbrella"]},"1f3d6":{code:"1f3d6",category:"travel",shortname:":beach:",name:"beach with umbrella",keywords:["beach","umbrella"]},"1f3dd":{code:"1f3dd",category:"travel",shortname:":island:",name:"desert island",keywords:["desert","island"]},"1f3dc":{code:"1f3dc",category:"travel",shortname:":desert:",name:"desert",keywords:["desert"]},"1f30b":{code:"1f30b",category:"travel",shortname:":volcano:",name:"volcano",keywords:["eruption","mountain"]},"26f0":{code:"26f0",category:"travel",shortname:":mountain:",name:"mountain",keywords:["mountain"]},"1f3d4":{code:"1f3d4",category:"travel",shortname:":mountain_snow:",name:"snow-capped mountain",keywords:["cold","mountain","snow"]},"1f5fb":{code:"1f5fb",category:"travel",shortname:":mount_fuji:",name:"mount fuji",keywords:["fuji","mountain"]},"1f3d5":{code:"1f3d5",category:"travel",shortname:":camping:",name:"camping",keywords:["camping"]},"26fa":{code:"26fa",category:"travel",shortname:":tent:",name:"tent",keywords:["camping"]},"1f3e0":{code:"1f3e0",category:"travel",shortname:":house:",name:"house",keywords:["home","house"]},"1f3e1":{code:"1f3e1",category:"travel",shortname:":house_with_garden:",name:"house with garden",keywords:["garden","home","house"]},"1f3d8":{code:"1f3d8",category:"travel",shortname:":homes:",name:"houses",keywords:["houses"]},"1f3da":{code:"1f3da",category:"travel",shortname:":house_abandoned:",name:"derelict house",keywords:["derelict","house"]},"1f3d7":{code:"1f3d7",category:"travel",shortname:":construction_site:",name:"building construction",keywords:["construction"]},"1f3ed":{code:"1f3ed",category:"travel",shortname:":factory:",name:"factory",keywords:["building"]},"1f3e2":{code:"1f3e2",category:"travel",shortname:":office:",name:"office building",keywords:["building"]},"1f3ec":{code:"1f3ec",category:"travel",shortname:":department_store:",name:"department store",keywords:["department","store"]},"1f3e3":{code:"1f3e3",category:"travel",shortname:":post_office:",name:"Japanese post office",keywords:["Japanese","post"]},"1f3e4":{code:"1f3e4",category:"travel",shortname:":european_post_office:",name:"post office",keywords:["European","post"]},"1f3e5":{code:"1f3e5",category:"travel",shortname:":hospital:",name:"hospital",keywords:["doctor","medicine"]},"1f3e6":{code:"1f3e6",category:"travel",shortname:":bank:",name:"bank",keywords:["building"]},"1f3e8":{code:"1f3e8",category:"travel",shortname:":hotel:",name:"hotel",keywords:["building"]},"1f3ea":{code:"1f3ea",category:"travel",shortname:":convenience_store:",name:"convenience store",keywords:["convenience","store"]},"1f3eb":{code:"1f3eb",category:"travel",shortname:":school:",name:"school",keywords:["building"]},"1f3e9":{code:"1f3e9",category:"travel",shortname:":love_hotel:",name:"love hotel",keywords:["hotel","love"]},"1f492":{code:"1f492",category:"travel",shortname:":wedding:",name:"wedding",keywords:["chapel","romance"]},"1f3db":{code:"1f3db",category:"travel",shortname:":classical_building:",name:"classical building",keywords:["classical"]},"26ea":{code:"26ea",category:"travel",shortname:":church:",name:"church",keywords:["Christian","cross","religion"]},"1f54c":{code:"1f54c",category:"travel",shortname:":mosque:",name:"mosque",keywords:["Muslim","islam","religion"]},"1f54d":{code:"1f54d",category:"travel",shortname:":synagogue:",name:"synagogue",keywords:["Jew","Jewish","religion","temple"]},"1f54b":{code:"1f54b",category:"travel",shortname:":kaaba:",name:"kaaba",keywords:["Muslim","islam","religion"]},"26e9":{code:"26e9",category:"travel",shortname:":shinto_shrine:",name:"shinto shrine",keywords:["religion","shinto","shrine"]},"1f6e4":{code:"1f6e4",category:"travel",shortname:":railway_track:",name:"railway track",keywords:["railway","train"]},"1f6e3":{code:"1f6e3",category:"travel",shortname:":motorway:",name:"motorway",keywords:["highway","road"]},"1f5fe":{code:"1f5fe",category:"travel",shortname:":japan:",name:"map of Japan",keywords:["Japan","map"]},"1f391":{code:"1f391",category:"travel",shortname:":rice_scene:",name:"moon viewing ceremony",keywords:["celebration","ceremony","moon"]},"1f3de":{code:"1f3de",category:"travel",shortname:":park:",name:"national park",keywords:["park"]},"1f305":{code:"1f305",category:"travel",shortname:":sunrise:",name:"sunrise",keywords:["morning","sun"]},"1f304":{code:"1f304",category:"travel",shortname:":sunrise_over_mountains:",name:"sunrise over mountains",keywords:["morning","mountain","sun","sunrise"]},"1f320":{code:"1f320",category:"travel",shortname:":stars:",name:"shooting star",keywords:["falling","shooting","star"]},"1f387":{code:"1f387",category:"travel",shortname:":sparkler:",name:"sparkler",keywords:["celebration","fireworks","sparkle"]},"1f386":{code:"1f386",category:"travel",shortname:":fireworks:",name:"fireworks",keywords:["celebration"]},"1f9e8":{code:"1f9e8",category:"travel",shortname:":firecracker:",name:"firecracker",keywords:[""]},"1f307":{code:"1f307",category:"travel",shortname:":city_sunset:",name:"sunset",keywords:["dusk","sun"]},"1f306":{code:"1f306",category:"travel",shortname:":city_dusk:",name:"cityscape at dusk",keywords:["city","dusk","evening","landscape","sun","sunset"]},"1f3d9":{code:"1f3d9",category:"travel",shortname:":cityscape:",name:"cityscape",keywords:["city"]},"1f303":{code:"1f303",category:"travel",shortname:":night_with_stars:",name:"night with stars",keywords:["night","star"]},"1f30c":{code:"1f30c",category:"travel",shortname:":milky_way:",name:"milky way",keywords:["space"]},"1f309":{code:"1f309",category:"travel",shortname:":bridge_at_night:",name:"bridge at night",keywords:["bridge","night"]},"1f301":{code:"1f301",category:"travel",shortname:":foggy:",name:"foggy",keywords:["fog"]},"231a":{code:"231a",category:"objects",shortname:":watch:",name:"watch",keywords:["clock"]},"1f4f1":{code:"1f4f1",category:"objects",shortname:":iphone:",name:"mobile phone",keywords:["cell","mobile","phone","telephone"]},"1f4f2":{code:"1f4f2",category:"objects",shortname:":calling:",name:"mobile phone with arrow",keywords:["arrow","call","cell","mobile","phone","receive","telephone"]},"1f4bb":{code:"1f4bb",category:"objects",shortname:":computer:",name:"laptop computer",keywords:["computer","pc","personal"]},2328:{code:"2328",category:"objects",shortname:":keyboard:",name:"keyboard",keywords:["computer"]},"1f5a5":{code:"1f5a5",category:"objects",shortname:":desktop:",name:"desktop computer",keywords:["computer","desktop"]},"1f5a8":{code:"1f5a8",category:"objects",shortname:":printer:",name:"printer",keywords:["computer"]},"1f5b1":{code:"1f5b1",category:"objects",shortname:":mouse_three_button:",name:"computer mouse",keywords:["computer"]},"1f5b2":{code:"1f5b2",category:"objects",shortname:":trackball:",name:"trackball",keywords:["computer"]},"1f579":{code:"1f579",category:"objects",shortname:":joystick:",name:"joystick",keywords:["game","video game"]},"265f":{code:"265f",category:"objects",shortname:":chess_pawn:",name:"chess pawn",keywords:[""]},"1f9e9":{code:"1f9e9",category:"objects",shortname:":jigsaw:",name:"jigsaw",keywords:[""]},"1f5dc":{code:"1f5dc",category:"objects",shortname:":compression:",name:"clamp",keywords:["compress","tool","vice"]},"1f4bd":{code:"1f4bd",category:"objects",shortname:":minidisc:",name:"computer disk",keywords:["computer","disk","minidisk","optical"]},"1f4be":{code:"1f4be",category:"objects",shortname:":floppy_disk:",name:"floppy disk",keywords:["computer","disk","floppy"]},"1f4bf":{code:"1f4bf",category:"objects",shortname:":cd:",name:"optical disk",keywords:["cd","computer","disk","optical"]},"1f4c0":{code:"1f4c0",category:"objects",shortname:":dvd:",name:"dvd",keywords:["blu-ray","computer","disk","dvd","optical"]},"1f4fc":{code:"1f4fc",category:"objects",shortname:":vhs:",name:"videocassette",keywords:["tape","vhs","video"]},"1f4f7":{code:"1f4f7",category:"objects",shortname:":camera:",name:"camera",keywords:["video"]},"1f4f8":{code:"1f4f8",category:"objects",shortname:":camera_with_flash:",name:"camera with flash",keywords:["camera","flash","video"]},"1f4f9":{code:"1f4f9",category:"objects",shortname:":video_camera:",name:"video camera",keywords:["camera","video"]},"1f3a5":{code:"1f3a5",category:"objects",shortname:":movie_camera:",name:"movie camera",keywords:["camera","cinema","movie"]},"1f4fd":{code:"1f4fd",category:"objects",shortname:":projector:",name:"film projector",keywords:["cinema","film","movie","projector","video"]},"1f39e":{code:"1f39e",category:"objects",shortname:":film_frames:",name:"film frames",keywords:["cinema","film","frames","movie"]},"1f4de":{code:"1f4de",category:"objects",shortname:":telephone_receiver:",name:"telephone receiver",keywords:["phone","receiver","telephone"]},"260e":{code:"260e",category:"objects",shortname:":telephone:",name:"telephone",keywords:["phone"]},"1f4df":{code:"1f4df",category:"objects",shortname:":pager:",name:"pager",keywords:["pager"]},"1f4e0":{code:"1f4e0",category:"objects",shortname:":fax:",name:"fax machine",keywords:["fax"]},"1f4fa":{code:"1f4fa",category:"objects",shortname:":tv:",name:"television",keywords:["tv","video"]},"1f4fb":{code:"1f4fb",category:"objects",shortname:":radio:",name:"radio",keywords:["video"]},"1f399":{code:"1f399",category:"objects",shortname:":microphone2:",name:"studio microphone",keywords:["mic","microphone","music","studio"]},"1f39a":{code:"1f39a",category:"objects",shortname:":level_slider:",name:"level slider",keywords:["level","music","slider"]},"1f39b":{code:"1f39b",category:"objects",shortname:":control_knobs:",name:"control knobs",keywords:["control","knobs","music"]},"23f1":{code:"23f1",category:"objects",shortname:":stopwatch:",name:"stopwatch",keywords:["clock"]},"23f2":{code:"23f2",category:"objects",shortname:":timer:",name:"timer clock",keywords:["clock","timer"]},"23f0":{code:"23f0",category:"objects",shortname:":alarm_clock:",name:"alarm clock",keywords:["alarm","clock"]},"1f570":{code:"1f570",category:"objects",shortname:":clock:",name:"mantelpiece clock",keywords:["clock"]},"231b":{code:"231b",category:"objects",shortname:":hourglass:",name:"hourglass done",keywords:["sand","timer"]},"23f3":{code:"23f3",category:"objects",shortname:":hourglass_flowing_sand:",name:"hourglass not done",keywords:["hourglass","sand","timer"]},"1f4e1":{code:"1f4e1",category:"objects",shortname:":satellite:",name:"satellite antenna",keywords:["antenna","dish","satellite"]},"1f9ed":{code:"1f9ed",category:"objects",shortname:":compass:",name:"compass",keywords:[""]},"1f50b":{code:"1f50b",category:"objects",shortname:":battery:",name:"battery",keywords:["battery"]},"1f50c":{code:"1f50c",category:"objects",shortname:":electric_plug:",name:"electric plug",keywords:["electric","electricity","plug"]},"1f9f2":{code:"1f9f2",category:"objects",shortname:":magnet:",name:"magnet",keywords:[""]},"1f4a1":{code:"1f4a1",category:"objects",shortname:":bulb:",name:"light bulb",keywords:["bulb","comic","electric","idea","light"]},"1f526":{code:"1f526",category:"objects",shortname:":flashlight:",name:"flashlight",keywords:["electric","light","tool","torch"]},"1f56f":{code:"1f56f",category:"objects",shortname:":candle:",name:"candle",keywords:["light"]},"1f9ef":{code:"1f9ef",category:"objects",shortname:":fire_extinguisher:",name:"fire extinguisher",keywords:[""]},"1f5d1":{code:"1f5d1",category:"objects",shortname:":wastebasket:",name:"wastebasket",keywords:["wastebasket"]},"1f6e2":{code:"1f6e2",category:"objects",shortname:":oil:",name:"oil drum",keywords:["drum","oil"]},"1f4b8":{code:"1f4b8",category:"objects",shortname:":money_with_wings:",name:"money with wings",keywords:["bank","banknote","bill","dollar","fly","money","note","wings"]},"1f4b5":{code:"1f4b5",category:"objects",shortname:":dollar:",name:"dollar banknote",keywords:["bank","banknote","bill","currency","dollar","money","note"]},"1f4b4":{code:"1f4b4",category:"objects",shortname:":yen:",name:"yen banknote",keywords:["bank","banknote","bill","currency","money","note","yen"]},"1f4b6":{code:"1f4b6",category:"objects",shortname:":euro:",name:"euro banknote",keywords:["bank","banknote","bill","currency","euro","money","note"]},"1f4b7":{code:"1f4b7",category:"objects",shortname:":pound:",name:"pound banknote",keywords:["bank","banknote","bill","currency","money","note","pound"]},"1f4b0":{code:"1f4b0",category:"objects",shortname:":moneybag:",name:"money bag",keywords:["bag","dollar","money","moneybag"]},"1f4b3":{code:"1f4b3",category:"objects",shortname:":credit_card:",name:"credit card",keywords:["bank","card","credit","money"]},"1f48e":{code:"1f48e",category:"objects",shortname:":gem:",name:"gem stone",keywords:["diamond","gem","jewel"]},"1f9ff":{code:"1f9ff",category:"objects",shortname:":nazar_amulet:",name:"nazar amulet",keywords:[""]},"1f9f1":{code:"1f9f1",category:"objects",shortname:":bricks:",name:"bricks",keywords:[""]},2696:{code:"2696",category:"objects",shortname:":scales:",name:"balance scale",keywords:["Libra","balance","justice","scales","tool","weight","zodiac"]},"1f9f0":{code:"1f9f0",category:"objects",shortname:":toolbox:",name:"toolbox",keywords:[""]},"1f527":{code:"1f527",category:"objects",shortname:":wrench:",name:"wrench",keywords:["spanner","tool","wrench"]},"1f528":{code:"1f528",category:"objects",shortname:":hammer:",name:"hammer",keywords:["tool"]},2692:{code:"2692",category:"objects",shortname:":hammer_pick:",name:"hammer and pick",keywords:["hammer","pick","tool"]},"1f6e0":{code:"1f6e0",category:"objects",shortname:":tools:",name:"hammer and wrench",keywords:["hammer","spanner","tool","wrench"]},"26cf":{code:"26cf",category:"objects",shortname:":pick:",name:"pick",keywords:["mining","tool"]},"1f529":{code:"1f529",category:"objects",shortname:":nut_and_bolt:",name:"nut and bolt",keywords:["bolt","nut","tool"]},2699:{code:"2699",category:"objects",shortname:":gear:",name:"gear",keywords:["tool"]},"26d3":{code:"26d3",category:"objects",shortname:":chains:",name:"chains",keywords:["chain"]},"1f52a":{code:"1f52a",category:"objects",shortname:":knife:",name:"kitchen knife",keywords:["cooking","hocho","knife","tool","weapon"]},"1f5e1":{code:"1f5e1",category:"objects",shortname:":dagger:",name:"dagger",keywords:["knife","weapon"]},2694:{code:"2694",category:"objects",shortname:":crossed_swords:",name:"crossed swords",keywords:["crossed","swords","weapon"]},"1f6e1":{code:"1f6e1",category:"objects",shortname:":shield:",name:"shield",keywords:["weapon"]},"26b0":{code:"26b0",category:"objects",shortname:":coffin:",name:"coffin",keywords:["death"]},"26b1":{code:"26b1",category:"objects",shortname:":urn:",name:"funeral urn",keywords:["ashes","death","funeral","urn"]},"1f3fa":{code:"1f3fa",category:"objects",shortname:":amphora:",name:"amphora",keywords:["Aquarius","cooking","drink","jug","tool","weapon","zodiac"]},"1f52e":{code:"1f52e",category:"objects",shortname:":crystal_ball:",name:"crystal ball",keywords:["ball","crystal","fairy tale","fantasy","fortune","tool"]},"1f4ff":{code:"1f4ff",category:"objects",shortname:":prayer_beads:",name:"prayer beads",keywords:["beads","clothing","necklace","prayer","religion"]},"1f488":{code:"1f488",category:"objects",shortname:":barber:",name:"barber pole",keywords:["barber","haircut","pole"]},2697:{code:"2697",category:"objects",shortname:":alembic:",name:"alembic",keywords:["chemistry","tool"]},"1f9ea":{code:"1f9ea",category:"objects",shortname:":test_tube:",name:"test tube",keywords:[""]},"1f9eb":{code:"1f9eb",category:"objects",shortname:":petri_dish:",name:"petri dish",keywords:[""]},"1f9ec":{code:"1f9ec",category:"objects",shortname:":dna:",name:"dna",keywords:[""]},"1f9ee":{code:"1f9ee",category:"objects",shortname:":abacus:",name:"abacus",keywords:[""]},"1f52d":{code:"1f52d",category:"objects",shortname:":telescope:",name:"telescope",keywords:["science","tool"]},"1f52c":{code:"1f52c",category:"objects",shortname:":microscope:",name:"microscope",keywords:["science","tool"]},"1f573":{code:"1f573",category:"objects",shortname:":hole:",name:"hole",keywords:["hole"]},"1f48a":{code:"1f48a",category:"objects",shortname:":pill:",name:"pill",keywords:["doctor","medicine","sick"]},"1f489":{code:"1f489",category:"objects",shortname:":syringe:",name:"syringe",keywords:["doctor","medicine","needle","shot","sick","tool"]},"1f321":{code:"1f321",category:"objects",shortname:":thermometer:",name:"thermometer",keywords:["weather"]},"1f6bd":{code:"1f6bd",category:"objects",shortname:":toilet:",name:"toilet",keywords:["toilet"]},"1f6b0":{code:"1f6b0",category:"objects",shortname:":potable_water:",name:"potable water",keywords:["drinking","potable","water"]},"1f6bf":{code:"1f6bf",category:"objects",shortname:":shower:",name:"shower",keywords:["water"]},"1f6c1":{code:"1f6c1",category:"objects",shortname:":bathtub:",name:"bathtub",keywords:["bath"]},"1f6c0":{code:"1f6c0",category:"objects",shortname:":bath:",name:"person taking bath",keywords:["bath","bathtub"]},"1f9f9":{code:"1f9f9",category:"objects",shortname:":broom:",name:"broom",keywords:[""]},"1f9fa":{code:"1f9fa",category:"objects",shortname:":basket:",name:"basket",keywords:[""]},"1f9fb":{code:"1f9fb",category:"objects",shortname:":roll_of_paper:",name:"roll of paper",keywords:[""]},"1f9fc":{code:"1f9fc",category:"objects",shortname:":soap:",name:"soap",keywords:[""]},"1f9fd":{code:"1f9fd",category:"objects",shortname:":sponge:",name:"sponge",keywords:[""]},"1f9f4":{code:"1f9f4",category:"objects",shortname:":squeeze_bottle:",name:"squeeze bottle",keywords:[""]},"1f9f5":{code:"1f9f5",category:"objects",shortname:":thread:",name:"thread",keywords:[""]},"1f9f6":{code:"1f9f6",category:"objects",shortname:":yarn:",name:"yarn",keywords:[""]},"1f6ce":{code:"1f6ce",category:"objects",shortname:":bellhop:",name:"bellhop bell",keywords:["bell","bellhop","hotel"]},"1f511":{code:"1f511",category:"objects",shortname:":key:",name:"key",keywords:["lock","password"]},"1f5dd":{code:"1f5dd",category:"objects",shortname:":key2:",name:"old key",keywords:["clue","key","lock","old"]},"1f6aa":{code:"1f6aa",category:"objects",shortname:":door:",name:"door",keywords:["door"]},"1f6cb":{code:"1f6cb",category:"objects",shortname:":couch:",name:"couch and lamp",keywords:["couch","hotel","lamp"]},"1f6cf":{code:"1f6cf",category:"objects",shortname:":bed:",name:"bed",keywords:["hotel","sleep"]},"1f6cc":{code:"1f6cc",category:"objects",shortname:":sleeping_accommodation:",name:"person in bed",keywords:["hotel","sleep"]},"1f9f8":{code:"1f9f8",category:"objects",shortname:":teddy_bear:",name:"teddy bear",keywords:[""]},"1f5bc":{code:"1f5bc",category:"objects",shortname:":frame_photo:",name:"framed picture",keywords:["art","frame","museum","painting","picture"]},"1f6cd":{code:"1f6cd",category:"objects",shortname:":shopping_bags:",name:"shopping bags",keywords:["bag","hotel","shopping"]},"1f6d2":{code:"1f6d2",category:"objects",shortname:":shopping_cart:",name:"shopping cart",keywords:["cart","shopping","trolley"]},"1f381":{code:"1f381",category:"objects",shortname:":gift:",name:"wrapped gift",keywords:["box","celebration","gift","present","wrapped"]},"1f388":{code:"1f388",category:"objects",shortname:":balloon:",name:"balloon",keywords:["celebration"]},"1f38f":{code:"1f38f",category:"objects",shortname:":flags:",name:"carp streamer",keywords:["carp","celebration","streamer"]},"1f380":{code:"1f380",category:"objects",shortname:":ribbon:",name:"ribbon",keywords:["celebration"]},"1f38a":{code:"1f38a",category:"objects",shortname:":confetti_ball:",name:"confetti ball",keywords:["ball","celebration","confetti"]},"1f389":{code:"1f389",category:"objects",shortname:":tada:",name:"party popper",keywords:["celebration","party","popper","tada"]},"1f38e":{code:"1f38e",category:"objects",shortname:":dolls:",name:"Japanese dolls",keywords:["Japanese","celebration","doll","festival"]},"1f3ee":{code:"1f3ee",category:"objects",shortname:":izakaya_lantern:",name:"red paper lantern",keywords:["bar","lantern","light","red"]},"1f390":{code:"1f390",category:"objects",shortname:":wind_chime:",name:"wind chime",keywords:["bell","celebration","chime","wind"]},"1f9e7":{code:"1f9e7",category:"objects",shortname:":red_envelope:",name:"red envelope",keywords:[""]},2709:{code:"2709",category:"objects",shortname:":envelope:",name:"envelope",keywords:["email","letter"]},"1f4e9":{code:"1f4e9",category:"objects",shortname:":envelope_with_arrow:",name:"envelope with arrow",keywords:["arrow","down","e-mail","email","envelope","letter","mail","outgoing","sent"]},"1f4e8":{code:"1f4e8",category:"objects",shortname:":incoming_envelope:",name:"incoming envelope",keywords:["e-mail","email","envelope","incoming","letter","mail","receive"]},"1f4e7":{code:"1f4e7",category:"objects",shortname:":e-mail:",name:"e-mail",keywords:["email","letter","mail"]},"1f48c":{code:"1f48c",category:"objects",shortname:":love_letter:",name:"love letter",keywords:["heart","letter","love","mail"]},"1f4e5":{code:"1f4e5",category:"objects",shortname:":inbox_tray:",name:"inbox tray",keywords:["box","inbox","letter","mail","receive","tray"]},"1f4e4":{code:"1f4e4",category:"objects",shortname:":outbox_tray:",name:"outbox tray",keywords:["box","letter","mail","outbox","sent","tray"]},"1f4e6":{code:"1f4e6",category:"objects",shortname:":package:",name:"package",keywords:["box","parcel"]},"1f3f7":{code:"1f3f7",category:"objects",shortname:":label:",name:"label",keywords:["label"]},"1f4ea":{code:"1f4ea",category:"objects",shortname:":mailbox_closed:",name:"closed mailbox with lowered flag",keywords:["closed","lowered","mail","mailbox","postbox"]},"1f4eb":{code:"1f4eb",category:"objects",shortname:":mailbox:",name:"closed mailbox with raised flag",keywords:["closed","mail","mailbox","postbox"]},"1f4ec":{code:"1f4ec",category:"objects",shortname:":mailbox_with_mail:",name:"open mailbox with raised flag",keywords:["mail","mailbox","open","postbox"]},"1f4ed":{code:"1f4ed",category:"objects",shortname:":mailbox_with_no_mail:",name:"open mailbox with lowered flag",keywords:["lowered","mail","mailbox","open","postbox"]},"1f4ee":{code:"1f4ee",category:"objects",shortname:":postbox:",name:"postbox",keywords:["mail","mailbox"]},"1f4ef":{code:"1f4ef",category:"objects",shortname:":postal_horn:",name:"postal horn",keywords:["horn","post","postal"]},"1f4dc":{code:"1f4dc",category:"objects",shortname:":scroll:",name:"scroll",keywords:["paper"]},"1f4c3":{code:"1f4c3",category:"objects",shortname:":page_with_curl:",name:"page with curl",keywords:["curl","document","page"]},"1f4c4":{code:"1f4c4",category:"objects",shortname:":page_facing_up:",name:"page facing up",keywords:["document","page"]},"1f9fe":{code:"1f9fe",category:"objects",shortname:":receipt:",name:"receipt",keywords:[""]},"1f4d1":{code:"1f4d1",category:"objects",shortname:":bookmark_tabs:",name:"bookmark tabs",keywords:["bookmark","mark","marker","tabs"]},"1f4ca":{code:"1f4ca",category:"objects",shortname:":bar_chart:",name:"bar chart",keywords:["bar","chart","graph"]},"1f4c8":{code:"1f4c8",category:"objects",shortname:":chart_with_upwards_trend:",name:"chart increasing",keywords:["chart","graph","growth","trend","upward"]},"1f4c9":{code:"1f4c9",category:"objects",shortname:":chart_with_downwards_trend:",name:"chart decreasing",keywords:["chart","down","graph","trend"]},"1f5d2":{code:"1f5d2",category:"objects",shortname:":notepad_spiral:",name:"spiral notepad",keywords:["note","pad","spiral"]},"1f5d3":{code:"1f5d3",category:"objects",shortname:":calendar_spiral:",name:"spiral calendar",keywords:["calendar","pad","spiral"]},"1f4c6":{code:"1f4c6",category:"objects",shortname:":calendar:",name:"tear-off calendar",keywords:["calendar"]},"1f4c5":{code:"1f4c5",category:"objects",shortname:":date:",name:"calendar",keywords:["date"]},"1f4c7":{code:"1f4c7",category:"objects",shortname:":card_index:",name:"card index",keywords:["card","index","rolodex"]},"1f5c3":{code:"1f5c3",category:"objects",shortname:":card_box:",name:"card file box",keywords:["box","card","file"]},"1f5f3":{code:"1f5f3",category:"objects",shortname:":ballot_box:",name:"ballot box with ballot",keywords:["ballot","box"]},"1f5c4":{code:"1f5c4",category:"objects",shortname:":file_cabinet:",name:"file cabinet",keywords:["cabinet","file","filing"]},"1f4cb":{code:"1f4cb",category:"objects",shortname:":clipboard:",name:"clipboard",keywords:["clipboard"]},"1f4c1":{code:"1f4c1",category:"objects",shortname:":file_folder:",name:"file folder",keywords:["file","folder"]},"1f4c2":{code:"1f4c2",category:"objects",shortname:":open_file_folder:",name:"open file folder",keywords:["file","folder","open"]},"1f5c2":{code:"1f5c2",category:"objects",shortname:":dividers:",name:"card index dividers",keywords:["card","dividers","index"]},"1f5de":{code:"1f5de",category:"objects",shortname:":newspaper2:",name:"rolled-up newspaper",keywords:["news","newspaper","paper","rolled"]},"1f4f0":{code:"1f4f0",category:"objects",shortname:":newspaper:",name:"newspaper",keywords:["news","paper"]},"1f4d3":{code:"1f4d3",category:"objects",shortname:":notebook:",name:"notebook",keywords:["notebook"]},"1f4d4":{code:"1f4d4",category:"objects",shortname:":notebook_with_decorative_cover:",name:"notebook with decorative cover",keywords:["book","cover","decorated","notebook"]},"1f4d2":{code:"1f4d2",category:"objects",shortname:":ledger:",name:"ledger",keywords:["notebook"]},"1f4d5":{code:"1f4d5",category:"objects",shortname:":closed_book:",name:"closed book",keywords:["book","closed"]},"1f4d7":{code:"1f4d7",category:"objects",shortname:":green_book:",name:"green book",keywords:["book","green"]},"1f4d8":{code:"1f4d8",category:"objects",shortname:":blue_book:",name:"blue book",keywords:["blue","book"]},"1f4d9":{code:"1f4d9",category:"objects",shortname:":orange_book:",name:"orange book",keywords:["book","orange"]},"1f4da":{code:"1f4da",category:"objects",shortname:":books:",name:"books",keywords:["book"]},"1f4d6":{code:"1f4d6",category:"objects",shortname:":book:",name:"open book",keywords:["book","open"]},"1f516":{code:"1f516",category:"objects",shortname:":bookmark:",name:"bookmark",keywords:["mark"]},"1f517":{code:"1f517",category:"objects",shortname:":link:",name:"link",keywords:["link"]},"1f4ce":{code:"1f4ce",category:"objects",shortname:":paperclip:",name:"paperclip",keywords:["paperclip"]},"1f587":{code:"1f587",category:"objects",shortname:":paperclips:",name:"linked paperclips",keywords:["link","paperclip"]},"1f4d0":{code:"1f4d0",category:"objects",shortname:":triangular_ruler:",name:"triangular ruler",keywords:["ruler","set","triangle"]},"1f4cf":{code:"1f4cf",category:"objects",shortname:":straight_ruler:",name:"straight ruler",keywords:["ruler","straight edge"]},"1f9f7":{code:"1f9f7",category:"objects",shortname:":safety_pin:",name:"safety pin",keywords:[""]},"1f4cc":{code:"1f4cc",category:"objects",shortname:":pushpin:",name:"pushpin",keywords:["pin"]},"1f4cd":{code:"1f4cd",category:"objects",shortname:":round_pushpin:",name:"round pushpin",keywords:["pin","pushpin"]},2702:{code:"2702",category:"objects",shortname:":scissors:",name:"scissors",keywords:["cutting","tool"]},"1f58a":{code:"1f58a",category:"objects",shortname:":pen_ballpoint:",name:"pen",keywords:["ballpoint"]},"1f58b":{code:"1f58b",category:"objects",shortname:":pen_fountain:",name:"fountain pen",keywords:["fountain","pen"]},2712:{code:"2712",category:"objects",shortname:":black_nib:",name:"black nib",keywords:["nib","pen"]},"1f58c":{code:"1f58c",category:"objects",shortname:":paintbrush:",name:"paintbrush",keywords:["painting"]},"1f58d":{code:"1f58d",category:"objects",shortname:":crayon:",name:"crayon",keywords:["crayon"]},"1f4dd":{code:"1f4dd",category:"objects",shortname:":pencil:",name:"memo",keywords:["pencil"]},"270f":{code:"270f",category:"objects",shortname:":pencil2:",name:"pencil",keywords:["pencil"]},"1f50d":{code:"1f50d",category:"objects",shortname:":mag:",name:"magnifying glass tilted left",keywords:["glass","magnifying","search","tool"]},"1f50e":{code:"1f50e",category:"objects",shortname:":mag_right:",name:"magnifying glass tilted right",keywords:["glass","magnifying","search","tool"]},"1f50f":{code:"1f50f",category:"objects",shortname:":lock_with_ink_pen:",name:"locked with pen",keywords:["ink","lock","nib","pen","privacy"]},"1f510":{code:"1f510",category:"objects",shortname:":closed_lock_with_key:",name:"locked with key",keywords:["closed","key","lock","secure"]},"1f512":{code:"1f512",category:"objects",shortname:":lock:",name:"locked",keywords:["closed"]},"1f513":{code:"1f513",category:"objects",shortname:":unlock:",name:"unlocked",keywords:["lock","open","unlock"]},2764:{code:"2764",category:"symbols",shortname:":heart:",name:"red heart",keywords:["heart"]},"1f9e1":{code:"1f9e1",category:"symbols",shortname:":orange_heart:",name:"orange heart",keywords:["orange"]},"1f49b":{code:"1f49b",category:"symbols",shortname:":yellow_heart:",name:"yellow heart",keywords:["yellow"]},"1f49a":{code:"1f49a",category:"symbols",shortname:":green_heart:",name:"green heart",keywords:["green"]},"1f499":{code:"1f499",category:"symbols",shortname:":blue_heart:",name:"blue heart",keywords:["blue"]},"1f49c":{code:"1f49c",category:"symbols",shortname:":purple_heart:",name:"purple heart",keywords:["purple"]},"1f5a4":{code:"1f5a4",category:"symbols",shortname:":black_heart:",name:"black heart",keywords:["black","evil","wicked"]},"1f494":{code:"1f494",category:"symbols",shortname:":broken_heart:",name:"broken heart",keywords:["break","broken"]},2763:{code:"2763",category:"symbols",shortname:":heart_exclamation:",name:"heavy heart exclamation",keywords:["exclamation","mark","punctuation"]},"1f495":{code:"1f495",category:"symbols",shortname:":two_hearts:",name:"two hearts",keywords:["love"]},"1f49e":{code:"1f49e",category:"symbols",shortname:":revolving_hearts:",name:"revolving hearts",keywords:["revolving"]},"1f493":{code:"1f493",category:"symbols",shortname:":heartbeat:",name:"beating heart",keywords:["beating","heartbeat","pulsating"]},"1f497":{code:"1f497",category:"symbols",shortname:":heartpulse:",name:"growing heart",keywords:["excited","growing","nervous","pulse"]},"1f496":{code:"1f496",category:"symbols",shortname:":sparkling_heart:",name:"sparkling heart",keywords:["excited","sparkle"]},"1f498":{code:"1f498",category:"symbols",shortname:":cupid:",name:"heart with arrow",keywords:["arrow","cupid"]},"1f49d":{code:"1f49d",category:"symbols",shortname:":gift_heart:",name:"heart with ribbon",keywords:["ribbon","valentine"]},"1f49f":{code:"1f49f",category:"symbols",shortname:":heart_decoration:",name:"heart decoration",keywords:["heart"]},"262e":{code:"262e",category:"symbols",shortname:":peace:",name:"peace symbol",keywords:["peace"]},"271d":{code:"271d",category:"symbols",shortname:":cross:",name:"latin cross",keywords:["Christian","cross","religion"]},"262a":{code:"262a",category:"symbols",shortname:":star_and_crescent:",name:"star and crescent",keywords:["Muslim","islam","religion"]},"1f549":{code:"1f549",category:"symbols",shortname:":om_symbol:",name:"om",keywords:["Hindu","religion"]},2638:{code:"2638",category:"symbols",shortname:":wheel_of_dharma:",name:"wheel of dharma",keywords:["Buddhist","dharma","religion","wheel"]},2721:{code:"2721",category:"symbols",shortname:":star_of_david:",name:"star of David",keywords:["David","Jew","Jewish","religion","star"]},"1f52f":{code:"1f52f",category:"symbols",shortname:":six_pointed_star:",name:"dotted six-pointed star",keywords:["fortune","star"]},"1f54e":{code:"1f54e",category:"symbols",shortname:":menorah:",name:"menorah",keywords:["candelabrum","candlestick","religion"]},"262f":{code:"262f",category:"symbols",shortname:":yin_yang:",name:"yin yang",keywords:["religion","tao","taoist","yang","yin"]},2626:{code:"2626",category:"symbols",shortname:":orthodox_cross:",name:"orthodox cross",keywords:["Christian","cross","religion"]},"1f6d0":{code:"1f6d0",category:"symbols",shortname:":place_of_worship:",name:"place of worship",keywords:["religion","worship"]},"26ce":{code:"26ce",category:"symbols",shortname:":ophiuchus:",name:"Ophiuchus",keywords:["bearer","serpent","snake","zodiac"]},2648:{code:"2648",category:"symbols",shortname:":aries:",name:"Aries",keywords:["ram","zodiac"]},2649:{code:"2649",category:"symbols",shortname:":taurus:",name:"Taurus",keywords:["bull","ox","zodiac"]},"264a":{code:"264a",category:"symbols",shortname:":gemini:",name:"Gemini",keywords:["twins","zodiac"]},"264b":{code:"264b",category:"symbols",shortname:":cancer:",name:"Cancer",keywords:["crab","zodiac"]},"264c":{code:"264c",category:"symbols",shortname:":leo:",name:"Leo",keywords:["lion","zodiac"]},"264d":{code:"264d",category:"symbols",shortname:":virgo:",name:"Virgo",keywords:["zodiac"]},"264e":{code:"264e",category:"symbols",shortname:":libra:",name:"Libra",keywords:["balance","justice","scales","zodiac"]},"264f":{code:"264f",category:"symbols",shortname:":scorpius:",name:"Scorpio",keywords:["scorpio","scorpion","zodiac"]},2650:{code:"2650",category:"symbols",shortname:":sagittarius:",name:"Sagittarius",keywords:["archer","zodiac"]},2651:{code:"2651",category:"symbols",shortname:":capricorn:",name:"Capricorn",keywords:["goat","zodiac"]},2652:{code:"2652",category:"symbols",shortname:":aquarius:",name:"Aquarius",keywords:["bearer","water","zodiac"]},2653:{code:"2653",category:"symbols",shortname:":pisces:",name:"Pisces",keywords:["fish","zodiac"]},"1f194":{code:"1f194",category:"symbols",shortname:":id:",name:"ID button",keywords:["id","identity"]},"269b":{code:"269b",category:"symbols",shortname:":atom:",name:"atom symbol",keywords:["atheist","atom"]},"267e":{code:"267e",category:"symbols",shortname:":infinity:",name:"infinity",keywords:[""]},"1f251":{code:"1f251",category:"symbols",shortname:":accept:",name:"Japanese \u201cacceptable\u201d button",keywords:["Japanese","ideograph","\u201cacceptable\u201d","\u53ef"]},2622:{code:"2622",category:"symbols",shortname:":radioactive:",name:"radioactive",keywords:["radioactive","sign"]},2623:{code:"2623",category:"symbols",shortname:":biohazard:",name:"biohazard",keywords:["biohazard","sign"]},"1f4f4":{code:"1f4f4",category:"symbols",shortname:":mobile_phone_off:",name:"mobile phone off",keywords:["cell","mobile","off","phone","telephone"]},"1f4f3":{code:"1f4f3",category:"symbols",shortname:":vibration_mode:",name:"vibration mode",keywords:["cell","mobile","mode","phone","telephone","vibration"]},"1f236":{code:"1f236",category:"symbols",shortname:":u6709:",name:"Japanese \u201cnot free of charge\u201d button",keywords:["Japanese","ideograph","\u201cnot free of charge\u201d","\u6709"]},"1f21a":{code:"1f21a",category:"symbols",shortname:":u7121:",name:"Japanese \u201cfree of charge\u201d button",keywords:["Japanese","ideograph","\u201cfree of charge\u201d","\u7121"]},"1f238":{code:"1f238",category:"symbols",shortname:":u7533:",name:"Japanese \u201capplication\u201d button",keywords:["Japanese","ideograph","\u201capplication\u201d","\u7533"]},"1f23a":{code:"1f23a",category:"symbols",shortname:":u55b6:",name:"Japanese \u201copen for business\u201d button",keywords:["Japanese","ideograph","\u201copen for business\u201d","\u55b6"]},"1f237":{code:"1f237",category:"symbols",shortname:":u6708:",name:"Japanese \u201cmonthly amount\u201d button",keywords:["Japanese","ideograph","\u201cmonthly amount\u201d","\u6708"]},2734:{code:"2734",category:"symbols",shortname:":eight_pointed_black_star:",name:"eight-pointed star",keywords:["star"]},"1f19a":{code:"1f19a",category:"symbols",shortname:":vs:",name:"VS button",keywords:["versus","vs"]},"1f4ae":{code:"1f4ae",category:"symbols",shortname:":white_flower:",name:"white flower",keywords:["flower"]},"1f250":{code:"1f250",category:"symbols",shortname:":ideograph_advantage:",name:"Japanese \u201cbargain\u201d button",keywords:["Japanese","ideograph","\u201cbargain\u201d","\u5f97"]},3299:{code:"3299",category:"symbols",shortname:":secret:",name:"Japanese \u201csecret\u201d button",keywords:["Japanese","ideograph","\u201csecret\u201d","\u79d8"]},3297:{code:"3297",category:"symbols",shortname:":congratulations:",name:"Japanese \u201ccongratulations\u201d button",keywords:["Japanese","ideograph","\u201ccongratulations\u201d","\u795d"]},"1f234":{code:"1f234",category:"symbols",shortname:":u5408:",name:"Japanese \u201cpassing grade\u201d button",keywords:["Japanese","ideograph","\u201cpassing grade\u201d","\u5408"]},"1f235":{code:"1f235",category:"symbols",shortname:":u6e80:",name:"Japanese \u201cno vacancy\u201d button",keywords:["Japanese","ideograph","\u201cno vacancy\u201d","\u6e80"]},"1f239":{code:"1f239",category:"symbols",shortname:":u5272:",name:"Japanese \u201cdiscount\u201d button",keywords:["Japanese","ideograph","\u201cdiscount\u201d","\u5272"]},"1f232":{code:"1f232",category:"symbols",shortname:":u7981:",name:"Japanese \u201cprohibited\u201d button",keywords:["Japanese","ideograph","\u201cprohibited\u201d","\u7981"]},"1f170":{code:"1f170",category:"symbols",shortname:":a:",name:"A button (blood type)",keywords:["a","blood type"]},"1f171":{code:"1f171",category:"symbols",shortname:":b:",name:"B button (blood type)",keywords:["b","blood type"]},"1f18e":{code:"1f18e",category:"symbols",shortname:":ab:",name:"AB button (blood type)",keywords:["ab","blood type"]},"1f191":{code:"1f191",category:"symbols",shortname:":cl:",name:"CL button",keywords:["cl"]},"1f17e":{code:"1f17e",category:"symbols",shortname:":o2:",name:"O button (blood type)",keywords:["blood type","o"]},"1f198":{code:"1f198",category:"symbols",shortname:":sos:",name:"SOS button",keywords:["help","sos"]},"274c":{code:"274c",category:"symbols",shortname:":x:",name:"cross mark",keywords:["cancel","mark","multiplication","multiply","x"]},"2b55":{code:"2b55",category:"symbols",shortname:":o:",name:"heavy large circle",keywords:["circle","o"]},"1f6d1":{code:"1f6d1",category:"symbols",shortname:":octagonal_sign:",name:"stop sign",keywords:["octagonal","sign","stop"]},"26d4":{code:"26d4",category:"symbols",shortname:":no_entry:",name:"no entry",keywords:["entry","forbidden","no","not","prohibited","traffic"]},"1f4db":{code:"1f4db",category:"symbols",shortname:":name_badge:",name:"name badge",keywords:["badge","name"]},"1f6ab":{code:"1f6ab",category:"symbols",shortname:":no_entry_sign:",name:"prohibited",keywords:["entry","forbidden","no","not"]},"1f4af":{code:"1f4af",category:"symbols",shortname:":100:",name:"hundred points",keywords:["100","full","hundred","score"]},"1f4a2":{code:"1f4a2",category:"symbols",shortname:":anger:",name:"anger symbol",keywords:["angry","comic","mad"]},2668:{code:"2668",category:"symbols",shortname:":hotsprings:",name:"hot springs",keywords:["hot","hotsprings","springs","steaming"]},"1f6b7":{code:"1f6b7",category:"symbols",shortname:":no_pedestrians:",name:"no pedestrians",keywords:["forbidden","no","not","pedestrian","prohibited"]},"1f6af":{code:"1f6af",category:"symbols",shortname:":do_not_litter:",name:"no littering",keywords:["forbidden","litter","no","not","prohibited"]},"1f6b3":{code:"1f6b3",category:"symbols",shortname:":no_bicycles:",name:"no bicycles",keywords:["bicycle","bike","forbidden","no","not","prohibited"]},"1f6b1":{code:"1f6b1",category:"symbols",shortname:":non-potable_water:",name:"non-potable water",keywords:["non-drinking","non-potable","water"]},"1f51e":{code:"1f51e",category:"symbols",shortname:":underage:",name:"no one under eighteen",keywords:["18","age restriction","eighteen","forbidden","no","not","prohibited","underage"]},"1f4f5":{code:"1f4f5",category:"symbols",shortname:":no_mobile_phones:",name:"no mobile phones",keywords:["cell","forbidden","mobile","no","not","phone","prohibited","telephone"]},"1f6ad":{code:"1f6ad",category:"symbols",shortname:":no_smoking:",name:"no smoking",keywords:["forbidden","no","not","prohibited","smoking"]},2757:{code:"2757",category:"symbols",shortname:":exclamation:",name:"exclamation mark",keywords:["exclamation","mark","punctuation"]},2755:{code:"2755",category:"symbols",shortname:":grey_exclamation:",name:"white exclamation mark",keywords:["exclamation","mark","outlined","punctuation"]},2753:{code:"2753",category:"symbols",shortname:":question:",name:"question mark",keywords:["mark","punctuation","question"]},2754:{code:"2754",category:"symbols",shortname:":grey_question:",name:"white question mark",keywords:["mark","outlined","punctuation","question"]},"203c":{code:"203c",category:"symbols",shortname:":bangbang:",name:"double exclamation mark",keywords:["bangbang","exclamation","mark","punctuation"]},2049:{code:"2049",category:"symbols",shortname:":interrobang:",name:"exclamation question mark",keywords:["exclamation","interrobang","mark","punctuation","question"]},"1f505":{code:"1f505",category:"symbols",shortname:":low_brightness:",name:"dim button",keywords:["brightness","dim","low"]},"1f506":{code:"1f506",category:"symbols",shortname:":high_brightness:",name:"bright button",keywords:["bright","brightness"]},"303d":{code:"303d",category:"symbols",shortname:":part_alternation_mark:",name:"part alternation mark",keywords:["mark","part"]},"26a0":{code:"26a0",category:"symbols",shortname:":warning:",name:"warning",keywords:["warning"]},"1f6b8":{code:"1f6b8",category:"symbols",shortname:":children_crossing:",name:"children crossing",keywords:["child","crossing","pedestrian","traffic"]},"1f531":{code:"1f531",category:"symbols",shortname:":trident:",name:"trident emblem",keywords:["anchor","emblem","ship","tool","trident"]},"269c":{code:"269c",category:"symbols",shortname:":fleur-de-lis:",name:"fleur-de-lis",keywords:["fleur-de-lis"]},"1f530":{code:"1f530",category:"symbols",shortname:":beginner:",name:"Japanese symbol for beginner",keywords:["Japanese","beginner","chevron","green","leaf","tool","yellow"]},"267b":{code:"267b",category:"symbols",shortname:":recycle:",name:"recycling symbol",keywords:["recycle"]},2705:{code:"2705",category:"symbols",shortname:":white_check_mark:",name:"white heavy check mark",keywords:["check","mark"]},"1f22f":{code:"1f22f",category:"symbols",shortname:":u6307:",name:"Japanese \u201creserved\u201d button",keywords:["Japanese","ideograph","\u201creserved\u201d","\u6307"]},"1f4b9":{code:"1f4b9",category:"symbols",shortname:":chart:",name:"chart increasing with yen",keywords:["bank","chart","currency","graph","growth","market","money","rise","trend","upward","yen"]},2747:{code:"2747",category:"symbols",shortname:":sparkle:",name:"sparkle",keywords:["sparkle"]},2733:{code:"2733",category:"symbols",shortname:":eight_spoked_asterisk:",name:"eight-spoked asterisk",keywords:["asterisk"]},"274e":{code:"274e",category:"symbols",shortname:":negative_squared_cross_mark:",name:"cross mark button",keywords:["mark","square"]},"1f310":{code:"1f310",category:"symbols",shortname:":globe_with_meridians:",name:"globe with meridians",keywords:["earth","globe","meridians","world"]},"1f4a0":{code:"1f4a0",category:"symbols",shortname:":diamond_shape_with_a_dot_inside:",name:"diamond with a dot",keywords:["comic","diamond","geometric","inside"]},"24c2":{code:"24c2",category:"symbols",shortname:":m:",name:"circled M",keywords:["circle","m"]},"1f300":{code:"1f300",category:"symbols",shortname:":cyclone:",name:"cyclone",keywords:["dizzy","twister","typhoon"]},"1f4a4":{code:"1f4a4",category:"symbols",shortname:":zzz:",name:"zzz",keywords:["comic","sleep"]},"1f3e7":{code:"1f3e7",category:"symbols",shortname:":atm:",name:"ATM sign",keywords:["atm","automated","bank","teller"]},"1f6be":{code:"1f6be",category:"symbols",shortname:":wc:",name:"water closet",keywords:["closet","lavatory","restroom","water","wc"]},"267f":{code:"267f",category:"symbols",shortname:":wheelchair:",name:"wheelchair symbol",keywords:["access"]},"1f17f":{code:"1f17f",category:"symbols",shortname:":parking:",name:"P button",keywords:["parking"]},"1f233":{code:"1f233",category:"symbols",shortname:":u7a7a:",name:"Japanese \u201cvacancy\u201d button",keywords:["Japanese","ideograph","\u201cvacancy\u201d","\u7a7a"]},"1f202":{code:"1f202",category:"symbols",shortname:":sa:",name:"Japanese \u201cservice charge\u201d button",keywords:["Japanese","katakana","\u201cservice charge\u201d","\u30b5"]},"1f6c2":{code:"1f6c2",category:"symbols",shortname:":passport_control:",name:"passport control",keywords:["control","passport"]},"1f6c3":{code:"1f6c3",category:"symbols",shortname:":customs:",name:"customs",keywords:["customs"]},"1f6c4":{code:"1f6c4",category:"symbols",shortname:":baggage_claim:",name:"baggage claim",keywords:["baggage","claim"]},"1f6c5":{code:"1f6c5",category:"symbols",shortname:":left_luggage:",name:"left luggage",keywords:["baggage","locker","luggage"]},"1f6b9":{code:"1f6b9",category:"symbols",shortname:":mens:",name:"men\u2019s room",keywords:["lavatory","man","restroom","wc"]},"1f6ba":{code:"1f6ba",category:"symbols",shortname:":womens:",name:"women\u2019s room",keywords:["lavatory","restroom","wc","woman"]},"1f6bc":{code:"1f6bc",category:"symbols",shortname:":baby_symbol:",name:"baby symbol",keywords:["baby","changing"]},"1f6bb":{code:"1f6bb",category:"symbols",shortname:":restroom:",name:"restroom",keywords:["WC","lavatory","restroom"]},"1f6ae":{code:"1f6ae",category:"symbols",shortname:":put_litter_in_its_place:",name:"litter in bin sign",keywords:["litter","litter bin"]},"1f3a6":{code:"1f3a6",category:"symbols",shortname:":cinema:",name:"cinema",keywords:["camera","film","movie"]},"1f4f6":{code:"1f4f6",category:"symbols",shortname:":signal_strength:",name:"antenna bars",keywords:["antenna","bar","cell","mobile","phone","signal","telephone"]},"1f201":{code:"1f201",category:"symbols",shortname:":koko:",name:"Japanese \u201chere\u201d button",keywords:["Japanese","katakana","\u201chere\u201d","\u30b3\u30b3"]},"1f523":{code:"1f523",category:"symbols",shortname:":symbols:",name:"input symbols",keywords:["input","\u3012\u266a&amp;%"]},2139:{code:"2139",category:"symbols",shortname:":information_source:",name:"information",keywords:["i","information"]},"1f524":{code:"1f524",category:"symbols",shortname:":abc:",name:"input latin letters",keywords:["abc","alphabet","input","latin","letters"]},"1f521":{code:"1f521",category:"symbols",shortname:":abcd:",name:"input latin lowercase",keywords:["abcd","input","latin","letters","lowercase"]},"1f520":{code:"1f520",category:"symbols",shortname:":capital_abcd:",name:"input latin uppercase",keywords:["ABCD","input","latin","letters","uppercase"]},"1f196":{code:"1f196",category:"symbols",shortname:":ng:",name:"NG button",keywords:["ng"]},"1f197":{code:"1f197",category:"symbols",shortname:":ok:",name:"OK button",keywords:["OK"]},"1f199":{code:"1f199",category:"symbols",shortname:":up:",name:"UP! button",keywords:["mark","up"]},"1f192":{code:"1f192",category:"symbols",shortname:":cool:",name:"COOL button",keywords:["cool"]},"1f195":{code:"1f195",category:"symbols",shortname:":new:",name:"NEW button",keywords:["new"]},"1f193":{code:"1f193",category:"symbols",shortname:":free:",name:"FREE button",keywords:["free"]},"0030-20e3":{code:"0030-20e3",category:"symbols",shortname:":zero:",name:"keycap: 0",keywords:["keycap"]},"0031-20e3":{code:"0031-20e3",category:"symbols",shortname:":one:",name:"keycap: 1",keywords:["keycap"]},"0032-20e3":{code:"0032-20e3",category:"symbols",shortname:":two:",name:"keycap: 2",keywords:["keycap"]},"0033-20e3":{code:"0033-20e3",category:"symbols",shortname:":three:",name:"keycap: 3",keywords:["keycap"]},"0034-20e3":{code:"0034-20e3",category:"symbols",shortname:":four:",name:"keycap: 4",keywords:["keycap"]},"0035-20e3":{code:"0035-20e3",category:"symbols",shortname:":five:",name:"keycap: 5",keywords:["keycap"]},"0036-20e3":{code:"0036-20e3",category:"symbols",shortname:":six:",name:"keycap: 6",keywords:["keycap"]},"0037-20e3":{code:"0037-20e3",category:"symbols",shortname:":seven:",name:"keycap: 7",keywords:["keycap"]},"0038-20e3":{code:"0038-20e3",category:"symbols",shortname:":eight:",name:"keycap: 8",keywords:["keycap"]},"0039-20e3":{code:"0039-20e3",category:"symbols",shortname:":nine:",name:"keycap: 9",keywords:["keycap"]},"1f51f":{code:"1f51f",category:"symbols",shortname:":keycap_ten:",name:"keycap: 10",keywords:["keycap 10"]},"1f522":{code:"1f522",category:"symbols",shortname:":1234:",name:"input numbers",keywords:["1234","input","numbers"]},"0023-20e3":{code:"0023-20e3",category:"symbols",shortname:":hash:",name:"keycap: #",keywords:["keycap"]},"002a-20e3":{code:"002a-20e3",category:"symbols",shortname:":asterisk:",name:"keycap: *",keywords:["keycap"]},"23cf":{code:"23cf",category:"symbols",shortname:":eject:",name:"eject button",keywords:["eject"]},"25b6":{code:"25b6",category:"symbols",shortname:":arrow_forward:",name:"play button",keywords:["arrow","play","right","triangle"]},"23f8":{code:"23f8",category:"symbols",shortname:":pause_button:",name:"pause button",keywords:["bar","double","pause","vertical"]},"23ef":{code:"23ef",category:"symbols",shortname:":play_pause:",name:"play or pause button",keywords:["arrow","pause","play","right","triangle"]},"23f9":{code:"23f9",category:"symbols",shortname:":stop_button:",name:"stop button",keywords:["square","stop"]},"23fa":{code:"23fa",category:"symbols",shortname:":record_button:",name:"record button",keywords:["circle","record"]},"23ed":{code:"23ed",category:"symbols",shortname:":track_next:",name:"next track button",keywords:["arrow","next scene","next track","triangle"]},"23ee":{code:"23ee",category:"symbols",shortname:":track_previous:",name:"last track button",keywords:["arrow","previous scene","previous track","triangle"]},"23e9":{code:"23e9",category:"symbols",shortname:":fast_forward:",name:"fast-forward button",keywords:["arrow","double","fast","forward"]},"23ea":{code:"23ea",category:"symbols",shortname:":rewind:",name:"fast reverse button",keywords:["arrow","double","rewind"]},"23eb":{code:"23eb",category:"symbols",shortname:":arrow_double_up:",name:"fast up button",keywords:["arrow","double"]},"23ec":{code:"23ec",category:"symbols",shortname:":arrow_double_down:",name:"fast down button",keywords:["arrow","double","down"]},"25c0":{code:"25c0",category:"symbols",shortname:":arrow_backward:",name:"reverse button",keywords:["arrow","left","reverse","triangle"]},"1f53c":{code:"1f53c",category:"symbols",shortname:":arrow_up_small:",name:"upwards button",keywords:["arrow","button","red"]},"1f53d":{code:"1f53d",category:"symbols",shortname:":arrow_down_small:",name:"downwards button",keywords:["arrow","button","down","red"]},"27a1":{code:"27a1",category:"symbols",shortname:":arrow_right:",name:"right arrow",keywords:["arrow","cardinal","direction","east"]},"2b05":{code:"2b05",category:"symbols",shortname:":arrow_left:",name:"left arrow",keywords:["arrow","cardinal","direction","west"]},"2b06":{code:"2b06",category:"symbols",shortname:":arrow_up:",name:"up arrow",keywords:["arrow","cardinal","direction","north"]},"2b07":{code:"2b07",category:"symbols",shortname:":arrow_down:",name:"down arrow",keywords:["arrow","cardinal","direction","down","south"]},2197:{code:"2197",category:"symbols",shortname:":arrow_upper_right:",name:"up-right arrow",keywords:["arrow","direction","intercardinal","northeast"]},2198:{code:"2198",category:"symbols",shortname:":arrow_lower_right:",name:"down-right arrow",keywords:["arrow","direction","intercardinal","southeast"]},2199:{code:"2199",category:"symbols",shortname:":arrow_lower_left:",name:"down-left arrow",keywords:["arrow","direction","intercardinal","southwest"]},2196:{code:"2196",category:"symbols",shortname:":arrow_upper_left:",name:"up-left arrow",keywords:["arrow","direction","intercardinal","northwest"]},2195:{code:"2195",category:"symbols",shortname:":arrow_up_down:",name:"up-down arrow",keywords:["arrow"]},2194:{code:"2194",category:"symbols",shortname:":left_right_arrow:",name:"left-right arrow",keywords:["arrow"]},"21aa":{code:"21aa",category:"symbols",shortname:":arrow_right_hook:",name:"left arrow curving right",keywords:["arrow"]},"21a9":{code:"21a9",category:"symbols",shortname:":leftwards_arrow_with_hook:",name:"right arrow curving left",keywords:["arrow"]},2934:{code:"2934",category:"symbols",shortname:":arrow_heading_up:",name:"right arrow curving up",keywords:["arrow"]},2935:{code:"2935",category:"symbols",shortname:":arrow_heading_down:",name:"right arrow curving down",keywords:["arrow","down"]},"1f500":{code:"1f500",category:"symbols",shortname:":twisted_rightwards_arrows:",name:"shuffle tracks button",keywords:["arrow","crossed"]},"1f501":{code:"1f501",category:"symbols",shortname:":repeat:",name:"repeat button",keywords:["arrow","clockwise","repeat"]},"1f502":{code:"1f502",category:"symbols",shortname:":repeat_one:",name:"repeat single button",keywords:["arrow","clockwise","once"]},"1f504":{code:"1f504",category:"symbols",shortname:":arrows_counterclockwise:",name:"counterclockwise arrows button",keywords:["anticlockwise","arrow","counterclockwise","withershins"]},"1f503":{code:"1f503",category:"symbols",shortname:":arrows_clockwise:",name:"clockwise vertical arrows",keywords:["arrow","clockwise","reload"]},"1f3b5":{code:"1f3b5",category:"symbols",shortname:":musical_note:",name:"musical note",keywords:["music","note"]},"1f3b6":{code:"1f3b6",category:"symbols",shortname:":notes:",name:"musical notes",keywords:["music","note","notes"]},2795:{code:"2795",category:"symbols",shortname:":heavy_plus_sign:",name:"heavy plus sign",keywords:["math","plus"]},2796:{code:"2796",category:"symbols",shortname:":heavy_minus_sign:",name:"heavy minus sign",keywords:["math","minus"]},2797:{code:"2797",category:"symbols",shortname:":heavy_division_sign:",name:"heavy division sign",keywords:["division","math"]},2716:{code:"2716",category:"symbols",shortname:":heavy_multiplication_x:",name:"heavy multiplication x",keywords:["cancel","multiplication","multiply","x"]},"1f4b2":{code:"1f4b2",category:"symbols",shortname:":heavy_dollar_sign:",name:"heavy dollar sign",keywords:["currency","dollar","money"]},"1f4b1":{code:"1f4b1",category:"symbols",shortname:":currency_exchange:",name:"currency exchange",keywords:["bank","currency","exchange","money"]},2122:{code:"2122",category:"symbols",shortname:":tm:",name:"trade mark",keywords:["mark","tm","trademark"]},"00a9":{code:"00a9",category:"symbols",shortname:":copyright:",name:"copyright",keywords:["copyright"]},"00ae":{code:"00ae",category:"symbols",shortname:":registered:",name:"registered",keywords:["registered"]},3030:{code:"3030",category:"symbols",shortname:":wavy_dash:",name:"wavy dash",keywords:["dash","punctuation","wavy"]},"27b0":{code:"27b0",category:"symbols",shortname:":curly_loop:",name:"curly loop",keywords:["curl","loop"]},"27bf":{code:"27bf",category:"symbols",shortname:":loop:",name:"double curly loop",keywords:["curl","double","loop"]},"1f51a":{code:"1f51a",category:"symbols",shortname:":end:",name:"END arrow",keywords:["arrow","end"]},"1f519":{code:"1f519",category:"symbols",shortname:":back:",name:"BACK arrow",keywords:["arrow","back"]},"1f51b":{code:"1f51b",category:"symbols",shortname:":on:",name:"ON! arrow",keywords:["arrow","mark","on"]},"1f51d":{code:"1f51d",category:"symbols",shortname:":top:",name:"TOP arrow",keywords:["arrow","top","up"]},"1f51c":{code:"1f51c",category:"symbols",shortname:":soon:",name:"SOON arrow",keywords:["arrow","soon"]},2714:{code:"2714",category:"symbols",shortname:":heavy_check_mark:",name:"heavy check mark",keywords:["check","mark"]},2611:{code:"2611",category:"symbols",shortname:":ballot_box_with_check:",name:"ballot box with check",keywords:["ballot","box","check"]},"1f518":{code:"1f518",category:"symbols",shortname:":radio_button:",name:"radio button",keywords:["button","geometric","radio"]},"26aa":{code:"26aa",category:"symbols",shortname:":white_circle:",name:"white circle",keywords:["circle","geometric"]},"26ab":{code:"26ab",category:"symbols",shortname:":black_circle:",name:"black circle",keywords:["circle","geometric"]},"1f534":{code:"1f534",category:"symbols",shortname:":red_circle:",name:"red circle",keywords:["circle","geometric","red"]},"1f535":{code:"1f535",category:"symbols",shortname:":blue_circle:",name:"blue circle",keywords:["blue","circle","geometric"]},"1f53a":{code:"1f53a",category:"symbols",shortname:":small_red_triangle:",name:"red triangle pointed up",keywords:["geometric","red"]},"1f53b":{code:"1f53b",category:"symbols",shortname:":small_red_triangle_down:",name:"red triangle pointed down",keywords:["down","geometric","red"]},"1f538":{code:"1f538",category:"symbols",shortname:":small_orange_diamond:",name:"small orange diamond",keywords:["diamond","geometric","orange"]},"1f539":{code:"1f539",category:"symbols",shortname:":small_blue_diamond:",name:"small blue diamond",keywords:["blue","diamond","geometric"]},"1f536":{code:"1f536",category:"symbols",shortname:":large_orange_diamond:",name:"large orange diamond",keywords:["diamond","geometric","orange"]},"1f537":{code:"1f537",category:"symbols",shortname:":large_blue_diamond:",name:"large blue diamond",keywords:["blue","diamond","geometric"]},"1f533":{code:"1f533",category:"symbols",shortname:":white_square_button:",name:"white square button",keywords:["button","geometric","outlined","square"]},"1f532":{code:"1f532",category:"symbols",shortname:":black_square_button:",name:"black square button",keywords:["button","geometric","square"]},"25aa":{code:"25aa",category:"symbols",shortname:":black_small_square:",name:"black small square",keywords:["geometric","square"]},"25ab":{code:"25ab",category:"symbols",shortname:":white_small_square:",name:"white small square",keywords:["geometric","square"]},"25fe":{code:"25fe",category:"symbols",shortname:":black_medium_small_square:",name:"black medium-small square",keywords:["geometric","square"]},"25fd":{code:"25fd",category:"symbols",shortname:":white_medium_small_square:",name:"white medium-small square",keywords:["geometric","square"]},"25fc":{code:"25fc",category:"symbols",shortname:":black_medium_square:",name:"black medium square",keywords:["geometric","square"]},"25fb":{code:"25fb",category:"symbols",shortname:":white_medium_square:",name:"white medium square",keywords:["geometric","square"]},"2b1b":{code:"2b1b",category:"symbols",shortname:":black_large_square:",name:"black large square",keywords:["geometric","square"]},"2b1c":{code:"2b1c",category:"symbols",shortname:":white_large_square:",name:"white large square",keywords:["geometric","square"]},"1f508":{code:"1f508",category:"symbols",shortname:":speaker:",name:"speaker low volume",keywords:["soft"]},"1f507":{code:"1f507",category:"symbols",shortname:":mute:",name:"muted speaker",keywords:["mute","quiet","silent","speaker"]},"1f509":{code:"1f509",category:"symbols",shortname:":sound:",name:"speaker medium volume",keywords:["medium"]},"1f50a":{code:"1f50a",category:"symbols",shortname:":loud_sound:",name:"speaker high volume",keywords:["loud"]},"1f514":{code:"1f514",category:"symbols",shortname:":bell:",name:"bell",keywords:["bell"]},"1f515":{code:"1f515",category:"symbols",shortname:":no_bell:",name:"bell with slash",keywords:["bell","forbidden","mute","no","not","prohibited","quiet","silent"]},"1f4e3":{code:"1f4e3",category:"symbols",shortname:":mega:",name:"megaphone",keywords:["cheering"]},"1f4e2":{code:"1f4e2",category:"symbols",shortname:":loudspeaker:",name:"loudspeaker",keywords:["loud","public address"]},"1f5e8":{code:"1f5e8",category:"symbols",shortname:":speech_left:",name:"left speech bubble",keywords:["dialog","speech"]},"1f441-1f5e8":{code:"1f441-1f5e8",category:"symbols",shortname:":eye_in_speech_bubble:",name:"eye in speech bubble",keywords:["eye","speech bubble","witness"]},"1f4ac":{code:"1f4ac",category:"symbols",shortname:":speech_balloon:",name:"speech balloon",keywords:["balloon","bubble","comic","dialog","speech"]},"1f4ad":{code:"1f4ad",category:"symbols",shortname:":thought_balloon:",name:"thought balloon",keywords:["balloon","bubble","comic","thought"]},"1f5ef":{code:"1f5ef",category:"symbols",shortname:":anger_right:",name:"right anger bubble",keywords:["angry","balloon","bubble","mad"]},2660:{code:"2660",category:"symbols",shortname:":spades:",name:"spade suit",keywords:["card","game"]},2663:{code:"2663",category:"symbols",shortname:":clubs:",name:"club suit",keywords:["card","game"]},2665:{code:"2665",category:"symbols",shortname:":hearts:",name:"heart suit",keywords:["card","game"]},2666:{code:"2666",category:"symbols",shortname:":diamonds:",name:"diamond suit",keywords:["card","game"]},"1f0cf":{code:"1f0cf",category:"symbols",shortname:":black_joker:",name:"joker",keywords:["card","game","wildcard"]},"1f3b4":{code:"1f3b4",category:"symbols",shortname:":flower_playing_cards:",name:"flower playing cards",keywords:["Japanese","card","flower","game","playing"]},"1f004":{code:"1f004",category:"symbols",shortname:":mahjong:",name:"mahjong red dragon",keywords:["game","mahjong","red"]},"1f550":{code:"1f550",category:"symbols",shortname:":clock1:",name:"one o\u2019clock",keywords:["00","1","1:00","clock","one","o\u2019clock"]},"1f551":{code:"1f551",category:"symbols",shortname:":clock2:",name:"two o\u2019clock",keywords:["00","2","2:00","clock","o\u2019clock","two"]},"1f552":{code:"1f552",category:"symbols",shortname:":clock3:",name:"three o\u2019clock",keywords:["00","3","3:00","clock","o\u2019clock","three"]},"1f553":{code:"1f553",category:"symbols",shortname:":clock4:",name:"four o\u2019clock",keywords:["00","4","4:00","clock","four","o\u2019clock"]},"1f554":{code:"1f554",category:"symbols",shortname:":clock5:",name:"five o\u2019clock",keywords:["00","5","5:00","clock","five","o\u2019clock"]},"1f555":{code:"1f555",category:"symbols",shortname:":clock6:",name:"six o\u2019clock",keywords:["00","6","6:00","clock","o\u2019clock","six"]},"1f556":{code:"1f556",category:"symbols",shortname:":clock7:",name:"seven o\u2019clock",keywords:["00","7","7:00","clock","o\u2019clock","seven"]},"1f557":{code:"1f557",category:"symbols",shortname:":clock8:",name:"eight o\u2019clock",keywords:["00","8","8:00","clock","eight","o\u2019clock"]},"1f558":{code:"1f558",category:"symbols",shortname:":clock9:",name:"nine o\u2019clock",keywords:["00","9","9:00","clock","nine","o\u2019clock"]},"1f559":{code:"1f559",category:"symbols",shortname:":clock10:",name:"ten o\u2019clock",keywords:["00","10","10:00","clock","o\u2019clock","ten"]},"1f55a":{code:"1f55a",category:"symbols",shortname:":clock11:",name:"eleven o\u2019clock",keywords:["00","11","11:00","clock","eleven","o\u2019clock"]},"1f55b":{code:"1f55b",category:"symbols",shortname:":clock12:",name:"twelve o\u2019clock",keywords:["00","12","12:00","clock","o\u2019clock","twelve"]},"1f55c":{code:"1f55c",category:"symbols",shortname:":clock130:",name:"one-thirty",keywords:["1","1:30","30","clock","one","thirty"]},"1f55d":{code:"1f55d",category:"symbols",shortname:":clock230:",name:"two-thirty",keywords:["2","2:30","30","clock","thirty","two"]},"1f55e":{code:"1f55e",category:"symbols",shortname:":clock330:",name:"three-thirty",keywords:["3","30","3:30","clock","thirty","three"]},"1f55f":{code:"1f55f",category:"symbols",shortname:":clock430:",name:"four-thirty",keywords:["4","30","4:30","clock","four","thirty"]},"1f560":{code:"1f560",category:"symbols",shortname:":clock530:",name:"five-thirty",keywords:["5","30","5:30","clock","five","thirty"]},"1f561":{code:"1f561",category:"symbols",shortname:":clock630:",name:"six-thirty",keywords:["6","30","6:30","clock","six","thirty"]},"1f562":{code:"1f562",category:"symbols",shortname:":clock730:",name:"seven-thirty",keywords:["7","30","7:30","clock","seven","thirty"]},"1f563":{code:"1f563",category:"symbols",shortname:":clock830:",name:"eight-thirty",keywords:["8","30","8:30","clock","eight","thirty"]},"1f564":{code:"1f564",category:"symbols",shortname:":clock930:",name:"nine-thirty",keywords:["9","30","9:30","clock","nine","thirty"]},"1f565":{code:"1f565",category:"symbols",shortname:":clock1030:",name:"ten-thirty",keywords:["10","10:30","30","clock","ten","thirty"]},"1f566":{code:"1f566",category:"symbols",shortname:":clock1130:",name:"eleven-thirty",keywords:["11","11:30","30","clock","eleven","thirty"]},"1f567":{code:"1f567",category:"symbols",shortname:":clock1230:",name:"twelve-thirty",keywords:["12","12:30","30","clock","thirty","twelve"]},"0030":{code:"0030",category:"symbols",shortname:":digit_zero:",name:"digit zero",keywords:[""]},"0031":{code:"0031",category:"symbols",shortname:":digit_one:",name:"digit one",keywords:[""]},"0032":{code:"0032",category:"symbols",shortname:":digit_two:",name:"digit two",keywords:[""]},"0033":{code:"0033",category:"symbols",shortname:":digit_three:",name:"digit three",keywords:[""]},"0034":{code:"0034",category:"symbols",shortname:":digit_four:",name:"digit four",keywords:[""]},"0035":{code:"0035",category:"symbols",shortname:":digit_five:",name:"digit five",keywords:[""]},"0036":{code:"0036",category:"symbols",shortname:":digit_six:",name:"digit six",keywords:[""]},"0037":{code:"0037",category:"symbols",shortname:":digit_seven:",name:"digit seven",keywords:[""]},"0038":{code:"0038",category:"symbols",shortname:":digit_eight:",name:"digit eight",keywords:[""]},"0039":{code:"0039",category:"symbols",shortname:":digit_nine:",name:"digit nine",keywords:[""]},"0023":{code:"0023",category:"symbols",shortname:":pound_symbol:",name:"pound symbol",keywords:[""]},"002a":{code:"002a",category:"symbols",shortname:":asterisk_symbol:",name:"asterisk",keywords:[""]},2640:{code:"2640",category:"symbols",shortname:":female_sign:",name:"female sign",keywords:["woman"]},2642:{code:"2642",category:"symbols",shortname:":male_sign:",name:"male sign",keywords:["man"]},2695:{code:"2695",category:"symbols",shortname:":medical_symbol:",name:"medical symbol",keywords:["aesculapius","medicine","staff"]},"1f3f3":{code:"1f3f3",category:"flags",shortname:":flag_white:",name:"white flag",keywords:["waving"]},"1f3f4":{code:"1f3f4",category:"flags",shortname:":flag_black:",name:"black flag",keywords:["waving"]},"1f3c1":{code:"1f3c1",category:"flags",shortname:":checkered_flag:",name:"chequered flag",keywords:["checkered","chequered","racing"]},"1f6a9":{code:"1f6a9",category:"flags",shortname:":triangular_flag_on_post:",name:"triangular flag",keywords:["post"]},"1f3f3-1f308":{code:"1f3f3-1f308",category:"flags",shortname:":rainbow_flag:",name:"rainbow flag",keywords:["rainbow"]},"1f3f4-2620":{code:"1f3f4-2620",category:"flags",shortname:":pirate_flag:",name:"pirate flag",keywords:[""]},"1f1e6-1f1eb":{code:"1f1e6-1f1eb",category:"flags",shortname:":flag_af:",name:"Afghanistan",keywords:["flag"]},"1f1e6-1f1fd":{code:"1f1e6-1f1fd",category:"flags",shortname:":flag_ax:",name:"\xc5land Islands",keywords:["flag"]},"1f1e6-1f1f1":{code:"1f1e6-1f1f1",category:"flags",shortname:":flag_al:",name:"Albania",keywords:["flag"]},"1f1e9-1f1ff":{code:"1f1e9-1f1ff",category:"flags",shortname:":flag_dz:",name:"Algeria",keywords:["flag"]},"1f1e6-1f1f8":{code:"1f1e6-1f1f8",category:"flags",shortname:":flag_as:",name:"American Samoa",keywords:["flag"]},"1f1e6-1f1e9":{code:"1f1e6-1f1e9",category:"flags",shortname:":flag_ad:",name:"Andorra",keywords:["flag"]},"1f1e6-1f1f4":{code:"1f1e6-1f1f4",category:"flags",shortname:":flag_ao:",name:"Angola",keywords:["flag"]},"1f1e6-1f1ee":{code:"1f1e6-1f1ee",category:"flags",shortname:":flag_ai:",name:"Anguilla",keywords:["flag"]},"1f1e6-1f1f6":{code:"1f1e6-1f1f6",category:"flags",shortname:":flag_aq:",name:"Antarctica",keywords:["flag"]},"1f1e6-1f1ec":{code:"1f1e6-1f1ec",category:"flags",shortname:":flag_ag:",name:"Antigua &amp; Barbuda",keywords:["flag"]},"1f1e6-1f1f7":{code:"1f1e6-1f1f7",category:"flags",shortname:":flag_ar:",name:"Argentina",keywords:["flag"]},"1f1e6-1f1f2":{code:"1f1e6-1f1f2",category:"flags",shortname:":flag_am:",name:"Armenia",keywords:["flag"]},"1f1e6-1f1fc":{code:"1f1e6-1f1fc",category:"flags",shortname:":flag_aw:",name:"Aruba",keywords:["flag"]},"1f1e6-1f1fa":{code:"1f1e6-1f1fa",category:"flags",shortname:":flag_au:",name:"Australia",keywords:["flag"]},"1f1e6-1f1f9":{code:"1f1e6-1f1f9",category:"flags",shortname:":flag_at:",name:"Austria",keywords:["flag"]},"1f1e6-1f1ff":{code:"1f1e6-1f1ff",category:"flags",shortname:":flag_az:",name:"Azerbaijan",keywords:["flag"]},"1f1e7-1f1f8":{code:"1f1e7-1f1f8",category:"flags",shortname:":flag_bs:",name:"Bahamas",keywords:["flag"]},"1f1e7-1f1ed":{code:"1f1e7-1f1ed",category:"flags",shortname:":flag_bh:",name:"Bahrain",keywords:["flag"]},"1f1e7-1f1e9":{code:"1f1e7-1f1e9",category:"flags",shortname:":flag_bd:",name:"Bangladesh",keywords:["flag"]},"1f1e7-1f1e7":{code:"1f1e7-1f1e7",category:"flags",shortname:":flag_bb:",name:"Barbados",keywords:["flag"]},"1f1e7-1f1fe":{code:"1f1e7-1f1fe",category:"flags",shortname:":flag_by:",name:"Belarus",keywords:["flag"]},"1f1e7-1f1ea":{code:"1f1e7-1f1ea",category:"flags",shortname:":flag_be:",name:"Belgium",keywords:["flag"]},"1f1e7-1f1ff":{code:"1f1e7-1f1ff",category:"flags",shortname:":flag_bz:",name:"Belize",keywords:["flag"]},"1f1e7-1f1ef":{code:"1f1e7-1f1ef",category:"flags",shortname:":flag_bj:",name:"Benin",keywords:["flag"]},"1f1e7-1f1f2":{code:"1f1e7-1f1f2",category:"flags",shortname:":flag_bm:",name:"Bermuda",keywords:["flag"]},"1f1e7-1f1f9":{code:"1f1e7-1f1f9",category:"flags",shortname:":flag_bt:",name:"Bhutan",keywords:["flag"]},"1f1e7-1f1f4":{code:"1f1e7-1f1f4",category:"flags",shortname:":flag_bo:",name:"Bolivia",keywords:["flag"]},"1f1e7-1f1e6":{code:"1f1e7-1f1e6",category:"flags",shortname:":flag_ba:",name:"Bosnia &amp; Herzegovina",keywords:["flag"]},"1f1e7-1f1fc":{code:"1f1e7-1f1fc",category:"flags",shortname:":flag_bw:",name:"Botswana",keywords:["flag"]},"1f1e7-1f1f7":{code:"1f1e7-1f1f7",category:"flags",shortname:":flag_br:",name:"Brazil",keywords:["flag"]},"1f1ee-1f1f4":{code:"1f1ee-1f1f4",category:"flags",shortname:":flag_io:",name:"British Indian Ocean Territory",keywords:["flag"]},"1f1fb-1f1ec":{code:"1f1fb-1f1ec",category:"flags",shortname:":flag_vg:",name:"British Virgin Islands",keywords:["flag"]},"1f1e7-1f1f3":{code:"1f1e7-1f1f3",category:"flags",shortname:":flag_bn:",name:"Brunei",keywords:["flag"]},"1f1e7-1f1ec":{code:"1f1e7-1f1ec",category:"flags",shortname:":flag_bg:",name:"Bulgaria",keywords:["flag"]},"1f1e7-1f1eb":{code:"1f1e7-1f1eb",category:"flags",shortname:":flag_bf:",name:"Burkina Faso",keywords:["flag"]},"1f1e7-1f1ee":{code:"1f1e7-1f1ee",category:"flags",shortname:":flag_bi:",name:"Burundi",keywords:["flag"]},"1f1f0-1f1ed":{code:"1f1f0-1f1ed",category:"flags",shortname:":flag_kh:",name:"Cambodia",keywords:["flag"]},"1f1e8-1f1f2":{code:"1f1e8-1f1f2",category:"flags",shortname:":flag_cm:",name:"Cameroon",keywords:["flag"]},"1f1e8-1f1e6":{code:"1f1e8-1f1e6",category:"flags",shortname:":flag_ca:",name:"Canada",keywords:["flag"]},"1f1ee-1f1e8":{code:"1f1ee-1f1e8",category:"flags",shortname:":flag_ic:",name:"Canary Islands",keywords:["flag"]},"1f1e8-1f1fb":{code:"1f1e8-1f1fb",category:"flags",shortname:":flag_cv:",name:"Cape Verde",keywords:["flag"]},"1f1e7-1f1f6":{code:"1f1e7-1f1f6",category:"flags",shortname:":flag_bq:",name:"Caribbean Netherlands",keywords:["flag"]},"1f1f0-1f1fe":{code:"1f1f0-1f1fe",category:"flags",shortname:":flag_ky:",name:"Cayman Islands",keywords:["flag"]},"1f1e8-1f1eb":{code:"1f1e8-1f1eb",category:"flags",shortname:":flag_cf:",name:"Central African Republic",keywords:["flag"]},"1f1f9-1f1e9":{code:"1f1f9-1f1e9",category:"flags",shortname:":flag_td:",name:"Chad",keywords:["flag"]},"1f1e8-1f1f1":{code:"1f1e8-1f1f1",category:"flags",shortname:":flag_cl:",name:"Chile",keywords:["flag"]},"1f1e8-1f1f3":{code:"1f1e8-1f1f3",category:"flags",shortname:":flag_cn:",name:"China",keywords:["flag"]},"1f1e8-1f1fd":{code:"1f1e8-1f1fd",category:"flags",shortname:":flag_cx:",name:"Christmas Island",keywords:["flag"]},"1f1e8-1f1e8":{code:"1f1e8-1f1e8",category:"flags",shortname:":flag_cc:",name:"Cocos (Keeling) Islands",keywords:["flag"]},"1f1e8-1f1f4":{code:"1f1e8-1f1f4",category:"flags",shortname:":flag_co:",name:"Colombia",keywords:["flag"]},"1f1f0-1f1f2":{code:"1f1f0-1f1f2",category:"flags",shortname:":flag_km:",name:"Comoros",keywords:["flag"]},"1f1e8-1f1ec":{code:"1f1e8-1f1ec",category:"flags",shortname:":flag_cg:",name:"Congo - Brazzaville",keywords:["flag"]},"1f1e8-1f1e9":{code:"1f1e8-1f1e9",category:"flags",shortname:":flag_cd:",name:"Congo - Kinshasa",keywords:["flag"]},"1f1e8-1f1f0":{code:"1f1e8-1f1f0",category:"flags",shortname:":flag_ck:",name:"Cook Islands",keywords:["flag"]},"1f1e8-1f1f7":{code:"1f1e8-1f1f7",category:"flags",shortname:":flag_cr:",name:"Costa Rica",keywords:["flag"]},"1f1e8-1f1ee":{code:"1f1e8-1f1ee",category:"flags",shortname:":flag_ci:",name:"C\xf4te d\u2019Ivoire",keywords:["flag"]},"1f1ed-1f1f7":{code:"1f1ed-1f1f7",category:"flags",shortname:":flag_hr:",name:"Croatia",keywords:["flag"]},"1f1e8-1f1fa":{code:"1f1e8-1f1fa",category:"flags",shortname:":flag_cu:",name:"Cuba",keywords:["flag"]},"1f1e8-1f1fc":{code:"1f1e8-1f1fc",category:"flags",shortname:":flag_cw:",name:"Cura\xe7ao",keywords:["flag"]},"1f1e8-1f1fe":{code:"1f1e8-1f1fe",category:"flags",shortname:":flag_cy:",name:"Cyprus",keywords:["flag"]},"1f1e8-1f1ff":{code:"1f1e8-1f1ff",category:"flags",shortname:":flag_cz:",name:"Czechia",keywords:["flag"]},"1f1e9-1f1f0":{code:"1f1e9-1f1f0",category:"flags",shortname:":flag_dk:",name:"Denmark",keywords:["flag"]},"1f1e9-1f1ef":{code:"1f1e9-1f1ef",category:"flags",shortname:":flag_dj:",name:"Djibouti",keywords:["flag"]},"1f1e9-1f1f2":{code:"1f1e9-1f1f2",category:"flags",shortname:":flag_dm:",name:"Dominica",keywords:["flag"]},"1f1e9-1f1f4":{code:"1f1e9-1f1f4",category:"flags",shortname:":flag_do:",name:"Dominican Republic",keywords:["flag"]},"1f1ea-1f1e8":{code:"1f1ea-1f1e8",category:"flags",shortname:":flag_ec:",name:"Ecuador",keywords:["flag"]},"1f1ea-1f1ec":{code:"1f1ea-1f1ec",category:"flags",shortname:":flag_eg:",name:"Egypt",keywords:["flag"]},"1f1f8-1f1fb":{code:"1f1f8-1f1fb",category:"flags",shortname:":flag_sv:",name:"El Salvador",keywords:["flag"]},"1f1ec-1f1f6":{code:"1f1ec-1f1f6",category:"flags",shortname:":flag_gq:",name:"Equatorial Guinea",keywords:["flag"]},"1f1ea-1f1f7":{code:"1f1ea-1f1f7",category:"flags",shortname:":flag_er:",name:"Eritrea",keywords:["flag"]},"1f1ea-1f1ea":{code:"1f1ea-1f1ea",category:"flags",shortname:":flag_ee:",name:"Estonia",keywords:["flag"]},"1f1ea-1f1f9":{code:"1f1ea-1f1f9",category:"flags",shortname:":flag_et:",name:"Ethiopia",keywords:["flag"]},"1f1ea-1f1fa":{code:"1f1ea-1f1fa",category:"flags",shortname:":flag_eu:",name:"European Union",keywords:["flag"]},"1f1eb-1f1f0":{code:"1f1eb-1f1f0",category:"flags",shortname:":flag_fk:",name:"Falkland Islands",keywords:["flag"]},"1f1eb-1f1f4":{code:"1f1eb-1f1f4",category:"flags",shortname:":flag_fo:",name:"Faroe Islands",keywords:["flag"]},"1f1eb-1f1ef":{code:"1f1eb-1f1ef",category:"flags",shortname:":flag_fj:",name:"Fiji",keywords:["flag"]},"1f1eb-1f1ee":{code:"1f1eb-1f1ee",category:"flags",shortname:":flag_fi:",name:"Finland",keywords:["flag"]},"1f1eb-1f1f7":{code:"1f1eb-1f1f7",category:"flags",shortname:":flag_fr:",name:"France",keywords:["flag"]},"1f1ec-1f1eb":{code:"1f1ec-1f1eb",category:"flags",shortname:":flag_gf:",name:"French Guiana",keywords:["flag"]},"1f1f5-1f1eb":{code:"1f1f5-1f1eb",category:"flags",shortname:":flag_pf:",name:"French Polynesia",keywords:["flag"]},"1f1f9-1f1eb":{code:"1f1f9-1f1eb",category:"flags",shortname:":flag_tf:",name:"French Southern Territories",keywords:["flag"]},"1f1ec-1f1e6":{code:"1f1ec-1f1e6",category:"flags",shortname:":flag_ga:",name:"Gabon",keywords:["flag"]},"1f1ec-1f1f2":{code:"1f1ec-1f1f2",category:"flags",shortname:":flag_gm:",name:"Gambia",keywords:["flag"]},"1f1ec-1f1ea":{code:"1f1ec-1f1ea",category:"flags",shortname:":flag_ge:",name:"Georgia",keywords:["flag"]},"1f1e9-1f1ea":{code:"1f1e9-1f1ea",category:"flags",shortname:":flag_de:",name:"Germany",keywords:["flag"]},"1f1ec-1f1ed":{code:"1f1ec-1f1ed",category:"flags",shortname:":flag_gh:",name:"Ghana",keywords:["flag"]},"1f1ec-1f1ee":{code:"1f1ec-1f1ee",category:"flags",shortname:":flag_gi:",name:"Gibraltar",keywords:["flag"]},"1f1ec-1f1f7":{code:"1f1ec-1f1f7",category:"flags",shortname:":flag_gr:",name:"Greece",keywords:["flag"]},"1f1ec-1f1f1":{code:"1f1ec-1f1f1",category:"flags",shortname:":flag_gl:",name:"Greenland",keywords:["flag"]},"1f1ec-1f1e9":{code:"1f1ec-1f1e9",category:"flags",shortname:":flag_gd:",name:"Grenada",keywords:["flag"]},"1f1ec-1f1f5":{code:"1f1ec-1f1f5",category:"flags",shortname:":flag_gp:",name:"Guadeloupe",keywords:["flag"]},"1f1ec-1f1fa":{code:"1f1ec-1f1fa",category:"flags",shortname:":flag_gu:",name:"Guam",keywords:["flag"]},"1f1ec-1f1f9":{code:"1f1ec-1f1f9",category:"flags",shortname:":flag_gt:",name:"Guatemala",keywords:["flag"]},"1f1ec-1f1ec":{code:"1f1ec-1f1ec",category:"flags",shortname:":flag_gg:",name:"Guernsey",keywords:["flag"]},"1f1ec-1f1f3":{code:"1f1ec-1f1f3",category:"flags",shortname:":flag_gn:",name:"Guinea",keywords:["flag"]},"1f1ec-1f1fc":{code:"1f1ec-1f1fc",category:"flags",shortname:":flag_gw:",name:"Guinea-Bissau",keywords:["flag"]},"1f1ec-1f1fe":{code:"1f1ec-1f1fe",category:"flags",shortname:":flag_gy:",name:"Guyana",keywords:["flag"]},"1f1ed-1f1f9":{code:"1f1ed-1f1f9",category:"flags",shortname:":flag_ht:",name:"Haiti",keywords:["flag"]},"1f1ed-1f1f3":{code:"1f1ed-1f1f3",category:"flags",shortname:":flag_hn:",name:"Honduras",keywords:["flag"]},"1f1ed-1f1f0":{code:"1f1ed-1f1f0",category:"flags",shortname:":flag_hk:",name:"Hong Kong SAR China",keywords:["flag"]},"1f1ed-1f1fa":{code:"1f1ed-1f1fa",category:"flags",shortname:":flag_hu:",name:"Hungary",keywords:["flag"]},"1f1ee-1f1f8":{code:"1f1ee-1f1f8",category:"flags",shortname:":flag_is:",name:"Iceland",keywords:["flag"]},"1f1ee-1f1f3":{code:"1f1ee-1f1f3",category:"flags",shortname:":flag_in:",name:"India",keywords:["flag"]},"1f1ee-1f1e9":{code:"1f1ee-1f1e9",category:"flags",shortname:":flag_id:",name:"Indonesia",keywords:["flag"]},"1f1ee-1f1f7":{code:"1f1ee-1f1f7",category:"flags",shortname:":flag_ir:",name:"Iran",keywords:["flag"]},"1f1ee-1f1f6":{code:"1f1ee-1f1f6",category:"flags",shortname:":flag_iq:",name:"Iraq",keywords:["flag"]},"1f1ee-1f1ea":{code:"1f1ee-1f1ea",category:"flags",shortname:":flag_ie:",name:"Ireland",keywords:["flag"]},"1f1ee-1f1f2":{code:"1f1ee-1f1f2",category:"flags",shortname:":flag_im:",name:"Isle of Man",keywords:["flag"]},"1f1ee-1f1f1":{code:"1f1ee-1f1f1",category:"flags",shortname:":flag_il:",name:"Israel",keywords:["flag"]},"1f1ee-1f1f9":{code:"1f1ee-1f1f9",category:"flags",shortname:":flag_it:",name:"Italy",keywords:["flag"]},"1f1ef-1f1f2":{code:"1f1ef-1f1f2",category:"flags",shortname:":flag_jm:",name:"Jamaica",keywords:["flag"]},"1f1ef-1f1f5":{code:"1f1ef-1f1f5",category:"flags",shortname:":flag_jp:",name:"Japan",keywords:["flag"]},"1f38c":{code:"1f38c",category:"flags",shortname:":crossed_flags:",name:"crossed flags",keywords:["Japanese","celebration","cross","crossed"]},"1f1ef-1f1ea":{code:"1f1ef-1f1ea",category:"flags",shortname:":flag_je:",name:"Jersey",keywords:["flag"]},"1f1ef-1f1f4":{code:"1f1ef-1f1f4",category:"flags",shortname:":flag_jo:",name:"Jordan",keywords:["flag"]},"1f1f0-1f1ff":{code:"1f1f0-1f1ff",category:"flags",shortname:":flag_kz:",name:"Kazakhstan",keywords:["flag"]},"1f1f0-1f1ea":{code:"1f1f0-1f1ea",category:"flags",shortname:":flag_ke:",name:"Kenya",keywords:["flag"]},"1f1f0-1f1ee":{code:"1f1f0-1f1ee",category:"flags",shortname:":flag_ki:",name:"Kiribati",keywords:["flag"]},"1f1fd-1f1f0":{code:"1f1fd-1f1f0",category:"flags",shortname:":flag_xk:",name:"Kosovo",keywords:["flag"]},"1f1f0-1f1fc":{code:"1f1f0-1f1fc",category:"flags",shortname:":flag_kw:",name:"Kuwait",keywords:["flag"]},"1f1f0-1f1ec":{code:"1f1f0-1f1ec",category:"flags",shortname:":flag_kg:",name:"Kyrgyzstan",keywords:["flag"]},"1f1f1-1f1e6":{code:"1f1f1-1f1e6",category:"flags",shortname:":flag_la:",name:"Laos",keywords:["flag"]},"1f1f1-1f1fb":{code:"1f1f1-1f1fb",category:"flags",shortname:":flag_lv:",name:"Latvia",keywords:["flag"]},"1f1f1-1f1e7":{code:"1f1f1-1f1e7",category:"flags",shortname:":flag_lb:",name:"Lebanon",keywords:["flag"]},"1f1f1-1f1f8":{code:"1f1f1-1f1f8",category:"flags",shortname:":flag_ls:",name:"Lesotho",keywords:["flag"]},"1f1f1-1f1f7":{code:"1f1f1-1f1f7",category:"flags",shortname:":flag_lr:",name:"Liberia",keywords:["flag"]},"1f1f1-1f1fe":{code:"1f1f1-1f1fe",category:"flags",shortname:":flag_ly:",name:"Libya",keywords:["flag"]},"1f1f1-1f1ee":{code:"1f1f1-1f1ee",category:"flags",shortname:":flag_li:",name:"Liechtenstein",keywords:["flag"]},"1f1f1-1f1f9":{code:"1f1f1-1f1f9",category:"flags",shortname:":flag_lt:",name:"Lithuania",keywords:["flag"]},"1f1f1-1f1fa":{code:"1f1f1-1f1fa",category:"flags",shortname:":flag_lu:",name:"Luxembourg",keywords:["flag"]},"1f1f2-1f1f4":{code:"1f1f2-1f1f4",category:"flags",shortname:":flag_mo:",name:"Macau SAR China",keywords:["flag"]},"1f1f2-1f1f0":{code:"1f1f2-1f1f0",category:"flags",shortname:":flag_mk:",name:"Macedonia",keywords:["flag"]},"1f1f2-1f1ec":{code:"1f1f2-1f1ec",category:"flags",shortname:":flag_mg:",name:"Madagascar",keywords:["flag"]},"1f1f2-1f1fc":{code:"1f1f2-1f1fc",category:"flags",shortname:":flag_mw:",name:"Malawi",keywords:["flag"]},"1f1f2-1f1fe":{code:"1f1f2-1f1fe",category:"flags",shortname:":flag_my:",name:"Malaysia",keywords:["flag"]},"1f1f2-1f1fb":{code:"1f1f2-1f1fb",category:"flags",shortname:":flag_mv:",name:"Maldives",keywords:["flag"]},"1f1f2-1f1f1":{code:"1f1f2-1f1f1",category:"flags",shortname:":flag_ml:",name:"Mali",keywords:["flag"]},"1f1f2-1f1f9":{code:"1f1f2-1f1f9",category:"flags",shortname:":flag_mt:",name:"Malta",keywords:["flag"]},"1f1f2-1f1ed":{code:"1f1f2-1f1ed",category:"flags",shortname:":flag_mh:",name:"Marshall Islands",keywords:["flag"]},"1f1f2-1f1f6":{code:"1f1f2-1f1f6",category:"flags",shortname:":flag_mq:",name:"Martinique",keywords:["flag"]},"1f1f2-1f1f7":{code:"1f1f2-1f1f7",category:"flags",shortname:":flag_mr:",name:"Mauritania",keywords:["flag"]},"1f1f2-1f1fa":{code:"1f1f2-1f1fa",category:"flags",shortname:":flag_mu:",name:"Mauritius",keywords:["flag"]},"1f1fe-1f1f9":{code:"1f1fe-1f1f9",category:"flags",shortname:":flag_yt:",name:"Mayotte",keywords:["flag"]},"1f1f2-1f1fd":{code:"1f1f2-1f1fd",category:"flags",shortname:":flag_mx:",name:"Mexico",keywords:["flag"]},"1f1eb-1f1f2":{code:"1f1eb-1f1f2",category:"flags",shortname:":flag_fm:",name:"Micronesia",keywords:["flag"]},"1f1f2-1f1e9":{code:"1f1f2-1f1e9",category:"flags",shortname:":flag_md:",name:"Moldova",keywords:["flag"]},"1f1f2-1f1e8":{code:"1f1f2-1f1e8",category:"flags",shortname:":flag_mc:",name:"Monaco",keywords:["flag"]},"1f1f2-1f1f3":{code:"1f1f2-1f1f3",category:"flags",shortname:":flag_mn:",name:"Mongolia",keywords:["flag"]},"1f1f2-1f1ea":{code:"1f1f2-1f1ea",category:"flags",shortname:":flag_me:",name:"Montenegro",keywords:["flag"]},"1f1f2-1f1f8":{code:"1f1f2-1f1f8",category:"flags",shortname:":flag_ms:",name:"Montserrat",keywords:["flag"]},"1f1f2-1f1e6":{code:"1f1f2-1f1e6",category:"flags",shortname:":flag_ma:",name:"Morocco",keywords:["flag"]},"1f1f2-1f1ff":{code:"1f1f2-1f1ff",category:"flags",shortname:":flag_mz:",name:"Mozambique",keywords:["flag"]},"1f1f2-1f1f2":{code:"1f1f2-1f1f2",category:"flags",shortname:":flag_mm:",name:"Myanmar (Burma)",keywords:["flag"]},"1f1f3-1f1e6":{code:"1f1f3-1f1e6",category:"flags",shortname:":flag_na:",name:"Namibia",keywords:["flag"]},"1f1f3-1f1f7":{code:"1f1f3-1f1f7",category:"flags",shortname:":flag_nr:",name:"Nauru",keywords:["flag"]},"1f1f3-1f1f5":{code:"1f1f3-1f1f5",category:"flags",shortname:":flag_np:",name:"Nepal",keywords:["flag"]},"1f1f3-1f1f1":{code:"1f1f3-1f1f1",category:"flags",shortname:":flag_nl:",name:"Netherlands",keywords:["flag"]},"1f1f3-1f1e8":{code:"1f1f3-1f1e8",category:"flags",shortname:":flag_nc:",name:"New Caledonia",keywords:["flag"]},"1f1f3-1f1ff":{code:"1f1f3-1f1ff",category:"flags",shortname:":flag_nz:",name:"New Zealand",keywords:["flag"]},"1f1f3-1f1ee":{code:"1f1f3-1f1ee",category:"flags",shortname:":flag_ni:",name:"Nicaragua",keywords:["flag"]},"1f1f3-1f1ea":{code:"1f1f3-1f1ea",category:"flags",shortname:":flag_ne:",name:"Niger",keywords:["flag"]},"1f1f3-1f1ec":{code:"1f1f3-1f1ec",category:"flags",shortname:":flag_ng:",name:"Nigeria",keywords:["flag"]},"1f1f3-1f1fa":{code:"1f1f3-1f1fa",category:"flags",shortname:":flag_nu:",name:"Niue",keywords:["flag"]},"1f1f3-1f1eb":{code:"1f1f3-1f1eb",category:"flags",shortname:":flag_nf:",name:"Norfolk Island",keywords:["flag"]},"1f1f0-1f1f5":{code:"1f1f0-1f1f5",category:"flags",shortname:":flag_kp:",name:"North Korea",keywords:["flag"]},"1f1f2-1f1f5":{code:"1f1f2-1f1f5",category:"flags",shortname:":flag_mp:",name:"Northern Mariana Islands",keywords:["flag"]},"1f1f3-1f1f4":{code:"1f1f3-1f1f4",category:"flags",shortname:":flag_no:",name:"Norway",keywords:["flag"]},"1f1f4-1f1f2":{code:"1f1f4-1f1f2",category:"flags",shortname:":flag_om:",name:"Oman",keywords:["flag"]},"1f1f5-1f1f0":{code:"1f1f5-1f1f0",category:"flags",shortname:":flag_pk:",name:"Pakistan",keywords:["flag"]},"1f1f5-1f1fc":{code:"1f1f5-1f1fc",category:"flags",shortname:":flag_pw:",name:"Palau",keywords:["flag"]},"1f1f5-1f1f8":{code:"1f1f5-1f1f8",category:"flags",shortname:":flag_ps:",name:"Palestinian Territories",keywords:["flag"]},"1f1f5-1f1e6":{code:"1f1f5-1f1e6",category:"flags",shortname:":flag_pa:",name:"Panama",keywords:["flag"]},"1f1f5-1f1ec":{code:"1f1f5-1f1ec",category:"flags",shortname:":flag_pg:",name:"Papua New Guinea",keywords:["flag"]},"1f1f5-1f1fe":{code:"1f1f5-1f1fe",category:"flags",shortname:":flag_py:",name:"Paraguay",keywords:["flag"]},"1f1f5-1f1ea":{code:"1f1f5-1f1ea",category:"flags",shortname:":flag_pe:",name:"Peru",keywords:["flag"]},"1f1f5-1f1ed":{code:"1f1f5-1f1ed",category:"flags",shortname:":flag_ph:",name:"Philippines",keywords:["flag"]},"1f1f5-1f1f3":{code:"1f1f5-1f1f3",category:"flags",shortname:":flag_pn:",name:"Pitcairn Islands",keywords:["flag"]},"1f1f5-1f1f1":{code:"1f1f5-1f1f1",category:"flags",shortname:":flag_pl:",name:"Poland",keywords:["flag"]},"1f1f5-1f1f9":{code:"1f1f5-1f1f9",category:"flags",shortname:":flag_pt:",name:"Portugal",keywords:["flag"]},"1f1f5-1f1f7":{code:"1f1f5-1f1f7",category:"flags",shortname:":flag_pr:",name:"Puerto Rico",keywords:["flag"]},"1f1f6-1f1e6":{code:"1f1f6-1f1e6",category:"flags",shortname:":flag_qa:",name:"Qatar",keywords:["flag"]},"1f1f7-1f1ea":{code:"1f1f7-1f1ea",category:"flags",shortname:":flag_re:",name:"R\xe9union",keywords:["flag"]},"1f1f7-1f1f4":{code:"1f1f7-1f1f4",category:"flags",shortname:":flag_ro:",name:"Romania",keywords:["flag"]},"1f1f7-1f1fa":{code:"1f1f7-1f1fa",category:"flags",shortname:":flag_ru:",name:"Russia",keywords:["flag"]},"1f1f7-1f1fc":{code:"1f1f7-1f1fc",category:"flags",shortname:":flag_rw:",name:"Rwanda",keywords:["flag"]},"1f1fc-1f1f8":{code:"1f1fc-1f1f8",category:"flags",shortname:":flag_ws:",name:"Samoa",keywords:["flag"]},"1f1f8-1f1f2":{code:"1f1f8-1f1f2",category:"flags",shortname:":flag_sm:",name:"San Marino",keywords:["flag"]},"1f1f8-1f1f9":{code:"1f1f8-1f1f9",category:"flags",shortname:":flag_st:",name:"S\xe3o Tom\xe9 &amp; Pr\xedncipe",keywords:["flag"]},"1f1f8-1f1e6":{code:"1f1f8-1f1e6",category:"flags",shortname:":flag_sa:",name:"Saudi Arabia",keywords:["flag"]},"1f1f8-1f1f3":{code:"1f1f8-1f1f3",category:"flags",shortname:":flag_sn:",name:"Senegal",keywords:["flag"]},"1f1f7-1f1f8":{code:"1f1f7-1f1f8",category:"flags",shortname:":flag_rs:",name:"Serbia",keywords:["flag"]},"1f1f8-1f1e8":{code:"1f1f8-1f1e8",category:"flags",shortname:":flag_sc:",name:"Seychelles",keywords:["flag"]},"1f1f8-1f1f1":{code:"1f1f8-1f1f1",category:"flags",shortname:":flag_sl:",name:"Sierra Leone",keywords:["flag"]},"1f1f8-1f1ec":{code:"1f1f8-1f1ec",category:"flags",shortname:":flag_sg:",name:"Singapore",keywords:["flag"]},"1f1f8-1f1fd":{code:"1f1f8-1f1fd",category:"flags",shortname:":flag_sx:",name:"Sint Maarten",keywords:["flag"]},"1f1f8-1f1f0":{code:"1f1f8-1f1f0",category:"flags",shortname:":flag_sk:",name:"Slovakia",keywords:["flag"]},"1f1f8-1f1ee":{code:"1f1f8-1f1ee",category:"flags",shortname:":flag_si:",name:"Slovenia",keywords:["flag"]},"1f1ec-1f1f8":{code:"1f1ec-1f1f8",category:"flags",shortname:":flag_gs:",name:"South Georgia &amp; South Sandwich Islands",keywords:["flag"]},"1f1f8-1f1e7":{code:"1f1f8-1f1e7",category:"flags",shortname:":flag_sb:",name:"Solomon Islands",keywords:["flag"]},"1f1f8-1f1f4":{code:"1f1f8-1f1f4",category:"flags",shortname:":flag_so:",name:"Somalia",keywords:["flag"]},"1f1ff-1f1e6":{code:"1f1ff-1f1e6",category:"flags",shortname:":flag_za:",name:"South Africa",keywords:["flag"]},"1f1f0-1f1f7":{code:"1f1f0-1f1f7",category:"flags",shortname:":flag_kr:",name:"South Korea",keywords:["flag"]},"1f1f8-1f1f8":{code:"1f1f8-1f1f8",category:"flags",shortname:":flag_ss:",name:"South Sudan",keywords:["flag"]},"1f1ea-1f1f8":{code:"1f1ea-1f1f8",category:"flags",shortname:":flag_es:",name:"Spain",keywords:["flag"]},"1f1f1-1f1f0":{code:"1f1f1-1f1f0",category:"flags",shortname:":flag_lk:",name:"Sri Lanka",keywords:["flag"]},"1f1e7-1f1f1":{code:"1f1e7-1f1f1",category:"flags",shortname:":flag_bl:",name:"St. Barth\xe9lemy",keywords:["flag"]},"1f1f8-1f1ed":{code:"1f1f8-1f1ed",category:"flags",shortname:":flag_sh:",name:"St. Helena",keywords:["flag"]},"1f1f0-1f1f3":{code:"1f1f0-1f1f3",category:"flags",shortname:":flag_kn:",name:"St. Kitts &amp; Nevis",keywords:["flag"]},"1f1f1-1f1e8":{code:"1f1f1-1f1e8",category:"flags",shortname:":flag_lc:",name:"St. Lucia",keywords:["flag"]},"1f1f5-1f1f2":{code:"1f1f5-1f1f2",category:"flags",shortname:":flag_pm:",name:"St. Pierre &amp; Miquelon",keywords:["flag"]},"1f1fb-1f1e8":{code:"1f1fb-1f1e8",category:"flags",shortname:":flag_vc:",name:"St. Vincent &amp; Grenadines",keywords:["flag"]},"1f1f8-1f1e9":{code:"1f1f8-1f1e9",category:"flags",shortname:":flag_sd:",name:"Sudan",keywords:["flag"]},"1f1f8-1f1f7":{code:"1f1f8-1f1f7",category:"flags",shortname:":flag_sr:",name:"Suriname",keywords:["flag"]},"1f1f8-1f1ff":{code:"1f1f8-1f1ff",category:"flags",shortname:":flag_sz:",name:"Swaziland",keywords:["flag"]},"1f1f8-1f1ea":{code:"1f1f8-1f1ea",category:"flags",shortname:":flag_se:",name:"Sweden",keywords:["flag"]},"1f1e8-1f1ed":{code:"1f1e8-1f1ed",category:"flags",shortname:":flag_ch:",name:"Switzerland",keywords:["flag"]},"1f1f8-1f1fe":{code:"1f1f8-1f1fe",category:"flags",shortname:":flag_sy:",name:"Syria",keywords:["flag"]},"1f1f9-1f1fc":{code:"1f1f9-1f1fc",category:"flags",shortname:":flag_tw:",name:"Taiwan",keywords:["flag"]},"1f1f9-1f1ef":{code:"1f1f9-1f1ef",category:"flags",shortname:":flag_tj:",name:"Tajikistan",keywords:["flag"]},"1f1f9-1f1ff":{code:"1f1f9-1f1ff",category:"flags",shortname:":flag_tz:",name:"Tanzania",keywords:["flag"]},"1f1f9-1f1ed":{code:"1f1f9-1f1ed",category:"flags",shortname:":flag_th:",name:"Thailand",keywords:["flag"]},"1f1f9-1f1f1":{code:"1f1f9-1f1f1",category:"flags",shortname:":flag_tl:",name:"Timor-Leste",keywords:["flag"]},"1f1f9-1f1ec":{code:"1f1f9-1f1ec",category:"flags",shortname:":flag_tg:",name:"Togo",keywords:["flag"]},"1f1f9-1f1f0":{code:"1f1f9-1f1f0",category:"flags",shortname:":flag_tk:",name:"Tokelau",keywords:["flag"]},"1f1f9-1f1f4":{code:"1f1f9-1f1f4",category:"flags",shortname:":flag_to:",name:"Tonga",keywords:["flag"]},"1f1f9-1f1f9":{code:"1f1f9-1f1f9",category:"flags",shortname:":flag_tt:",name:"Trinidad &amp; Tobago",keywords:["flag"]},"1f1f9-1f1f3":{code:"1f1f9-1f1f3",category:"flags",shortname:":flag_tn:",name:"Tunisia",keywords:["flag"]},"1f1f9-1f1f7":{code:"1f1f9-1f1f7",category:"flags",shortname:":flag_tr:",name:"Turkey",keywords:["flag"]},"1f1f9-1f1f2":{code:"1f1f9-1f1f2",category:"flags",shortname:":flag_tm:",name:"Turkmenistan",keywords:["flag"]},"1f1f9-1f1e8":{code:"1f1f9-1f1e8",category:"flags",shortname:":flag_tc:",name:"Turks &amp; Caicos Islands",keywords:["flag"]},"1f1fb-1f1ee":{code:"1f1fb-1f1ee",category:"flags",shortname:":flag_vi:",name:"U.S. Virgin Islands",keywords:["flag"]},"1f1f9-1f1fb":{code:"1f1f9-1f1fb",category:"flags",shortname:":flag_tv:",name:"Tuvalu",keywords:["flag"]},"1f1fa-1f1ec":{code:"1f1fa-1f1ec",category:"flags",shortname:":flag_ug:",name:"Uganda",keywords:["flag"]},"1f1fa-1f1e6":{code:"1f1fa-1f1e6",category:"flags",shortname:":flag_ua:",name:"Ukraine",keywords:["flag"]},"1f1e6-1f1ea":{code:"1f1e6-1f1ea",category:"flags",shortname:":flag_ae:",name:"United Arab Emirates",keywords:["flag"]},"1f1ec-1f1e7":{code:"1f1ec-1f1e7",category:"flags",shortname:":flag_gb:",name:"United Kingdom",keywords:["flag"]},"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f":{code:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",category:"flags",shortname:":england:",name:"England",keywords:["flag"]},"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f":{code:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",category:"flags",shortname:":scotland:",name:"Scotland",keywords:["flag"]},"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f":{code:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",category:"flags",shortname:":wales:",name:"Wales",keywords:["flag"]},"1f1fa-1f1f8":{code:"1f1fa-1f1f8",category:"flags",shortname:":flag_us:",name:"United States",keywords:["flag"]},"1f1fa-1f1fe":{code:"1f1fa-1f1fe",category:"flags",shortname:":flag_uy:",name:"Uruguay",keywords:["flag"]},"1f1fa-1f1ff":{code:"1f1fa-1f1ff",category:"flags",shortname:":flag_uz:",name:"Uzbekistan",keywords:["flag"]},"1f1fb-1f1fa":{code:"1f1fb-1f1fa",category:"flags",shortname:":flag_vu:",name:"Vanuatu",keywords:["flag"]},"1f1fb-1f1e6":{code:"1f1fb-1f1e6",category:"flags",shortname:":flag_va:",name:"Vatican City",keywords:["flag"]},"1f1fb-1f1ea":{code:"1f1fb-1f1ea",category:"flags",shortname:":flag_ve:",name:"Venezuela",keywords:["flag"]},"1f1fb-1f1f3":{code:"1f1fb-1f1f3",category:"flags",shortname:":flag_vn:",name:"Vietnam",keywords:["flag"]},"1f1fc-1f1eb":{code:"1f1fc-1f1eb",category:"flags",shortname:":flag_wf:",name:"Wallis &amp; Futuna",keywords:["flag"]},"1f1ea-1f1ed":{code:"1f1ea-1f1ed",category:"flags",shortname:":flag_eh:",name:"Western Sahara",keywords:["flag"]},"1f1fe-1f1ea":{code:"1f1fe-1f1ea",category:"flags",shortname:":flag_ye:",name:"Yemen",keywords:["flag"]},"1f1ff-1f1f2":{code:"1f1ff-1f1f2",category:"flags",shortname:":flag_zm:",name:"Zambia",keywords:["flag"]},"1f1ff-1f1fc":{code:"1f1ff-1f1fc",category:"flags",shortname:":flag_zw:",name:"Zimbabwe",keywords:["flag"]},"1f1e6-1f1e8":{code:"1f1e6-1f1e8",category:"flags",shortname:":flag_ac:",name:"Ascension Island",keywords:["flag"]},"1f1e7-1f1fb":{code:"1f1e7-1f1fb",category:"flags",shortname:":flag_bv:",name:"Bouvet Island",keywords:["flag"]},"1f1e8-1f1f5":{code:"1f1e8-1f1f5",category:"flags",shortname:":flag_cp:",name:"Clipperton Island",keywords:["flag"]},"1f1ea-1f1e6":{code:"1f1ea-1f1e6",category:"flags",shortname:":flag_ea:",name:"Ceuta &amp; Melilla",keywords:["flag"]},"1f1e9-1f1ec":{code:"1f1e9-1f1ec",category:"flags",shortname:":flag_dg:",name:"Diego Garcia",keywords:["flag"]},"1f1ed-1f1f2":{code:"1f1ed-1f1f2",category:"flags",shortname:":flag_hm:",name:"Heard &amp; McDonald Islands",keywords:["flag"]},"1f1f2-1f1eb":{code:"1f1f2-1f1eb",category:"flags",shortname:":flag_mf:",name:"St. Martin",keywords:["flag"]},"1f1f8-1f1ef":{code:"1f1f8-1f1ef",category:"flags",shortname:":flag_sj:",name:"Svalbard &amp; Jan Mayen",keywords:["flag"]},"1f1f9-1f1e6":{code:"1f1f9-1f1e6",category:"flags",shortname:":flag_ta:",name:"Tristan da Cunha",keywords:["flag"]},"1f1fa-1f1f2":{code:"1f1fa-1f1f2",category:"flags",shortname:":flag_um:",name:"U.S. Outlying Islands",keywords:["flag"]},"1f1fa-1f1f3":{code:"1f1fa-1f1f3",category:"flags",shortname:":united_nations:",name:"United Nations",keywords:["flag"]}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(200)),s=i(n(201)),c=i(n(202)),u=i(n(203));t.default=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(e){case"picture":return[2,a.default()];case"solid_color":return[2,s.default()];case"gradient":return[2,c.default()];case"pattern":return[2,u.default()];default:return[2,a.default()]}return[2]}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48);t.default=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,i.apiFetch("/api/themes/map")];case 1:if((e=t.sent())&&Array.isArray(e))return[2,e];throw e?new Error("Did not get an array of wall themes"):new Error("Did not get any wall themes")}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(145),a=n(48),s="/static/v1/api/links";t.default=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,5,,7]),[4,i.getBy("links_v1","id",e)];case 2:return(t=n.sent())?[3,4]:(console.log("FS empty for url "+e),[4,a.apiFetch(s,{query:{url:e}})]);case 3:t=n.sent(),n.label=4;case 4:return[3,7];case 5:return n.sent(),console.log("FS errored out for url "+e),[4,a.apiFetch(s,{query:{url:e}})];case 6:return t=n.sent(),[3,7];case 7:return[2,t]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(145),a=n(48),s="/static/v1/api/links";t.default=function(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,i.getCollection("links_v1")];case 1:return n=r.sent(),[2,n.where("id","==",e).limit(1).onSnapshot((function(n){0===n.docs.length?a.apiFetch(s,{query:{url:e}}):t(n.docs[0].data())}))]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(288)),i=r(n(289)),a=r(n(291)),s=r(n(293)),c=r(n(294)),u=n(74);t.buildDisplayAttributesFromLink=function(e,t){var n={};n.url=e.url,n.content_category=e.content_category||"unknown",n.content_subcategory=e.content_subcategory||"",n.extension=e.extension||"",n.title=o.default(e),n.description=a.default(e);var r=i.default(e,t);return n.image_url=r.url,n.image_width=r.width,n.image_height=r.height,n.image_color=r.color,n.image_aspect_ratio=r.aspect_ratio,n.image_luminance=r.luminance,n.embed_code=c.default(e,r,t),n.show_meta=!!n.title,n.is_tiny=r.width<100&&r.height<100,n.is_downloadable=u.isStatic(e),n.is_fallback=!e.preview_image||!e.preview_image.url,n.provider_name=s.default(e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74);t.default=function(e){return e.title?r.isPhoto(e)&&r.isStatic(e)?"":e.extension&&e.title.toLowerCase().endsWith("."+e.extension.toLowerCase())?e.title.replace(new RegExp("."+e.extension+"$","i"),"").replace(/\_/g," ").replace(/\s+/g," "):e.title:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(290),i=n(204),a=n(74),s={photo:1.333333333,audio:1,video:1.777777778,document:1.414285714,file:1.904761905,page:1.904761905,unknown:1.904761905},c="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";t.default=function(e,t){if(e.preview_image){var n=e.preview_image,u=t.width,l=a.isPhoto(e)?n.width/n.height:s[e.content_category],f=Math.floor(u/l),d="photo"===e.content_category?"limit":"lfill",h=function(e,t){return"document"!==e||"pdf"!==t&&"doc"!==t&&"spreadsheet"!==t?"auto":"north"}(e.content_category,e.content_subcategory),p=t.dpr,m=function(e){return"rgb("+e[0]+","+e[1]+","+e[2]+")"}(n.colors[0].color),y={width:u,dpr:p,crop:d};return"auto"!==h&&(y.gravity=h),a.isVideo(e)&&(y.trim=!0),a.isPhoto(e)?y.height=f:y.ar=l,{url:r.processedUrl(n.url,y),width:u,height:f,aspect_ratio:l,color:m,luminance:o.getName(n.colors[0].color)}}var g=c;return u=t.width,l=s[e.content_category],{url:g,width:u,height:f=Math.floor(u/l),aspect_ratio:l,color:"",luminance:i.BeethovenLuminance.unknown}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(204);function o(e){return Math.round(.299*e[0]+.587*e[1]+.114*e[2])}function i(e){return o(e)>170?r.BeethovenLuminance.light:r.BeethovenLuminance.dark}t.getValue=o,t.getName=i,t.isLight=function(e){return i(e)==r.BeethovenLuminance.light},t.isDark=function(e){return i(e)==r.BeethovenLuminance.dark}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(292)),i=n(74);t.default=function(e){var t="";if(i.isFile(e)){var n=e.size;t=o.default(n,{round:0})+" "+e.extension+" file"}else if(i.isStatic(e)){if(i.isAudio(e)||i.isVideo(e)){if(e.metadata&&e.metadata.duration){var r=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60,o=n<10?"0"+n:n,i=r<10?"0"+r:r;return t>0?[t<10?"0"+t:t,o,i].join(":"):[o,i].join(":")}(e.metadata.duration);t=i.isAudio(e)?r+" audio":r+" video"}}else if(i.isDocument(e)){if(i.isCode(e))t=e.extension.toUpperCase()+" code";else if(i.isPdf(e))t="PDF document";else if(i.isWordDocument(e))t="Word document";else if(i.isPowerpointPresentation(e))t="Powerpoint presentation";else if(i.isExcelSpreadsheet(e))t="Excel spreadsheet";else{t=e.extension.toUpperCase()+" document"}}}else e.description?t=e.description:e.authors&&e.authors[0]&&e.authors[0].name&&(t="by "+e.authors[0].name);return t}},function(e,t,n){"use strict";(function(t){!function(t){var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},o={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function i(e){var t,i,a,s,c,u,l,f,d,h,p,m,y,g,v,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},w=[],_=0,k=void 0,E=void 0;if(isNaN(e))throw new TypeError("Invalid number");return i=!0===b.bits,p=!0===b.unix,t=b.base||2,h=void 0!==b.round?b.round:p?1:2,u=void 0!==b.locale?b.locale:"",l=b.localeOptions||{},m=void 0!==b.separator?b.separator:"",y=void 0!==b.spacer?b.spacer:p?"":" ",v=b.symbols||{},g=2===t&&b.standard||"jedec",d=b.output||"string",s=!0===b.fullform,c=b.fullforms instanceof Array?b.fullforms:[],k=void 0!==b.exponent?b.exponent:-1,a=2<t?1e3:1024,(f=(E=Number(e))<0)&&(E=-E),(-1===k||isNaN(k))&&(k=Math.floor(Math.log(E)/Math.log(a)))<0&&(k=0),8<k&&(k=8),"exponent"===d?k:(0===E?(w[0]=0,w[1]=p?"":r[g][i?"bits":"bytes"][k]):(_=E/(2===t?Math.pow(2,10*k):Math.pow(1e3,k)),i&&a<=(_*=8)&&k<8&&(_/=a,k++),w[0]=Number(_.toFixed(0<k?h:0)),w[0]===a&&k<8&&void 0===b.exponent&&(w[0]=1,k++),w[1]=10===t&&1===k?i?"kb":"kB":r[g][i?"bits":"bytes"][k],p&&(w[1]="jedec"===g?w[1].charAt(0):0<k?w[1].replace(/B$/,""):w[1],n.test(w[1])&&(w[0]=Math.floor(w[0]),w[1]=""))),f&&(w[0]=-w[0]),w[1]=v[w[1]]||w[1],!0===u?w[0]=w[0].toLocaleString():0<u.length?w[0]=w[0].toLocaleString(u,l):0<m.length&&(w[0]=w[0].toString().replace(".",m)),"array"===d?w:(s&&(w[1]=c[k]?c[k]:o[g][k]+(i?"bit":"byte")+(1===w[0]?"":"s")),"object"===d?{value:w[0],symbol:w[1]}:w.join(y)))}i.partial=function(e){return function(t){return i(t,e)}},e.exports=i}("undefined"!=typeof window&&window)}).call(this,n(28))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74);t.default=function(e){return r.isPadlet(e)?r.firstAuthorName(e)||"Padlet":e.provider_name}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74);function o(e,t){void 0===t&&(t={});var n='<iframe src="'+e+'" frameborder="0" allowfullscreen allowtransparency';return t.isFixedWidth&&(n+=' class="is-fixed-width"'),t.width&&(n+=' width="'+t.width+'"'),t.height&&(n+=' height="'+t.height+'"'),n+="></iframe>"}function i(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);return t>0&&n>0?'<img src="'+e+'" width="'+t+'" height="'+n+'" />':'<img src="'+e+'" />'}t.default=function(e,t,n){return r.isAudio(e)&&r.isStatic(e)?o((a=e.url,"https://padlet.com/beethoven/play?url="+encodeURIComponent(a)),{width:640,height:640}):r.isVideo(e)&&r.isStatic(e)&&!e.embed_code?o(function(e){return"https://padlet.com/beethoven/play?url="+encodeURIComponent(e)}(e.url),{width:640,height:360}):r.isPhoto(e)&&!e.embed_code?t?i(t.url,t.width,t.height):i(e.url):r.isFile(e)?o(function(e){return"https://padlet.com/beethoven/download?url="+encodeURIComponent(e)}(e.url)):r.isPdf(e)?o(function(e){return"https://xp.padletcdn.com/proxy?url="+encodeURIComponent(e)}(e.url)):r.isPlainText(e)?o(function(e){return"https://padlet.com/beethoven/textview?url="+encodeURIComponent(e)}(e.url)):r.isAmpablePage(e)?o("https://cdn.ampproject.org/c/"+e.amp_url.replace(/https?\:\/\//,""),{isFixedWidth:!0}):e.embed_code&&e.embed_code.includes("snapview")?"":r.isPadlet(e)?"":e.embed_code?e.embed_code:"";var a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(e,t,n){"use strict";var r=n(114);n.n(r).a},function(e,t,n){"use strict";var r=n(115);n.n(r).a},function(e,t){e.exports=/<%=([\s\S]+?)%>/g},function(e,t,n){"use strict";var r=n(406)(!0);n(300)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(147),o=n(84),i=n(302),a=n(101),s=n(150),c=n(407),u=n(170),l=n(411),f=n(58)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,y,g){c(n,t,p);var v,b,w,_=function(e){if(!d&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",E="values"==m,C=!1,O=e.prototype,S=O[f]||O["@@iterator"]||m&&O[m],T=S||_(m),P=m?E?_("entries"):T:void 0,A="Array"==t&&O.entries||S;if(A&&(w=l(A.call(new e)))!==Object.prototype&&w.next&&(u(w,k,!0),r||"function"==typeof w[f]||a(w,f,h)),E&&S&&"values"!==S.name&&(C=!0,T=function(){return S.call(this)}),r&&!g||!d&&!C&&O[f]||a(O,f,T),s[t]=T,s[k]=h,m)if(v={values:E?T:_("values"),keys:y?T:_("keys"),entries:P},g)for(b in v)b in O||i(O,b,v[b]);else o(o.P+o.F*(d||C),t,v);return v}},function(e,t,n){e.exports=!n(86)&&!n(149)((function(){return 7!=Object.defineProperty(n(230)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=n(101)},function(e,t,n){var r=n(102),o=n(133),i=n(409)(!1),a=n(233)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(151);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(228),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(54).document;e.exports=r&&r.documentElement},function(e,t,n){n(412);for(var r=n(54),o=n(101),i=n(150),a=n(58)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[a]&&o(f,a,u),i[u]=i.Array}},function(e,t,n){var r=n(303),o=n(235).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(171),o=n(167),i=n(133),a=n(231),s=n(102),c=n(301),u=Object.getOwnPropertyDescriptor;t.f=n(86)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){var r=n(151),o=n(58)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(85),o=n(166),i=n(58)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(148),s=n(434),c=n(306),u=n(230),l=n(54),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,y=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){v.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},h=function(e){delete g[e]},"process"==n(151)(f)?r=function(e){f.nextTick(a(v,e,1))}:m&&m.now?r=function(e){m.now(a(v,e,1))}:p?(i=(o=new p).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:d,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(85),o=n(95),i=n(240);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";e.exports={wallEndpoint:function(e){return"walls/"+e.wallId},privacyPolicyEndpoint:function(e){return"privacy_policies/"+e.privacyPolicyId},contributorSearchEndpoint:function(e){var t=e.query,n=e.limit;return n=n||5,"search/collaborators?q="+encodeURIComponent(t)+"&limit="+n},sendInvitationEndpoint:function(e){var t=e.privacyPolicyId;e.userId;return"privacy_policies/"+t+"/reinvite"}}},function(e,t,n){"use strict";var r=c(n(241)),o=c(n(172)),i=c(n(173)),a=c(n(174)),s=c(n(175));function c(e){return e&&e.__esModule?e:{default:e}}var u,l=n(242),f=l.numberToPermissionLookup,d=l.permissionToNumberLookup,h=l.CAN_READ,p=l.CAN_WRITE,m=l.CAN_EDIT,y=l.CAN_ADMINISTER,g=n(316),v=g.contributorSearchEndpoint,b=g.sendInvitationEndpoint,w=function(){function e(t){(0,a.default)(this,e),this.attributes=t,this.client=t.client}var t;return(0,s.default)(e,[{key:"resendInvitation",value:(t=(0,i.default)(o.default.mark((function e(t){t.host,t.protocol;var n=t.privacyPolicyId;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.post(b({privacyPolicyId:n}),{invite_user_id:this.userId});case 2:return this._isInvitationSent=!0,e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"email",get:function(){return this.attributes.email}},{key:"userId",get:function(){return this.attributes.id}},{key:"username",get:function(){return this.attributes.username}},{key:"name",get:function(){return this.attributes.name}},{key:"avatar",get:function(){return this.attributes.avatar||"https://resources.padletcdn.com/avatars/alien1.png"}},{key:"shortName",get:function(){return this.attributes.short_name||this.attributes.shortName}},{key:"right",get:function(){return this.attributes.right||this.attributes.access}},{key:"permission",get:function(){return f(this.attributes.right||this.attributes.access)},set:function(e){"string"!==typeof e?console.error(e+" should be a string"):[h,p,m,y].indexOf(e)<0?console.error(e+" not an allowed permission"):(this.attributes.right=d(e),this.attributes.access=this.attributes.right)}},{key:"canRead",get:function(){return this.permission===h},set:function(e){!0===e&&(this.permission=h)}},{key:"canWrite",get:function(){return this.permission===p},set:function(e){!0===e&&(this.permission=p)}},{key:"canEdit",get:function(){return this.permission===m},set:function(e){!0===e&&(this.permission=m)}},{key:"canAdminister",get:function(){return this.permission===y},set:function(e){!0===e&&(this.permission=y)}},{key:"isInvitationSent",get:function(){return"undefined"===typeof this._isInvitationSent&&(this._isInvitationSent=!1),this._isInvitationSent}}]),e}(),_=(u=(0,i.default)(o.default.mark((function e(t,n){var i,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(v((0,r.default)({query:n},s)));case 2:return i=e.sent,a=s.defaultPermission||h,e.abrupt("return",(i||[]).map((function(e){var n=e.username,r=e.avatar,o=e.name,i=e.shortName,s=e.short_name,c=e.id;return new w({right:d(a),client:t,id:c,short_name:s,shortName:i,username:n,avatar:r,name:o})})));case 5:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return u.apply(this,arguments)});e.exports={Contributor:w,searchContributors:_}},function(e,t,n){"use strict";var r=n(2),o=n(13),i=n(7);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={data:function(){return{dblClickToPostSubscribed:!1}},methods:s({},Object(r.b)("post",["startNewPost"]),{enableDoubleClickToPost:function(e,t){var n=this,r=e||document.getElementById("wall-container"),a=t||document.getElementById("wish-list"),c=Object(i.a)(r);if(this.dblClickToPostSubscribed)return!1;c.on("doubletap.doubleclicktopost dblclick.doubleclicktopost",(function(e){if(e.target==a||e.target==r||e.target.classList.contains("wish-wrapper")||Object(i.a)(e.target).is("padlet-sections")){e.preventDefault();var t=e;e.pageX||(e.originalEvent.pageX?t=e.originalEvent:e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches.item(0)));var c={};c.left=t.pageX-a.getBoundingClientRect().left||0,c.top=t.pageY-a.getBoundingClientRect().top||0,Object(o.a)("Posts","add","Double Click"),n.startNewPost({attributes:s({},c)})}})),this.dblClickToPostSubscribed=!0},disableDoubleClickToPost:function(e){var t=e||document.getElementById("wall-container");Object(i.a)(t).off(".doubleclicktopost"),this.dblClickToPostSubscribed=!1}})}},,function(e,t,n){"use strict";var r=n(25),o=n.n(r),i=n(2),a=n(7),s=n(10),c=n(245),u=n(9),l=n(27),f=n(137);function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y,g,v={components:{BaseIcon:u.a,BaseImage:c.a},mixins:[s.a],props:["post","url","width","height","actionable","isMapPostPreview"],data:function(){return{canBeActioned:"no"!==this.actionable,showPreview:!0,showEmbed:!1,link:null,isLoaded:null,isTiny:null,isFallback:null,previewImageSrc:null,previewImageWidth:null,previewImageHeight:null,previewImageColor:null,previewImageAspectRatio:null,previewImageLuminance:null,showMeta:null,title:null,downloadFileName:null,description:null,providerName:null,contentCategory:null,contentSubcategory:null,extension:null,embedCode:null,isDownloadable:null,showHtml:!1,embedHtml:null,embedMetaHeight:null}},computed:p({},Object(i.e)(["dpr","isApp","isMobile","isPhone","canPostMessage"]),{},Object(i.e)("postAction",["currentlyPlayingPostCid"]),{postWidth:function(){return this.width},postHeight:function(){return Math.floor(this.width/this.previewImageAspectRatio)}}),watch:{width:function(e){var t=this;e>this.previewImageWidth&&this.$nextTick((function(){t.getBeethovenAttributes()}))},currentlyPlayingPostCid:function(e){!this.showPreview&&e&&this.post.cid!==e&&this.backToPreview()}},mounted:function(){var e=this;this.$nextTick((function(){e.getBeethovenAttributes()}))},beforeDestroy:function(){this.unsetAsCurrentlyPlayingPost()},methods:p({},Object(i.b)("postAction",["expandPost","zoomPost","setCurrentlyPlayingPost","unsetCurrentlyPlayingPost"]),{},Object(i.b)("nativeApp",["openLink"]),{},Object(i.b)("attachment",["updateLinkDisplayAttributes"]),{addQueryParams:function(e,t){return e.match(/\?/)?[e,t].join("&"):[e,t].join("?")},playInApp:function(){var e="external";"padlet"===this.contentSubcategory?e="padlet":"photo"===this.contentCategory||"file"===this.contentCategory?e="internal_mediaplayer":"page"!==this.contentCategory&&"document"!==this.contentCategory||(e="internal_webview"),this.openLink({url:this.url,linkType:e,contentCategory:this.contentCategory,contentSubcategory:this.contentSubcategory})},unsetAsCurrentlyPlayingPost:function(){this.currentlyPlayingPostCid===this.post.cid&&this.unsetCurrentlyPlayingPost({cid:this.post.cid})},play:function(e){if(!this.canBeActioned)return!1;if(Object(a.a)(this.$el).parents(".noclick,.is-dragging").length>0)return e.preventDefault(),!1;if("video"===this.contentCategory||"audio"===this.contentCategory)return this.embedInline(),e.preventDefault(),!1;if(this.isApp&&this.canPostMessage)return this.playInApp(),!1;if(this.isPhone){if("photo"===this.contentCategory)return this.zoom(),e.preventDefault(),!1}else if(this.embedCode&&"padlet"!==this.contentSubcategory)return this.zoom(),e.preventDefault(),!1;return!0},embedInline:function(){this.setCurrentlyPlayingPost({cid:this.post.cid}),this.showPreview=!1,this.showEmbed=!0,this.embedHtml=this.embedCode;var e=Object(a.a)(this.embedCode);if(e.is("iframe")){e.attr({width:this.postWidth||this.previewImageWidth,height:this.postHeight||this.previewImageHeight}).css("background",this.previewImageColor);var t=e.attr("src"),n=this.addQueryParams(t,"autoplay=1");"youtube"===this.providerName.toLowerCase()&&(n=this.addQueryParams(n,"rel=0")),e.attr("src",n),this.embedHtml=e[0].outerHTML,this.embedMetaHeight=Object(a.a)(".beethoven-preview-meta",this.$el).height()}Object(a.a)(this.$el).parents(".wish").addClass("is-playing")},zoom:function(){this.backToPreview(),this.zoomPost({zoomedPostCid:this.post?this.post.cid:null,zoomedLink:this.link}),this.post&&this.post.id&&Object(a.a)(this.$el).parents(".wish").addClass("is-zoomed")},backToPreview:function(){return this.showPreview=!0,this.showEmbed=!1,this.unsetAsCurrentlyPlayingPost(),Object(a.a)(this.$el).parents(".wish").removeClass("is-playing is-zoomed")},expandPost:function(){this.backToPreview(),this.expandPost({postCid:this.post.cid})},openInNew:function(){this.isApp?this.openLink({linkType:"external",url:this.url,contentCategory:this.contentCategory,contentSubcategory:this.contentSubcategory}):window.open(this.url)},getBeethovenAttributes:(y=o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={dpr:this.dpr,locale:l.a,width:this.width,height:this.height,updated_at:this.updatedAt},e.next=3,Object(f.a)(this.url,t);case 3:n=e.sent,this.updateLinkDisplayAttributes({url:this.url,attributes:n}),this.link=n,this.isLoaded=!0,this.isTiny=n.is_tiny,this.isFallback=n.is_fallback,this.previewImageSrc=n.image_url,this.previewImageWidth=n.image_width,this.previewImageHeight=n.image_height,this.previewImageColor=n.image_color,this.previewImageAspectRatio=n.image_aspect_ratio,this.previewImageLuminance=n.image_luminance,this.showMeta=n.show_meta,this.title=n.title,this.description=n.description,this.providerName=(r=n.provider_name)?"youtube"===r.toLowerCase()?r:r.toLowerCase():"",this.contentCategory=n.content_category,this.contentSubcategory=n.content_subcategory,this.extension=n.extension,this.embedCode=n.embed_code,this.isDownloadable=n.is_downloadable&&!this.isMobile,"file"===this.contentCategory?this.downloadFileName=this.title:this.downloadFileName=!1;case 25:case"end":return e.stop()}var r}),e,this)})),g=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=y.apply(e,t);function i(e){d(o,n,r,i,a,"next",e)}function a(e){d(o,n,r,i,a,"throw",e)}i(void 0)}))},function(){return g.apply(this,arguments)})})},b=(n(464),n(1)),w=Object(b.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["surface-beethoven-preview",e.isMapPostPreview?"map-preview":null]},[e.isLoaded?e._e():n("div",{staticClass:"progress-container"},[e._m(0)]),e._v(" "),e.isLoaded&&e.showPreview?n("a",{class:{"beethoven-preview":!0,"is-fallback":e.isFallback},attrs:{href:e.isMapPostPreview?null:e.url,target:"_blank",rel:"noopener nofollow","data-category":e.contentCategory,"data-subcategory":e.contentSubcategory,download:e.downloadFileName,draggable:"false","data-luminance":e.previewImageLuminance},on:{click:e.play}},[n("base-image",{class:{"beethoven-preview-image":!0,"is-tiny":e.isTiny},attrs:{draggable:"false",loading:"lazy",alt:e.title,src:e.previewImageSrc,"post-width":e.postWidth,"post-height":e.postHeight,width:e.previewImageWidth,height:e.previewImageHeight,"background-color":e.previewImageColor,"data-aspect-ratio":e.previewImageAspectRatio}}),e._v(" "),e.showMeta?n("div",{staticClass:"beethoven-preview-meta",style:{"background-color":e.previewImageColor}},[n("div",{staticClass:"beethoven-title",attrs:{title:e.title}},[e._v(e._s(e.title))]),e._v(" "),e.description?n("div",{staticClass:"beethoven-description",attrs:{title:e.description}},[e._v(e._s(e.description))]):e._e(),e._v(" "),e.providerName?n("div",{staticClass:"beethoven-provider"},[n("div",{staticClass:"beethoven-provider-name caption-type"},[e._v(e._s(e.providerName))])]):e._e()]):e._e(),e._v(" "),"video"==e.contentCategory?n("i",{staticClass:"beethoven-video-play-action beethoven-action"}):e._e(),e._v(" "),"audio"==e.contentCategory?n("i",{staticClass:"beethoven-audio-play-action beethoven-action"}):e._e(),e._v(" "),"file"==e.contentCategory?n("i",{staticClass:"beethoven-file-extension"},[e._v(e._s(e.extension))]):e._e()],1):e._e(),e._v(" "),e.showEmbed?n("div",{staticClass:"beethoven-inline-embed"},[n("div",{staticClass:"beethoven-inline-embed-container",style:{"background-color":e.previewImageColor},attrs:{"data-aspect-ratio":e.previewImageAspectRatio},domProps:{innerHTML:e._s(e.embedHtml)}}),e._v(" "),n("div",{staticClass:"beethoven-inline-embed-actions",style:{"background-color":e.previewImageColor,height:e.embedMetaHeight+"px"},attrs:{"data-luminance":e.previewImageLuminance}},[n("div",{staticClass:"button-list"},[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Back to preview",expression:"'Back to preview'",arg:"title"}],staticClass:"icon-button",on:{click:e.backToPreview}},[n("base-icon",{attrs:{name:"arrow_back"}})],1)]),e._v(" "),n("div",{staticClass:"button-list"},[n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Zoom",expression:"'Zoom'",arg:"title"}],staticClass:"icon-button",on:{click:e.zoom}},[n("base-icon",{attrs:{name:"zoom_in"}})],1),e._v(" "),e.isDownloadable?n("a",{staticClass:"icon-button",attrs:{target:"_blank",download:e.title,href:e.url,title:e.__("Download"),draggable:"false"}},[n("base-icon",{attrs:{name:"download"}})],1):e._e(),e._v(" "),n("button",{directives:[{name:"t",rawName:"v-t:title",value:"Open in new window",expression:"'Open in new window'",arg:"title"}],staticClass:"icon-button",on:{click:e.openInNew}},[n("base-icon",{attrs:{name:"open_in_new"}})],1)])])]):e._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-indeterminate"})])}],!1,null,"1710cf5b",null);t.a=w.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(13),o=function(){return Object(r.a)("Surface","Print Dialog")},i=function(){window.matchMedia&&window.matchMedia("print").addListener((function(e){e.matches&&o()}));window.onbeforeprint=o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(44),o=window.location.hash,i="#settings",a="#share",s="#remake",c=function(){return history.replaceState("",document.title,window.location.pathname)},u=function(){o===i?(r.b.dispatch("settings/showSettingsPanel"),c()):o===a?(r.b.dispatch("share/showSharePanel"),c()):o===s&&(r.b.dispatch("showRemakePanel"),c())}},function(e,t,n){(function(e,r){var o=n(298),i=n(402),a=800,s=16,c=1/0,u=9007199254740991,l="[object Arguments]",f="[object AsyncFunction]",d="[object DOMException]",h="[object Error]",p="[object Function]",m="[object GeneratorFunction]",y="[object Null]",g="[object Object]",v="[object Proxy]",b="[object Symbol]",w="[object Undefined]",_=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,O=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,T=/($^)/,P=/['\n\r\u2028\u2029\\]/g,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[l]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A[h]=A[p]=A["[object Map]"]=A["[object Number]"]=A[g]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;var I={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},x="object"==typeof e&&e&&e.Object===Object&&e,j="object"==typeof self&&self&&self.Object===Object&&self,D=x||j||Function("return this")(),N=t&&!t.nodeType&&t,R=N&&"object"==typeof r&&r&&!r.nodeType&&r,M=R&&R.exports===N,L=M&&x.process,F=function(){try{var e=R&&R.require&&R.require("util").types;return e||L&&L.binding&&L.binding("util")}catch(t){}}(),B=F&&F.isTypedArray;function U(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function q(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function V(e){return"\\"+I[e]}function W(e,t){return function(n){return e(t(n))}}var G,H=Function.prototype,z=Object.prototype,Q=D["__core-js_shared__"],$=H.toString,K=z.hasOwnProperty,Y=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",X=z.toString,J=$.call(Object),Z=RegExp("^"+$.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=M?D.Buffer:void 0,te=D.Symbol,ne=W(Object.getPrototypeOf,Object),re=z.propertyIsEnumerable,oe=te?te.toStringTag:void 0,ie=function(){try{var e=(t=Object,function(e){return!(!Me(e)||(t=e,Y&&Y in t))&&(Ne(e)?Z:O).test(function(e){if(null!=e){try{return $.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}(n=function(e,t){return null==e?void 0:e[t]}(t,"defineProperty"))?n:void 0);return e({},"",{}),e}catch(r){}var t,n}(),ae=ee?ee.isBuffer:void 0,se=W(Object.keys,Object),ce=Math.max,ue=Date.now,le=te?te.prototype:void 0,fe=le?le.toString:void 0;function de(e,t){var n=Ie(e),r=!n&&Ae(e),o=!n&&!r&&je(e),i=!n&&!r&&!o&&Fe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!K.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_e(u,c))||s.push(u);return s}function he(e,t,n){var r=e[t];K.call(e,t)&&Pe(r,n)&&(void 0!==n||t in e)||pe(e,t,n)}function pe(e,t,n){"__proto__"==t&&ie?ie(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function me(e){return null==e?void 0===e?w:y:oe&&oe in Object(e)?function(e){var t=K.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(i){}var o=X.call(e);r&&(t?e[oe]=n:delete e[oe]);return o}(e):function(e){return X.call(e)}(e)}function ye(e){return Le(e)&&me(e)==l}function ge(e){if(!Me(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ee(e),n=[];for(var r in e)("constructor"!=r||!t&&K.call(e,r))&&n.push(r);return n}function ve(e,t){return Te(function(e,t,n){return t=ce(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=ce(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),U(e,this,s)}}(e,t,We),e+"")}function be(e){if("string"==typeof e)return e;if(Ie(e))return q(e,be)+"";if(function(e){return"symbol"==typeof e||Le(e)&&me(e)==b}(e))return fe?fe.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}function we(e,t,n,r){return void 0===e||Pe(e,z[n])&&!K.call(r,n)?t:e}function _e(e,t){var n=typeof e;return!!(t=null==t?u:t)&&("number"==n||"symbol"!=n&&S.test(e))&&e>-1&&e%1==0&&e<t}function ke(e,t,n){if(!Me(n))return!1;var r=typeof t;return!!("number"==r?xe(n)&&_e(t,n.length):"string"==r&&t in n)&&Pe(n[t],e)}function Ee(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||z)}var Ce,Oe,Se,Te=(Ce=ie?function(e,t){return ie(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:We,Oe=0,Se=0,function(){var e=ue(),t=s-(e-Se);if(Se=e,t>0){if(++Oe>=a)return arguments[0]}else Oe=0;return Ce.apply(void 0,arguments)});function Pe(e,t){return e===t||e!==e&&t!==t}var Ae=ye(function(){return arguments}())?ye:function(e){return Le(e)&&K.call(e,"callee")&&!re.call(e,"callee")},Ie=Array.isArray;function xe(e){return null!=e&&Re(e.length)&&!Ne(e)}var je=ae||function(){return!1};function De(e){if(!Le(e))return!1;var t=me(e);return t==h||t==d||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!Le(e)||me(e)!=g)return!1;var t=ne(e);if(null===t)return!0;var n=K.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$.call(n)==J}(e)}function Ne(e){if(!Me(e))return!1;var t=me(e);return t==p||t==m||t==f||t==v}function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Le(e){return null!=e&&"object"==typeof e}var Fe=B?function(e){return function(t){return e(t)}}(B):function(e){return Le(e)&&Re(e.length)&&!!A[me(e)]};var Be,Ue=(Be=function(e,t,n,r){!function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?pe(n,s,c):he(n,s,c)}}(t,function(e){return xe(e)?de(e,!0):ge(e)}(t),e,r)},ve((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Be.length>3&&"function"==typeof o?(r--,o):void 0,i&&ke(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Be(e,a,n,o)}return e})));function qe(e){return xe(e)?de(e):function(e){if(!Ee(e))return se(e);var t=[];for(var n in Object(e))K.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Ve=ve((function(e,t){try{return U(e,void 0,t)}catch(n){return De(n)?n:new Error(n)}}));function We(e){return e}r.exports=function(e,t,n){var r,a=i.imports._.templateSettings||i;n&&ke(e,t,n)&&(t=void 0),e=null==(r=e)?"":be(r),t=Ue({},t,a,we);var s,c,u,l=Ue({},t.imports,a.imports,we),f=qe(l),d=(s=l,q(f,(function(e){return s[e]}))),h=0,p=t.interpolate||T,m="__p += '",y=RegExp((t.escape||T).source+"|"+p.source+"|"+(p===o?C:T).source+"|"+(t.evaluate||T).source+"|$","g"),g=K.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(y,(function(t,n,r,o,i,a){return r||(r=o),m+=e.slice(h,a).replace(P,V),n&&(c=!0,m+="' +\n__e("+n+") +\n'"),i&&(u=!0,m+="';\n"+i+";\n__p += '"),r&&(m+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=a+t.length,t})),m+="';\n";var v=K.call(t,"variable")&&t.variable;v||(m="with (obj) {\n"+m+"\n}\n"),m=(u?m.replace(_,""):m).replace(k,"$1").replace(E,"$1;"),m="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(c?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var b=Ve((function(){return Function(f,g+"return "+m).apply(void 0,d)}));if(b.source=m,De(b))throw b;return b}}).call(this,n(28),n(83)(e))},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,c="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Function]",m="[object GeneratorFunction]",y="[object Map]",g="[object Number]",v="[object Null]",b="[object Object]",w="[object Proxy]",_="[object RegExp]",k="[object Set]",E="[object String]",C="[object Symbol]",O="[object Undefined]",S="[object ArrayBuffer]",T="[object DataView]",P=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[c]=I[u]=I[S]=I[f]=I[T]=I[d]=I[h]=I[p]=I[y]=I[g]=I[b]=I[_]=I[k]=I[E]=I["[object WeakMap]"]=!1;var x="object"==typeof e&&e&&e.Object===Object&&e,j="object"==typeof self&&self&&self.Object===Object&&self,D=x||j||Function("return this")(),N=t&&!t.nodeType&&t,R=N&&"object"==typeof n&&n&&!n.nodeType&&n,M=R&&R.exports===N,L=M&&x.process,F=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function U(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,G,H,z=Array.prototype,Q=Function.prototype,$=Object.prototype,K=D["__core-js_shared__"],Y=Q.toString,X=$.hasOwnProperty,J=(W=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Z=$.toString,ee=RegExp("^"+Y.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=M?D.Buffer:void 0,ne=D.Symbol,re=D.Uint8Array,oe=$.propertyIsEnumerable,ie=z.splice,ae=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,ue=(G=Object.keys,H=Object,function(e){return G(H(e))}),le=Fe(D,"DataView"),fe=Fe(D,"Map"),de=Fe(D,"Promise"),he=Fe(D,"Set"),pe=Fe(D,"WeakMap"),me=Fe(Object,"create"),ye=Ve(le),ge=Ve(fe),ve=Ve(de),be=Ve(he),we=Ve(pe),_e=ne?ne.prototype:void 0,ke=_e?_e.valueOf:void 0;function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])}function Te(e){var t=this.__data__=new Ce(e);this.size=t.size}function Pe(e,t){var n=He(e),r=!n&&Ge(e),o=!n&&!r&&ze(e),i=!n&&!r&&!o&&Xe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!X.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||qe(u,c))||s.push(u);return s}function Ae(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Ie(e){return null==e?void 0===e?O:v:ae&&ae in Object(e)?function(e){var t=X.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(i){}var o=Z.call(e);r&&(t?e[ae]=n:delete e[ae]);return o}(e):function(e){return Z.call(e)}(e)}function xe(e){return Ye(e)&&Ie(e)==c}function je(e,t,n,r,o){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!==e&&t!==t:function(e,t,n,r,o,s){var l=He(e),p=He(t),m=l?u:Ue(e),v=p?u:Ue(t),w=(m=m==c?b:m)==b,O=(v=v==c?b:v)==b,P=m==v;if(P&&ze(e)){if(!ze(t))return!1;l=!0,w=!1}if(P&&!w)return s||(s=new Te),l||Xe(e)?Re(e,t,n,r,o,s):function(e,t,n,r,o,s,c){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case f:case d:case g:return We(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case E:return e==t+"";case y:var u=q;case k:var l=r&i;if(u||(u=V),e.size!=t.size&&!l)return!1;var p=c.get(e);if(p)return p==t;r|=a,c.set(e,t);var m=Re(u(e),u(t),r,o,s,c);return c.delete(e),m;case C:if(ke)return ke.call(e)==ke.call(t)}return!1}(e,t,m,n,r,o,s);if(!(n&i)){var A=w&&X.call(e,"__wrapped__"),I=O&&X.call(t,"__wrapped__");if(A||I){var x=A?e.value():e,j=I?t.value():t;return s||(s=new Te),o(x,j,n,r,s)}}if(!P)return!1;return s||(s=new Te),function(e,t,n,r,o,a){var s=n&i,c=Me(e),u=c.length,l=Me(t).length;if(u!=l&&!s)return!1;var f=u;for(;f--;){var d=c[f];if(!(s?d in t:X.call(t,d)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var p=!0;a.set(e,t),a.set(t,e);var m=s;for(;++f<u;){d=c[f];var y=e[d],g=t[d];if(r)var v=s?r(g,y,d,t,e,a):r(y,g,d,e,t,a);if(!(void 0===v?y===g||o(y,g,n,r,a):v)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,o,s)}(e,t,n,r,je,o))}function De(e){return!(!Ke(e)||function(e){return!!J&&J in e}(e))&&(Qe(e)?ee:P).test(Ve(e))}function Ne(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||$,t!==r)return ue(e);var t,n,r,o=[];for(var i in Object(e))X.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Re(e,t,n,r,o,s){var c=n&i,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,h=!0,p=n&a?new Se:void 0;for(s.set(e,t),s.set(t,e);++d<u;){var m=e[d],y=t[d];if(r)var g=c?r(y,m,d,t,e,s):r(m,y,d,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!U(t,(function(e,t){if(i=t,!p.has(i)&&(m===e||o(m,e,n,r,s)))return p.push(t);var i}))){h=!1;break}}else if(m!==y&&!o(m,y,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Me(e){return function(e,t,n){var r=t(e);return He(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Je,Be)}function Le(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===o?void 0:n}return X.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:X.call(t,e)},Ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?o:t,this},Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,!0)},Ce.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Ae(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(fe||Ce),string:new Ee}},Oe.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},Oe.prototype.get=function(e){return Le(this,e).get(e)},Oe.prototype.has=function(e){return Le(this,e).has(e)},Oe.prototype.set=function(e,t){var n=Le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,o),this},Se.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new Ce,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var o=n.__data__;if(!fe||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(o)}return n.set(e,t),this.size=n.size,this};var Be=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(se(e),(function(t){return oe.call(e,t)})))}:function(){return[]},Ue=Ie;function qe(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return Y.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function We(e,t){return e===t||e!==e&&t!==t}(le&&Ue(new le(new ArrayBuffer(1)))!=T||fe&&Ue(new fe)!=y||de&&"[object Promise]"!=Ue(de.resolve())||he&&Ue(new he)!=k||pe&&"[object WeakMap]"!=Ue(new pe))&&(Ue=function(e){var t=Ie(e),n=t==b?e.constructor:void 0,r=n?Ve(n):"";if(r)switch(r){case ye:return T;case ge:return y;case ve:return"[object Promise]";case be:return k;case we:return"[object WeakMap]"}return t});var Ge=xe(function(){return arguments}())?xe:function(e){return Ye(e)&&X.call(e,"callee")&&!oe.call(e,"callee")},He=Array.isArray;var ze=ce||function(){return!1};function Qe(e){if(!Ke(e))return!1;var t=Ie(e);return t==p||t==m||t==l||t==w}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Xe=B?function(e){return function(t){return e(t)}}(B):function(e){return Ye(e)&&$e(e.length)&&!!I[Ie(e)]};function Je(e){return null!=(t=e)&&$e(t.length)&&!Qe(t)?Pe(e):Ne(e);var t}n.exports=function(e,t){return je(e,t)}}).call(this,n(28),n(83)(e))},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=800,a=16,s=9007199254740991,c="[object Arguments]",u="[object AsyncFunction]",l="[object Function]",f="[object GeneratorFunction]",d="[object Null]",h="[object Object]",p="[object Proxy]",m="[object Undefined]",y=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[c]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[l]=v["[object Map]"]=v["[object Number]"]=v[h]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var b="object"==typeof e&&e&&e.Object===Object&&e,w="object"==typeof self&&self&&self.Object===Object&&self,_=b||w||Function("return this")(),k=t&&!t.nodeType&&t,E=k&&"object"==typeof n&&n&&!n.nodeType&&n,C=E&&E.exports===k,O=C&&b.process,S=function(){try{var e=E&&E.require&&E.require("util").types;return e||O&&O.binding&&O.binding("util")}catch(t){}}(),T=S&&S.isTypedArray;function P(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var A,I,x,j=Array.prototype,D=Function.prototype,N=Object.prototype,R=_["__core-js_shared__"],M=D.toString,L=N.hasOwnProperty,F=(A=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",B=N.toString,U=M.call(Object),q=RegExp("^"+M.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=C?_.Buffer:void 0,W=_.Symbol,G=_.Uint8Array,H=V?V.allocUnsafe:void 0,z=(I=Object.getPrototypeOf,x=Object,function(e){return I(x(e))}),Q=Object.create,$=N.propertyIsEnumerable,K=j.splice,Y=W?W.toStringTag:void 0,X=function(){try{var e=ke(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),J=V?V.isBuffer:void 0,Z=Math.max,ee=Date.now,te=ke(_,"Map"),ne=ke(Object,"create"),re=function(){function e(){}return function(t){if(!Ne(t))return{};if(Q)return Q(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=this.__data__=new ie(e);this.size=t.size}function ce(e,t){var n=Ae(e),r=!n&&Pe(e),o=!n&&!r&&xe(e),i=!n&&!r&&!o&&Me(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!L.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ee(u,c))||s.push(u);return s}function ue(e,t,n){(void 0===n||Te(e[t],n))&&(void 0!==n||t in e)||de(e,t,n)}function le(e,t,n){var r=e[t];L.call(e,t)&&Te(r,n)&&(void 0!==n||t in e)||de(e,t,n)}function fe(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}function de(e,t,n){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}oe.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},oe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},oe.prototype.get=function(e){var t=this.__data__;if(ne){var n=t[e];return n===o?void 0:n}return L.call(t,e)?t[e]:void 0},oe.prototype.has=function(e){var t=this.__data__;return ne?void 0!==t[e]:L.call(t,e)},oe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ne&&void 0===t?o:t,this},ie.prototype.clear=function(){this.__data__=[],this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=fe(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},ie.prototype.get=function(e){var t=this.__data__,n=fe(t,e);return n<0?void 0:t[n][1]},ie.prototype.has=function(e){return fe(this.__data__,e)>-1},ie.prototype.set=function(e,t){var n=this.__data__,r=fe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ae.prototype.clear=function(){this.size=0,this.__data__={hash:new oe,map:new(te||ie),string:new oe}},ae.prototype.delete=function(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t},ae.prototype.get=function(e){return _e(this,e).get(e)},ae.prototype.has=function(e){return _e(this,e).has(e)},ae.prototype.set=function(e,t){var n=_e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},se.prototype.clear=function(){this.__data__=new ie,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ie){var o=n.__data__;if(!te||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(o)}return n.set(e,t),this.size=n.size,this};var he,pe=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[he?a:++r];if(!1===t(o[s],s,o))break}return e};function me(e){return null==e?void 0===e?m:d:Y&&Y in Object(e)?function(e){var t=L.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(i){}var o=B.call(e);r&&(t?e[Y]=n:delete e[Y]);return o}(e):function(e){return B.call(e)}(e)}function ye(e){return Re(e)&&me(e)==c}function ge(e){return!(!Ne(e)||function(e){return!!F&&F in e}(e))&&(je(e)?q:y).test(function(e){if(null!=e){try{return M.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ve(e){if(!Ne(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ce(e),n=[];for(var r in e)("constructor"!=r||!t&&L.call(e,r))&&n.push(r);return n}function be(e,t,n,r,o){e!==t&&pe(t,(function(i,a){if(o||(o=new se),Ne(i))!function(e,t,n,r,o,i,a){var s=Oe(e,n),c=Oe(t,n),u=a.get(c);if(u)return void ue(e,n,u);var l=i?i(s,c,n+"",e,t,a):void 0,f=void 0===l;if(f){var d=Ae(c),p=!d&&xe(c),m=!d&&!p&&Me(c);l=c,d||p||m?Ae(s)?l=s:Re(w=s)&&Ie(w)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):p?(f=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=H?H(n):new e.constructor(n);return e.copy(r),r}(c,!0)):m?(f=!1,y=c,g=!0?(v=y.buffer,b=new v.constructor(v.byteLength),new G(b).set(new G(v)),b):y.buffer,l=new y.constructor(g,y.byteOffset,y.length)):l=[]:function(e){if(!Re(e)||me(e)!=h)return!1;var t=z(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==U}(c)||Pe(c)?(l=s,Pe(s)?l=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?de(n,s,c):le(n,s,c)}return n}(e,Le(e))}(s):Ne(s)&&!je(s)||(l=function(e){return"function"!=typeof e.constructor||Ce(e)?{}:re(z(e))}(c))):f=!1}var y,g,v,b;var w;f&&(a.set(c,l),o(l,c,r,i,a),a.delete(c));ue(e,n,l)}(e,t,a,n,be,r,o);else{var s=r?r(Oe(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),ue(e,a,s)}}),Le)}function we(e,t){return Se(function(e,t,n){return t=Z(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Z(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),P(e,this,s)}}(e,t,Ue),e+"")}function _e(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ke(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ge(n)?n:void 0}function Ee(e,t){var n=typeof e;return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&g.test(e))&&e>-1&&e%1==0&&e<t}function Ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}function Oe(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=ee(),o=a-(r-n);if(n=r,o>0){if(++t>=i)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ue);function Te(e,t){return e===t||e!==e&&t!==t}var Pe=ye(function(){return arguments}())?ye:function(e){return Re(e)&&L.call(e,"callee")&&!$.call(e,"callee")},Ae=Array.isArray;function Ie(e){return null!=e&&De(e.length)&&!je(e)}var xe=J||function(){return!1};function je(e){if(!Ne(e))return!1;var t=me(e);return t==l||t==f||t==u||t==p}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ne(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Re(e){return null!=e&&"object"==typeof e}var Me=T?function(e){return function(t){return e(t)}}(T):function(e){return Re(e)&&De(e.length)&&!!v[me(e)]};function Le(e){return Ie(e)?ce(e,!0):ve(e)}var Fe,Be=(Fe=function(e,t,n){be(e,t,n)},we((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Fe.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Ne(n))return!1;var r=typeof t;return!!("number"==r?Ie(n)&&Ee(t,n.length):"string"==r&&t in n)&&Te(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Fe(e,a,n,o)}return e})));function Ue(e){return e}n.exports=Be}).call(this,n(28),n(83)(e))},function(e,t,n){"use strict";function r(e){window.addEventListener("online",(function(){e(!0)})),window.addEventListener("offline",(function(){e(!1)}))}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(t){var n=200,r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var o=e.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,d,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function f(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function d(e){return e!==e}function h(e,t){return e.has(t)}function p(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var m,y=Array.prototype,g=Function.prototype,v=Object.prototype,b=u["__core-js_shared__"],w=(m=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",_=g.toString,k=v.hasOwnProperty,E=v.toString,C=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=y.splice,S=L(u,"Map"),T=L(u,"Set"),P=L(Object,"create");function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.__data__=new x;++t<n;)this.add(e[t])}function D(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!==n&&r!==r)return o;return-1}function N(e){return!(!F(e)||(t=e,w&&w in t))&&(function(e){var t=F(e)?E.call(e):"";return t==o||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?C:a).test(function(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}A.prototype.clear=function(){this.__data__=P?P(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===r?void 0:n}return k.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:k.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?r:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():O.call(t,n,1),!0)},I.prototype.get=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]},I.prototype.has=function(e){return D(this.__data__,e)>-1},I.prototype.set=function(e,t){var n=this.__data__,r=D(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new A,map:new(S||I),string:new A}},x.prototype.delete=function(e){return M(this,e).delete(e)},x.prototype.get=function(e){return M(this,e).get(e)},x.prototype.has=function(e){return M(this,e).has(e)},x.prototype.set=function(e,t){return M(this,e).set(e,t),this},j.prototype.add=j.prototype.push=function(e){return this.__data__.set(e,r),this},j.prototype.has=function(e){return this.__data__.has(e)};var R=T&&1/p(new T([,-0]))[1]==1/0?function(e){return new T(e)}:function(){};function M(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function L(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return N(n)?n:void 0}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,r){var o=-1,i=l,a=e.length,s=!0,c=[],u=c;if(r)s=!1,i=f;else if(a>=n){var d=t?null:R(e);if(d)return p(d);s=!1,i=h,u=new j}else u=t?[]:c;e:for(;++o<a;){var m=e[o],y=t?t(m):m;if(m=r||0!==m?m:0,s&&y===y){for(var g=u.length;g--;)if(u[g]===y)continue e;t&&u.push(y),c.push(m)}else i(u,y,r)||(u!==c&&u.push(y),c.push(m))}return c}(e):[]}}).call(this,n(28))},function(e,t,n){e.exports=function(){"use strict";function e(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function t(e,t){for(var n=e.length-1;0<=n;n--)!0===t(e[n])&&e.splice(n,1)}function n(e){throw new Error("Unhandled case for value: '"+e+"'")}var r=function(){function t(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return t.prototype.setTagName=function(e){return this.tagName=e,this},t.prototype.getTagName=function(){return this.tagName||""},t.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},t.prototype.getAttr=function(e){return this.getAttrs()[e]},t.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},t.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},t.prototype.setClass=function(e){return this.setAttr("class",e)},t.prototype.addClass=function(t){for(var n,r=this.getClass(),o=this.whitespaceRegex,i=r?r.split(o):[],a=t.split(o);n=a.shift();)-1===e(i,n)&&i.push(n);return this.getAttrs().class=i.join(" "),this},t.prototype.removeClass=function(t){for(var n,r=this.getClass(),o=this.whitespaceRegex,i=r?r.split(o):[],a=t.split(o);i.length&&(n=a.shift());){var s=e(i,n);-1!==s&&i.splice(s,1)}return this.getAttrs().class=i.join(" "),this},t.prototype.getClass=function(){return this.getAttrs().class||""},t.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},t.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},t.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},t.prototype.getInnerHTML=function(){return this.innerHTML||""},t.prototype.getInnerHtml=function(){return this.getInnerHTML()},t.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},t.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")},t}(),o=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new r({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var n=[t],r=e.getCssClassSuffixes(),o=0,i=r.length;o<i;o++)n.push(t+"-"+r[o]);return n.join(" ")}return""},e.prototype.processAnchorText=function(e){return this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var n,r,o,i,a=t.length,s=t.location;return"smart"===s?function(e,t,n){var r,o;r=null==n?(n="&hellip;",o=3,8):(o=n.length,n.length);var i=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},a=function(e,t){var r=t/2,o=Math.ceil(r),i=-1*Math.floor(r),a="";return i<0&&(a=e.substr(i)),e.substr(0,o)+n+a};if(e.length<=t)return e;var s,c,u,l=t-o,f=(s={},(u=(c=e).match(/^([a-z]+):\/\//i))&&(s.scheme=u[1],c=c.substr(u[0].length)),(u=c.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(s.host=u[1],c=c.substr(u[0].length)),(u=c.match(/^\/(.*?)(?=(\?|#|$))/i))&&(s.path=u[1],c=c.substr(u[0].length)),(u=c.match(/^\?(.*?)(?=(#|$))/i))&&(s.query=u[1],c=c.substr(u[0].length)),(u=c.match(/^#(.*?)$/i))&&(s.fragment=u[1]),s);if(f.query){var d=f.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);d&&(f.query=f.query.substr(0,d[1].length),e=i(f))}if(e.length<=t)return e;if(f.host&&(f.host=f.host.replace(/^www\./,""),e=i(f)),e.length<=t)return e;var h="";if(f.host&&(h+=f.host),h.length>=l)return f.host.length==t?(f.host.substr(0,t-o)+n).substr(0,l+r):a(h,l).substr(0,l+r);var p="";if(f.path&&(p+="/"+f.path),f.query&&(p+="?"+f.query),p){if(l<=(h+p).length)return(h+p).length==t?(h+p).substr(0,t):(h+a(p,l-h.length)).substr(0,l+r);h+=p}if(f.fragment){var m="#"+f.fragment;if(l<=(h+m).length)return(h+m).length==t?(h+m).substr(0,t):(h+a(m,l-h.length)).substr(0,l+r);h+=m}if(f.scheme&&f.host){var y=f.scheme+"://";if((h+y).length<l)return(y+h).substr(0,t)}if(h.length<=t)return h;var g="";return 0<l&&(g=h.substr(-1*Math.floor(l/2))),(h.substr(0,Math.ceil(l/2))+n+g).substr(0,l+r)}(e,a):"middle"===s?function(e,t,n){if(e.length<=t)return e;var r,o=t-(null==n?(n="&hellip;",r=8,3):(r=n.length,n.length)),i="";return 0<o&&(i=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+n+i).substr(0,o+r)}(e,a):(r=a,o=void 0,(n=e).length>r&&(i=null==o?(o="&hellip;",3):o.length,n=n.substring(0,r-i)+o),n)},e}(),i=function(){function e(e){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.getType()]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e){function t(t){var n=e.call(this,t)||this;return n.email="",n.email=t.email,n}return s(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(i),l=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="",n.hashtag="",n.serviceName=t.serviceName,n.hashtag=t.hashtag,n}return s(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}(i),f=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.mention="",n.mention=t.mention,n.serviceName=t.serviceName,n}return s(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t},t}(i),d=function(e){function t(t){var n=e.call(this,t)||this;return n.number="",n.plusSign=!1,n.number=t.number,n.plusSign=t.plusSign,n}return s(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(i),h=function(e){function t(t){var n=e.call(this,t)||this;return n.url="",n.urlMatchType="scheme",n.protocolUrlMatch=!1,n.protocolRelativeMatch=!1,n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.schemePrefixRegex=/^(https?:\/\/)?/i,n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,n.protocolRelativeRegex=/^\/\//,n.protocolPrepended=!1,n.urlMatchType=t.urlMatchType,n.url=t.url,n.protocolUrlMatch=t.protocolUrlMatch,n.protocolRelativeMatch=t.protocolRelativeMatch,n.stripPrefix=t.stripPrefix,n.stripTrailingSlash=t.stripTrailingSlash,n.decodePercentEncoding=t.decodePercentEncoding,n}return s(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}},t}(i),p=function(e){this.__jsduckDummyDocProp=null,this.tagBuilder=e.tagBuilder},m=/[A-Za-z]/,y=/[0-9]/,g=/\s/,v=/['"]/,b=/[\x00-\x1F\x7F]/,w=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,_=w+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,k=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,E=_+k,C=_+k,O="(?:["+k+"]{1,3}\\.){3}["+k+"]{1,3}",S="["+C+"](?:["+C+"\\-]{0,61}["+C+"])?",T=function(e){return"(?=("+S+"))\\"+e},P=function(e){return"(?:"+T(e)+"(?:\\."+T(e+1)+"){0,126}|"+O+")"},A=new RegExp("["+C+"]"),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPartCharRegex=new RegExp("["+C+"!#$%&'*+/=?^_`{|}~-]"),t}return s(t,e),t.prototype.parseMatches=function(e){for(var t=this.tagBuilder,r=this.localPartCharRegex,o=[],i=e.length,a=new x,s={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},l=0,f=0,d=a;l<i;){var h=e.charAt(l);switch(f){case 0:p(h);break;case 1:m(e.charAt(l-1),h);break;case 2:y(h);break;case 3:g(h);break;case 4:v(h);break;case 5:b(h);break;case 6:w(h);break;case 7:_(h);break;default:n(f)}l++}return C(),o;function p(e){"m"===e?k(1):r.test(e)&&k()}function m(e,t){":"===e?r.test(t)?(f=2,d=new x(c({},d,{hasMailtoPrefix:!0}))):E():s[e]===t||(r.test(t)?f=2:"."===t?f=3:"@"===t?f=4:E())}function y(e){"."===e?f=3:"@"===e?f=4:r.test(e)||E()}function g(e){"."===e?E():"@"===e?E():r.test(e)?f=2:E()}function v(e){A.test(e)?f=5:E()}function b(e){"."===e?f=7:"-"===e?f=6:A.test(e)||C()}function w(e){"-"===e||"."===e?C():A.test(e)?f=5:C()}function _(e){"."===e||"-"===e?C():A.test(e)?(f=5,d=new x(c({},d,{hasDomainDot:!0}))):C()}function k(e){void 0===e&&(e=2),f=e,d=new x({idx:l})}function E(){f=0,d=a}function C(){if(d.hasDomainDot){var n=e.slice(d.idx,l);/[-.]$/.test(n)&&(n=n.slice(0,-1));var r=d.hasMailtoPrefix?n.slice("mailto:".length):n;o.push(new u({tagBuilder:t,matchedText:n,offset:d.idx,email:r}))}E()}},t}(p),x=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.hasMailtoPrefix=!!e.hasMailtoPrefix,this.hasDomainDot=!!e.hasDomainDot},j=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|verm\xf6gensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|verm\xf6gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|\u043c\u043e\u0441\u043a\u0432\u0430|\u043e\u043d\u043b\u0430\u0439\u043d|\u0627\u0628\u0648\u0638\u0628\u064a|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0645\u0627\u0631\u0627\u062a|\u0641\u0644\u0633\u0637\u064a\u0646|\u0645\u0644\u064a\u0633\u064a\u0627|\u092d\u093e\u0930\u0924\u092e\u094d|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|\u0627\u06cc\u0631\u0627\u0646|\u0628\u0627\u0632\u0627\u0631|\u0628\u06be\u0627\u0631\u062a|\u0633\u0648\u062f\u0627\u0646|\u0633\u0648\u0631\u064a\u0629|\u0647\u0645\u0631\u0627\u0647|\u092d\u093e\u0930\u094b\u0924|\u0938\u0902\u0917\u0920\u0928|\u09ac\u09be\u0982\u09b2\u09be|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u5609\u91cc\u5927\u9152\u5e97|aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|\u0434\u0435\u0442\u0438|\u0441\u0430\u0439\u0442|\u0628\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0680\u0627\u0631\u062a|\u062a\u0648\u0646\u0633|\u0634\u0628\u0643\u0629|\u0639\u0631\u0627\u0642|\u0639\u0645\u0627\u0646|\u0645\u0648\u0642\u0639|\u092d\u093e\u0930\u0924|\u09ad\u09be\u09b0\u09a4|\u09ad\u09be\u09f0\u09a4|\u0a2d\u0a3e\u0a30\u0a24|\u0aad\u0abe\u0ab0\u0aa4|\u0b2d\u0b3e\u0b30\u0b24|\u0cad\u0cbe\u0cb0\u0ca4|\u0dbd\u0d82\u0d9a\u0dcf|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u30dd\u30a4\u30f3\u30c8|\u5927\u4f17\u6c7d\u8f66|\u7ec4\u7ec7\u673a\u6784|\u96fb\u8a0a\u76c8\u79d1|\u9999\u683c\u91cc\u62c9|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|\u0431\u0435\u043b|\u043a\u043e\u043c|\u049b\u0430\u0437|\u043c\u043a\u0434|\u043c\u043e\u043d|\u043e\u0440\u0433|\u0440\u0443\u0441|\u0441\u0440\u0431|\u0443\u043a\u0440|\u0570\u0561\u0575|\u05e7\u05d5\u05dd|\u0639\u0631\u0628|\u0642\u0637\u0631|\u0643\u0648\u0645|\u0645\u0635\u0631|\u0915\u0949\u092e|\u0928\u0947\u091f|\u0e04\u0e2d\u0e21|\u0e44\u0e17\u0e22|\u30b9\u30c8\u30a2|\u30bb\u30fc\u30eb|\u307f\u3093\u306a|\u4e2d\u6587\u7f51|\u5929\u4e3b\u6559|\u6211\u7231\u4f60|\u65b0\u52a0\u5761|\u6de1\u9a6c\u9521|\u8bfa\u57fa\u4e9a|\u98de\u5229\u6d66|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|\u03b5\u03bb|\u0431\u0433|\u0435\u044e|\u0440\u0444|\u10d2\u10d4|\ub2f7\ub137|\ub2f7\ucef4|\uc0bc\uc131|\ud55c\uad6d|\u30b3\u30e0|\u4e16\u754c|\u4e2d\u4fe1|\u4e2d\u56fd|\u4e2d\u570b|\u4f01\u4e1a|\u4f5b\u5c71|\u4fe1\u606f|\u5065\u5eb7|\u516b\u5366|\u516c\u53f8|\u516c\u76ca|\u53f0\u6e7e|\u53f0\u7063|\u5546\u57ce|\u5546\u5e97|\u5546\u6807|\u5609\u91cc|\u5728\u7ebf|\u5927\u62ff|\u5a31\u4e50|\u5bb6\u96fb|\u5de5\u884c|\u5e7f\u4e1c|\u5fae\u535a|\u6148\u5584|\u624b\u673a|\u624b\u8868|\u62db\u8058|\u653f\u52a1|\u653f\u5e9c|\u65b0\u95fb|\u65f6\u5c1a|\u66f8\u7c4d|\u673a\u6784|\u6e38\u620f|\u6fb3\u9580|\u70b9\u770b|\u73e0\u5b9d|\u79fb\u52a8|\u7f51\u5740|\u7f51\u5e97|\u7f51\u7ad9|\u7f51\u7edc|\u8054\u901a|\u8c37\u6b4c|\u8d2d\u7269|\u901a\u8ca9|\u96c6\u56e2|\u98df\u54c1|\u9910\u5385|\u9999\u6e2f)/,D=function(){function e(){}return e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},e.containsMultipleDots=function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),-1<t.split("/")[0].indexOf("..")},e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),n=t&&t[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n},e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)},e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+w+"]"),e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,e}(),N=function(e){function t(t){var n,r=e.call(this,t)||this;return r.stripPrefix={scheme:!0,www:!0},r.stripTrailingSlash=!0,r.decodePercentEncoding=!0,r.matcherRegex=(n=new RegExp("[/?#](?:["+C+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;\u2713]*["+C+"\\-+&@#/%=~_()|'$*\\[\\]\u2713])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,P(2),")","|","(","(//)?",/(?:www\.)/.source,P(6),")","|","(","(//)?",P(10)+"\\.",j.source,"(?![-"+E+"])",")",")","(?::[0-9]+)?","(?:"+n.source+")?"].join(""),"gi")),r.wordCharRegExp=new RegExp("["+C+"]"),r.stripPrefix=t.stripPrefix,r.stripTrailingSlash=t.stripTrailingSlash,r.decodePercentEncoding=t.decodePercentEncoding,r}return s(t,e),t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.stripPrefix,o=this.stripTrailingSlash,i=this.decodePercentEncoding,a=this.tagBuilder,s=[];null!==(t=n.exec(e));){var c=t[0],u=t[1],l=t[4],f=t[5],d=t[9],p=t.index,m=f||d,y=e.charAt(p-1);if(D.isValid(c,u)&&!(0<p&&"@"===y||0<p&&m&&this.wordCharRegExp.test(y))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var g=this.matchHasInvalidCharAfterTld(c,u);-1<g&&(c=c.substr(0,g))}var v=u?"scheme":l?"www":"tld",b=!!u;s.push(new h({tagBuilder:a,matchedText:c,offset:p,urlMatchType:v,url:c,protocolUrlMatch:b,protocolRelativeMatch:!!m,stripPrefix:r,stripTrailingSlash:o,decodePercentEncoding:i}))}}return s},t.prototype.matchHasUnbalancedClosingParen=function(e){var t,n=e.charAt(e.length-1);if(")"===n)t="(";else{if("]"!==n)return!1;t="["}for(var r=0,o=0,i=e.length-1;o<i;o++){var a=e.charAt(o);a===t?r++:a===n&&(r=Math.max(r-1,0))}return 0===r},t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var n=0;t&&(n=e.indexOf(":"),e=e.slice(n));var r=new RegExp("^((.?//)?[-."+C+"]*[-"+C+"]\\.[-"+C+"]+)").exec(e);return null===r?-1:(n+=r[1].length,e=e.slice(r[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?n:-1)},t}(p),R=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.matcherRegex=new RegExp("#[_"+C+"]{1,139}(?![_"+C+"])","g"),n.nonWordCharRegex=new RegExp("[^"+C+"]"),n.serviceName=t.serviceName,n}return s(t,e),t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.nonWordCharRegex,o=this.serviceName,i=this.tagBuilder,a=[];null!==(t=n.exec(e));){var s=t.index,c=e.charAt(s-1);if(0===s||r.test(c)){var u=t[0],f=t[0].slice(1);a.push(new l({tagBuilder:i,matchedText:u,offset:s,serviceName:o,hashtag:f}))}}return a},t}(p),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,t}return s(t,e),t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.tagBuilder,o=[];null!==(t=n.exec(e));){var i=t[0],a=i.replace(/[^0-9,;#]/g,""),s=!(!t[1]&&!t[2]),c=0==t.index?"":e.substr(t.index-1,1),u=e.substr(t.index+i.length,1),l=!c.match(/\d/)&&!u.match(/\d/);this.testMatch(t[3])&&this.testMatch(i)&&l&&o.push(new d({tagBuilder:r,matchedText:i,offset:t.index,number:a,plusSign:s}))}return o},t.prototype.testMatch=function(e){return/\D/.test(e)},t}(p),L=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.matcherRegexes={twitter:new RegExp("@[_"+C+"]{1,50}(?![_"+C+"])","g"),instagram:new RegExp("@[_."+C+"]{1,30}(?![_"+C+"])","g"),soundcloud:new RegExp("@[-_."+C+"]{1,50}(?![-_"+C+"])","g")},n.nonWordCharRegex=new RegExp("[^"+C+"]"),n.serviceName=t.serviceName,n}return s(t,e),t.prototype.parseMatches=function(e){var t,n=this.serviceName,r=this.matcherRegexes[this.serviceName],o=this.nonWordCharRegex,i=this.tagBuilder,a=[];if(!r)return a;for(;null!==(t=r.exec(e));){var s=t.index,c=e.charAt(s-1);if(0===s||o.test(c)){var u=t[0].replace(/\.+$/g,""),l=u.slice(1);a.push(new f({tagBuilder:i,matchedText:u,offset:s,serviceName:n,mention:l}))}}return a},t}(p),F=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing};return function(){function e(t){void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:this.email,this.phone="boolean"==typeof t.phone?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n&&"soundcloud"!==n)throw new Error("invalid `mention` cfg - see docs");var r=this.hashtag;if(!1!==r&&"twitter"!==r&&"facebook"!==r&&"instagram"!==r)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.prototype.normalizeUrlsCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},e.prototype.normalizeStripPrefixCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},e.prototype.parse=function(e){var t=this,r=["a","style","script"],o=0,i=[];return function(e,t){for(var r,o=t.onOpenTag,i=t.onCloseTag,a=t.onText,s=t.onComment,u=t.onDoctype,l=new F,f=0,d=e.length,h=0,p=0,w=l;f<d;){var _=e.charAt(f);switch(h){case 0:k(_);break;case 1:E(_);break;case 2:O(_);break;case 3:C(_);break;case 4:S(_);break;case 5:T(_);break;case 6:P(_);break;case 7:A(_);break;case 8:I(_);break;case 9:x(_);break;case 10:j(_);break;case 11:D(_);break;case 12:N(_);break;case 13:"--"===e.substr(f,2)?(f+=2,w=new F(c({},w,{type:"comment"})),h=14):"DOCTYPE"===e.substr(f,7).toUpperCase()?(f+=7,w=new F(c({},w,{type:"doctype"})),h=20):W();break;case 14:R(_);break;case 15:M(_);break;case 16:L(_);break;case 17:B(_);break;case 18:U(_);break;case 19:q(_);break;case 20:V(_);break;default:n(h)}f++}function k(e){"<"===e&&G()}function E(e){"!"===e?h=13:"/"===e?(h=2,w=new F(c({},w,{isClosing:!0}))):"<"===e?G():w=m.test(e)?(h=3,new F(c({},w,{isOpening:!0}))):(h=0,l)}function C(e){g.test(e)?(w=new F(c({},w,{name:z()})),h=4):"<"===e?G():"/"===e?(w=new F(c({},w,{name:z()})),h=12):">"===e?(w=new F(c({},w,{name:z()})),H()):m.test(e)||y.test(e)||":"===e||W()}function O(e){">"===e?W():m.test(e)?h=3:W()}function S(e){g.test(e)||("/"===e?h=12:">"===e?H():"<"===e?G():"="===e||v.test(e)||b.test(e)?W():h=5)}function T(e){g.test(e)?h=6:"/"===e?h=12:"="===e?h=7:">"===e?H():"<"===e?G():v.test(e)&&W()}function P(e){g.test(e)||("/"===e?h=12:"="===e?h=7:">"===e?H():"<"===e?G():v.test(e)?W():h=5)}function A(e){g.test(e)||('"'===e?h=8:"'"===e?h=9:/[>=`]/.test(e)?W():"<"===e?G():h=10)}function I(e){'"'===e&&(h=11)}function x(e){"'"===e&&(h=11)}function j(e){g.test(e)?h=4:">"===e?H():"<"===e&&G()}function D(e){g.test(e)?h=4:"/"===e?h=12:">"===e?H():"<"===e?G():(h=4,f--)}function N(e){">"===e?(w=new F(c({},w,{isClosing:!0})),H()):h=4}function R(e){"-"===e?h=15:">"===e?W():h=16}function M(e){"-"===e?h=18:">"===e?W():h=16}function L(e){"-"===e&&(h=17)}function B(e){h="-"===e?18:16}function U(e){">"===e?H():"!"===e?h=19:"-"===e||(h=16)}function q(e){"-"===e?h=17:">"===e?H():h=16}function V(e){">"===e?H():"<"===e&&G()}function W(){h=0,w=l}function G(){h=1,w=new F({idx:f})}function H(){var t=e.slice(p,w.idx);t&&a(t,p),"comment"===w.type?s(w.idx):"doctype"===w.type?u(w.idx):(w.isOpening&&o(w.name,w.idx),w.isClosing&&i(w.name,w.idx)),W(),p=f+1}function z(){var t=w.idx+(w.isClosing?2:1);return e.slice(t,f).toLowerCase()}p<f&&(r=e.slice(p,f),a(r,p),p=f+1)}(e,{onOpenTag:function(e){0<=r.indexOf(e)&&o++},onText:function(e,n){if(0===o){var r=function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],o=0;n=t.exec(e);)r.push(e.substring(o,n.index)),r.push(n[0]),o=n.index+n[0].length;return r.push(e.substring(o)),r}(e,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),a=n;r.forEach((function(e,n){if(n%2==0){var r=t.parseText(e,a);i.push.apply(i,r)}a+=e.length}))}},onCloseTag:function(e){0<=r.indexOf(e)&&(o=Math.max(o-1,0))},onComment:function(e){},onDoctype:function(e){}}),i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;t++){var n=e[t],r=n.getOffset(),o=n.getMatchedText().length,i=r+o;if(t+1<e.length){if(e[t+1].getOffset()===r){var a=e[t+1].getMatchedText().length>o?t:t+1;e.splice(a,1);continue}e[t+1].getOffset()<i&&e.splice(t+1,1)}}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||t(e,(function(e){return"hashtag"===e.getType()})),this.email||t(e,(function(e){return"email"===e.getType()})),this.phone||t(e,(function(e){return"phone"===e.getType()})),this.mention||t(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||t(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.wwwMatches||t(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()})),this.urls.tldMatches||t(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),e},e.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var n=this.getMatchers(),r=[],o=0,i=n.length;o<i;o++){for(var a=n[o].parseMatches(e),s=0,c=a.length;s<c;s++)a[s].setOffset(t+a[s].getOffset());r.push.apply(r,a)}return r},e.prototype.link=function(e){if(!e)return"";for(var t=this.parse(e),n=[],r=0,o=0,i=t.length;o<i;o++){var a=t[o];n.push(e.substring(r,a.getOffset())),n.push(this.createMatchReturnVal(a)),r=a.getOffset()+a.getMatchedText().length}return n.push(e.substring(r)),n.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof r?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new R({tagBuilder:e,serviceName:this.hashtag}),new I({tagBuilder:e}),new M({tagBuilder:e}),new L({tagBuilder:e,serviceName:this.mention}),new N({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new o({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="3.1.0",e.AnchorTagBuilder=o,e.HtmlTag=r,e.matcher={Email:I,Hashtag:R,Matcher:p,Mention:L,Phone:M,Url:N},e.match={Email:u,Hashtag:l,Match:i,Mention:f,Phone:d,Url:h},e}()}()},function(e,t,n){"use strict";var r,o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,a,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"===typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)i(c,this,t);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";function r(e){window.addEventListener("message",(function(t){var n,r=t.data;if("string"===typeof r){if(""!==r)try{n=JSON.parse(r)}catch(a){n={}}}else n=r;if(n&&"dispatchStateAction"===n.type){var o=n.action,i=n.payload;e.dispatch(o,i)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(2),o=n(7),i=n(36);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{$_connectorsMixin_existingConnections:[]}},computed:s({},Object(r.e)("postConnection",{$_connectorsMixin_postToDisconnectFromId:"postToDisconnectFromId"}),{},Object(r.c)("postConnection",{$_connectorsMixin_connections:"connections"}),{},Object(r.c)({$_connectorsMixin_format:"format"})),created:function(){this.$_connectorsMixin_lazyUpdateConnections=this.debounce(this.$_connectorsMixin_updateConnections,125)},mounted:function(){this.$_connectorsMixin_existingConnections=[],"free"===this.$_connectorsMixin_format&&(i.jsPlumb&&i.jsPlumb.setContainer(this.$el),this.$_connectorsMixin_makeConnections(),this.$_connectorsMixin_registerDomChangeListenersForConnections())},updated:function(){this.$_connectorsMixin_onUpdate()},watch:{$_connectorsMixin_postToDisconnectFromId:function(){this.$_connectorsMixin_onUpdate()},$_connectorsMixin_connections:function(){this.$_connectorsMixin_onUpdate()}},beforeDestroy:function(){this.$_connectorsMixin_destroyConnections()},methods:s({},Object(r.b)("postConnection",["completeDisconnection"]),{debounce:function(e,t,n){var r,o=arguments,i=this;return function(){var a=i,s=o,c=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(a,s)}),t),c&&e.apply(a,s)}},$_connectorsMixin_onUpdate:function(){"free"===this.$_connectorsMixin_format?this.$_connectorsMixin_makeConnections():this.$_connectorsMixin_destroyConnections()},$_connectorsMixin_makeConnections:function(){var e=this;this.$nextTick((function(){if("free"===e.$_connectorsMixin_format){var t=[],n=[];if(e.$_connectorsMixin_existingConnections.forEach((function(r){(e.$_connectorsMixin_connections.find((function(e){return e.id===r.cxn.id}))?n:t).push(r)})),t.length>0){for(var r=0,a=t.length;r<a;r++){var s=t[r];s.jsp.removeOverlay("disconnect"),i.jsPlumb&&i.jsPlumb.deleteConnection(s.jsp)}e.$_connectorsMixin_existingConnections=n}e.$_connectorsMixin_updateConnections(),e.$_connectorsMixin_connections.forEach((function(t){var n=e.$_connectorsMixin_existingConnections.find((function(e){return e.cxn.id===t.id}));if(n){if(!e.$_connectorsMixin_postToDisconnectFromId||e.$_connectorsMixin_postToDisconnectFromId!==t.from_wish_id&&e.$_connectorsMixin_postToDisconnectFromId!==t.to_wish_id)n.disconnectOverlay&&(n.jsp.removeOverlay("disconnect"),delete n.disconnectOverlay);else if(!n.disconnectOverlay){n.disconnectOverlay=["Custom",{location:.3,id:"disconnect",create:function(n){return Object(o.a)('<div><button class="floating-action-button wish-disconnect-button"><i class="immaterial-icons">close</i></button></div>').on("click",(function(){e.completeDisconnection({connectionId:t.id})}))}}],n.jsp.addOverlay(n.disconnectOverlay)}}else{var r=e.$_connectorsMixin_drawConnection(t.from_wish_id,t.to_wish_id,t.label);null!=r&&(e.$_connectorsMixin_existingConnections=e.$_connectorsMixin_existingConnections.concat([{cxn:t,jsp:r}]))}}))}}))},$_connectorsMixin_drawConnection:function(e,t,n){var r=[],o=document.getElementById("wish-"+e),a=document.getElementById("wish-"+t);if(null!=o&&null!=a)return r=[["PlainArrow",{location:1,width:12,length:12}]],n&&r.push(["Label",{label:n,id:"label",cssClass:"wish-connection-label"}]),i.jsPlumb&&i.jsPlumb.connect({source:o,target:a,endpoint:"Blank",connector:["Bezier",{curviness:50}],anchor:"AutoDefault",overlays:r})},$_connectorsMixin_updateConnections:function(){i.jsPlumb&&i.jsPlumb.repaintEverything()},$_connectorsMixin_destroyConnections:function(){"undefined"!==typeof i.jsPlumb&&null!==i.jsPlumb&&i.jsPlumb&&i.jsPlumb.deleteEveryConnection(),Object(o.a)(this.$el).off(".connectors"),Object(o.a)(this.$el).off(".connectors","textarea,img")},$_connectorsMixin_registerDomChangeListenersForConnections:function(){var e=this;Object(o.a)(this.$el).on("input.connectors","textarea",(function(){e.$_connectorsMixin_lazyUpdateConnections()})),Object(o.a)(this.$el).on("beethoven-load.connectors","img",(function(){e.$_connectorsMixin_lazyUpdateConnections()}))}})},l=n(75),f={data:function(){return{$_sortMixin_initialized:!1}},updated:function(){this.$_sortMixin_initialized?this.$_sortMixin_makeSortable():this.$_sortMixin_destroySortable()},beforeDestroy:function(){this.$_sortMixin_destroySortable()},methods:{initializePostsSort:function(){this.$_sortMixin_initialized=!0},destroyPostsSort:function(){this.$_sortMixin_initialized=!1},$_sortMixin_clipItems:function(e,t,n){var r=n.height(),o=n.width();if(r>144){var i,a,s=t.offsetY+(t.originalEvent.target.getBoundingClientRect().top-n[0].getBoundingClientRect().top);if(s>144)r-s<144?(i=r-144,a=r):a=(i=s-72)+144,n.data("clipTop",i);else i=0,a=144;n.css("clip","rect("+i+"px, "+o+"px, "+a+"px, 0)")}return e.addClass("ui-sortable-clipped")},$_sortMixin_unclipItems:function(e,t,n){var r,o,i=document.getElementById("wall-container"),a=n[0].offsetTop;e.removeClass("ui-sortable-clipped");var s=null!=(r=n.data("clipTop"))?r:0,c=null!=(o=n.data("scrollTop"))?o:0,u=n[0].offsetTop-a;i.scrollTop=c+u+s,n.removeData("clipTop"),n.removeData("scrollTop")},$_sortMixin_saveScrollPosition:function(e,t,n){var r=document.getElementById("wall-container");n.data("scrollTop",r.scrollTop)},$_sortMixin_markItemAsTransiting:function(e){e.addClass("noclick in-transit")},$_sortMixin_unmarkItemAsTransiting:function(e){e.removeClass("noclick in-transit")},$_sortMixin_makeSortable:function(){var e=this,t=$(this.$el);t.sortable("instance")||t.sortable({cursor:"move",items:"> .wish-editable:not(#wish-new)",scrollSensitivity:48,cancel:"[contenteditable], .ui-resizable-handle, object, embed, input, button, textarea, select, option",start:function(n,r){t.addClass("ui-sortable-sorting"),e.$_sortMixin_initialized&&(e.$_sortMixin_clipItems(t,n,r.item),t.sortable("refreshPositions")),e.$_sortMixin_markItemAsTransiting(r.item)},beforeStop:function(n,r){e.$_sortMixin_saveScrollPosition(t,n,r.item)},stop:function(n,r){t.removeClass("ui-sortable-sorting"),e.$_sortMixin_initialized&&e.$_sortMixin_unclipItems(t,n,r.item),e.$_sortMixin_unmarkItemAsTransiting(r.item)},update:function(e,t){Object(l.a)(t.item)}})},$_sortMixin_destroySortable:function(){var e=$(this.$el).off(".sort").sortable("instance");e&&e.destroy()}}},d=n(256),h=n(248);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={components:{SurfacePost:d.a},mixins:[u,f],data:function(){return{delayingUpdatePosts:!1,currentPosts:[]}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)(["inlinePostEdit"]),{},Object(r.c)("post",["postEntitiesByCid","newestPostCid","sortedPosts"]),{},Object(r.c)({format:"format",canIWrite:"canIWrite",newPostLocation:"newPostLocation"})),watch:{sortedPosts:function(e){Object(o.a)(this.$el).find(".ss-dragged-child")[0]||(this.currentPosts=e)},newestPostCid:function(e){"free"===this.format?Object(h.b)("#wall-container",this.postEntitiesByCid[e]):"stream"!==this.format&&"grid"!==this.format&&"matrix"!==this.format||"bottom"===this.newPostLocation&&this.inlinePostEdit&&this.$nextTick((function(){Object(h.a)()}))}},mounted:function(){this.currentPosts=this.sortedPosts,"stream"!==this.format&&"matrix"!==this.format||!this.canIWrite||this.initializePostsSort()},methods:{onGridFinishDragging:function(){this.delayingUpdatePosts&&(this.delayingUpdatePosts=!1,this.currentPosts=this.sortedPosts)}}},g=n(1),v=Object(g.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wish-list",attrs:{id:"wish-list"}},e._l(e.currentPosts,(function(t,r){return n("surface-post",{key:t.cid,attrs:{index:r,post:t,edit:e.inlinePostEdit}})})),1)}),[],!1,null,null,null);t.a=v.exports},,function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"CONNECTIVITY_OFFLINE",(function(){return s})),n.d(r,"goOffline",(function(){return c})),n.d(r,"CONNECTIVITY_ONLINE",(function(){return u})),n.d(r,"goOnline",(function(){return l})),n.d(r,"START_NEW_POST",(function(){return f})),n.d(r,"startNewPost",(function(){return d})),n.d(r,"SAVE_POST",(function(){return h})),n.d(r,"savePost",(function(){return p})),n.d(r,"STOP_EDITING_POST",(function(){return m})),n.d(r,"stopEditingPost",(function(){return y})),n.d(r,"CREATE_POST",(function(){return g})),n.d(r,"createPost",(function(){return v})),n.d(r,"COMPLETE_POST_UPLOAD",(function(){return b})),n.d(r,"completePostUpload",(function(){return w})),n.d(r,"PICK_SECTION",(function(){return _})),n.d(r,"pickSection",(function(){return k})),n.d(r,"CANCEL_PICKING_SECTION",(function(){return E})),n.d(r,"cancelPickingSection",(function(){return C})),n.d(r,"SHOW_CONTRIBUTORS_LIST",(function(){return O})),n.d(r,"showContributorsList",(function(){return S})),n.d(r,"HIDE_CONTRIBUTORS_LIST",(function(){return T})),n.d(r,"hideContributorsList",(function(){return P})),n.d(r,"RESIZE_WINDOW",(function(){return A})),n.d(r,"resizeWindow",(function(){return I})),n.d(r,"FETCHED_PADLET",(function(){return x})),n.d(r,"fetchedPadlet",(function(){return j})),n.d(r,"FETCHED_POSTS",(function(){return D})),n.d(r,"fetchedPosts",(function(){return N})),n.d(r,"FETCHED_COMMENTS",(function(){return R})),n.d(r,"fetchedComments",(function(){return M})),n.d(r,"FETCHED_REACTIONS",(function(){return L})),n.d(r,"fetchedReactions",(function(){return F})),n.d(r,"FETCHED_CONNECTIONS",(function(){return B})),n.d(r,"fetchedConnections",(function(){return U})),n.d(r,"FETCHED_SECTIONS",(function(){return q})),n.d(r,"fetchedSections",(function(){return V})),n.d(r,"CHANGE_POST_TEXT",(function(){return W})),n.d(r,"changePostText",(function(){return G})),n.d(r,"UPLOAD_FILE_SIZE_EXCEEDED",(function(){return H})),n.d(r,"uploadFileSizeExceeded",(function(){return z})),n.d(r,"CLOSE_FILE_SIZE_EXCEEDED_NOTICE",(function(){return Q})),n.d(r,"closeFileSizeExceededNotice",(function(){return $})),n.d(r,"OPEN_EXTENSION_REQUIRED_NOTICE",(function(){return K})),n.d(r,"openExtensionRequiredNotice",(function(){return Y})),n.d(r,"CLOSE_EXTENSION_REQUIRED_NOTICE",(function(){return X})),n.d(r,"closeExtensionRequiredNotice",(function(){return J})),n.d(r,"GET_CONTENT",(function(){return Z})),n.d(r,"getContent",(function(){return ee})),n.d(r,"CLOSE_CONTENT_SOURCE",(function(){return te})),n.d(r,"closeContentSource",(function(){return ne})),n.d(r,"SAVE_CONTENT",(function(){return re})),n.d(r,"saveContent",(function(){return oe})),n.d(r,"CHOOSE_CONTENT_SOURCE",(function(){return ie})),n.d(r,"chooseContentSource",(function(){return ae})),n.d(r,"CLOSE_CONTENT_SOURCE_MENU",(function(){return se})),n.d(r,"closeContentSourceMenu",(function(){return ce})),n.d(r,"REMOVE_POST_ATTACHMENT",(function(){return ue})),n.d(r,"removePostAttachment",(function(){return le})),n.d(r,"RESIZE_EDITOR",(function(){return fe})),n.d(r,"resizeEditor",(function(){return de})),n.d(r,"CLOSE_COMMENTS_PANEL",(function(){return he})),n.d(r,"closeCommentsPanel",(function(){return pe})),n.d(r,"CREATE_COMMENT",(function(){return me})),n.d(r,"createComment",(function(){return ye})),n.d(r,"EDIT_COMMENT",(function(){return ge})),n.d(r,"editComment",(function(){return ve})),n.d(r,"DELETE_COMMENT",(function(){return be})),n.d(r,"deleteComment",(function(){return we})),n.d(r,"SETTINGS_SHOW",(function(){return _e})),n.d(r,"showSettings",(function(){return ke})),n.d(r,"SHARE_SHOW",(function(){return Ee})),n.d(r,"showShare",(function(){return Ce})),n.d(r,"REMAKE_SHOW",(function(){return Oe})),n.d(r,"showRemake",(function(){return Se})),n.d(r,"SHOW_INFO_PANEL",(function(){return Te})),n.d(r,"showInfoPanel",(function(){return Pe})),n.d(r,"HIDE_INFO_PANEL",(function(){return Ae})),n.d(r,"hideInfoPanel",(function(){return Ie})),n.d(r,"SHOW_WALL_QUOTA_EXCEEDED",(function(){return xe})),n.d(r,"showWallQuotaExceeded",(function(){return je})),n.d(r,"HIDE_WALL_QUOTA_EXCEEDED",(function(){return De})),n.d(r,"hideWallQuotaExceeded",(function(){return Ne})),n.d(r,"tryRemaking",(function(){return Re}));var o=n(47),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s="connectivityOffline",c=function(){return{type:s}},u="connectivityOnline",l=function(){return{type:u}},f="post/startNewPost",d=function(e){return void 0===e&&(e={}),{type:f,attributes:e}},h="post/savePost",p=function(e){return{type:h,attributes:e}},m="post/stopEditingPost",y=function(){return{type:m}},g="post/createPost",v=function(e){return{type:g,post:e}},b="post/completePostUpload",w=function(e,t){return{type:b,file:e,status:t}},_="post/pickSection",k=function(e){return{type:_,sectionId:e}},E="post/cancelPickingSection",C=function(){return{type:E}},O="showContributorsList",S=function(){return{type:O}},T="hideContributorsList",P=function(){return{type:T}},A="resizeWindow",I=function(e,t){return{type:A,width:e,height:t}},x="fetchedPadlet",j=function(){return{type:x}},D="fetchedPosts",N=function(){return{type:D}},R="fetchedComments",M=function(){return{type:R}},L="fetchedReactions",F=function(){return{type:L}},B="fetchedConnections",U=function(){return{type:B}},q="fetchedSections",V=function(){return{type:q}},W="post/changePostText",G=function(e,t){return{type:W,postCid:e.cid||"c"+e.id,attributes:{body:t}}},H="post/rejectPostsWithFileSizeExceeded",z=function(e){return{type:H,file:e}},Q="hideFileSizeExceeded",$=function(){return{type:Q}},K="showExtensionRequired",Y=function(e){return{type:K,extensionInstalled:e}},X="hideExtensionRequired",J=function(){return{type:X}},Z="contentPicker/pickContentSource",ee=function(e){return{type:Z,source:e}},te="contentPicker/hideContentPickerPanel",ne=function(){return{type:te}},re="post/saveContent",oe=function(e){return{type:re,content:e}},ie="contentPicker/showContentSourceMenu",ae=function(e){return{type:ie,position:e}},se="contentPicker/hideContentSourceMenu",ce=function(){return{type:se}},ue="post/removePostAttachment",le=function(e){return{type:ue,postCid:e.cid||"c"+e.id}},fe="resizeEditor",de=function(e){return{type:fe,height:e}},he="hideCommentsPanel",pe=function(){return{type:he}},me="createComment",ye=function(e){return{type:me,commentAttributes:e}},ge="editComment",ve=function(e){return{type:ge,commentAttributes:e}},be="deleteComment",we=function(e){return{type:be,commentId:e}},_e="settingsShow",ke=function(){return{type:_e}},Ee="shareShow",Ce=function(){return{type:Ee}},Oe="remakeShow",Se=function(){return{type:Oe}},Te="showInfoPanel",Pe=function(){return{type:Te}},Ae="hideInfoPanel",Ie=function(){return{type:Ae}},xe="showWallQuotaExceeded",je=function(){return{type:xe}},De="hideWallQuotaExceeded",Ne=function(){return{type:De}},Re=function(){return function(e){return i(void 0,void 0,void 0,(function(){return a(this,(function(t){return[2,fetch("/session",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){t.quota.can_make?e(Se()):e(je())}))]}))}))}};n.d(t,"a",(function(){return Me}));function Me(e,t){var n=e.ww;if(n){var i=n.nativeBridge;if(i){var a=i.receiveMessage.bind(i);i.receiveMessage=function(e){Object(o.a)(e)||a(e)},i.addMessageHandler=o.b.bind(i)}}e.$nativeBridge={dispatch:function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t.dispatch(r[e].apply(null,n))}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){(function(t){var r=n(298),o=1/0,i="[object Null]",a="[object Symbol]",s="[object Undefined]",c=/[&<>"']/g,u=RegExp(c.source),l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")();var h,p=(h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==h?void 0:h[e]}),m=Object.prototype,y=m.hasOwnProperty,g=m.toString,v=d.Symbol,b=v?v.toStringTag:void 0,w=v?v.prototype:void 0,_=w?w.toString:void 0,k={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:r,variable:"",imports:{_:{escape:function(e){return(e=S(e))&&u.test(e)?e.replace(c,p):e}}}};function E(e){return null==e?void 0===e?s:i:b&&b in Object(e)?function(e){var t=y.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(i){}var o=g.call(e);r&&(t?e[b]=n:delete e[b]);return o}(e):function(e){return g.call(e)}(e)}function C(e){if("string"==typeof e)return e;if(O(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,C)+"";if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&E(e)==a}(e))return _?_.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}var O=Array.isArray;function S(e){return null==e?"":C(e)}e.exports=k}).call(this,n(28))},function(e,t,n){"use strict";var r=u(n(227)),o=u(n(172)),i=u(n(173)),a=u(n(241)),s=u(n(174)),c=u(n(175));function u(e){return e&&e.__esModule?e:{default:e}}var l,f=n(449).PadletAPIClient,d=n(316),h=d.wallEndpoint,p=d.privacyPolicyEndpoint,m=n(317),y=m.Contributor,g=m.searchContributors,v=n(242),b=v.permissionToNumberLookup,w=v.numberToPermissionLookup,_=v.CAN_READ,k=v.CAN_WRITE,E=v.CAN_EDIT,C=v.CAN_ADMINISTER,O=v.PRIVATE,S=v.PASSWORD_PROTECTED,T=v.PUBLIC,P=v.SECRET,A=v.ORGWIDE,I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),this.originalAttributes=t,this.transientAttributes=(0,a.default)({},t),this.client=t.client}var t,n,u,l;return(0,c.default)(e,[{key:"searchContributors",value:(l=(0,i.default)(o.default.mark((function e(t){var n,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=a.limit)||5,e.next=4,g(this.client,t,{limit:n});case 4:return r=e.sent,e.abrupt("return",(r||[]).filter((function(e){return!i.isContributorAdded(e)})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"resendInvitation",value:(u=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isContributorCommitted(t)){e.next=2;break}throw new Error("Cannot resend invitation to a contributor that hasn't already invited.");case 2:return e.abrupt("return",t.resendInvitation({privacyPolicyId:this.privacyPolicyId}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"discardChanges",value:function(){this.transientAttributes=(0,a.default)({},this.originalAttributes),this._contributors=void 0}},{key:"setDefaultPermission",value:function(){this.permission||(this.permission=_)}},{key:"commit",value:(n=(0,i.default)(o.default.mark((function t(){var n,r;return arguments.length>0&&void 0!==arguments[0]&&arguments[0],o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.validate(),n=this.serialize(),t.next=4,this.client.put(p({privacyPolicyId:this.privacyPolicyId}),n);case 4:return r=t.sent,t.abrupt("return",new e((0,a.default)({},r,{client:this.client})));case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"canSetPermission",value:function(e){return!0}},{key:"canAddContributor",value:function(e,t){return!this.isContributorAdded(e)||(console.warn("Contributor already exists"),!1)}},{key:"addContributor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("Permission not defined when adding contributor");var o=null,i=null,s=null;"Contributor"!==e.constructor.name&&"object"!==("undefined"===typeof e?"undefined":(0,r.default)(e))||(s=e);var c=s&&s.name||n.name,u=s&&s.avatar||n.avatar;if(s||(e.match(/^\d+$/)?o=e:i=e,s=new y((0,a.default)({},n,{id:o,right:b(t),email:i,name:c,avatar:u}))),this.isContributorAdded(s))throw new Error("This contributor is already added");if(!this.canAddContributor(s,t))throw new Error("Cannot add contributor with permission "+t);s.permission=t;var l=this.contributors;this.contributors=l.concat([s])}},{key:"removeContributor",value:function(e){var t=null,n=null;e.constructor===y?(t=e.userId,n=e.email):e.toString().match(/^\d+/)?t=e:n=e,this.contributors=this.contributors.filter((function(e){return t&&e.userId!==t||n&&e.email!==n}))}},{key:"canSetContributorPermission",value:function(e,t){return this.isContributorAdded(e)?!(b(t)<b(this.permission)):(console.warn("Contributor not yet added"),!1)}},{key:"setContributorPermission",value:function(e,t){e.permission=t,this.isContributorAdded(e)||console.warn("Contributor not yet added")}},{key:"isContributorAdded",value:function(e){return!!this.contributors.find((function(t){return e.email&&t.email&&t.email===e.email||e.username&&t.username&&t.username===e.username||e.userId&&t.userId&&t.userId===e.userId}))}},{key:"isContributorCommitted",value:function(e){return this.isContributorAdded(e)&&!!this.originalAttributes.ausers[e.userId]}},{key:"isContributorInvited",value:function(e){return this.isContributorCommitted(e)}},{key:"serialize",value:function(){var e={};return this.isOrgwide?(e.tenant_access=b(this.permission),e.public=0,e.public_access=0):(e.public_access=b(this.permission),e.public=e.public_access,e.tenant_access=0),e.password=this.password||null,e.is_listed=this.isPublic,e.is_moderated=this.isModerated,e.ausers=this.serializeContributors(),e}},{key:"serializeContributors",value:function(){for(var e={},t=this.contributors,n=0;n<t.length;n++){var r=t[n];e[r.userId||r.email]=r.right}return e}},{key:"validate",value:function(){if(this.permission===C&&!this.isOrgwide)throw new Error("Only padlets with organization-wide access can allow all its viewers to administer the padlet.")}},{key:"ownerId",get:function(){return this.transientAttributes.owner_id}},{key:"wallId",get:function(){return this.transientAttributes.wallId}},{key:"privacyPolicyId",get:function(){return this.transientAttributes.id}},{key:"isPrivate",get:function(){return 0===this.transientAttributes.public&&0===this.transientAttributes.tenant_access},set:function(e){!0===e&&(this.transientAttributes.is_listed=!1,this.transientAttributes.public=0,this.transientAttributes.tenant_access=0,this.password=null)}},{key:"isPublic",get:function(){return this.transientAttributes.public>0&&this.transientAttributes.is_listed},set:function(e){!0===e&&(this.transientAttributes.tenant_access>0&&(this.transientAttributes.public=this.transientAttributes.tenant_access,this.transientAttributes.tenant_access=0),this.transientAttributes.is_listed=!0,this.password=null,0===this.transientAttributes.public&&(this.transientAttributes.public=b(_)))}},{key:"isPasswordProtected",get:function(){return this.transientAttributes.password_protected||null!==this.transientAttributes.password&&"undefined"!==typeof this.transientAttributes.password&&""!==this.transientAttributes.password&&this.transientAttributes.public>0},set:function(e){if(!0===e)throw new Error("Set a password")}},{key:"isSecret",get:function(){return this.transientAttributes.public>0&&0===this.transientAttributes.tenant_access&&!this.transientAttributes.is_listed&&!this.isPasswordProtected},set:function(e){!0===e&&(this.transientAttributes.tenant_access>0&&(this.transientAttributes.public=this.transientAttributes.tenant_access,this.transientAttributes.tenant_access=0),this.transientAttributes.is_listed=!1,this.password=null,0===this.transientAttributes.public&&(this.transientAttributes.public=b(_)))}},{key:"isOrgwide",get:function(){return 0===this.transientAttributes.public&&this.transientAttributes.tenant_access>0},set:function(e){!0===e&&((this.transientAttributes.public>0||this.isPasswordProtected)&&(this.transientAttributes.tenant_access=this.transientAttributes.public,this.transientAttributes.public=0),this.transientAttributes.is_listed=!1,this.password=null,0===this.transientAttributes.tenant_access&&(this.transientAttributes.tenant_access=b(_),this.transientAttributes.public=0))}},{key:"isOrgWide",get:function(){return this.isOrgwide},set:function(e){this.isOrgwide=e}},{key:"permission",get:function(){return this.isPrivate?null:this.isOrgwide?w(this.transientAttributes.tenant_access):w(this.transientAttributes.public)},set:function(e){var t=b(e);if(!this.canSetPermission(e))throw new Error("Invalid permission to be set: "+e);this.isOrgwide?(this.transientAttributes.public=0,this.transientAttributes.tenant_access=t):(this.transientAttributes.public=t,this.tenant_access=0)}},{key:"canRead",get:function(){return this.permission===_},set:function(e){!0===e&&(this.permission=_)}},{key:"canWrite",get:function(){return this.permission===k},set:function(e){!0===e&&(this.permission=k)}},{key:"canEdit",get:function(){return this.permission===E},set:function(e){!0===e&&(this.permission=E)}},{key:"canAdminister",get:function(){return this.permission===C},set:function(e){!0===e&&(this.permission=C)}},{key:"isModerated",get:function(){return this.transientAttributes.is_moderated},set:function(e){this.transientAttributes.is_moderated=e}},{key:"password",get:function(){return this.transientAttributes.password},set:function(e){this.transientAttributes.password=e,e&&e.trim().length>0?this.transientAttributes.tenant_access>0?(this.transientAttributes.public=this.transientAttributes.tenant_access,this.transientAttributes.tenant_access=0):0===this.transientAttributes.public&&(this.transientAttributes.public=b(_)):e&&console.warn("Tried to set empty string or whitespace as password")}},{key:"contributors",get:function(){var e=this;return this._contributors||(this._contributors=(Object.keys(this.transientAttributes.ausers)||[]).map((function(t){var n=e.transientAttributes.ausers[t]||{};return"object"===("undefined"===typeof n?"undefined":(0,r.default)(n))?new y((0,a.default)({client:e.client,id:t},n)):"number"===typeof n?new y({client:e.client,id:t,access:n}):"string"===typeof n?new y({client:e.client,id:t,permission:n}):void 0}))),this._contributors},set:function(e){e?this._contributors=e:(console.error("Setting contributors to null or undefined"),this._contributors=[])}},{key:"hasChanges",get:function(){for(var e=this.transientAttributes,t=this.originalAttributes,n=["public","tenant_access","is_listed","is_moderated","password"],r=0;r<n.length;r++){var o=n[r];if(e[o]!==t[o])return!0}if(this.contributors.length!==Object.keys(t.ausers||{}).length)return!0;if(t.ausers){var i=this.contributors.map((function(e){return e.userId})).filter((function(e){return!!e})).sort(),a=Object.keys(t.ausers).sort();if(i.length!==a.length)return!0;for(var s=0;s<i.length;s++)if(parseInt(i[s])!==parseInt(a[s]))return!0;for(var c=0;c<this.contributors.length;c++){var u=this.contributors[c],l=t.ausers[u.userId];if(!l)return!0;if(parseInt(u.right)!==parseInt(l.access))return!0}}return!1}},{key:"access",get:function(){return this.isPrivate?O:this.isPasswordProtected?S:this.isOrgwide?A:this.isSecret?P:this.isPublic?T:void 0}},{key:"attributes",get:function(){return(0,a.default)({},this.transientAttributes,{ownerId:this.ownerId,wallId:this.wallId,privacyPolicyId:this.privacyPolicyId,isPrivate:this.isPrivate,isPublic:this.isPublic,isPasswordProtected:this.isPasswordProtected,isSecret:this.isSecret,isOrgwide:this.isOrgwide,permission:this.permission,canRead:this.canRead,canWrite:this.canWrite,canEdit:this.canEdit,canAdminister:this.canAdminister,isModerated:this.isModerated,password:this.password,contributors:this.contributors,hasChanges:this.hasChanges,access:this.access})}}],[{key:"fetch",value:(t=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),x=(l=(0,i.default)(o.default.mark((function e(t){var n,r,i,s,c,u,l,d,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.client)||(r=t.oauthToken,i=t.csrfToken,s=t.host||"padlet.com",c="https",t.protocol?c=t.protocol:s.match(/(\.io|\.com|\.org)$/)||(c="http"),n=new f({host:s,protocol:c,oauthToken:r,csrfToken:i})),u=t.wallId,l=t.privacyPolicyId,u||l){e.next=6;break}throw new Error("Requires wallId or privacyPolicyId to fetch");case 6:if(d=null,!u){e.next=12;break}return e.next=10,n.get(h({wallId:u}));case 10:d=e.sent,l=d.privacy_policy.id;case 12:return e.next=14,n.get(p({privacyPolicyId:l}));case 14:return m=e.sent,e.abrupt("return",new I((0,a.default)({},m,{client:n})));case 16:case"end":return e.stop()}}),e,void 0)}))),function(e){return l.apply(this,arguments)});e.exports={WallPrivacy:I,fetchWallPrivacy:x}},function(e,t,n){e.exports={default:n(405),__esModule:!0}},function(e,t,n){n(299),n(307),e.exports=n(237).f("iterator")},function(e,t,n){var r=n(228),o=n(229);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(232),o=n(167),i=n(170),a={};n(101)(a,n(58)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(94),o=n(85),i=n(168);e.exports=n(86)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(133),o=n(305),i=n(410);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(228),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(102),o=n(236),i=n(233)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(413),o=n(414),i=n(150),a=n(133);e.exports=n(300)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(416),__esModule:!0}},function(e,t,n){n(417),n(310),n(422),n(423),e.exports=n(57).Symbol},function(e,t,n){"use strict";var r=n(54),o=n(102),i=n(86),a=n(84),s=n(302),c=n(418).KEY,u=n(149),l=n(234),f=n(170),d=n(169),h=n(58),p=n(237),m=n(238),y=n(419),g=n(420),v=n(85),b=n(95),w=n(236),_=n(133),k=n(231),E=n(167),C=n(232),O=n(421),S=n(309),T=n(239),P=n(94),A=n(168),I=S.f,x=P.f,j=O.f,D=r.Symbol,N=r.JSON,R=N&&N.stringify,M=h("_hidden"),L=h("toPrimitive"),F={}.propertyIsEnumerable,B=l("symbol-registry"),U=l("symbols"),q=l("op-symbols"),V=Object.prototype,W="function"==typeof D&&!!T.f,G=r.QObject,H=!G||!G.prototype||!G.prototype.findChild,z=i&&u((function(){return 7!=C(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=I(V,t);r&&delete V[t],x(e,t,n),r&&e!==V&&x(V,t,r)}:x,Q=function(e){var t=U[e]=C(D.prototype);return t._k=e,t},$=W&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},K=function(e,t,n){return e===V&&K(q,t,n),v(e),t=k(t,!0),v(n),o(U,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=C(n,{enumerable:E(0,!1)})):(o(e,M)||x(e,M,E(1,{})),e[M][t]=!0),z(e,t,n)):x(e,t,n)},Y=function(e,t){v(e);for(var n,r=y(t=_(t)),o=0,i=r.length;i>o;)K(e,n=r[o++],t[n]);return e},X=function(e){var t=F.call(this,e=k(e,!0));return!(this===V&&o(U,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,M)&&this[M][e])||t)},J=function(e,t){if(e=_(e),t=k(t,!0),e!==V||!o(U,t)||o(q,t)){var n=I(e,t);return!n||!o(U,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=j(_(e)),r=[],i=0;n.length>i;)o(U,t=n[i++])||t==M||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=j(n?q:_(e)),i=[],a=0;r.length>a;)!o(U,t=r[a++])||n&&!o(V,t)||i.push(U[t]);return i};W||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(q,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),z(this,e,E(1,n))};return i&&H&&z(V,e,{configurable:!0,set:t}),Q(e)}).prototype,"toString",(function(){return this._k})),S.f=J,P.f=K,n(308).f=O.f=Z,n(171).f=X,T.f=ee,i&&!n(147)&&s(V,"propertyIsEnumerable",X,!0),p.f=function(e){return Q(h(e))}),a(a.G+a.W+a.F*!W,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=A(h.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(B,e+="")?B[e]:B[e]=D(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return void 0===t?C(e):Y(C(e),t)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=u((function(){T.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),N&&a(a.S+a.F*(!W||u((function(){var e=D();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,R.apply(N,r)}}),D.prototype[L]||n(101)(D.prototype,L,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(169)("meta"),o=n(95),i=n(102),a=n(94).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(149)((function(){return c(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!i(e,r)&&l(e),e}}},function(e,t,n){var r=n(168),o=n(239),i=n(171);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(151);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(133),o=n(308).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},function(e,t,n){n(238)("asyncIterator")},function(e,t,n){n(238)("observable")},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(425),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=w;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={},y={};y[a]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==r&&o.call(v,a)&&(y=v);var b=C.prototype=k.prototype=Object.create(y);E.prototype=b.constructor=C,C.constructor=E,C[c]=E.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},O(S.prototype),S.prototype[s]=function(){return this},l.AsyncIterator=S,l.async=function(e,t,n,r){var o=new S(w(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(b),b[c]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function w(e,t,n,r){var o=t&&t.prototype instanceof k?t:k,i=Object.create(o.prototype),a=new I(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=_(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function k(){}function E(){}function C(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){var t;this._invoke=function(n,r){function i(){return new Promise((function(t,i){!function t(n,r,i,a){var s=_(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(u).then((function(e){c.value=e,i(c)}),a)}a(s.arg)}(n,r,t,i)}))}return t=t?t.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=_(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(427),__esModule:!0}},function(e,t,n){n(310),n(299),n(307),n(428),n(440),n(441),e.exports=n(57).Promise},function(e,t,n){"use strict";var r,o,i,a,s=n(147),c=n(54),u=n(148),l=n(311),f=n(84),d=n(95),h=n(166),p=n(429),m=n(430),y=n(312),g=n(313).set,v=n(435)(),b=n(240),w=n(314),_=n(436),k=n(315),E=c.TypeError,C=c.process,O=C&&C.versions,S=O&&O.v8||"",T=c.Promise,P="process"==l(C),A=function(){},I=o=b.f,x=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(58)("species")]=function(e){e(A,A)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==S.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(r){}}(),j=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;v((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?u(E("Promise-chain cycle")):(i=j(n))?i.call(n,c,u):c(n)):u(r)}catch(f){l&&!a&&l.exit(),u(f)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){g.call(c,(function(){var t,n,r,o=e._v,i=R(e);if(i&&(t=w((function(){P?C.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=P||R(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){g.call(c,(function(){var t;P?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=j(e))?v((function(){var r={_w:n,_d:!1};try{t.call(e,u(F,r,1),u(L,r,1))}catch(o){L.call(r,o)}})):(n._v=e,n._s=1,D(n,!1))}catch(r){L.call({_w:n,_d:!1},r)}}};x||(T=function(e){p(this,T,"Promise","_h"),h(e),r.call(this);try{e(u(F,this,1),u(L,this,1))}catch(t){L.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(437)(T.prototype,{then:function(e,t){var n=I(y(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=P?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(L,e,1)},b.f=I=function(e){return e===T||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!x,{Promise:T}),n(170)(T,"Promise"),n(438)("Promise"),a=n(57).Promise,f(f.S+f.F*!x,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!x),"Promise",{resolve:function(e){return k(s&&this===a?T:this,e)}}),f(f.S+f.F*!(x&&n(439)((function(e){T.all(e).catch(A)}))),"Promise",{all:function(e){var t=this,n=I(t),r=n.resolve,o=n.reject,i=w((function(){var n=[],i=0,a=1;m(e,!1,(function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,o=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(148),o=n(431),i=n(432),a=n(85),s=n(305),c=n(433),u={},l={};(t=e.exports=function(e,t,n,f,d){var h,p,m,y,g=d?function(){return e}:c(e),v=r(n,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(h=s(e.length);h>b;b++)if((y=t?v(a(p=e[b])[0],p[1]):v(e[b]))===u||y===l)return y}else for(m=g.call(e);!(p=m.next()).done;)if((y=o(m,v,p.value,t))===u||y===l)return y}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(85);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},function(e,t,n){var r=n(150),o=n(58)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(311),o=n(58)("iterator"),i=n(150);e.exports=n(57).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(54),o=n(313).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(151)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var f=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(54).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(101);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(54),o=n(57),i=n(94),a=n(86),s=n(58)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(58)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(a){}return n}},function(e,t,n){"use strict";var r=n(84),o=n(57),i=n(54),a=n(312),s=n(315);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(84),o=n(240),i=n(314);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(443),__esModule:!0}},function(e,t,n){n(444),e.exports=n(57).Object.assign},function(e,t,n){var r=n(84);r(r.S+r.F,"Object",{assign:n(445)})},function(e,t,n){"use strict";var r=n(86),o=n(168),i=n(239),a=n(171),s=n(236),c=n(304),u=Object.assign;e.exports=!u||n(149)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,l=1,f=i.f,d=a.f;u>l;)for(var h,p=c(arguments[l++]),m=f?o(p).concat(f(p)):o(p),y=m.length,g=0;y>g;)h=m[g++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:u},function(e,t,n){e.exports={default:n(447),__esModule:!0}},function(e,t,n){n(448);var r=n(57).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(84);r(r.S+r.F*!n(86),"Object",{defineProperty:n(94).f})},function(e,t,n){"use strict";var r=s(n(172)),o=s(n(173)),i=s(n(174)),a=s(n(175));function s(e){return e&&e.__esModule?e:{default:e}}var c=n(450).fetchJson,u=function(){function e(t){var n=t.oauthToken,r=t.csrfToken,o=t.host,a=t.protocol;(0,i.default)(this,e),this.oauthToken=n,this.csrfToken=r,this.host=o||"padlet.com",this.protocol=a||"https"}var t,n,s,u;return(0,a.default)(e,[{key:"makeUrlFromEndpoint",value:function(e){return this.protocol+"://"+this.host+"/"+e}},{key:"get",value:(u=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(this.makeUrlFromEndpoint(t),{method:"GET",headers:this.defaultHeaders});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"post",value:(s=(0,o.default)(r.default.mark((function e(t,n){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(this.makeUrlFromEndpoint(t),{method:"POST",headers:this.defaultHeaders,body:n});case 2:return o=e.sent,e.abrupt("return",o.json());case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"put",value:(n=(0,o.default)(r.default.mark((function e(t,n){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(this.makeUrlFromEndpoint(t),{method:"PUT",headers:this.defaultHeaders,body:n});case 2:return o=e.sent,e.abrupt("return",o.json());case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"delete",value:(t=(0,o.default)(r.default.mark((function e(t,n){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(this.makeUrlFromEndpoint(t),{method:"DELETE",headers:this.defaultHeaders,body:n});case 2:return o=e.sent,e.abrupt("return",o.json());case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"defaultHeaders",get:function(){return this.oauthToken?{Authorization:"Bearer "+this.oauthToken}:this.csrfToken?{"X-CSRF-Token":this.csrfToken}:{}}}]),e}();e.exports={PadletAPIClient:u}},function(e,t,n){"use strict";var r=l(n(241)),o=l(n(172)),i=l(n(173)),a=l(n(174)),s=l(n(175)),c=l(n(451)),u=l(n(452));function l(e){return e&&e.__esModule?e:{default:e}}var f="undefined"!==typeof window&&window.fetch,d=null;f?d=window.fetch:"undefined"!==typeof fetch&&(d=fetch);var h,p,m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.response=n,r}var n,r;return(0,u.default)(t,e),(0,s.default)(t,[{key:"text",value:(r=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.response.text());case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"json",value:(n=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.response.json());case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"status",get:function(){return this.response.status}},{key:"statusText",get:function(){return this.response.statusText}}]),t}(Error),y=(h=(0,i.default)(o.default.mark((function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,r);case 2:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n);case 7:throw new m("Error fetching "+t,n);case 8:case"end":return e.stop()}}),e,void 0)}))),function(e){return h.apply(this,arguments)}),g=(p=(0,i.default)(o.default.mark((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers=(0,r.default)({"Content-Type":"application/json; charset=utf-8"},n.headers),f&&(n.credentials="same-origin"),n.body&&"string"!==typeof n.body&&(n.body=JSON.stringify(n.body)),e.abrupt("return",y(t,n));case 4:case"end":return e.stop()}}),e,void 0)}))),function(e){return p.apply(this,arguments)});e.exports={fetch:y,fetchJson:g,FetchError:m}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(227),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,i.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(453)),o=a(n(457)),i=a(n(227));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(454),__esModule:!0}},function(e,t,n){n(455),e.exports=n(57).Object.setPrototypeOf},function(e,t,n){var r=n(84);r(r.S,"Object",{setPrototypeOf:n(456).set})},function(e,t,n){var r=n(95),o=n(85),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(148)(Function.call,n(309).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(458),__esModule:!0}},function(e,t,n){n(459);var r=n(57).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(84);r(r.S,"Object",{create:n(232)})},function(e,t,n){"use strict";var r=n(176);n.n(r).a},function(e,t,n){"use strict";var r=n(177);n.n(r).a},function(e,t,n){"use strict";var r=n(178);n.n(r).a},function(e,t,n){"use strict";var r=n(179);n.n(r).a},function(e,t,n){"use strict";var r=n(180);n.n(r).a},function(e,t,n){"use strict";var r=n(181);n.n(r).a},function(e,t,n){"use strict";var r=n(182);n.n(r).a},function(e,t,n){"use strict";var r=n(183);n.n(r).a},function(e,t,n){"use strict";var r=n(184);n.n(r).a},function(e,t,n){"use strict";var r=n(185);n.n(r).a},function(e,t,n){"use strict";var r=n(186);n.n(r).a},function(e,t,n){"use strict";var r=n(187);n.n(r).a},function(e,t,n){"use strict";var r=n(188);n.n(r).a},function(e,t,n){"use strict";var r=n(189);n.n(r).a},function(e,t,n){"use strict";var r=n(190);n.n(r).a},function(e,t,n){"use strict";var r=n(191);n.n(r).a},function(e,t,n){"use strict";var r=n(192);n.n(r).a},,,function(e,t){},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(0),o=n(24),i=n(155),a=n(122),s=3,c=function(){function e(e,t,n){void 0===t&&(t=new a.a),void 0===n&&(n=s),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}return e.prototype._invokeClient=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getStackTop();i&&i.client&&i.client[e]&&(t=i.client)[e].apply(t,r.__spread(n,[i.scope]))},e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e},e.prototype.pushScope=function(){var e=this.getStack(),t=e.length>0?e[e.length-1].scope:void 0,n=a.a.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},e.prototype.popScope=function(){return void 0!==this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(o.l)(),i=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}i={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,r.__assign({},i,{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=Object(o.l)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(c){s=c}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,r.__assign({},a,{event_id:i})),i},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(o.l)();return this._invokeClient("captureEvent",e,r.__assign({},t,{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var i=n.client.getOptions&&n.client.getOptions()||{},a=i.beforeBreadcrumb,s=void 0===a?null:a,c=i.maxBreadcrumbs,u=void 0===c?30:c;if(!(u<=0)){var l=(new Date).getTime()/1e3,f=r.__assign({timestamp:l},e),d=s?Object(o.c)((function(){return s(f,t)})):f;null!==d&&n.scope.addBreadcrumb(d,Math.min(u,100))}}},e.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},e.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},e.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},e.prototype.run=function(e){var t=l(this);try{e(this)}finally{l(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return i.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.traceHeaders=function(){var e=this.getStackTop();if(e.scope&&e.client){var t=e.scope.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}},e}();function u(){var e=Object(o.f)();return e.__SENTRY__=e.__SENTRY__||{hub:void 0},e}function l(e){var t=u(),n=h(t);return p(t,e),n}function f(){var t=u();return d(t)&&!h(t).isOlderThan(s)||p(t,new c),Object(o.i)()?function(t){try{var n=Object(o.d)(e,"domain").active;if(!n)return h(t);if(!d(n)||h(n).isOlderThan(s)){var r=h(t).getStackTop();p(n,new c(r.client,a.a.clone(r.scope)))}return h(n)}catch(i){return h(t)}}(t):h(t)}function d(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function h(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub?e.__SENTRY__.hub:(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new c,e.__SENTRY__.hub)}function p(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}}).call(this,n(135)(e))},,,,function(e,t,n){"use strict";var r,o=n(11),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"hasLink",{get:function(){return!(!this.actionText||!this.actionUrl)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAction",{get:function(){return!!this.actionText&&!this.actionUrl},enumerable:!0,configurable:!0}),a([Object(o.c)(String),s("design:type",String)],t.prototype,"message",void 0),a([Object(o.c)(String),s("design:type",String)],t.prototype,"actionText",void 0),a([Object(o.c)(String),s("design:type",String)],t.prototype,"actionUrl",void 0),t=a([o.a],t)}(o.d),u=(n(581),n(1)),l=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snackbar-container"},[n("div",{staticClass:"snackbar is-animated slide-from-top"},[n("span",[e._v(e._s(e.message))]),e._v(" "),e.hasLink?n("a",{staticClass:"text-button-inverse",attrs:{href:e.actionUrl}},[e._v("\n      "+e._s(e.actionText)+"\n    ")]):e.hasAction?n("button",{staticClass:"text-button-inverse",on:{click:function(t){return e.$emit("action")}}},[e._v("\n      "+e._s(e.actionText)+"\n    ")]):e._e()])])}),[],!1,null,"523698bd",null);t.a=l.exports},function(e,t,n){var r,o;(function(){(function(){(function(){var e=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(e){var t;return null==e&&(e=null!=(t=this.getConfig("url"))?t:this.INTERNAL.default_mount_path),new i.Consumer(this.createWebSocketURL(e))},getConfig:function(e){var t;return null!=(t=document.head.querySelector("meta[name='action-cable-"+e+"']"))?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?((t=document.createElement("a")).href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,n;if(t=1<=arguments.length?e.call(arguments,0):[],this.debugging)return t.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(e.call(t)))}}}).call(this)}).call(this);var i=this.ActionCable;(function(){(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};i.ConnectionMonitor=function(){var t,n,r;function o(t){this.connection=t,this.visibilityDidChange=e(this.visibilityDidChange,this),this.reconnectAttempts=0}return o.pollInterval={min:3,max:30},o.staleThreshold=6,o.prototype.start=function(){if(!this.isRunning())return this.startedAt=n(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),i.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},o.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=n(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),i.log("ConnectionMonitor stopped")},o.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},o.prototype.recordPing=function(){return this.pingedAt=n()},o.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,i.log("ConnectionMonitor recorded connect")},o.prototype.recordDisconnect=function(){return this.disconnectedAt=n(),i.log("ConnectionMonitor recorded disconnect")},o.prototype.startPolling=function(){return this.stopPolling(),this.poll()},o.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},o.prototype.poll=function(){return this.pollTimeout=setTimeout((e=this,function(){return e.reconnectIfStale(),e.poll()}),this.getPollInterval());var e},o.prototype.getPollInterval=function(){var e,n,r,o;return r=(o=this.constructor.pollInterval).min,n=o.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*t(e,r,n))},o.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return i.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+r(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?i.log("ConnectionMonitor skipping reopening recent disconnect"):(i.log("ConnectionMonitor reopening"),this.connection.reopen())},o.prototype.connectionIsStale=function(){var e;return r(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},o.prototype.disconnectedRecently=function(){return this.disconnectedAt&&r(this.disconnectedAt)<this.constructor.staleThreshold},o.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((e=this,function(){if(e.connectionIsStale()||!e.connection.isOpen())return i.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}),200);var e},n=function(){return(new Date).getTime()},r=function(e){return(n()-e)/1e3},t=function(e,t,n){return Math.max(t,Math.min(n,e))},o}()}).call(this),function(){var e,t,n,r,o,a=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}},c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=i.INTERNAL,t=r.message_types,n=r.protocols,o=2<=n.length?a.call(n,0,e=n.length-1):(e=0,[]),n[e++],i.Connection=function(){function e(e){this.consumer=e,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new i.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(i.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(i.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+n),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new i.WebSocket(this.consumer.url,n),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(e){var t;if((null!=e?e:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(t=this.webSocket)?t.close():void 0},e.prototype.reopen=function(){var e;if(i.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(t){return e=t,i.log("Failed to reopen WebSocket",e)}finally{i.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),c.call(o,e)>=0},e.prototype.isState=function(){var e,t;return t=1<=arguments.length?a.call(arguments,0):[],e=this.getState(),c.call(t,e)>=0},e.prototype.getState=function(){var e,t;for(t in WebSocket)if(WebSocket[t]===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},e.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},e.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},e.prototype.events={message:function(e){var n,r,o;if(this.isProtocolSupported())switch(n=(o=JSON.parse(e.data)).identifier,r=o.message,o.type){case t.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case t.ping:return this.monitor.recordPing();case t.confirmation:return this.subscriptions.notify(n,"connected");case t.rejection:return this.subscriptions.reject(n);default:return this.subscriptions.notify(n,"received",r)}},open:function(){if(i.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return i.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(e){if(i.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return i.log("WebSocket onerror event")}},e}()}.call(this),function(){var e=[].slice;i.Subscriptions=function(){function t(e){this.consumer=e,this.subscriptions=[]}return t.prototype.create=function(e,t){var n,r,o;return r="object"===typeof(n=e)?n:{channel:n},o=new i.Subscription(this.consumer,r,t),this.add(o)},t.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},t.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},t.prototype.reject=function(e){var t,n,r,o,i;for(o=[],t=0,n=(r=this.findAll(e)).length;t<n;t++)i=r[t],this.forget(i),this.notify(i,"rejected"),o.push(i);return o},t.prototype.forget=function(e){var t;return this.subscriptions=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.subscriptions).length;n<r;n++)(t=o[n])!==e&&i.push(t);return i}.call(this),e},t.prototype.findAll=function(e){var t,n,r,o,i;for(o=[],t=0,n=(r=this.subscriptions).length;t<n;t++)(i=r[t]).identifier===e&&o.push(i);return o},t.prototype.reload=function(){var e,t,n,r,o;for(r=[],e=0,t=(n=this.subscriptions).length;e<t;e++)o=n[e],r.push(this.sendCommand(o,"subscribe"));return r},t.prototype.notifyAll=function(){var t,n,r,o,i,a,s;for(n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],a=[],r=0,o=(i=this.subscriptions).length;r<o;r++)s=i[r],a.push(this.notify.apply(this,[s,n].concat(e.call(t))));return a},t.prototype.notify=function(){var t,n,r,o,i,a,s;for(a=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],i=[],r=0,o=(s="string"===typeof a?this.findAll(a):[a]).length;r<o;r++)a=s[r],i.push("function"===typeof a[n]?a[n].apply(a,t):void 0);return i},t.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},t}()}.call(this),function(){i.Subscription=function(){var e;function t(t,n,r){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,r)}return t.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},t.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(e,t){var n,r;if(null!=t)for(n in t)r=t[n],e[n]=r;return e},t}()}.call(this),function(){i.Consumer=function(){function e(e){this.url=e,this.subscriptions=new i.Subscriptions(this),this.connection=new i.Connection(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),e.exports?e.exports=i:void 0===(o="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)}).call(this)},function(e,t,n){e.exports=n(576)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,o;(o=function(){"use strict";var e={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},t=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},n=function(){var n=t(new Date(e.BASELINE_YEAR,0,2)),r=t(new Date(e.BASELINE_YEAR,5,2)),o=n-r;return o<0?n+",1":o>0?r+",1,s":n+",0"},r=function(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),n=new Date(e,12,31,23,59,59).getTime(),r=t,o=new Date(r).getTimezoneOffset(),a=null,s=null;r<n-864e5;){var c=new Date(r),u=c.getTimezoneOffset();u!==o&&(u<o&&(a=c),u>o&&(s=c),o=u),r+=864e5}return!(!a||!s)&&{s:i(a).getTime(),e:i(s).getTime()}},i=function t(n,r,o){"undefined"===typeof r&&(r=e.DAY,o=e.HOUR);for(var i=new Date(n.getTime()-r).getTime(),a=n.getTime()+r,s=new Date(i).getTimezoneOffset(),c=i,u=null;c<a-o;){var l=new Date(c);if(l.getTimezoneOffset()!==s){u=l;break}c+=o}return r===e.DAY?t(u,e.HOUR,e.MINUTE):r===e.HOUR?t(u,e.MINUTE,e.SECOND):u},a=function(t){var n=function(){for(var e=[],t=0;t<o.olson.dst_rules.years.length;t++){var n=r(o.olson.dst_rules.years[t]);e.push(n)}return e}();return function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(n)?function(t,n){for(var r=function(r){for(var o=0,i=0;i<t.length;i++)if(r.rules[i]&&t[i]){if(!(t[i].s>=r.rules[i].s&&t[i].e<=r.rules[i].e)){o="N/A";break}if(o=0,o+=Math.abs(t[i].s-r.rules[i].s),(o+=Math.abs(r.rules[i].e-t[i].e))>e.MAX_SCORE){o="N/A";break}}return o=function(e,t,n,r){if("N/A"!==n)return n;if("Asia/Beirut"===t){if("Africa/Cairo"===r.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===r.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===r.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===r.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===r.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===r.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return n}(t,n,o,r)},i={},a=o.olson.dst_rules.zones,s=a.length,c=e.AMBIGUITIES[n],u=0;u<s;u++){var l=a[u],f=r(a[u]);"N/A"!==f&&(i[l.name]=f)}for(var d in i)if(i.hasOwnProperty(d))for(var h=0;h<c.length;h++)if(c[h]===d)return d;return n}(n,t):t};return{determine:function(){var r=function(){var e,t;if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.DateTimeFormat&&"undefined"!==typeof(e=Intl.DateTimeFormat())&&"undefined"!==typeof e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t)&&0!=t.indexOf("Etc")?t:void 0}();return r||(r=o.olson.timezones[n()],"undefined"!==typeof e.AMBIGUITIES[r]&&(r=a(r))),{name:function(){return r},stdTimezoneOffset:function(){return-n().split(",")[0]},timezoneOffset:function(){return-t(new Date)}}}}}()).olson=o.olson||{},o.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},o.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!==typeof e.exports?e.exports=o:null!==n(577)&&null!=n(578)?void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r):window.jstz=o},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=n(393);n.n(r).a},function(e,t,n){"use strict";var r=n(394);n.n(r).a},function(e,t,n){"use strict";var r=n(395);n.n(r).a},function(e,t,n){"use strict";var r=n(396);n.n(r).a},function(e,t,n){"use strict";var r=n(397);n.n(r).a},,function(e,t,n){"use strict";n.r(t);var r=n(42),o=n(43),i=n(503),a=n.n(i),s=null;var c=n(326),u=n(330),l=n(22),f=n(97),d=n(30),h=n(253);var p=n(504),m=n.n(p);var y=n(333),g=n(322),v=n(321),b=n(44),w=n(67),_=n(65),k=n(31),E=n(15),C=n(156);var O=n(8),S=n(77),T=n(2),P={directives:{t:n(14).a}},A=(n(579),n(1)),I=Object(A.a)(P,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"doink"},[t("div",{staticClass:"offline-msg"},[t("p",{directives:[{name:"t",rawName:"v-t"}]},[this._v("Ugh, no internet. You\u2019re in temporary read-only mode.")])])])}),[],!1,null,"3e586915",null).exports,x=n(257),j=n(331),D=n(318),N=n(254),R=n(255),M=n(60),L="AIzaSyDVS4t6WZpqHnbglX3YM6W3SsWldcgKx-A";var F,B,U=function(e,t){void 0===t&&(t={timeout:1e4});var n="__googleMapsApiOnLoadCallback";return new Promise((function(r,o){var i=setTimeout((function(){window[n]=function(){},o(new Error("Could not load the Google Maps API"))}),t.timeout);window[n]=function(){null!==i&&clearTimeout(i),r(google.maps),delete window[n]},Object(M.b)("https://maps.googleapis.com/maps/api/js?key="+(e||L)+"&callback="+n+"&libraries=geometry,places")}))},q=n(7),V=n(249),W=n.n(V)()((function(){B.style.marginLeft=F.scrollLeft+"px"}),10);var G,H,z=n(90),Q=n.n(z);function $(e,t){void 0===t&&(t=0);var n=function(e){for(var t=document.getElementsByClassName(e),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,o=Math.max(1024,document.documentElement.clientWidth),i=Math.max(1024,document.documentElement.clientHeight),a=0;a<t.length;a+=1){var s=t[a].getBoundingClientRect();o=Math.max(o,r+s.right),i=Math.max(i,n+s.bottom)}return{right:o,bottom:i}}(e),r=n.right,o=n.bottom;document.body.style.width=Math.round(r+t)+"px",document.body.style.height=Math.round(o+t)+"px"}var K,Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},X=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},J=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Z=O.a.extend({components:{SurfaceHeader:x.a,SurfacePosts:j.a,SurfaceContainerGrid:function(){return n.e(81).then(n.bind(null,747))},SurfaceContainerShelf:function(){return n.e(41).then(n.bind(null,738))},SurfaceContainerBackchannel:function(){return n.e(80).then(n.bind(null,777))},SurfaceContainerMap:function(){return Promise.all([n.e(2),n.e(6),n.e(68),n.e(36)]).then(n.bind(null,739))},SurfaceContainerTable:function(){return n.e(43).then(n.bind(null,740))},SurfaceContainerTimeline:function(){return Promise.all([n.e(6),n.e(44)]).then(n.bind(null,764))}},mixins:[D.a,N.a,R.a],data:function(){return{isMapApiLoaded:!1}},computed:Y(Y(Y(Y(Y({},Object(T.c)("post",["postBeingEditedCid"])),Object(T.c)("snackbars",["xSnackbar"])),Object(T.c)(["xHeader","isPostable","isReadOnly","format","isMap","isGrid","isShelf","isBackchannel","isCanvas","isTable","isTimeline"])),Object(T.e)(["isOnline","isRefreshPending"])),Object(T.e)({googleApiKeyForMap:function(e){return e.constants.googleApiKeyForMap}})),watch:{isOnline:function(e){e&&this.isRefreshPending&&this.refresh()},isPostable:function(e){e?this.enableNewPostHandlers():this.disableNewPostHandlers()},format:function(e,t){e!==t&&this.$nextTick((function(){return window.location.reload()}))}},mounted:function(){return X(this,void 0,void 0,(function(){var e,t=this;return J(this,(function(n){switch(n.label){case 0:return this.requestRefresh(),this.autoRefreshOnVisibilityChange(),this.isMap?[4,U(this.googleApiKeyForMap)]:[3,2];case 1:return n.sent(),this.isMapApiLoaded=!0,[3,3];case 2:this.$nextTick((function(){t.isPostable&&t.enableNewPostHandlers()})),n.label=3;case 3:return this.isCanvas&&this.xHeader&&(o=this.$refs.wallContainer,i=this.$refs.surfaceHeader.$el,B=i,(F=o).addEventListener("scroll",W)),this.isReadOnly&&(this.isGrid||this.isCanvas)&&(r=this.$store,e=r.subscribe.bind(r),200,function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=0),G=Q()((function(){return $(e,n)}),250),H=t.map((function(e){return"function"===typeof e?e(G):(document.body.addEventListener(e,G),e)}))}("wish",["load","beethoven-load","error","beethoven-error",e],200)),[2]}var r,o,i}))}))},beforeDestroy:function(){this.disableNewPostHandlers(),F&&F.removeEventListener("scroll",W),H.forEach((function(e){"function"===typeof e?e():document.body.removeEventListener(e,G)}))},methods:Y(Y({},Object(T.b)(["requestRefresh","refresh"])),{enableNewPostHandlers:function(){this.isShelf||this.isBackchannel||this.isGrid||this.isTable||this.isMap||this.isTimeline||(this.enableDoubleClickToPost(this.$el,this.$refs.wishList),this.enablePasteToPost(),this.enableDropToPost(this.$el))},disableNewPostHandlers:function(){this.disableDoubleClickToPost(this.$el),this.disablePasteToPost(),this.disableDropToPost(this.$el)},autoRefreshOnVisibilityChange:function(){var e=this;this.autoRefreshEnabled||(Object(q.a)(document).on("visibilitychange",(function(){"visible"===document.visibilityState&&e.requestRefresh()})),Object(q.a)(document).on("padlet:refresh",this.refresh),this.autoRefreshEnabled=!0)}})}),ee=(n(580),Object(A.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMap?n("div",[e.isMapApiLoaded?n("surface-container-map"):e._e()],1):e.isShelf?n("surface-container-shelf"):e.isBackchannel?n("surface-container-backchannel"):e.isGrid?n("surface-container-grid"):e.isTable?n("surface-container-table"):e.isTimeline?n("surface-container-timeline"):n("div",{ref:"wallContainer",attrs:{id:"wall-container"}},[e.xHeader?n("surface-header",{ref:"surfaceHeader"}):e._e(),e._v(" "),n("surface-posts"),e._v(" "),n("div",{staticClass:"wish-sizer"}),e._v(" "),n("div",{staticClass:"gutter-sizer"})],1)}),[],!1,null,"52de6810",null).exports),te=n(502),ne=n(11),re=n(29),oe=(K=function(e,t){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ie=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ae=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},se=Object(re.d)("snackbars"),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),ie([se.Getter,ae("design:type",Object)],t.prototype,"currentSnackbar",void 0),ie([se.Action,ae("design:type",Object)],t.prototype,"executeCurrentSnackbarAction",void 0),t=ie([Object(ne.a)({components:{BaseSnackbar:te.a}})],t)}(ne.d),ue=(n(582),Object(A.a)(ce,(function(){var e=this.$createElement;return(this._self._c||e)("base-snackbar",{staticClass:"global-snackbar",attrs:{message:this.currentSnackbar.message,"action-text":this.currentSnackbar.actionText,"action-url":this.currentSnackbar.actionUrl},on:{action:this.executeCurrentSnackbarAction}})}),[],!1,null,"33b8087c",null).exports),le=n(138),fe=n(59),de=n(47),he=n(41),pe=n(4),me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ye=function(e){var t=document.querySelector("[data-color-scheme]");return e.map((function(e){var n=function(e){if(0!==e.indexOf("#"))return null;var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}(window.getComputedStyle(t).getPropertyValue("--post-background-"+e).trim());return n?{label:e,red:n.r,green:n.g,blue:n.b,alpha:1,color_as_rgb:"rgb("+n.r+", "+n.g+", "+n.b+")"}:null})).filter((function(e){return!!e}))},ge=function(e){Object(he.a)({message_type:"show_"+e.type,manifest:e})},ve=function(e){var t={type:"menu_item",name:e.name,icon:e.icon};if(e.launches){var n=e.launches;t.action={message_type:n.actionMessageType,launches:n.type,launch_manifest:n},n.actionMessageType=void 0}else{if(!e.action)throw new Error("Must launch or have an action");t.action=e.action}return t},be=function(e){var t=e.title,n=e.element,r=e.menuItems,o=e.cancelAction;if(!o)throw new Error("Cancel action required for alert sheet");if(!r)throw new Error("Menu items required for alert sheet");return{type:"alert_sheet",title:t,element:n,items:r,cancel_action:o}},we=function(e){var t=e.name,n=e.action;return{type:"button",name:t,style:e.style,action:n,title:t}},_e=function(e){return{type:"alert",title:e.title,body:e.body,buttons:e.buttons,cancel_action:e.cancelAction}};var ke,Ee=function(e){var t=function(e){var t=e.getBoundingClientRect(),n=document.documentElement,r=window.pageXOffset||n?n.scrollLeft:0,o=window.pageYOffset||n?n.scrollTop:0;return{top:t.top+o,left:t.left+r}}(e),n=e;return{type:"element",x:t.left,y:t.top,width:n.offsetWidth,height:n.offsetHeight}},Ce=function(e){return{type:"side_panel",title:e.title,url:e.url,metadata:e.metadata||null,cancel_action:{message_type:"hide_side_panel"},left_button:e.leftButton||e.left_button||null,right_button:e.rightButton||e.right_button||null}},Oe=function(e,t,n){var r=e.replace("_wallPublicKey_",t.public_key).replace("_wishId_",n.id.toString()).replace("_host_",window.location.hostname),o=we({name:Object(pe.a)("Cancel"),style:"cancel",action:{message_type:"hide_side_panel"}}),i={post_id:n.id,action:"transfer_post",author_id:n.author_id};return Ce({title:Object(pe.a)("Transfer post"),leftButton:o,metadata:i,url:r})},Se=function(e,t,n){var r=e.replace("_wallPublicKey_",t.public_key).replace("_wishId_",n.id.toString()).replace("_host_",window.location.hostname),o=we({name:Object(pe.a)("Cancel"),style:"cancel",action:{message_type:"hide_side_panel"}}),i={post_id:n.id,action:"copy_post",author_id:n.author_id};return Ce({title:Object(pe.a)("Copy post"),leftButton:o,metadata:i,rightButton:null,url:r})},Te=function(e){return _e({title:Object(pe.a)("Delete comment"),body:Object(pe.a)("Are you sure you want to delete this comment? This cannot be undone!"),buttons:[we({name:Object(pe.a)("Cancel"),action:{message_type:"cancel_show"},style:"cancel"}),we({name:Object(pe.a)("Delete"),action:{message_type:"delete_comment",comment_id:e},style:"destructive"})],cancelAction:{message_type:"cancel_show"}})};!function(e){e[e.Colors=0]="Colors",e[e.Edit=1]="Edit",e[e.Connect=2]="Connect",e[e.Disconnect=3]="Disconnect",e[e.BringPostToFront=4]="BringPostToFront",e[e.SendPostToBack=5]="SendPostToBack",e[e.Transfer=6]="Transfer",e[e.Copy=7]="Copy",e[e.Expand=8]="Expand",e[e.Delete=9]="Delete",e[e.SetAsCover=10]="SetAsCover",e[e.UnsetAsCover=11]="UnsetAsCover",e[e.Divider=12]="Divider",e[e.ChangeLocation=13]="ChangeLocation"}(ke||(ke={}));var Pe,Ae=function(e,t,n){var r,o=e.id,i=e.cid,a=document.querySelector(".surface-post[data-post-cid="+i+"]"),s=t.themeColors,c={type:"menu_divider"},u=[],l=((r={})[ke.Divider]=function(){return c},r[ke.Edit]=function(){return ve({name:Object(pe.a)("Edit"),icon:"edit_post",action:{message_type:"edit_post",post_id:o}})},r[ke.Colors]=function(){return function(e){var t=[{label:"no-color",action:{message_type:"remove_post_color"}}];return{type:"color_menu_item",colors:t=t.concat(ye(e).map((function(e){return me(me({},e),{action:{message_type:"update_post_color",label:e.label}})})))}}(s)},r[ke.Connect]=function(){return ve({name:Object(pe.a)("Connect to a post"),icon:"connect_post",action:{message_type:"connect_post",post_id:o}})},r[ke.Disconnect]=function(){return ve({name:Object(pe.a)("Disconnect from a post"),icon:"disconnect_post",action:{message_type:"disconnect_post",post_id:o}})},r[ke.BringPostToFront]=function(){return ve({name:Object(pe.a)("Bring to front"),icon:"bring_post_to_front",action:{message_type:"bring_post_to_front",post_id:o}})},r[ke.SendPostToBack]=function(){return ve({name:Object(pe.a)("Send to back"),icon:"send_post_to_back",action:{message_type:"send_post_to_back",post_id:o}})},r[ke.Transfer]=function(){return ve({name:Object(pe.a)("Transfer"),icon:"transfer_post",launches:me(me({},Oe(t.mobileAppTransferPostUrlTemplate,{public_key:t.publicKey},e)),{actionMessageType:"transfer_post"})})},r[ke.Copy]=function(){return ve({name:Object(pe.a)("Copy"),icon:"copy_post",launches:me(me({},Se(t.mobileAppCopyPostUrlTemplate,{public_key:t.publicKey},e)),{actionMessageType:"copy_post"})})},r[ke.Expand]=function(){return ve({name:Object(pe.a)("Expand"),icon:"expand_post",action:{message_type:"expand_post",post_id:o}})},r[ke.UnsetAsCover]=function(){return ve({name:Object(pe.a)("Unset as cover"),icon:"cover",action:{message_type:"unset_as_cover",post_id:o}})},r[ke.SetAsCover]=function(){return ve({name:Object(pe.a)("Set as cover"),icon:"cover",action:{message_type:"set_as_cover",post_id:o}})},r[ke.Delete]=function(){var e=function(e){return _e({title:Object(pe.a)("Delete post"),body:Object(pe.a)("Are you sure you want to delete this post? This cannot be undone!"),buttons:[we({name:Object(pe.a)("Cancel"),action:{message_type:"cancel_show"},style:"cancel"}),we({name:Object(pe.a)("Delete"),action:{message_type:"delete_post",post_id:e},style:"destructive"})],cancelAction:{message_type:"cancel_show"}})}(o);return ve({name:Object(pe.a)("Delete"),icon:"ask_to_delete",launches:me(me({},e),{actionMessageType:"ask_to_delete"})})},r[ke.ChangeLocation]=function(){return ve({name:Object(pe.a)("Change location"),icon:"change_location",action:{message_type:"change_location",post_id:o}})},r);return n.forEach((function(e){var t=l[e];if(t){var n=t();n&&u.push(n)}})),be({cancelAction:{message_type:"cancel_show"},element:Ee(a),title:Object(pe.a)("Post menu"),menuItems:u})},Ie=n(75),xe=n(479),je=n(68),De=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Re=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Me=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Fe=Object(re.d)("comment"),Be=Object(re.d)("nativeApp"),Ue=Object(re.d)("settings"),qe=Object(re.d)("post"),Ve=Object(re.d)("postAction"),We=Object(re.d)("postConnection"),Ge=Object(re.d)("map"),He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r,o,i,a;return De(t,e),t.prototype.respondToAddressChange=function(e,t){Object(he.a)(Object(fe.k)(e))},t.prototype.respondToLinkToOpenChange=function(e,t){if(e&&!t){var n=e.linkType,r=e.url,o=e.contentCategory,i=e.contentSubcategory;Object(he.a)(Object(fe.e)(r,n,o,i)),this.clearOpenLink()}},t.prototype.respondToSettingExpandedPostManifest=function(e){if(e){var t=this.constants.wishFrameUrlTemplate;Object(he.a)(Object(fe.c)({expandedPost:e,allPosts:this.postsArray,wall:this.wall,window:d.a,wishFrameUrlTemplate:t}))}},t.prototype.respondToLayoutChange=function(){Object(he.a)(Object(fe.a)({status:"success"}))},t.prototype.respondToLayoutChangeError=function(e){e&&Object(he.a)(Object(fe.a)({status:"error",error_reason:e}))},t.prototype.respondToBackgroundColorChange=function(e){Object(he.a)(Object(fe.l)(e))},t.prototype.respondToActionMenuCommentId=function(e){var t,n,r;e&&(this.listenToCommentActionMenu(e),ge((t=e,n=document.getElementById("comment-"+t),(r=[]).push(ve({name:Object(pe.a)("Edit comment"),icon:"edit_comment",action:{message_type:"edit_comment",comment_id:t}})),r.push(ve({name:Object(pe.a)("Delete comment"),icon:"ask_to_delete",launches:me(me({},Te(t)),{actionMessageType:"ask_to_delete"})})),be({cancelAction:{message_type:"cancel_show"},element:Ee(n),menuItems:r,title:""}))))},t.prototype.listenToCommentActionMenu=function(e){var t=this;Object(de.b)("edit_comment",(function(){t.startEditingComment({commentId:e})})),Object(de.b)("delete_comment",(function(){t.deleteComment({commentId:e})}))},t.prototype.respondToPostBeingEditedChange=function(e,t){e&&(t&&e.cid===t.cid||Object(he.a)(Object(fe.b)(e)))},t.prototype.respondToIsPickingLocation=function(e){var t=this;Object(w.a)("useNativeMapLocationPicker")&&e&&(Object(he.a)(Object(fe.f)()),Object(de.b)("map_location_picked",(function(e){var r=e.location,o=e.name;return Me(t,void 0,Promise,(function(){var e;return Le(this,(function(t){switch(t.label){case 0:return r&&o?[4,Promise.all([n.e(2),n.e(7)]).then(n.bind(null,594))]:[3,2];case 1:e=t.sent().LatLng,this.pickLocation({latLng:new e(r),name:o}),t.label=2;case 2:return this.stopPickingLocation(),[2]}}))}))})))},t.prototype.respondToSettingsSave=function(e,t){if(!e&&t){var n={};this.saveErrorMessage?(n={status:"error",error_reason:this.saveErrorMessage},le.a.trigger.saveSettingsFail(this.saveErrorMessage)):(n={status:"success",wall:this.wall},le.a.trigger.saveSettingsSuccess()),Object(he.a)(Object(fe.i)(n))}},t.prototype.respondToPostUnderAction=function(e){if(e){this.listenToPostUnderActionMenu(e);var t={publicKey:this.wall.public_key,themeColors:this.constants.themeColor,mobileAppCopyPostUrlTemplate:this.constants.mobileAppCopyPostUrlTemplate,mobileAppTransferPostUrlTemplate:this.constants.mobileAppTransferPostUrlTemplate},n=[];this.canEditPostUnderAction&&(n.push(ke.Colors),n.push(ke.Edit)),this.canChangePostUnderActionLocation&&n.push(ke.ChangeLocation),this.canConnectPostUnderAction&&n.push(ke.Connect),this.canDisconnectPostUnderAction&&n.push(ke.Disconnect),this.canChangePostStackOrder&&(n.push(ke.BringPostToFront),n.push(ke.SendPostToBack)),(this.canEditPostUnderAction||this.canConnectPostUnderAction||this.canDisconnectPostUnderAction)&&n.push(ke.Divider),this.canTransferPostUnderAction&&n.push(ke.Transfer),this.canCopyPostUnderAction&&n.push(ke.Copy),n.push(ke.Expand),this.canChangeCoverToPostUnderAction&&(n.push(ke.Divider),this.isPostUnderActionPreviewPost?n.push(ke.UnsetAsCover):n.push(ke.SetAsCover)),this.canDeletePostUnderAction&&(n.push(ke.Divider),n.push(ke.Delete));var r=e.id,o=e.cid,i=e.author_id,a=Number(r),s=o,c=Number(i),u=Ae({id:a,cid:s,author_id:c},t,n);ge(u)}},t.prototype.listenToPostUnderActionMenu=function(e){var t=this,n=Number(e.id),r=e.cid,o=Number(e.author_id),i=function(e){return function(n){t.hidePostActionMenu(),e(n)}};Object(de.b)("edit_post",i((function(){t.startEditingPost({postCid:r})}))),Object(de.b)("connect_post",i((function(){t.startConnection({postId:n})}))),Object(de.b)("disconnect_post",i((function(){t.startDisconnection({postId:n})}))),Object(de.b)("bring_post_to_front",i((function(){t.sortedPost({postCid:r,sortIndex:Ie.e()})}))),Object(de.b)("send_post_to_back",i((function(){t.sortedPost({postCid:r,sortIndex:Ie.c()})}))),Object(de.b)("expand_post",i((function(){t.expandPost({postCid:r})}))),Object(de.b)("delete_post",i((function(){t.deletePost({postCid:r})}))),Object(de.b)("update_post_color",i((function(e){t.changePostColor({postCid:r,newBgColor:e.label})}))),Object(de.b)("remove_post_color",i((function(){t.removePostColor({postCid:r})}))),Object(de.b)("set_as_cover",i((function(){t.setCoverPost({postId:n})}))),Object(de.b)("unset_as_cover",i((function(){t.unsetCoverPost({postId:n})}))),Object(de.b)("change_location",i((function(){t.startPickingLocation({postCid:r})}))),Object(de.b)("transfer_post",i((function(){ge(Oe(t.constants.mobileAppTransferPostUrlTemplate,t.wall,{id:n,author_id:o})),t.startPostTransfer({transferPostCid:r})}))),Object(de.b)("copy_post",(function(){ge(Se(t.constants.mobileAppCopyPostUrlTemplate,t.wall,{id:n,author_id:o})),t.startPostCopy({copyPostCid:r})}))},t.prototype.respondToCopyingOrTransferringPost=function(e){if(e){var t=e.isDestinationNewWall,n=e.isDestinationThisWall,r=e.status,o=e.url,i=e.text,a=e.operation,s="other";if(t?s="new":n&&(s="current"),"copy"===a)Object(he.a)(Object(fe.g)({copy_type:s,status:r,url:o,text:i}));else{if("transfer"!==a)throw new Error("Unknown operation: "+a);Object(he.a)(Object(fe.h)({transfer_type:s,status:r,url:o,text:i}))}}},t.prototype.respondToShowCommentsPanel=function(e){Object(w.a)("useNativeCommentsPanel")&&e&&(Object(he.a)(Object(fe.j)(this.commentsPanelPostId)),this.hideCommentsPanel())},t.prototype.mounted=function(){var e;document.body.addEventListener("click",(e=this.$store,function(t){var n=t.target.closest("a");if(n&&n&&n.hasAttribute("data-bridged-link")){var r=n.getAttribute("href"),o=n.getAttribute("target"),i=n.getAttribute("data-bridged-link");e.dispatch("nativeApp/openLink",{linkType:i,target:o,url:r})}})),this.listenForFirstTouch()},t.prototype.listenForFirstTouch=function(){if(Object(w.a)("useNativeHeader")){var e=function(){Object(he.a)(Object(fe.d)()),document.body.removeEventListener("touchend",e)};document.body.addEventListener("touchend",e)}},Ne([re.c,Re("design:type",Object)],t.prototype,"constants",void 0),Ne([re.c,Re("design:type",Object)],t.prototype,"xCommentsPanel",void 0),Ne([re.c,Re("design:type",Object)],t.prototype,"commentsPanelPostId",void 0),Ne([re.c,Re("design:type",Object)],t.prototype,"wall",void 0),Ne([re.b,Re("design:type",Object)],t.prototype,"address",void 0),Ne([re.b,Re("design:type",Object)],t.prototype,"background",void 0),Ne([re.b,Re("design:type",Object)],t.prototype,"convertLayoutErrorMessage",void 0),Ne([re.b,Re("design:type",Object)],t.prototype,"format",void 0),Ne([re.a,Re("design:type",Object)],t.prototype,"setCoverPost",void 0),Ne([re.a,Re("design:type",Object)],t.prototype,"unsetCoverPost",void 0),Ne([re.a,Re("design:type",Object)],t.prototype,"hideCommentsPanel",void 0),Ne([Fe.State,Re("design:type",Object)],t.prototype,"actionMenuCommentId",void 0),Ne([Fe.Action,Re("design:type",Object)],t.prototype,"startEditingComment",void 0),Ne([Fe.Action,Re("design:type",Object)],t.prototype,"deleteComment",void 0),Ne([Ue.Getter,Re("design:type",Object)],t.prototype,"isSaving",void 0),Ne([Ue.Getter,Re("design:type",Object)],t.prototype,"saveErrorMessage",void 0),Ne([Ge.Getter,Re("design:type",Object)],t.prototype,"isPickingLocation",void 0),Ne([Ge.Action,Re("design:type",Object)],t.prototype,"startPickingLocation",void 0),Ne([Ge.Action,Re("design:type",Object)],t.prototype,"stopPickingLocation",void 0),Ne([Ge.Action,Re("design:type",Object)],t.prototype,"pickLocation",void 0),Ne([Be.State,Re("design:type",Object)],t.prototype,"linkToOpen",void 0),Ne([Be.State,Re("design:type",Object)],t.prototype,"expandedPost",void 0),Ne([Be.State,Re("design:type",Object)],t.prototype,"alertSheetManifest",void 0),Ne([Be.State,Re("design:type",Object)],t.prototype,"sidePanelManifest",void 0),Ne([Be.Action,Re("design:type",Object)],t.prototype,"clearOpenLink",void 0),Ne([qe.Getter,Re("design:type",Object)],t.prototype,"postsArray",void 0),Ne([qe.Getter,Re("design:type",Object)],t.prototype,"postBeingEdited",void 0),Ne([qe.Action,Re("design:type",Object)],t.prototype,"startEditingPost",void 0),Ne([qe.Action,Re("design:type",Object)],t.prototype,"deletePost",void 0),Ne([qe.Action,Re("design:type",Object)],t.prototype,"sortedPost",void 0),Ne([qe.Action,Re("design:type",Object)],t.prototype,"removePostColor",void 0),Ne([qe.Action,Re("design:type",Object)],t.prototype,"changePostColor",void 0),Ne([Ve.State,Re("design:type",Object)],t.prototype,"copyOrTransferPostResult",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"postUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canEditPostUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canConnectPostUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canDisconnectPostUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canChangePostStackOrder",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canTransferPostUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canCopyPostUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canChangeCoverToPostUnderAction",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canChangePostUnderActionLocation",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"isPostUnderActionPreviewPost",void 0),Ne([Ve.Getter,Re("design:type",Object)],t.prototype,"canDeletePostUnderAction",void 0),Ne([Ve.Action,Re("design:type",Object)],t.prototype,"expandPost",void 0),Ne([Ve.Action,Re("design:type",Object)],t.prototype,"startPostTransfer",void 0),Ne([Ve.Action,Re("design:type",Object)],t.prototype,"startPostCopy",void 0),Ne([Ve.Action,Re("design:type",Object)],t.prototype,"hidePostActionMenu",void 0),Ne([We.Action,Re("design:type",Object)],t.prototype,"startConnection",void 0),Ne([We.Action,Re("design:type",Object)],t.prototype,"startDisconnection",void 0),Ne([Object(ne.e)("address"),Re("design:type",Function),Re("design:paramtypes",[String,String]),Re("design:returntype",void 0)],t.prototype,"respondToAddressChange",null),Ne([Object(ne.e)("linkToOpen"),Re("design:type",Function),Re("design:paramtypes",[Object,Object]),Re("design:returntype",void 0)],t.prototype,"respondToLinkToOpenChange",null),Ne([Object(ne.e)("expandedPost"),Re("design:type",Function),Re("design:paramtypes",[Object]),Re("design:returntype",void 0)],t.prototype,"respondToSettingExpandedPostManifest",null),Ne([Object(ne.e)("format"),Re("design:type",Function),Re("design:paramtypes",[]),Re("design:returntype",void 0)],t.prototype,"respondToLayoutChange",null),Ne([Object(ne.e)("convertLayoutErrorMessage"),Re("design:type",Function),Re("design:paramtypes",[Object]),Re("design:returntype",void 0)],t.prototype,"respondToLayoutChangeError",null),Ne([Object(ne.e)("background"),Re("design:type",Function),Re("design:paramtypes",[Object]),Re("design:returntype",void 0)],t.prototype,"respondToBackgroundColorChange",null),Ne([Object(ne.e)("actionMenuCommentId"),Re("design:type",Function),Re("design:paramtypes",[Object]),Re("design:returntype",void 0)],t.prototype,"respondToActionMenuCommentId",null),Ne([Object(ne.e)("postBeingEdited"),Re("design:type",Function),Re("design:paramtypes",["function"===typeof(r="undefined"!==typeof je.Post&&je.Post)?r:Object,"function"===typeof(o="undefined"!==typeof je.Post&&je.Post)?o:Object]),Re("design:returntype",void 0)],t.prototype,"respondToPostBeingEditedChange",null),Ne([Object(ne.e)("isPickingLocation"),Re("design:type",Function),Re("design:paramtypes",[Boolean]),Re("design:returntype",void 0)],t.prototype,"respondToIsPickingLocation",null),Ne([Object(ne.e)("isSaving"),Re("design:type",Function),Re("design:paramtypes",[Boolean,Boolean]),Re("design:returntype",void 0)],t.prototype,"respondToSettingsSave",null),Ne([Object(ne.e)("postUnderAction"),Re("design:type",Function),Re("design:paramtypes",["function"===typeof(i="undefined"!==typeof je.Post&&je.Post)?i:Object]),Re("design:returntype",void 0)],t.prototype,"respondToPostUnderAction",null),Ne([Object(ne.e)("copyOrTransferPostResult"),Re("design:type",Function),Re("design:paramtypes",["function"===typeof(a="undefined"!==typeof xe.CopyOrTransferPostResult&&xe.CopyOrTransferPostResult)?a:Object]),Re("design:returntype",void 0)],t.prototype,"respondToCopyingOrTransferringPost",null),Ne([Object(ne.e)("xCommentsPanel"),Re("design:type",Function),Re("design:paramtypes",[Boolean]),Re("design:returntype",void 0)],t.prototype,"respondToShowCommentsPanel",null),t=Ne([ne.a],t)}(ne.d),ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$e=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Ke={1:"sans-font-family",2:"serif-font-family",3:"cursive-font-family",4:"mono-font-family"},Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ze(t,e),Object.defineProperty(t.prototype,"globalStyleClasses",{get:function(){return[Ke[this.fontId]]},enumerable:!0,configurable:!0}),Qe([re.b,$e("design:type",Object)],t.prototype,"fontId",void 0),t=Qe([ne.a],t)}(ne.d),Xe=n(34),Je=n(137),Ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},nt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},rt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.cover="cover",e.tile="auto",e.auto="auto"}(Pe||(Pe={}));var ot=Object(re.d)("settings"),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.latestBackgroudUpdateTime=new Date,t}return Ze(t,e),t.prototype.setTitle=function(e){document.title=e},t.prototype.setIcon=function(e){var t=document.querySelector("link[rel='icon']");t&&(t.href=e);var n=document.querySelector("link[rel='apple-touch-icon']");n&&(n.href=e)},t.prototype.setFont=function(e){Object(q.a)("[data-font]").attr("data-font",e)},t.prototype.setBackgroundLuminance=function(e){Object(q.a)('[data-behavior~="background-holder"]').attr("data-background-luminance",e)},t.prototype.setHeaderColor=function(e){Object(q.a)("meta[name=theme-color]").attr("content",e),document.documentElement.style.backgroundColor=e},t.prototype.setColorScheme=function(e){Object(q.a)("[data-color-scheme]").attr("data-color-scheme",e)},t.prototype.isUpdateStale=function(e){return this.latestBackgroudUpdateTime!==e},t.prototype.fetchBackgroundMetadata=function(e,t){return nt(this,void 0,Promise,(function(){var n,r,o;return rt(this,(function(i){switch(i.label){case 0:return[4,Object(Je.a)(e,{dpr:1,locale:"en"})];case 1:if(n=i.sent()){if(r=n.image_color,o=n.image_luminance,this.isUpdateStale(t))return[2];this.updateBackgroundMetadata({dominantColourAsRgb:r,imageLuminance:o})}return[2]}}))}))},t.prototype.setBackground=function(e,t){Object(q.a)('[data-behavior~="background-holder"]').css({backgroundSize:Pe[t],backgroundImage:"url("+e+")"})},t.prototype.updateBackground=function(e,t){var n=this;if(t.url!==e.url||t.fill!==e.fill||t.effect!==e.effect){var r=Object(Xe.processedUrl)(e.url,{preset:"obscure"});this.setBackground(r,Pe.cover);var o=new Date;this.latestBackgroudUpdateTime=o;var i={preset:"background",width:window.screen.width,height:window.screen.height,effect:"blur"===e.effect?"blur:10":void 0},a=Object(Xe.processedUrl)(e.url,i),s=new Image;s.onload=function(){if(!n.isUpdateStale(o)){var t=Pe.auto;e.fill&&"undefined"!==e.fill?t=e.fill:s.width>=800&&(t=Pe.cover),n.isPreviewing&&n.originalBackground!==e&&n.fetchBackgroundMetadata(e.url,o),n.setBackground(a,t)}},s.src=a}},et([re.b,tt("design:type",Object)],t.prototype,"title",void 0),et([re.b,tt("design:type",Object)],t.prototype,"portrait",void 0),et([re.b,tt("design:type",Object)],t.prototype,"fontId",void 0),et([re.b,tt("design:type",Object)],t.prototype,"originalBackground",void 0),et([re.b,tt("design:type",Object)],t.prototype,"background",void 0),et([re.b,tt("design:type",Object)],t.prototype,"backgroundColor",void 0),et([re.b,tt("design:type",Object)],t.prototype,"backgroundLuminance",void 0),et([re.b,tt("design:type",Object)],t.prototype,"colorScheme",void 0),et([ot.Getter,tt("design:type",Object)],t.prototype,"isPreviewing",void 0),et([ot.Action,tt("design:type",Object)],t.prototype,"updateBackgroundMetadata",void 0),et([Object(ne.e)("title"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],t.prototype,"setTitle",null),et([Object(ne.e)("portrait"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],t.prototype,"setIcon",null),et([Object(ne.e)("fontId"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],t.prototype,"setFont",null),et([Object(ne.e)("backgroundLuminance"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],t.prototype,"setBackgroundLuminance",null),et([Object(ne.e)("backgroundColor"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],t.prototype,"setHeaderColor",null),et([Object(ne.e)("colorScheme"),tt("design:type",Function),tt("design:paramtypes",[Object]),tt("design:returntype",void 0)],t.prototype,"setColorScheme",null),et([Object(ne.e)("background"),tt("design:type",Function),tt("design:paramtypes",[Object,Object]),tt("design:returntype",void 0)],t.prototype,"updateBackground",null),t=et([ne.a],t)}(ne.d),at=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ct=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return at(t,e),t.prototype.updateFullscreen=function(){this.isFullscreen?Object(C.a)():Object(C.b)()},t.prototype.observeFullscreenHandler=function(e){var t=!e;!this.isFullscreen&&e&&this.enterFullscreen(),this.isFullscreen&&t&&this.exitFullscreen()},t.prototype.mounted=function(){this.unobserveFullscreen=Object(C.e)(this.observeFullscreenHandler)},t.prototype.beforeDestroy=function(){this.unobserveFullscreen&&this.unobserveFullscreen()},st([re.c,ct("design:type",Object)],t.prototype,"isFullscreen",void 0),st([re.a,ct("design:type",Object)],t.prototype,"enterFullscreen",void 0),st([re.a,ct("design:type",Object)],t.prototype,"exitFullscreen",void 0),st([Object(ne.e)("isFullscreen"),ct("design:type",Function),ct("design:paramtypes",[]),ct("design:returntype",void 0)],t.prototype,"updateFullscreen",null),t=st([ne.a],t)}(ne.d);var lt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},dt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lt(t,e),t.prototype.mounted=function(){this.unobserveWindowSize=function(e){if(!e)return null;function t(t){if(t.target===window){var n={height:window.innerHeight,width:window.innerWidth};e(n)}}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}(Q()(this.resizeWindow,250))},t.prototype.beforeDestroy=function(){this.unobserveWindowSize&&this.unobserveWindowSize()},ft([re.a,dt("design:type",Object)],t.prototype,"resizeWindow",void 0),t=ft([ne.a],t)}(ne.d),pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},yt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},gt=Object(re.d)("realtime"),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pt(t,e),t.prototype.listener=function(){var e=this;"visible"===document.visibilityState?(this.present(),this.intervalId=setTimeout((function(){return e.present()}),this.intervalInSeconds)):(clearInterval(this.intervalId),this.absent())},t.prototype.mounted=function(){document.addEventListener("visibilitychange",this.listener),this.listener()},t.prototype.beforeDestroy=function(){document.removeEventListener("visibilitychange",this.listener)},mt([Object(re.c)((function(e){return e.constants.presenceCallIntervalInSeconds})),yt("design:type",Object)],t.prototype,"intervalInSeconds",void 0),mt([gt.Action,yt("design:type",Object)],t.prototype,"absent",void 0),mt([gt.Action,yt("design:type",Object)],t.prototype,"present",void 0),t=mt([ne.a],t)}(ne.d),bt=function(){return(bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wt=[Ye,it,ut,ht,vt];E.a.app&&wt.push(He);var _t,kt,Et,Ct,Ot=O.a.extend({components:{SurfaceOffline:I,SurfaceContainer:ee,AppGlobalSnackbar:ue,SurfaceAddPost:function(){return Promise.all([n.e(3),n.e(4),n.e(5),n.e(34)]).then(n.bind(null,499))},SurfacePanels:function(){return n.e(65).then(n.bind(null,501))}},mixins:wt,computed:bt(bt({},Object(T.e)(["isOnline"])),Object(T.c)("snackbars",["xSnackbar"]))}),St=(n(583),Object(A.a)(Ot,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isOnline?e._e():n("surface-offline"),e._v(" "),e.xSnackbar?n("app-global-snackbar"):e._e(),e._v(" "),n("surface-container",{class:e.globalStyleClasses}),e._v(" "),n("surface-add-post"),e._v(" "),n("surface-panels")],1)}),[],!1,null,"411e9da8",null).exports),Tt=function(){return(Tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Ct=m.a.determine().name(),_t="ww_tz",kt=Ct,void 0===Et&&(Et={}),document.cookie=function(e,t,n){return void 0===n&&(n={}),e+"="+t+(n.maxAgeInSeconds?";max-age="+n.maxAgeInSeconds:"")+";path=/"}(_t,kt,Et);var Pt=d.b.vueStartingState.constants.arvoConfig;Object(r.configure)(Pt);var At=Tt(Tt(Tt({},Object(b.a)()),function(){return{isFullscreen:Object(C.c)(),windowHeight:d.a.innerHeight,windowWidth:d.a.innerWidth,canPostMessage:E.a.can("postMessage"),cookiesEnabled:Object(_.a)("cookiesForReal"),csrfToken:Object(k.a)(),deviceId:(e="ww_d",t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)"),t?t[2]:""),dpr:Math.ceil(d.a.devicePixelRatio)||1,environment:document.documentElement.dataset.environment,inlinePostEdit:!E.a.mobile,isAndroid:E.a.android,isApp:E.a.app,isChrome:E.a.chrome,isDesktop:E.a.desktop,isEdge:E.a.edge,isFirefox:E.a.firefox,isIE:E.a.ie,isIOS:E.a.ios,isIPhone:E.a.iphone,isIPhoneX:E.a.iphoneX,isMac:E.a.mac,isMobile:E.a.mobile,isMousable:E.a.mousable,isOldApp:E.a.app&&E.a.cannot("postNatively"),isPhone:E.a.phone,isSafari:E.a.safari,isTablet:E.a.tablet,isTouchable:E.a.touchable,isWindows:E.a.windows,locale:document.documentElement.lang,modalPostEdit:E.a.mobile&&!(E.a.app&&E.a.can("postNatively")),nativePostEdit:E.a.app&&E.a.can("postNatively"),release:document.documentElement.dataset.version,showAlertSheet:E.a.can("showAlertSheet"),uid:d.b.uid,xHeader:!E.a.app||!Object(w.a)("useNativeHeader"),expandedPostCid:5===d.a.location.pathname.split("/").length?"c"+d.a.location.pathname.split("/")[4]:null};var e,t}()),d.b.vueStartingState);b.b.dispatch("initializeState",At),b.b.dispatch("realtime/connect",function(){if(!s){var e=document.getElementsByName("action-cable-uri")[0];s=a.a.createConsumer(e.content)}return s}()),O.a.use(S.a),l.d({vue:O.a,environment:b.b.state.environment,userId:b.b.state.user.id,locale:b.b.state.locale,release:b.b.state.release}),Object(h.b)({environment:b.b.state.environment,user:b.b.state.user}),Object(h.a)(),document.addEventListener("DOMContentLoaded",(function(){Object(f.a)(),Object(v.a)(),Object(g.a)(),Object(c.a)((function(e){b.b.dispatch("changeConnectivity",{isOnline:e})})),Object(u.a)(b.b),Object(y.a)(d.a,b.b),O.a.config.devtools=!1,O.a.config.performance=!1,O.a.config.ignoredElements=["trix-editor"],d.a.app=new O.a({el:"#app",apolloProvider:o.b,store:b.b,render:function(e){return e(St)}})}))}],[[585,28,0,1]]]);
//# sourceMappingURL=surface-60682bfbe524e792a56e.chunk.js.map